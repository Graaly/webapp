(function(e){function t(t){for(var r,o,n=t[0],l=t[1],u=t[2],c=0,f=[];c<n.length;c++)o=n[c],a[o]&&f.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],r=!0,o=1;o<i.length;o++){var l=i[o];0!==a[l]&&(r=!1)}r&&(s.splice(t--,1),e=n(n.s=i[0]))}return e}var r={},a={app:0},s=[];function o(e){return n.p+"js/"+({}[e]||e)+"."+{"2d230c65":"0f039399"}[e]+".js"}function n(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.e=function(e){var t=[],i=a[e];if(0!==i)if(i)t.push(i[2]);else{var r=new Promise(function(t,r){i=a[e]=[t,r]});t.push(i[2]=r);var s,l=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.src=o(e),s=function(t){u.onerror=u.onload=null,clearTimeout(c);var i=a[e];if(0!==i){if(i){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+r+": "+s+")");o.type=r,o.request=s,i[1](o)}a[e]=void 0}};var c=setTimeout(function(){s({type:"timeout",target:u})},12e4);u.onerror=u.onload=s,l.appendChild(u)}return Promise.all(t)},n.m=e,n.c=r,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=u;s.push([0,"vendor"]),i()})({0:function(e,t,i){e.exports=i("2f39")},"025e":function(e){e.exports=[{category:"transition",code:"info-text",icon:"file-image",title:"ImageAndText",description:"ImageAndTextDesc",showTrick:"no",enabled:!0,hasBackgroundImage:"main",hasOptions:!1},{category:"transition",code:"info-video",icon:"file-video",title:"Video",description:"VideoDesc",showTrick:"no",enabled:!0,hasBackgroundImage:"option",hasOptions:!1},{category:"transition",code:"new-item",icon:"briefcase",title:"NewObject",description:"NewObjectDesc",showTrick:"no",enabled:!0,hasBackgroundImage:"option",hasOptions:!1},{category:"transition",code:"character",icon:"user",title:"GraalyCharacter",description:"GraalyCharacterDesc",showTrick:"no",enabled:!0,hasBackgroundImage:"option",hasOptions:!1},{category:"enigma",code:"geolocation",icon:"map-marker",title:"FindALocation",description:"FindALocationDesc",showTrick:"yes",textRules:{maxNbChars:180,maxNbCarriageReturns:5},enabled:!0,hasBackgroundImage:"option",hasOptions:!0},{category:"enigma",code:"locate-item-ar",icon:"cube",title:"LocateItemAR",description:"LocateItemARDesc",showTrick:"yes",textRules:{maxNbChars:50,maxNbCarriageReturns:1},hasBackgroundImage:"no",enabled:!0,hasOptions:!0},{category:"enigma",code:"locate-marker",icon:"qrcode",title:"LocateMarker",description:"LocateMarkerDesc",showTrick:"yes",textRules:{maxNbChars:100,maxNbCarriageReturns:3},hasBackgroundImage:"no",enabled:!0,hasOptions:!0},{category:"enigma",code:"choose",icon:"list",title:"ChoiceQuestion",description:"ChoiceQuestionDesc",showTrick:"yes",textRules:{maxNbChars:240,maxNbCarriageReturns:5},enabled:!0,hasBackgroundImage:"option",hasOptions:!0},{category:"enigma",code:"write-text",icon:"font",title:"TextQuestion",description:"TextQuestionDesc",showTrick:"yes",enabled:!0,hasBackgroundImage:"option",hasOptions:!0},{category:"enigma",code:"code-keypad",icon:"calculator",title:"FindTheCode",description:"FindTheCodeDesc",showTrick:"yes",textRules:{maxNbChars:90,maxNbCarriageReturns:2},enabled:!0,hasBackgroundImage:"option",hasOptions:!0},{category:"enigma",code:"code-color",icon:"paint-brush",title:"FindTheColorCode",description:"FindTheColorCodeDesc",showTrick:"yes",textRules:{maxNbChars:150,maxNbCarriageReturns:4},enabled:!0,hasBackgroundImage:"option",hasOptions:!0},{category:"enigma",code:"code-image",icon:"images",title:"FindTheImageCode",description:"FindTheImageCodeDesc",showTrick:"yes",textRules:{maxNbChars:150,maxNbCarriageReturns:4},enabled:!0,hasBackgroundImage:"option",hasOptions:!0},{category:"enigma",code:"find-item",icon:"search",title:"FindAnItem",description:"FindAnItemDesc",showTrick:"yes",textRules:{maxNbChars:50,maxNbCarriageReturns:1},enabled:!0,hasBackgroundImage:"main",hasOptions:!0},{category:"enigma",code:"use-item",icon:"wrench",title:"UseAnItem",description:"UseAnItemDesc",showTrick:"yes",textRules:{maxNbChars:50,maxNbCarriageReturns:1},enabled:!0,hasBackgroundImage:"main",hasOptions:!0},{category:"enigma",code:"image-recognition",icon:"camera",title:"PhotographAnObject",description:"PhotographAnObjectDesc",showTrick:"yes",enabled:!1,hasBackgroundImage:"option",hasOptions:!0},{category:"enigma",code:"jigsaw-puzzle",icon:"puzzle-piece",title:"JigsawPuzzle",description:"JigsawPuzzleDesc",showTrick:"no",textRules:{maxNbChars:50,maxNbCarriageReturns:1},hasBackgroundImage:"option",enabled:!0,hasOptions:!0},{category:"enigma",code:"memory",icon:"clone",title:"Memory",description:"MemoryDesc",showTrick:"no",textRules:{maxNbChars:50,maxNbCarriageReturns:1},enabled:!0,hasBackgroundImage:"option",hasOptions:!0}]},"034f":function(e,t,i){"use strict";var r=i("fb1c"),a=i.n(r);a.a},1:function(e,t){},"1e5d":function(e,t,i){},2:function(e,t){},"22ae":function(e){e.exports=["red","green","blue","black","white"]},"263d":function(e,t,i){"use strict";var r=i("e485"),a=i.n(r);a.a},"2cfd":function(e,t,i){},"2f39":function(e,t,i){"use strict";i.r(t);i("ac6a"),i("a114"),i("d14b"),i("df75"),i("1070"),i("25cd"),i("a963"),i("f857"),i("3b76"),i("0a43"),i("21e3"),i("abed"),i("1e5d"),i("7e6d");var r=i("2b0e"),a=i("3e2f"),s=i("e84f"),o=i("ef81"),n=i("7ea0"),l=i("482e"),u=i("9e58"),c=i("1731"),d=i("7646"),f=i("3a08"),h=i("dc23"),p=i("6580"),m=i("4e99"),b=i("a7da"),g=i("db35"),v=i("525b"),w=i("4bf4"),k=i("e57e"),y=i("ac83"),_=i("79e9"),S=i("52b5"),E=i("f7bf"),C=i("5d8b"),T=i("506f"),A=i("b8d9"),M=i("7d43"),x=i("91c8"),R=i("9541"),q=i("7051"),P=i("cf12"),I=i("4487"),F=i("2040"),O=i("1180"),N=i("1e55"),D=i("0952"),$=i("c1f9"),L=i("46a9"),H=i("32a1"),j=i("9612"),z=i("b5b8"),B=i("d3e7"),U=i("dd1f"),W=i("1c93"),V=i("9413"),Y=i("6186"),Q=i("5931"),G=i("94e3"),K=i("b70a"),X=i("a2d0"),J=i("c6d4"),Z=i("6785"),ee=i("c563"),te=i("db7b"),ie=i("c081"),re=i("bc9b"),ae=i("f30c"),se=i("ce67"),oe=i("03d8"),ne=i("2f48"),le=i("1526"),ue=i("fb4b"),ce=i("28c4"),de=i("0bae"),fe=i("6780"),he=i("a9a0"),pe=i("133b");r["a"].use(s["a"],{config:{},iconSet:a["a"],components:{QAlert:o["a"],QAutocomplete:n["a"],QBtn:l["a"],QBtnDropdown:u["a"],QBtnGroup:c["a"],QCard:d["a"],QCardMain:f["a"],QCardMedia:h["a"],QCardTitle:p["a"],QCarousel:m["a"],QCarouselSlide:b["a"],QCarouselControl:g["a"],QCheckbox:v["a"],QChip:w["a"],QChipsInput:k["a"],QCollapsible:y["a"],QField:_["a"],QIcon:S["a"],QInfiniteScroll:E["a"],QInput:C["a"],QItem:T["a"],QItemMain:A["a"],QItemSide:M["a"],QItemSeparator:x["a"],QItemTile:R["a"],QLayout:q["a"],QLayoutDrawer:P["a"],QLayoutFooter:I["a"],QLayoutHeader:F["a"],QList:O["a"],QListHeader:N["a"],QModal:D["a"],QOptionGroup:$["a"],QPageContainer:L["a"],QPage:H["a"],QParallax:j["a"],QPopover:z["a"],QProgress:B["a"],QRadio:U["a"],QRating:W["a"],QRouteTab:V["a"],QSearch:Y["a"],QSelect:Q["a"],QSlider:G["a"],QSpinner:K["a"],QSpinnerDots:X["a"],QSpinnerPuff:J["a"],QSpinnerRadio:Z["a"],QTabs:ee["a"],QTab:te["a"],QTabPane:ie["a"],QToggle:re["a"],QToolbar:ae["a"],QToolbarTitle:se["a"],QTooltip:oe["a"],QUploader:ne["a"]},directives:{Ripple:le["a"],Scroll:ue["a"],TouchSwipe:ce["a"]},plugins:{ActionSheet:de["a"],Dialog:fe["a"],Loading:he["a"],Notify:pe["a"]}});var me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"q-app"}},[i("router-view")],1)},be=[];me._withStripped=!0;var ge={name:"App"},ve=ge,we=(i("034f"),i("2877")),ke=Object(we["a"])(ve,me,be,!1,null,null,null);ke.options.__file="App.vue";var ye=ke.exports,_e=(i("96cf"),i("c973")),Se=i.n(_e),Ee=i("2f62"),Ce=i("0e44"),Te=i("a78e"),Ae=i("bc3a"),Me=i.n(Ae);Me.a.defaults.withCredentials=!0;var xe=function(){var e="https://api.graaly.com";return Me.a.create({baseURL:e,validateStatus:function(e){return e<500}})},Re={checkEmail:function(e){return xe().get("check/email/"+e)},login:function(e,t){return xe().post("login",{email:e,password:t})},checkFacebookToken:function(e,t,i){return xe().post("login/facebook",{id:e,token:t}).then(function(e){i(!1,e)})},logout:function(){return xe().post("logout")},removeAccount:function(){return xe().post("account/remove")},getAccount:function(e){return e&&"me"!==e?xe().get("user/"+e):xe().get("account")},createAccount:function(e){return xe().post("user/create",e)},modifyAccount:function(e){return xe().post("user/modify",e)},uploadAccountPicture:function(e){return xe().post("/user/picture/upload",e,{headers:{"Content-Type":"multipart/form-data"}})},validateAccount:function(e,t){return xe().post("account/validate",{email:e,code:t})},changePassword:function(e,t,i){return xe().post("user/forgottenpassword/code/validate",{email:e,password:t,code:i})},sendForgottenPasswordCode:function(e){return xe().post("user/forgottenpassword/code/generate",{email:e})},generateANewValidationCode:function(e){return xe().post("user/validate/code/new",{email:e})}};r["a"].use(Ee["a"]);var qe={isLoggedIn:!!localStorage.getItem("isLoggedIn"),loginPending:!1,questSteps:{geolocation:{drawDirectionInterval:null}},lastLoadedRoute:null,user:null,currentEditedQuest:null,currentEditedStep:null,errorMessage:null,currentRun:null,runningTimeoutsIds:[]},Pe={loginStart:function(e){e.loginPending=!0},loginSuccess:function(e,t){e.isLoggedIn=!0,e.loginPending=!1,e.user=t},logout:function(e){e.user=null},setLastLoadedRoute:function(e,t){e.lastLoadedRoute=t},setDrawDirectionInterval:function(e,t){e.questSteps.geolocation.drawDirectionInterval=t},setCurrentEditedQuest:function(e,t){e.currentEditedQuest=t},setCurrentEditedStep:function(e,t){e.currentEditedStep=t},setErrorMessage:function(e,t){e.errorMessage=t},setCurrentRun:function(e,t){e.currentRun=t},addTimeoutId:function(e,t){e.runningTimeoutsIds.push(t)},clearTimeoutIds:function(e){e.runningTimeoutsIds=[]}},Ie={login:function(){var e=Se()(regeneratorRuntime.mark(function e(t,i){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r("loginStart"),e.next=4,Re.login(i.email,i.password);case 4:return a=e.sent,200===a.status&&(r("loginSuccess",a.data.user),localStorage.setItem("isLoggedIn",!0)),e.abrupt("return",a);case 7:case"end":return e.stop()}},e,this)}));return function(t,i){return e.apply(this,arguments)}}(),logout:function(){var e=Se()(regeneratorRuntime.mark(function e(t){var i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,e.next=3,Re.logout();case 3:return r=e.sent,i("logout"),e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),setLastLoadedRoute:function(e,t){var i=e.commit;return i("setLastLoadedRoute",t)},setDrawDirectionInterval:function(e,t){var i=e.commit,r=e.state;if(null===t){var a=r.questSteps.geolocation.drawDirectionInterval;null!==a&&window.clearInterval(a)}i("setDrawDirectionInterval",t)},setCurrentEditedQuest:function(e,t){var i=e.commit;return i("setCurrentEditedQuest",t)},setCurrentEditedStep:function(e,t){var i=e.commit;return i("setCurrentEditedStep",t)},setErrorMessage:function(e,t){var i=e.commit;return i("setErrorMessage",t)},setCurrentRun:function(e,t){var i=e.commit;return i("setCurrentRun",t)},addTimeoutId:function(e,t){var i=e.commit;return i("addTimeoutId",t)},clearTimeoutIds:function(e){var t=e.commit;return t("clearTimeoutIds")}},Fe={},Oe=new Ee["a"].Store({state:qe,getters:Fe,actions:Ie,mutations:Pe,plugins:[Object(Ce["a"])({getState:function(e){return Te["getJSON"](e)},setState:function(e,t){Te["set"](e,t,{expires:432e6,secure:!0})}})]}),Ne=i("8c4f"),De=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-layout",{attrs:{view:"lHh lpr lfr","right-breakpoint":1100}},[i("q-page-container",[i("router-view",{key:e.$route.fullPath,attrs:{id:"main-view"}})],1),i("div",{attrs:{id:"screen-too-large"}},[i("h5",{staticClass:"text-center"},[e._v(e._s(e.$t("label.GraalyIsOptimizedForSmallerScreens")))])])],1)},$e=[];De._withStripped=!0;var Le={data(){return{user:{name:"--",picture:"",id:"",team:{currentId:0,profile:{score:{total:0,members:0}}}}}},mounted(){this.$store.state.user&&this.$store.state.user.language&&(this.$i18n.locale=this.$store.state.user.language)},watch:{$route:function(e){this.$store.state.user&&this.$store.state.user.language&&(this.$i18n.locale=this.$store.state.user.language)}},methods:{}},He=Le,je=Object(we["a"])(He,De,$e,!1,null,null,null);je.options.__file="main.vue";var ze=je.exports,Be=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"div-column",staticClass:"column"},[e.user.position.isSupported?i("div",{ref:"map",staticClass:"row fullscreen"},[e.isMounted?i("gmap-map",{ref:"mapRef",staticClass:"map",attrs:{center:e.map.center,zoom:e.map.zoom,"map-type-id":"roadmap",options:{disableDefaultUI:!0}},on:{center_changed:function(t){e.updateCenter(t)},dragend:function(t){e.dragEnd(t)},click:function(t){e.closeInfoWindows()}}},[e._l(e.questList,function(t,r){return i("gmap-marker",{key:t._id,attrs:{position:{lng:t.location.coordinates[0],lat:t.location.coordinates[1]},icon:e.setMapIcon(t)},on:{click:function(i){e.openQuestSummary(t,r)}}})}),i("gmap-marker",{directives:[{name:"show",rawName:"v-show",value:e.map.loaded,expression:"map.loaded"}],attrs:{position:{lng:e.user.position.longitude,lat:e.user.position.latitude},icon:e.setMapIcon()},on:{click:function(t){e.openDiscoveryQuest()}}}),i("gmap-info-window",{attrs:{options:e.map.infoWindow.options,position:e.map.infoWindow.location,opened:e.map.infoWindow.isOpen},on:{closeclick:function(t){e.map.infoWindow.isOpen=!1}}},[!this.$store.state.user.story||!this.$store.state.user.story.step||this.$store.state.user.story.step>3?i("div",{staticClass:"infoWindow"},[i("p",{staticClass:"title",domProps:{innerHTML:e._s(e.getQuestTitle(e.currentQuest,!0))}}),i("p",[e._v(e._s(e.$t("label.Difficulty"))+" : "),i("img",{staticClass:"image-and-text-aligned",attrs:{src:"statics/icons/game/magnifying-red.png"}}),i("img",{staticClass:"image-and-text-aligned",attrs:{src:"statics/icons/game/magnifying-"+(e.currentQuest&&1===e.currentQuest.level?"grey":"red")+".png"}}),i("img",{staticClass:"image-and-text-aligned",attrs:{src:"statics/icons/game/magnifying-"+(e.currentQuest&&3===e.currentQuest.level?"red":"grey")+".png"}})]),e.currentQuest&&e.currentQuest.authorUserId!==e.$store.state.user._id?i("q-btn",{attrs:{color:"primary"},on:{click:function(t){e.$router.push("/quest/play/"+(e.currentQuest?e.currentQuest._id:""))}}},[e._v(e._s(e.$t("label.Play")))]):e._e(),e.currentQuest&&e.currentQuest.authorUserId===e.$store.state.user._id?i("q-btn",{attrs:{color:"primary"},on:{click:function(t){e.$router.push("/quest/settings/"+(e.currentQuest?e.currentQuest._id:""))}}},[e._v(e._s(e.$t("label.Modify")))]):e._e()],1):e._e(),this.$store.state.user.story&&this.$store.state.user.story.step&&this.$store.state.user.story.step<=3?i("div",{staticClass:"infoWindow"},[i("p",[e._v(e._s(e.$t("label.ClickHereToStartDiscoveryQuest")))]),i("q-btn",{attrs:{color:"primary"},on:{click:function(t){e.openDiscoveryQuest()}}},[e._v(e._s(e.$t("label.Start")))])],1):e._e()])],2):e._e()],1):e._e(),e.user.position.isSupported?e._e():i("div",{staticClass:"row enable-geolocation fixed-center centered"},[e.user.position.nbFails<=1?i("div",{staticClass:"col-12 centered"},[i("p",[i("q-spinner-puff",{attrs:{color:"primary",size:"40px"}})],1),i("p",[e._v(e._s(e.$t("label.LocationSearching")))])]):e._e(),e.user.position.nbFails>1?i("div",{staticClass:"col-12"},[i("p",{staticClass:"text-primary"},[e._v(e._s(e.$t("label.PleaseActivateGeolocation")))]),e.nativeSettingsIsEnabled?i("div",[i("q-btn",{attrs:{color:"primary"},on:{click:e.openLocationSettings}},[e._v(e._s(e.$t("label.PressHere")))])],1):e._e(),e.nativeSettingsIsEnabled?e._e():i("div",[e.isChrome?i("div",[i("p",{domProps:{innerHTML:e._s(e.$t("label.HowToActivateGeolocationOnChrome"))}})]):e._e(),e.isChrome?e._e():i("div",[i("p",{domProps:{innerHTML:e._s(e.$t("label.HowToActivateGeolocationOnIOs"))}})]),i("p",[e._v("\n          "+e._s(e.$t("label.OnceGeolocationEnabled"))+"\n          "),i("router-link",{attrs:{to:e.$route.path+"?_="+(new Date).getTime()}},[e._v(e._s(e.$t("label.PressHere")))]),e._v(".\n        ")],1)])]):e._e()]),i("div",{staticClass:"score-box",on:{click:e.openRanking}},[i("div",{staticClass:"q-px-md q-pt-md score-text"},[e._v(e._s(e.$store.state.user.score)+" "),i("q-icon",{attrs:{name:"fas fa-trophy"}})],1),i("div",{staticStyle:{width:"100px"}},[i("div",{staticClass:"centered bg-primary text-white level-box"},[e._v(e._s(e.$t("label.Level"))+" "+e._s(e.$store.state.user.level))]),i("q-progress",{attrs:{percentage:e.profile.level.progress,stripe:"",height:"10px",animate:"",color:"primary"}})],1)]),i("div",{staticClass:"coin-box"},[i("div",{staticClass:"q-pa-md score-text"},[i("q-icon",{attrs:{name:"fas fa-bolt"}}),e._v(" "+e._s(e.$store.state.user.coins)+" \n      "),e.$store.state.user.coins<200?i("q-icon",{attrs:{name:"add_circle",color:"primary"},nativeOn:{click:function(t){e.buyCoins()}}}):e._e()],1)]),i("q-layout-drawer",{staticClass:"over-map",attrs:{side:"left",width:e.innerWidth},model:{value:e.showSuccess,callback:function(t){e.showSuccess=t},expression:"showSuccess"}},[i("q-tabs",{attrs:{"two-lines":""}},[i("q-tab",{attrs:{slot:"title",name:"built",icon:"add_box",label:e.$t("label.QuestsCreated"),default:""},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"played",icon:"play_circle_filled",label:e.$t("label.QuestsSuccessful")},slot:"title"}),i("q-tab-pane",{attrs:{name:"built"}},[i("q-btn",{staticClass:"full-width",attrs:{link:"",color:"tertiary"},on:{click:function(t){e.$router.push("/quest/create/welcome")}}},[e._v(e._s(e.$t("label.CreateANewQuest")))]),i("q-list",{attrs:{highlight:""}},[e._l(e.success.quests.built,function(t){return i("q-item",{key:t._id,nativeOn:{click:function(i){e.$router.push("/quest/settings/"+t._id)}}},[t.picture?i("q-item-side",{attrs:{avatar:e.serverUrl+"/upload/quest/"+t.picture}}):e._e(),t.picture?e._e():i("q-item-side",{attrs:{avatar:"statics/profiles/noprofile.png"}}),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.getQuestTitle(t,!1)))]),"published"===t.status?i("q-item-tile",{attrs:{sublabel:""}},[i("q-rating",{attrs:{readonly:"",value:t.rating&&t.rating.rounded?t.rating.rounded:null,color:"primary",max:5,size:"1rem"}}),e._v("\n                "+e._s(e.$t("label.PublishedSince"))+" "+e._s(e._f("formatDate")(t.dateCreated))+"\n              ")],1):e._e(),"unpublished"==t.status?i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n                "+e._s(e.$t("label.Unpublished"))+"\n              ")]):e._e(),"tovalidate"==t.status?i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n                "+e._s(e.$t("label.PublicationRequested"))+" ...\n              ")]):e._e(),"rejected"==t.status?i("q-item-tile",{staticStyle:{color:"#f00"},attrs:{sublabel:""}},[e._v("\n                "+e._s(e.$t("label.PublicationRejected"))+"\n              ")]):e._e()],1)],1)}),0===e.success.quests.built.length?i("q-item",[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.$t("label.NoQuestCreated")))])],1)],1):e._e()],2)],1),i("q-tab-pane",{attrs:{name:"played"}},[i("q-list",{attrs:{highlight:""}},[e._l(e.success.quests.played,function(t){return e.success.quests.played&&e.success.quests.played.length>0?i("q-item",{key:t._id,nativeOn:{click:function(i){e.$router.push("/quest/play/"+t.questId)}}},[t.questData&&t.questData.picture?i("q-item-side",{attrs:{avatar:t.questData.picture&&"_"===t.questData.picture[0]?"statics/images/quest/"+t.questData.picture:e.serverUrl+"/upload/quest/"+t.questData.picture}}):e._e(),t.questData&&t.questData.picture?e._e():i("q-item-side",{attrs:{avatar:"statics/profiles/noprofile.png"}}),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.getQuestTitle(t.questData,!1))+" "+e._s(t.type))]),t.dateCreated&&"finished"==t.status&&!t.score?i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n              "+e._s(e.$t("label.PlayedOn"))+" "+e._s(e._f("formatDate")(t.dateCreated))+"\n            ")]):e._e(),t.dateCreated&&"finished"==t.status&&t.score?i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n              "+e._s(e.$t("label.Succeeded"))+" "+e._s(e._f("formatDate")(t.dateCreated))+"\n            ")]):e._e(),t.dateCreated?e._e():i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n              "+e._s(e.$t("label.Succeeded"))+"\n            ")]),"in-progress"==t.status?i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n              "+e._s(e.$t("label.ContinueThisQuest"))+"\n            ")]):e._e()],1),t.questData.type&&"quest"!==t.questData.type?e._e():i("q-item-side",{staticClass:"score",attrs:{right:""}},[e._v("\n            "+e._s(t.score)+" "),i("q-icon",{attrs:{name:"fas fa-trophy"}})],1),t.questData.type&&"quest"!==t.questData.type?i("q-item-side",{staticClass:"score",attrs:{right:""}},[e._v("\n            "+e._s(t.reward)+" "),i("q-icon",{attrs:{name:"fas fa-bolt"}})],1):e._e()],1):e._e()}),0===e.success.quests.played.length?i("q-item",[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.$t("label.NoQuestPlayed")))])],1)],1):e._e()],2)],1)],1)],1),i("q-layout-drawer",{staticClass:"over-map",attrs:{side:"right",width:e.innerWidth},model:{value:e.showProfile,callback:function(t){e.showProfile=t},expression:"showProfile"}},[i("div",{staticClass:"header row"},[i("div",{staticClass:"col-4"},[i("div",{staticClass:"big-avatar"},[e.$store.state.user.picture&&-1!==e.$store.state.user.picture.indexOf("http")?i("div",{style:"background-image: url("+e.$store.state.user.picture+");"}):e._e(),e.$store.state.user.picture&&-1===e.$store.state.user.picture.indexOf("http")?i("div",{style:"background-image: url("+e.serverUrl+"/upload/profile/"+e.$store.state.user.picture+");"}):e._e(),e.$store.state.user.picture?e._e():i("div",{style:"background-image: url(statics/icons/game/profile-small.png); background-color: #fff;"}),i("label",{attrs:{for:"picturefile"}},[e._v(e._s(e.$t("label.Edit")))]),i("input",{staticStyle:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute","z-index":"-1"},attrs:{name:"picturefile",id:"picturefile",type:"file",accept:"image/*"},on:{change:e.uploadImage}})])]),i("div",{staticClass:"col"},[i("div",{staticClass:"title"},[e._v(e._s(e.$store.state.user.name))]),i("q-btn",{attrs:{label:e.$t("label.SignOut"),icon:"power_settings_new",flat:""},nativeOn:{click:function(t){e.disconnect()}}})],1)]),i("q-tabs",[i("q-tab",{attrs:{slot:"title",name:"profile",icon:"face",label:e.$t("label.MyProfile")},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"friends",icon:"supervised_user_circle",label:e.$t("label.Friends")},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"news",icon:"notifications",label:e.$t("label.News"),default:""},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"pro",icon:"store",label:e.$t("label.Pro")},slot:"title"}),i("q-tab-pane",{attrs:{name:"profile"}},[i("form",{on:{submit:function(t){t.preventDefault(),e.submitProfileChanges()}}},[i("q-field",{staticClass:"padding-medium",attrs:{icon:"account circle",label:e.$t("label.EditYourInformations")}},[i("q-field",{attrs:{error:e.$v.profile.form.name.$error}},[i("q-input",{attrs:{"stack-label":e.$t("label.YourName"),placeholder:"John Doe"},on:{blur:e.$v.profile.form.name.$touch},model:{value:e.profile.form.name,callback:function(t){e.$set(e.profile.form,"name",t)},expression:"profile.form.name"}}),e.profile.form.name.$error?i("div",{staticClass:"q-field-bottom"},[e.profile.form.name.required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseEnterYourName")))])]):e._e()],1),e.profile.userCanChangeEmail?i("q-field",{attrs:{error:e.$v.profile.form.email.$error}},[i("q-input",{attrs:{"stack-label":e.$t("label.YourEmail"),placeholder:e.$t("label.emailExample")},on:{blur:e.$v.profile.form.email.$touch},model:{value:e.profile.form.email,callback:function(t){e.$set(e.profile.form,"email",t)},expression:"profile.form.email"}}),e.profile.form.email.$error?i("div",{staticClass:"q-field-bottom"},[e.profile.form.email.required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseEnterYourEmailAddress")))]),e.profile.form.email.email?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseEnterAValidEmailAddress")))])]):e._e()],1):e._e(),e.profile.userCanChangePhone?i("q-field",{attrs:{error:e.$v.profile.form.phone.$error}},[i("q-input",{attrs:{"stack-label":e.$t("label.YourPhoneNumber"),placeholder:e.$t("label.phoneExample")},on:{blur:e.$v.profile.form.phone.$touch},model:{value:e.profile.form.phone,callback:function(t){e.$set(e.profile.form,"phone",t)},expression:"profile.form.phone"}}),e.profile.form.phone.$error?i("div",{staticClass:"q-field-bottom"},[e.profile.form.phone.checkPhone?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.InvalidPhoneNumber")))])]):e._e()],1):e._e(),i("q-field",{attrs:{error:e.$v.profile.form.country.$error}},[i("q-select",{attrs:{"stack-label":e.$t("label.YourCountry"),options:e.profile.countries},model:{value:e.profile.form.country,callback:function(t){e.$set(e.profile.form,"country",t)},expression:"profile.form.country"}}),e.profile.form.country.$error?i("div",{staticClass:"q-field-bottom"},[e.profile.form.country.required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseSelectYourCountry")))])]):e._e()],1),i("q-field",{attrs:{error:e.$v.profile.form.zipCode.$error}},[i("q-input",{attrs:{"stack-label":e.$t("label.YourZipCode"),placeholder:"38500"},model:{value:e.profile.form.zipCode,callback:function(t){e.$set(e.profile.form,"zipCode",t)},expression:"profile.form.zipCode"}}),e.profile.form.zipCode.$error?i("div",{staticClass:"q-field-bottom"},[e.profile.form.zipCode.required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseEnterYourZipCode")))])]):e._e()],1),i("q-field",[i("q-select",{attrs:{"stack-label":e.$t("label.YourLanguage"),options:e.languages},on:{input:e.changeLanguage},model:{value:e.profile.form.language,callback:function(t){e.$set(e.profile.form,"language",t)},expression:"profile.form.language"}})],1),i("q-btn",{staticClass:"full-width",attrs:{color:"primary"},on:{click:function(t){e.submitProfileChanges()}}},[e._v(e._s(e.$t("label.Save")))])],1),e.profile.userCanChangePassword?i("q-field",{staticClass:"padding-medium",attrs:{icon:"lock",label:e.$t("label.ChangeYourPassword")}},[i("q-field",[i("q-input",{attrs:{type:"password","stack-label":e.$t("label.CurrentPassword")},model:{value:e.profile.form.oldPassword,callback:function(t){e.$set(e.profile.form,"oldPassword",t)},expression:"profile.form.oldPassword"}})],1),i("q-field",[i("q-input",{attrs:{type:"password","stack-label":e.$t("label.NewPassword")},model:{value:e.profile.form.newPassword,callback:function(t){e.$set(e.profile.form,"newPassword",t)},expression:"profile.form.newPassword"}})],1),i("q-btn",{staticClass:"full-width",attrs:{color:"primary"},on:{click:function(t){e.submitProfileChanges()}}},[e._v(e._s(e.$t("label.Save")))])],1):e._e(),i("q-field",{staticClass:"padding-medium",attrs:{icon:"remove_circle",label:e.$t("label.RemoveYourAccount")}},[e._v("\n            "+e._s(e.$t("label.RemoveYourAccountDesc"))+"\n            "),i("q-btn",{staticClass:"q-my-md",attrs:{color:"primary",label:e.$t("label.IConfirmIWantToRemoveMyAccount")},on:{click:function(t){e.removeAccount()}}})],1)],1)]),i("q-tab-pane",{attrs:{name:"friends"}},[i("q-btn",{staticClass:"full-width",attrs:{link:"",color:"tertiary"},on:{click:function(t){e.openAddFriendsModal()}}},[e._v(e._s(e.$t("label.AddFriends")))]),i("q-list",{attrs:{highlight:""}},[e._l(e.friends.list,function(t){return i("q-item",{key:t.friendId},[i("q-item-side",{nativeOn:{click:function(i){e.openFriendCard(t.friendId)}}},[i("q-item-tile",{attrs:{avatar:""}},[t.picture&&""!==t.picture&&-1!==t.picture.indexOf("http")?i("img",{attrs:{src:t.picture}}):e._e(),t.picture&&""!==t.picture&&-1===t.picture.indexOf("http")?i("img",{attrs:{src:e.serverUrl+"/upload/profile/"+t.picture}}):e._e(),t.picture&&""!==t.picture?e._e():i("img",{attrs:{src:"statics/icons/game/profile-small.png"}})])],1),i("q-item-main",{nativeOn:{click:function(i){e.openFriendCard(t.friendId)}}},[i("q-item-tile",[e._v(e._s(t.name))])],1),i("q-item-side",{attrs:{right:""}},[i("q-btn",{attrs:{icon:"close"},on:{click:function(i){e.removeFriend(t.friendId)}}})],1)],1)}),0===e.friends.list.length?i("q-item",[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.$t("label.NoFriend")))])],1)],1):e._e()],2)],1),i("q-tab-pane",{attrs:{name:"news"}},[i("q-infinite-scroll",{attrs:{handler:e.loadNews}},[i("q-list",{attrs:{highlight:""}},[e._l(e.friends.news.items,function(t,r){return i("q-item",{key:t._id},[t.data.picture&&-1!==t.data.picture.indexOf("http")?i("q-item-side",{attrs:{avatar:t.data.picture}}):e._e(),t.data.picture&&-1===t.data.picture.indexOf("http")?i("q-item-side",{attrs:{avatar:e.serverUrl+"/upload/profile/"+t.data.picture}}):e._e(),t.data.picture?e._e():i("q-item-side",{attrs:{avatar:"statics/icons/game/profile-small.png"}}),i("q-item-main",[t.data&&t.data.userId?i("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.data.name))]):e._e(),"standard"===t.type?i("q-item-tile",{attrs:{label:""}},[e._v("\n                  "+e._s(t.title)+"\n                ")]):e._e(),"standard"!==t.type?i("q-item-tile",{attrs:{label:""}},[i("p",{domProps:{innerHTML:e._s(e.$t("news."+t.type,t.data))}}),"challengeWon"===t.type?i("span",[e._v(e._s(e.$t("challenge."+t.data.name)))]):e._e()]):e._e(),i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n                  "+e._s(e._f("formatDate")(t.creation.date))+"\n                  "),"friends"===t.destination?i("span",[e._v("\n                    - \n                    "),e.isLiked(t)?e._e():i("a",{staticStyle:{color:"#000"},on:{click:function(t){e.like(r)}}},[e._v(e._s(e.$t("label.Like")))]),e.isLiked(t)?i("a",{on:{click:function(t){e.unlike(r)}}},[e._v(e._s(e.$t("label.Like")))]):e._e(),t.likes.length>0?i("span",[e._v("("+e._s(t.likes.length)+")")]):e._e()]):e._e()])],1)],1)}),0===e.friends.news.items.length?i("q-item",[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.$t("label.NoNews")))])],1)],1):e._e()],2),i("div",{staticClass:"row justify-center",staticStyle:{"margin-bottom":"50px"},attrs:{slot:"message"},slot:"message"},[i("q-spinner-dots",{attrs:{size:5}})],1)],1)],1),i("q-tab-pane",{attrs:{name:"pro"}},[i("q-card",{staticClass:"q-ma-sm",attrs:{inline:""}},[i("q-card-media",[i("img",{attrs:{src:"statics/icons/game/storekeeper.jpg"}}),i("q-card-title",{attrs:{slot:"overlay"},slot:"overlay"},[e._v("\n                "+e._s(e.$t("label.Storekeeper"))+"\n                "),i("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(e.$t("label.StorekeeperDesc")))])])],1)],1),i("q-card",{staticClass:"q-ma-sm",attrs:{inline:""}},[i("q-card-media",[i("img",{attrs:{src:"statics/icons/game/tourism.jpg"}}),i("q-card-title",{attrs:{slot:"overlay"},slot:"overlay"},[e._v("\n                "+e._s(e.$t("label.TourismProfessional"))+"\n                "),i("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(e.$t("label.TourismProfessionalDesc")))])])],1)],1)],1)],1)],1),i("q-modal",{staticClass:"over-map",model:{value:e.showSearch,callback:function(t){e.showSearch=t},expression:"showSearch"}},[i("div",{ref:"div-column",staticClass:"column"},[i("div",{staticClass:"row q-pa-md"},[i("q-search",{attrs:{after:[{icon:"close",handler:function(){e.closeSearch()}}]},on:{input:function(t){e.findQuests()}},model:{value:e.search.text,callback:function(t){e.$set(e.search,"text",t)},expression:"search.text"}})],1),i("div",{staticClass:"row"},[i("q-list",{attrs:{highlight:""}},e._l(e.search.quests,function(t){return i("q-item",{key:t._id},[i("q-card",{staticClass:"q-ma-sm",attrs:{inline:""}},[i("q-card-media",{staticClass:"preview",attrs:{"overlay-position":"top"}},[i("img",{attrs:{src:e.serverUrl+"/upload/quest/"+t.picture}}),i("q-card-title",{attrs:{slot:"overlay"},nativeOn:{click:function(i){e.$router.push(t.authorUserId===e.$store.state.user._id?"/quest/settings/"+t._id:"/quest/play/"+t._id)}},slot:"overlay"},[e._v("\n                  "+e._s(e.getQuestTitle(t,!0))+"\n                  "),t.rating?i("q-rating",{attrs:{slot:"subtitle",color:"primary",max:5},slot:"subtitle",model:{value:t.rating,callback:function(i){e.$set(t,"rating",i)},expression:"item.rating"}}):e._e(),t.distance&&t.distance>0&&t.distance<=99?i("span",{staticClass:"row items-center text-white",attrs:{slot:"right"},slot:"right"},[i("q-icon",{attrs:{color:"white",name:"place"}}),e._v(" "+e._s(t.distance)+" "+e._s(e.$t("label.km"))+"\n                  ")],1):e._e(),0===t.distance?i("span",{staticClass:"row items-center text-white",attrs:{slot:"right"},slot:"right"},[i("q-icon",{attrs:{color:"white",name:"place"}}),e._v(" <1 "+e._s(e.$t("label.km"))+"\n                  ")],1):e._e(),t.distance>99?i("span",{staticClass:"row items-center text-white",attrs:{slot:"right"},slot:"right"},[i("q-icon",{attrs:{color:"white",name:"place"}}),e._v(" >99 "+e._s(e.$t("label.km"))+"\n                  ")],1):e._e()],1)],1)],1)],1)})),i("q-item",{directives:[{name:"show",rawName:"v-show",value:0==e.search.quests.length,expression:"search.quests.length == 0"}],nativeOn:{click:function(t){e.$router.push("/quest/create")}}},[i("q-item-side",[i("q-icon",{attrs:{name:"explore",size:"2rem"}})],1),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.$t("label.NoQuestForThisSearch")))]),i("q-item-tile",{attrs:{sublabel:""}},[i("a",{on:{click:function(t){e.$router.push("/quest/create")}}},[e._v(e._s(e.$t("label.WhyDontYouCreateAQuest")))])])],1)],1)],1)])]),i("q-modal",{staticClass:"over-map",model:{value:e.friends.show,callback:function(t){e.$set(e.friends,"show",t)},expression:"friends.show"}},[i("div",{staticClass:"panel-bottom q-pa-md"},[i("a",{staticClass:"float-right no-underline",attrs:{color:"grey"},on:{click:function(t){e.friends.show=!1}}},[i("q-icon",{staticClass:"medium-icon",attrs:{name:"close"}})],1),i("h1",{staticClass:"size-3 q-pl-md"},[e._v(e._s(e.friends.selected.name))]),i("q-tabs",{attrs:{"two-lines":""}},[i("q-tab",{attrs:{slot:"title",name:"friendbuilt",icon:"add_box",label:e.$t("label.QuestsCreated"),default:""},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"friendplayed",icon:"play_circle_filled",label:e.$t("label.QuestsSuccessful")},slot:"title"}),i("q-tab-pane",{attrs:{name:"friendranking"}}),i("q-tab-pane",{attrs:{name:"friendbuilt"}},[i("q-list",{attrs:{highlight:""}},[e._l(e.friends.selected.built,function(t){return i("q-item",{key:t._id,nativeOn:{click:function(i){e.$router.push("/quest/play/"+t._id)}}},[t.picture?i("q-item-side",{attrs:{avatar:e.serverUrl+"/upload/quest/"+t.picture}}):e._e(),t.picture?e._e():i("q-item-side",{attrs:{avatar:"statics/profiles/noprofile.png"}}),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.getQuestTitle(t,!1)))]),"published"===t.status?i("q-item-tile",{attrs:{sublabel:""}},[i("q-rating",{attrs:{readonly:"",value:t.rating&&t.rating.rounded?t.rating.rounded:null,color:"primary",max:5,size:"1rem"}}),e._v("\n                  "+e._s(e.$t("label.PublishedSince"))+" "+e._s(e._f("formatDate")(t.dateCreated))+"\n                ")],1):e._e(),"unpublished"==t.status?i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n                  "+e._s(e.$t("label.Unpublished"))+"\n                ")]):e._e(),"tovalidate"==t.status?i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n                  "+e._s(e.$t("label.PublicationRequested"))+" ...\n                ")]):e._e(),"rejected"==t.status?i("q-item-tile",{staticStyle:{color:"#f00"},attrs:{sublabel:""}},[e._v("\n                  "+e._s(e.$t("label.PublicationRejected"))+"\n                ")]):e._e()],1)],1)}),0===e.friends.selected.built.length?i("q-item",[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.$t("label.NoQuestCreated")))])],1)],1):e._e()],2)],1),i("q-tab-pane",{attrs:{name:"friendplayed"}},[i("q-list",{attrs:{highlight:""}},[e._l(e.friends.selected.played,function(t){return e.friends.selected.played&&e.friends.selected.played.length>0?i("q-item",{key:t._id,nativeOn:{click:function(i){e.$router.push("/quest/play/"+t.questId)}}},[t.questData&&t.questData.picture?i("q-item-side",{attrs:{avatar:t.questData.picture&&"_"===t.questData.picture[0]?"statics/images/quest/"+t.questData.picture:e.serverUrl+"/upload/quest/"+t.questData.picture}}):e._e(),t.questData&&t.questData.picture?e._e():i("q-item-side",{attrs:{avatar:"statics/profiles/noprofile.png"}}),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.getQuestTitle(t.questData,!1))+" "+e._s(t.type))]),t.dateCreated&&"finished"==t.status&&!t.score?i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n                  "+e._s(e.$t("label.PlayedOn"))+" "+e._s(e._f("formatDate")(t.dateCreated))+"\n                ")]):e._e(),t.dateCreated&&"finished"==t.status&&t.score?i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n                  "+e._s(e.$t("label.Succeeded"))+" "+e._s(e._f("formatDate")(t.dateCreated))+"\n                ")]):e._e(),t.dateCreated?e._e():i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n                  "+e._s(e.$t("label.Succeeded"))+"\n                ")]),"in-progress"==t.status?i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n                  "+e._s(e.$t("label.ContinueThisQuest"))+"\n                ")]):e._e()],1),t.questData.type&&"quest"!==t.questData.type?e._e():i("q-item-side",{staticClass:"score",attrs:{right:""}},[e._v("\n                "+e._s(t.score)+" "),i("q-icon",{attrs:{name:"fas fa-trophy"}})],1),t.questData.type&&"quest"!==t.questData.type?i("q-item-side",{staticClass:"score",attrs:{right:""}},[e._v("\n                "+e._s(t.reward)+" "),i("q-icon",{attrs:{name:"fas fa-bolt"}})],1):e._e()],1):e._e()}),0===e.friends.selected.played.length?i("q-item",[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.$t("label.NoQuestPlayed")))])],1)],1):e._e()],2)],1)],1)],1)]),i("q-modal",{staticClass:"over-map",model:{value:e.friends.new.show,callback:function(t){e.$set(e.friends.new,"show",t)},expression:"friends.new.show"}},[i("a",{staticClass:"float-right no-underline q-pa-md",attrs:{color:"grey"},on:{click:e.closeAddFriends}},[i("q-icon",{staticClass:"medium-icon",attrs:{name:"close"}})],1),i("h1",{staticClass:"size-3 q-pl-md"},[e._v(e._s(e.$t("label.AddFriends")))]),i("newfriend",{attrs:{load:e.friends.new.show},on:{close:e.closeAddFriends}})],1),i("q-modal",{staticClass:"over-map",model:{value:e.shop.show,callback:function(t){e.$set(e.shop,"show",t)},expression:"shop.show"}},[i("a",{staticClass:"float-right no-underline q-pa-md",attrs:{color:"grey"},on:{click:e.closeShop}},[i("q-icon",{staticClass:"medium-icon",attrs:{name:"close"}})],1),i("h1",{staticClass:"size-3 q-pl-md"},[e._v(e._s(e.$t("label.Shop")))]),i("shop",{on:{close:e.closeShop}})],1),i("q-modal",{staticClass:"over-map",model:{value:e.ranking.show,callback:function(t){e.$set(e.ranking,"show",t)},expression:"ranking.show"}},[i("a",{staticClass:"float-right no-underline q-pa-md",attrs:{color:"grey"},on:{click:e.closeRanking}},[i("q-icon",{staticClass:"medium-icon",attrs:{name:"close"}})],1),i("h1",{staticClass:"size-3 q-pl-md"},[e._v(e._s(e.$t("label.YourRanking")))]),i("q-list",[i("q-list-header",[e._v(e._s(e.$t("label.Level")))]),i("q-item",{attrs:{multiline:""}},[i("q-item-side",{attrs:{icon:"trending_up",color:"primary"}}),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.$t("label.MyLevel"))+": "+e._s(e.$store.state.user.level))]),i("q-item-tile",{attrs:{sublabel:""}},[e._v(e._s(e.$t("label.ReachScoreOf",{score:e.profile.level.max})))])],1),i("q-item-side",{attrs:{right:""}},[i("q-progress",{staticStyle:{width:"75px"},attrs:{percentage:e.profile.level.progress,color:"primary",height:"18px"}})],1)],1)],1),e.$store.state.user&&e.$store.state.user.statistics&&e.$store.state.user.statistics.rankings?i("q-list",[i("q-list-header",[e._v(e._s(e.$t("label.Rankings")))]),i("q-item",[i("q-item-side",{attrs:{icon:"public",color:"primary"}}),i("q-item-main",{attrs:{label:e.$t("label.YourWorldRanking")+": "+e.$store.state.user.statistics.rankings.world}})],1),i("q-item",[i("q-item-side",{attrs:{icon:"home",color:"primary"}}),i("q-item-main",{attrs:{label:e.$t("label.YourCityRanking")+": "+e.$store.state.user.statistics.rankings.town}})],1)],1):e._e(),e.success.ranking&&e.success.ranking.length>0?i("q-list",[i("q-list-header",[e._v(e._s(e.$t("label.TerritoriesWon")))]),e._l(e.success.ranking,function(t,r){return i("q-item",{key:r},[t.playedNb<t.totalNb?i("q-item-side",[i("q-icon",{attrs:{name:"flag",size:"2rem",color:"grey"}})],1):e._e(),t.playedNb>=t.totalNb?i("q-item-side",[i("q-icon",{attrs:{name:"flag",size:"2rem",color:"primary"}})],1):e._e(),i("q-item-main",{attrs:{label:t.town}}),t.playedNb<t.totalNb?i("q-item-side",{attrs:{right:""}},[i("q-progress",{staticStyle:{width:"75px"},attrs:{percentage:parseInt(t.playedNb/t.totalNb*100,10),color:"primary",height:"18px"}})],1):e._e()],1)}),i("q-item",[e._v("\n      "+e._s(e.$t("label.PlayAllQuestsInACityToWin"))+"\n      ")])],2):e._e(),e.$store.state.user&&e.$store.state.user.statistics&&e.$store.state.user.statistics.rankings||e.success.ranking&&e.success.ranking.length>0?e._e():i("p",[e._v("\n      "+e._s(e.$t("label.NoRankingYet"))+"\n    ")])],1),i("div",{staticClass:"fixed-bottom over-map"},[i("div",{staticClass:"menu-background"}),i("div",{directives:[{name:"touch-swipe",rawName:"v-touch-swipe.horizontal",value:e.swipeMenu,expression:"swipeMenu",modifiers:{horizontal:!0}}],staticClass:"menu row"},[i("div",{staticClass:"col-4 centered",on:{click:function(t){e.openSuccessPage()}}},[i("q-btn",{attrs:{icon:"fingerprint",round:"",color:"primary"}})],1),i("div",{staticClass:"col-4 centered",on:{click:function(t){e.openSearchOptions()}}},[i("img",{attrs:{src:"statics/icons/game/menu-main.png"}})]),i("div",{staticClass:"col-4 centered",on:{click:function(t){e.openProfilePage()}}},[i("q-btn",{attrs:{icon:"group",round:"",color:"primary"}})],1)]),e.warnings.noLocation?i("div",{staticClass:"centered bg-warning q-pa-sm"},[i("q-spinner-puff",{staticClass:"on-left"}),e._v(" "+e._s(e.$t("label.WarningNoLocation"))+"\n    ")],1):e._e(),e.warnings.lowBattery?i("div",{staticClass:"centered bg-warning q-pa-sm"},[i("q-icon",{attrs:{name:"battery_alert"}}),e._v(" "+e._s(e.$t("label.WarningLowBattery"))+"\n    ")],1):e._e(),e.warnings.noNetwork?i("div",{staticClass:"centered bg-warning q-pa-sm"},[i("q-spinner-radio",{staticClass:"on-left"}),e._v(" "+e._s(e.$t("label.WarningNoNetwork"))+"\n    ")],1):e._e()]),null!==e.story.step?i("div",{staticClass:"fixed-bottom story-container fit"},[i("story",{attrs:{step:e.story.step,data:e.story.data},on:{next:e.endStory}})],1):e._e()],1)},Ue=[];Be._withStripped=!0;var We={listNearest:function(e,t){return xe().get("quests/nearest/"+e.lng+"-"+e.lat+"/"+t)},getById:function(e){return xe().get("quest/"+e)},find:function(e,t){return xe().get("quests/find/"+e+"/nearest/"+t.longitude+"-"+t.latitude)},create:function(e){return xe().post("quest/create",e)},save:function(e){return xe().put("quest/"+e._id+"/update",e)},remove:function(e){return xe().delete("quest/"+e+"/remove")},addLanguage:function(e,t){return xe().put("quest/"+e+"/lang/add/"+t)},publish:function(e,t){return xe().put("quest/"+e+"/publish/"+t)},unpublish:function(e,t){return xe().put("quest/"+e+"/unpublish/"+t)},countForUser:function(e){return xe().get("user/"+e+"/quests/created/count")},ListCreatedByAUser:function(e){return xe().get("user/"+e+"/quests/created")},ListPlayedByAUser:function(e){return xe().get("user/"+e+"/quests/played")},uploadPicture:function(e){return xe().post("/quest/picture/upload",e,{headers:{"Content-Type":"multipart/form-data"}})},listEditors:function(e){return xe().get("quest/"+e+"/editor/list")},addEditor:function(e,t){return xe().put("quest/"+e+"/editor/add/"+t)},removeEditor:function(e,t){return xe().delete("quest/"+e+"/editor/remove/"+t)}},Ve={listFriends:function(){return xe().get("user/friends/list")},listNews:function(e,t,i){return xe().get("user/friends/news/list/"+e+"/"+t).then(function(e){i(!1,e)})},likeNews:function(e){return xe().put("user/friends/news/"+e+"/like")},unlikeNews:function(e){return xe().put("user/friends/news/"+e+"/unlike")},getFriend:function(e){return xe().get("user/"+e+"/profile")},getRanking:function(){return xe().get("account/ranking")},challengeFriend:function(e,t){return xe().post("user/friend/"+e+"/challenge/"+t)},getBestFriends:function(){return xe().get("user/bestfriends")},buy:function(e){return xe().post("user/buy/offer/"+e)},nextStoryStep:function(e){return xe().post("user/story/step/"+e)},addFriend:function(e){return e.email&&e.email.length>0?xe().post("user/friends/add/email/"+e.email):e.phone&&e.phone.length>0?xe().post("user/friends/add/phone/"+e.phone):xe().post("user/friend/add/"+e)},removeFriend:function(e){return xe().delete("user/friend/remove/"+e)},checkContacts:function(e){return xe().post("user/friends/contacts/check",{contacts:e})}},Ye=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("p",{staticClass:"q-ml-md"},[e._v("Pendant les tests, l'énergie est gratuite !")]),i("q-list",{attrs:{highlight:""}},[i("q-list-header",[e._v(e._s(e.$t("label.Coins")))]),i("q-item",[i("q-item-side",{attrs:{image:"statics/icons/game/shop-coins-medium.png"}}),i("q-item-main",{attrs:{label:"600 "+e.$t("label.coins")}}),i("q-item-side",{attrs:{right:""}},[i("q-btn",{attrs:{color:"positive"},on:{click:function(t){e.buy("graaly.600-coins")}}},[e._v("0€ (Beta)")])],1)],1),i("q-item",[i("q-item-side",{attrs:{image:"statics/icons/game/shop-bag-medium.png"}}),i("q-item-main",{attrs:{label:"3000 "+e.$t("label.coins")}}),i("q-item-side",{attrs:{right:""}},[i("q-btn",{attrs:{color:"positive"},on:{click:function(t){e.buy("graaly.3000-coins")}}},[e._v("0€ (Beta)")])],1)],1),i("q-item",[i("q-item-side",{attrs:{image:"statics/icons/game/shop-chest-medium.png"}}),i("q-item-main",{attrs:{label:"6000 "+e.$t("label.coins")}}),i("q-item-side",{attrs:{right:""}},[i("q-btn",{attrs:{color:"positive"},on:{click:function(t){e.buy("graaly.6000-coins")}}},[e._v("0€ (Beta)")])],1)],1)],1),e.coinsWon&&e.coinsWon>0?i("div",{staticClass:"fadein-message"},[e._v("+"+e._s(e.coinsWon)+" "),i("q-icon",{attrs:{color:"white",name:"fas fa-bolt"}})],1):e._e()],1)},Qe=[];Ye._withStripped=!0;var Ge={data(){return{coinsWon:0}},async mounted(){this.coinsWon=0},methods:{async buy(e){this.coinsWon=0;var t=await Ve.buy(e);t&&t.data&&t.data.coins&&(this.coinsWon=t.data.coins,this.$store.state.user.coins+=this.coinsWon),setTimeout(this.resetCoinsWon,2e3)},resetCoinsWon(){this.coinsWon=0,this.$emit("close")}}},Ke=Ge,Xe=Object(we["a"])(Ke,Ye,Qe,!1,null,null,null);Xe.options.__file="shop.vue";var Je=Xe.exports,Ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("q-tabs",[i("q-tab",{attrs:{slot:"title",default:"",name:"suggestions",label:e.$t("label.Suggestions")},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"addfriends",label:e.$t("label.Add")},slot:"title"}),i("q-tab-pane",{attrs:{name:"suggestions"}},[e.validatedContacts&&e.validatedContacts.length>0?i("div",[i("q-list",{attrs:{highlight:""}},e._l(e.validatedContacts,function(t){return i("q-item",{key:t._id},[i("q-item-side",[i("q-item-tile",{attrs:{avatar:""}},[t.picture&&""!==t.picture&&-1!==t.picture.indexOf("http")?i("img",{attrs:{src:t.picture}}):e._e(),t.picture&&""!==t.picture&&-1===t.picture.indexOf("http")?i("img",{attrs:{src:e.serverUrl+"/upload/profile/"+t.picture}}):e._e(),t.picture&&""!==t.picture?e._e():i("img",{attrs:{src:"statics/icons/game/profile-small.png"}})])],1),i("q-item-main",[i("q-item-tile",[e._v(e._s(t.name))])],1),i("q-item-side",{attrs:{right:""}},[i("q-btn",{attrs:{label:e.$t("label.Add")},on:{click:function(i){e.addFriend(t._id)}}})],1)],1)}))],1):e._e()]),i("q-tab-pane",{attrs:{name:"addfriends"}},[i("form",{staticClass:"q-pt-md",on:{submit:function(t){t.preventDefault(),e.formSubmit()}}},[e._v("\n      \n        "+e._s(e.$t("label.FindWithEmail"))+"\n        "),i("div",{staticClass:"row q-pb-md"},[i("div",{staticClass:"col-8"},[i("q-input",{attrs:{dark:"",color:"secondary",type:"email","float-label":e.$t("label.Email")},on:{blur:function(t){e.$v.form.email.$touch()}},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e.$v.form.email.$error?i("div",{staticClass:"q-field-bottom"},[e.$v.form.email.email?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.EmailIsNotValid")))])]):e._e()],1),i("div",{staticClass:"col-4 centered"},[i("q-btn",{attrs:{label:e.$t("label.Add"),type:"submit"}})],1)]),e._v("\n        "+e._s(e.$t("label.FindWithPhone"))+"\n        "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-8"},[i("q-input",{attrs:{dark:"",color:"secondary","float-label":e.$t("label.PhoneNumber")},on:{blur:function(t){e.$v.form.phone.$touch()}},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),e.$v.form.phone.$error?i("div",{staticClass:"q-field-bottom"},[e.$v.form.phone.checkPhone?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.InvalidPhoneNumber")))])]):e._e()],1),i("div",{staticClass:"col-4 centered"},[i("q-btn",{attrs:{label:e.$t("label.Add"),type:"submit"}})],1)])])])],1)],1)},et=[];Ze._withStripped=!0;var tt=i("b5ae"),it=(i("f751"),i("7037")),rt=i.n(it),at=(i("ac4d"),i("8a81"),i("6b54"),i("3b2b"),i("a481"),{notificationsArr:[],handleError:function(e){Oe.dispatch("setErrorMessage",e),Kr.push("/error")},buildOptionsForSelect:function(e,t,i){var r=[];return e.forEach(function(e){r.push({value:e[t.valueField],label:i("label."+e[t.labelField])})}),r},getById:function(e,t){for(var i=0;i<e.length;i++)if(e[i].id===t)return e[i];return null},degreesToRadians:function(e){return e*Math.PI/180},radiansToDegrees:function(e){return 180*e/Math.PI},distanceInKmBetweenEarthCoordinates:function(e,t,i,r){var a=6371,s=at.degreesToRadians(i-e),o=at.degreesToRadians(r-t);e=at.degreesToRadians(e),i=at.degreesToRadians(i);var n=Math.sin(s/2)*Math.sin(s/2)+Math.sin(o/2)*Math.sin(o/2)*Math.cos(e)*Math.cos(i),l=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n));return a*l},bearingBetweenEarthCoordinates:function(e,t,i,r){var a=r-t,s=Math.sin(a)*Math.cos(i),o=Math.cos(e)*Math.sin(i)-Math.sin(e)*Math.cos(i)*Math.cos(a),n=at.radiansToDegrees(Math.atan2(s,o));return(n+360)%360},replaceBreakByBR:function(e){return e&&"string"===typeof e&&(e=e.replace(/\r\n/gi,"<br />"),e=e.replace(/\n/gi,"<br />"),e=e.replace(/\r/gi,"<br />")),e},removeAccents:function(e){var t=e.toLowerCase(),i={a:"[àáâãäå]",ae:"æ",c:"ç",e:"[èéêë]",i:"[ìíîï]",n:"ñ",o:"[òóôõö]",oe:"œ",u:"[ùúûűü]",y:"[ýÿ]"};for(var r in i)t=t.replace(new RegExp(i[r],"g"),r);return t},shuffle:function(e){var t,i,r;for(r=e.length-1;r>0;r--)t=Math.floor(Math.random()*(r+1)),i=e[r],e[r]=e[t],e[t]=i;return e},buildIncrementalArray:function(e){for(var t=[],i=1;i<=e;i++)t.push(i);return t},isValidEmail:function(e){var t=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;return!(!e||!t.test(e))},setTimeout:function(e){function t(t,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var i=setTimeout(e,t);Oe.dispatch("addTimeoutId",i)}),clearAllTimeouts:function(){var e=!0,t=!1,i=void 0;try{for(var r,a=Oe.state.runningTimeoutsIds[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var s=r.value;clearTimeout(s)}}catch(e){t=!0,i=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw i}}Oe.dispatch("clearTimeoutIds")},clearAllNotifications:function(){if(this.notificationsArr){for(var e=0;e<this.notificationsArr.length;e++)this.notificationsArr[e]();this.notificationsArr.length=0}},clearAllRunningProcesses:function(){this.clearAllTimeouts(),this.clearAllNotifications()},clearCameraStream:function(e){e.getTracks().forEach(function(e){return e.stop()})},clone:function(e){if(null===e||"object"!==rt()(e)||"isActiveClone"in e)return e;var t=e instanceof Date?new e.constructor:e.constructor();for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(e["isActiveClone"]=null,t[i]=this.clone(e[i]),delete e["isActiveClone"]);return t}}),st=at,ot={position:"top",actions:[{icon:"close"}]},nt=function(e,t,i){var r;switch(t){case"positive":r={icon:"check_circle",color:"positive"};break;case"warning":r={icon:"warning",color:"orange"};break;case"error":r={icon:"report_problem",color:"negative"};break;case"rightAnswer":r={color:"positive",timeout:4e3};break;case"wrongAnswer":r={color:"orange",timeout:4e3};break;case"readMore":r={icon:"info",color:"positive",timeout:0};break;default:r={icon:"info",color:"info"};break}i&&(r.actions=i);var a=pe["a"].create(Object.assign({message:e},ot,r));return st.notificationsArr.push(a),a},lt=(i("4917"),function(e){var t=e.match(/\d/g);return 10===t.length}),ut={props:["load"],watch:{load:async function(e,t){!0!==e&&"true"!==e||await this.getContacts()}},data(){return{form:{email:"",phone:""},phoneContacts:"",validatedContacts:null,serverUrl:"https://api.graaly.com",submitting:!1,console:""}},async mounted(){},methods:{async formSubmit(){if(!this.$v.form.email.$error||!this.$v.form.phone.$error){let e=await Ve.addFriend({email:this.form.email,phone:this.form.phone});e?e.data&&e.data.hasOwnProperty("status")&&"invitationsent"===e.data.status?nt(this.$t("label.InvitationSent"),"success"):nt(this.$t("label.FriendsAdded"),"success"):nt(this.$t("label.ErrorStandardMessage"),"error")}},async uploadImage(e){var t=e.target.files;if(!t[0])return;var i=new FormData;i.append("image",t[0]);let r=await AuthService.uploadAccountPicture(i);r&&(this.$store.state.user.picture=r.data.file)},async getContacts(){var e=new ContactFindOptions;e.filter="",e.multiple=!0;var t=["displayName","emails","phoneNumbers"];navigator.contacts.find(t,this.checkContacts,this.onError,e)},checkContacts(e){for(var t=[],i=0;i<e.length;i++)if(e[i].emails&&e[i].emails.length>0){let r=e[i].emails[0].value;r=r.toLowerCase(),t.push({name:e[i].displayName,email:r})}else if(e[i].phoneNumbers&&e[i].phoneNumbers.length>0){let r=e[i].phoneNumbers[0].value,a=r.match(/\d/g);t.push({name:e[i].displayName,phone:a.join("")})}this.checkContactsWithExisting(t)},async checkContactsWithExisting(e){let t=await Ve.checkContacts(e);t&&t.data&&t.data.contacts&&(this.validatedContacts=t.data.contacts),await this.hideContactsAlreadyfriends()},async hideContactsAlreadyfriends(){let e=await Ve.listFriends();for(var t=e.data,i=this.validatedContacts.length-1;i>=0;i--)for(var r=0;r<t.length;r++)this.validatedContacts.length>i&&this.validatedContacts[i]._id===t[r].friendId&&this.validatedContacts.splice(i,1)},hideUserFromValidatedContacts(e){for(var t=0;t<this.validatedContacts.length;t++)this.validatedContacts[t]._id===e&&this.validatedContacts.splice(t,1)},async addFriend(e){let t=await Ve.addFriend(e);t?(t.data&&t.data.hasOwnProperty("status")&&"invitationsent"===t.data.status?nt(this.$t("label.InvitationSent"),"success"):nt(this.$t("label.FriendsAdded"),"success"),this.hideUserFromValidatedContacts(e)):nt(this.$t("label.ErrorStandardMessage"),"error")},onError(e){nt(this.$t("label.ErrorStandardMessage"),"error")}},validations:{form:{email:{email:tt["email"]},phone:{checkPhone:lt}}}},ct=ut,dt=Object(we["a"])(ct,Ze,et,!1,null,null,null);dt.options.__file="newfriend.vue";var ft=dt.exports,ht=function(){var e=this,t=e.$createElement,i=e._self._c||t;return null!==e.currentStep.id?i("div",{staticClass:"story fit",class:{fadeout:e.hide},staticStyle:{background:"rgba(0,0,0,0.3)",height:"100%"}},[i("div",{style:"position: fixed; bottom: "+e.steps[e.currentStep.id].bottom+"px;"},[e._m(0),i("div",{staticClass:"bubble-middle",staticStyle:{background:"url(statics/icons/story/sticker-middle.png) repeat-y","min-height":"10vh"}},[i("p",{staticClass:"tilt",domProps:{innerHTML:e._s(e.$t("story."+e.steps[e.currentStep.id].discussions[e.currentStep.discussionId].text,e.data))}}),i("div",{staticClass:"text-right"},[e.steps[e.currentStep.id].discussions[e.currentStep.discussionId].link?i("a",{on:{click:e.linkAction}},[e._v("\n          "+e._s(e.$t("label."+e.steps[e.currentStep.id].discussions[e.currentStep.discussionId].link.label))+"\n        ")]):e._e(),e._v("  \n        "),i("q-btn",{attrs:{color:"primary"},on:{click:e.next}},[e._v("\n          "+e._s(e.steps[e.currentStep.id].discussions[e.currentStep.discussionId].hasOwnProperty("button")?e.$t("label."+e.steps[e.currentStep.id].discussions[e.currentStep.discussionId].button.label):e.steps[e.currentStep.id].discussions.length-1===e.currentStep.discussionId?e.$t("label.Close"):e.$t("label.Next")+" >>")+"\n        ")])],1)]),e._m(1),i("div",{staticClass:"character"},[i("img",{staticStyle:{"min-height":"30vh"},attrs:{src:"statics/icons/story/character"+e.steps[e.currentStep.id].discussions[e.currentStep.discussionId].character+"_attitude1.png"}})])])]):e._e()},pt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bubble-top"},[i("img",{staticStyle:{"min-height":"5vh"},attrs:{src:"statics/icons/story/sticker-top.png"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bubble-bottom"},[i("img",{staticStyle:{"min-height":"20vh"},attrs:{src:"statics/icons/story/sticker-bottom.png"}})])}];ht._withStripped=!0;var mt={props:["step","data"],data(){return{steps:{hint:{discussions:[{character:"3",text:"hint",button:{label:"OkThanks"},condition:null}],bottom:50},help:{discussions:[{character:"2",text:"help",button:{label:"OkThanks"},condition:null}],bottom:50},0:{discussions:[{character:"1",text:"Welcome",condition:null},{character:"1",text:"FirstStep",condition:null},{character:"1",text:"PresentTeam",condition:null},{character:"2",text:"PresentSecretary1",condition:null},{character:"2",text:"PresentSecretary2",condition:null},{character:"3",text:"PresentIndicator1",condition:null},{character:"3",text:"PresentIndicator2",condition:null},{character:"1",text:"MapExplaination1",condition:null},{character:"1",text:"MapExplaination2",condition:null},{character:"1",text:"MapExplaination3",condition:null},{character:"1",text:"StartPlaying",condition:null,nextStep:3}],bottom:0},1:{discussions:[{character:"2",text:"WelcomeToQuest1",link:{label:"BackToTheMap",action:"/map"},condition:null},{character:"2",text:"WelcomeToQuest2",link:{label:"BackToTheMap",action:"/map"},condition:this.data&&this.data.hasOwnProperty("startingPlace")&&"undefined"!==typeof this.data.startingPlace&&this.data.startingPlace.length>1},{character:"2",text:"YouAlreadyDidThisQuest",link:{label:"BackToTheMap",action:"/map"},condition:this.data&&this.data.isRunFinished},{character:"2",text:"YouAreQuestOwnerDesc",link:{label:"BackToTheMap",action:"/map"},condition:this.data&&this.data.isOwner},{character:"2",text:"QuestIsFarFromUser",link:{label:"BackToTheMap",action:"/map"},condition:this.data&&this.data.isFar&&this.data.hasOwnProperty("startingPlace")&&"undefined"!==typeof this.data.startingPlace&&this.data.startingPlace.length>1},{character:"2",text:"QuestParams",link:{label:"BackToTheMap",action:"/map"},condition:this.data&&this.data.hasOwnProperty("score")&&this.data.score>0},{character:"2",text:"description",link:{label:"BackToTheMap",action:"/map"},condition:this.data&&this.data.hasOwnProperty("description")&&this.data.description.length>1},{character:"2",text:"GeneralWarning",condition:null}],bottom:0},3:{discussions:[{character:"1",text:"DiscoveryQuest1",button:{label:"letsGo",action:"/quest/play/5b7303ec4efbcd1f8cb101c6"},condition:null,nextStep:4}],bottom:0},4:{discussions:[{character:"1",text:"DiscoveryQuest2",condition:null},{character:"1",text:"DiscoveryQuest3",condition:null},{character:"1",text:"DiscoveryQuest4",condition:null},{character:"1",text:"DiscoveryQuest5",condition:null},{character:"1",text:"DiscoveryQuest6",condition:null},{character:"1",text:"DiscoveryQuest7",condition:null,nextStep:5}],bottom:50},5:{discussions:[{character:"1",text:"DiscoveryQuest8",condition:null},{character:"1",text:"DiscoveryQuest9",condition:null},{character:"1",text:"DiscoveryQuest10",condition:null},{character:"1",text:"DiscoveryQuest10b",condition:null,nextStep:7}],bottom:50},6:{discussions:[{character:"2",text:"readMore",button:{label:"OkThanks"},condition:null}],bottom:50},7:{discussions:[{character:"1",text:"DiscoveryQuest13",condition:null,nextStep:8}],bottom:50},8:{discussions:[{character:"1",text:"DiscoveryQuest14",condition:null},{character:"1",text:"DiscoveryQuest15",condition:null},{character:"1",text:"DiscoveryQuest16",condition:null,nextStep:10}],bottom:50},9:{discussions:[{character:"1",text:"EndQuest1",condition:this.data&&this.data.hasOwnProperty("score")&&this.data.score>80},{character:"1",text:"EndQuest1b",condition:this.data&&this.data.hasOwnProperty("score")&&this.data.score<=0},{character:"1",text:"EndQuest2",condition:this.data&&this.data.discovery},{character:"1",text:"EndQuest3",condition:this.data&&this.data.hasOwnProperty("progress")&&this.data.progress>80},{character:"1",text:"EndQuest4",condition:this.data&&this.data.discovery},{character:"1",text:"EndQuest5",condition:this.data&&this.data.discovery},{character:"1",text:"EndQuest6",condition:null}],bottom:0},10:{discussions:[{character:"1",text:"MapReturn",condition:null,nextStep:11}],bottom:0},11:{discussions:[{character:"1",text:"RankingDescription1",condition:null},{character:"1",text:"RankingDescription2",condition:null},{character:"1",text:"RankingDescription3"},{character:"1",text:"RankingDescription4",condition:null,nextStep:13}],bottom:0},12:{discussions:[{character:"2",text:"CompleteProfile1",condition:null},{character:"2",text:"CompleteProfile2",condition:null,nextStep:13}],bottom:0},13:{discussions:[{character:"2",text:"MapDetail1",condition:null,nextStep:14}],bottom:0},14:{discussions:[{character:"2",text:"AddFriends",condition:null,nextStep:15}],bottom:0},15:{discussions:[{character:"1",text:"CreateQuest1",condition:null},{character:"1",text:"CreateQuest2",condition:null,nextStep:16},{character:"1",text:"CreateQuest3",condition:null,button:{label:"CreateAQuest",action:"/quest/create/welcome"},link:{label:"NoThanks"}}],bottom:0},16:{discussions:[{character:"1",text:"StartNewQuest1",condition:null},{character:"1",text:"StartNewQuest2",condition:null!==this.data&&this.data.hasOwnProperty("questId"),button:{label:"letsGo",action:"/quest/play/"+(this.data&&this.data.hasOwnProperty("questId")?this.data.questId:"0")},link:{label:"NoThanks"}},{character:"1",text:"StartNewQuest3",condition:null}],bottom:0},17:{discussions:[{character:"1",text:"BuilderLanguage1",condition:null},{character:"1",text:"BuilderLanguage2",condition:null},{character:"1",text:"BuilderLanguage3",condition:null}],bottom:0},18:{discussions:[{character:"1",text:"BuilderConfiguration1",condition:null},{character:"1",text:"BuilderConfiguration2",condition:null},{character:"1",text:"BuilderConfiguration3",condition:null},{character:"1",text:"BuilderConfiguration4",condition:null},{character:"1",text:"BuilderConfiguration5",condition:null},{character:"1",text:"BuilderConfiguration6",condition:null}],bottom:0},19:{discussions:[{character:"1",text:"BuilderStep1",condition:null},{character:"1",text:"BuilderStep2",condition:null},{character:"1",text:"BuilderStep3",condition:null},{character:"1",text:"BuilderStep4",condition:null},{character:"1",text:"BuilderStep5",condition:null}],bottom:0},20:{discussions:[{character:"1",text:"BuilderStepSettings1",condition:null},{character:"1",text:"BuilderStepSettings2",condition:null}],bottom:0},21:{discussions:[{character:"1",text:"BuilderStepOverview1",condition:null},{character:"1",text:"BuilderStepOverview2",condition:null},{character:"1",text:"BuilderStepOverview3",condition:null}],bottom:0},22:{discussions:[{character:"1",text:"BuilderPublishing1",condition:null},{character:"1",text:"BuilderPublishing2",condition:null},{character:"1",text:"BuilderPublishing3",condition:null},{character:"1",text:"BuilderPublishing4",condition:null}],bottom:0}},currentStep:{id:null,discussionId:0},nextStep:0,hide:!1}},async mounted(){this.currentStep.id=this.step,this.currentStep.discussionId=0,this.nextStep=this.step,this.hide=!1,this.moreToValidStep(),await this.saveStepPassed()},methods:{async next(){this.steps[this.currentStep.id].discussions[this.currentStep.discussionId].hasOwnProperty("button")&&this.steps[this.currentStep.id].discussions[this.currentStep.discussionId].button.hasOwnProperty("action")?this.$router.push(this.steps[this.currentStep.id].discussions[this.currentStep.discussionId].button.action):await this.closeStory()},moreToValidStep(){while(!1===this.steps[this.currentStep.id].discussions[this.currentStep.discussionId].condition)this.currentStep.discussionId++},async saveStepPassed(){this.steps[this.currentStep.id].discussions[this.currentStep.discussionId].hasOwnProperty("nextStep")&&(this.nextStep=this.steps[this.currentStep.id].discussions[this.currentStep.discussionId].nextStep,await Ve.nextStoryStep(this.nextStep))},async closeStory(){this.steps[this.currentStep.id].discussions.length-1>this.currentStep.discussionId?(this.currentStep.discussionId++,this.moreToValidStep()):(await this.saveStepPassed(),this.hide=!0,setTimeout(this.emitNext,500))},emitNext(){this.$emit("next",this.nextStep)},async linkAction(){this.steps[this.currentStep.id].discussions[this.currentStep.discussionId].link.hasOwnProperty("action")?this.$router.push(this.steps[this.currentStep.id].discussions[this.currentStep.discussionId].link.action):await this.closeStory()}}},bt=mt,gt=Object(we["a"])(bt,ht,pt,!1,null,null,null);gt.options.__file="story.vue";var vt=gt.exports,wt=i("6458"),kt=i("755e"),yt=function(e){return e>=5e4?{level:8,next:8,max:1e5,progress:100}:e>=25e3?{level:8,next:8,max:5e4,progress:Math.round((e-25e3)/25e3*100)}:e>=15e3?{level:7,next:8,max:25e3,progress:Math.round((e-15e3)/1e4*100)}:e>=1e4?{level:6,next:7,max:15e3,progress:Math.round((e-1e4)/5e3*100)}:e>=6e3?{level:5,next:6,max:1e4,progress:Math.round((e-6e3)/4e3*100)}:e>=3e3?{level:4,next:5,max:6e3,progress:Math.round((e-3e3)/3e3*100)}:e>=1500?{level:3,next:4,max:3e3,progress:Math.round((e-1500)/1500*100)}:e>=500?{level:2,next:3,max:1500,progress:Math.round((e-500)/1e3*100)}:{level:1,next:2,max:500,progress:Math.round(e/500*100)}},_t=i("534a"),St=i("4c18"),Et=i("cf83"),Ct=i("e18e"),Tt={components:{QInfiniteScroll:wt["a"],QSpinnerDots:wt["b"],shop:Je,newfriend:ft,story:vt},data(){return{map:{filter:"all",zoom:14,center:{lat:0,lng:0},centerTmp:{lat:0,lng:0},pan:{path:[],queue:[],steps:20,duration:700},infoWindow:{content:"",location:{lat:0,lng:0},isOpen:!1,options:{pixelOffset:{width:0,height:-35}}},loaded:!1},search:{quests:[],text:""},user:{position:{isSupported:!1,nbFails:0,latitude:0,longitude:0}},friends:{list:[],news:{limit:20,skip:0,items:[]},show:!1,selected:{name:"",played:[],built:[]},new:{show:!1}},shop:{show:!1},currentQuestIndex:null,currentQuest:null,searchText:"",questList:[],serverUrl:"https://api.graaly.com",showSuccess:!1,showProfile:!1,showSearch:!1,nativeSettingsIsEnabled:!0,warnings:{lowBattery:!1,noLocation:!1,noNetwork:!1},success:{quests:{played:[],built:[]},ranking:[]},profile:{level:{},progress:10,form:{name:"--",picture:"",email:"",phone:"",zipCode:"",country:"",oldPassword:"",newPassword:"",language:"en"},countries:"fr"===this.$i18n.locale?St:Et,userCanChangeEmail:!0,userCanChangePhone:!0,userCanChangePassword:!0},story:{step:null,data:null},ranking:{show:!1},languages:st.buildOptionsForSelect(Ct,{valueField:"code",labelField:"name"},this.$t),isMounted:!1,innerWidth:window.innerWidth}},computed:{isChrome(){let e=window.chrome,t=window.navigator,i=t.vendor,r=t.userAgent.indexOf("Edge")>-1,a=t.userAgent.match("CriOS");return!!a||null!==e&&"undefined"!==typeof e&&"Google Inc."===i&&!1===r},google:kt["gmapApi"]},mounted(){this.checkIfProfileIsComplete(),st.clearAllRunningProcesses(),this.findLocation(),window.addEventListener("batterylow",this.checkBattery,!1),this.checkNetwork(),this.startStory(),this.profile.level=yt(this.$store.state.user.score),this.$nextTick(()=>{this.isMounted=!0})},methods:{checkIfProfileIsComplete(){this.$store.state.user.name&&""!==this.$store.state.user.name&&this.$store.state.user.location&&this.$store.state.user.location.postalCode&&""!==this.$store.state.user.location.postalCode&&this.$store.state.user.location.country&&""!==this.$store.state.user.location.country||this.$router.push("/user/updateprofile")},closeInfoWindows(){this.map.infoWindow.isOpen=!1},findLocation(){navigator&&navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{this.user.position.isSupported=!0,this.user.position.nbFails=0,this.user.position.latitude=e.coords.latitude,this.user.position.longitude=e.coords.longitude,0===this.questList.length&&(this.$q.loading.show(),this.$store.state.user.story.step>3?await this.getQuests():this.openDiscoveryQuestSummary(),this.questList.length>0?this.$refs.mapRef.$mapPromise.then(e=>{const t=new google.maps.LatLngBounds;for(let i of this.questList)t.extend({lng:i.location.coordinates[0],lat:i.location.coordinates[1]});e.fitBounds(t)}):this.centerOnUserPosition(),this.$q.loading.hide()),st.setTimeout(this.findLocation,3e4),this.warnings.noLocation=!1},e=>{console.error("geolocation failed",e),this.user.position.isSupported=!1,this.user.position.nbFails++,st.setTimeout(this.findLocation,5e3),this.warnings.noLocation=!0},{timeout:5e3,maximumAge:1e4}):(this.warnings.noLocation=!0,this.user.position.nbFails=2)},centerOnUserPosition(){this.CenterMapOnPosition(this.user.position.latitude,this.user.position.longitude)},checkBattery(e){e.level<30?this.warnings.lowBattery=!0:this.warnings.lowBattery=!1},startStory(){0===this.$store.state.user.story.step&&(this.story.step=0),10===this.$store.state.user.story.step&&(this.story.data={score:this.$store.state.user.score},this.story.step=10)},getClosestQuestUnplayed(){for(var e=1e5,t=null,i=0;i<this.questList.length;i++)if(this.questList[i].authorUserId!==this.$store.state.user._id&&"played"!==this.questList[i].status&&"quest"===this.questList[i].type){let r=Math.sqrt(Math.pow(Math.abs(this.user.position.longitude-this.questList[i].location.coordinates[0]),2)+Math.pow(Math.abs(this.user.position.latitude-this.questList[i].location.coordinates[1]),2));r<e&&(e=r,t=this.questList[i])}return t},checkNetwork(){navigator.connection&&navigator.connection.type&&"undefined"!==typeof Connection&&navigator.connection.type===Connection.NONE?this.warnings.noNetwork=!0:this.warnings.noNetwork=!1,st.setTimeout(this.checkNetwork,2e4)},CenterMapOnPosition(e,t){this.$data.map.center={lat:e,lng:t}},openQuestSummary(e,t){let i=this.map.infoWindow,r={lng:e.location.coordinates[0],lat:e.location.coordinates[1]};this.map.infoWindow.location=r,this.currentQuestIndex===t?i.isOpen=!i.isOpen:(this.currentQuestIndex=t,this.currentQuest=this.questList[t],i.isOpen=!0,this.panTo(r))},openDiscoveryQuestSummary(){let e=this.map.infoWindow,t={lng:this.user.position.longitude,lat:this.user.position.latitude};this.map.infoWindow.location=t,e.isOpen=!0},async getQuests(e){this.map.filter=e||"all",this.$q.loading.show();let t=await We.listNearest({lng:this.user.position.longitude,lat:this.user.position.latitude},this.map.filter);if(this.$q.loading.hide(),this.questList=t.data,16===this.$store.state.user.story.step){var i=this.getClosestQuestUnplayed();this.story.data=null!==i?{questId:i._id,quest:this.getQuestTitle(i,!1)}:null,this.story.step=16}},getQuestLevelName(e){let t=st.getById(_t,e);return null===t?"":t.name},panTo(e){this.$refs.mapRef.$mapObject.panTo(e)},updateCenter(e){let t=e.lat(),i=e.lng();this.map.center.lat===t&&this.map.center.lng===i||(this.map.centerTmp={lng:i,lat:t})},dragEnd(e){this.map.center=this.map.centerTmp},openSearchOptions(){if(this.showSuccess)this.showSuccess=!1;else if(this.showProfile)this.showProfile=!1;else{var e=[{label:this.$t("label.CenterOnYourPosition"),icon:"gps_fixed",color:"primary",handler:()=>{this.centerOnUserPosition()}},{label:this.$t("label.BuildAQuestHere"),icon:"add_location",color:"primary",handler:()=>{this.$router.push("/quest/create")}},{},{label:"best"===this.map.filter?this.$t("label.DisplayAllQuests"):this.$t("label.BestQuests"),icon:"best"===this.map.filter?"place":"favorite",color:"primary",handler:()=>{"best"===this.map.filter?this.getQuests("all"):this.getQuests("best")}},{label:"easy"===this.map.filter?this.$t("label.DisplayAllQuests"):this.$t("label.OnlyEasy"),icon:"easy"===this.map.filter?"place":"child_care",color:"primary",handler:()=>{"easy"===this.map.filter?this.getQuests("all"):this.getQuests("easy")}},{label:this.$t("label.SearchForAQuest"),icon:"search",color:"primary",handler:()=>{this.openSearch()}}];this.$store.state.user.isAdmin&&e.push({label:this.$t("label.Administrate"),icon:"settings",color:"primary",handler:()=>{this.openAdminPage()}}),this.$q.actionSheet({grid:!1,actions:e,dismiss:{label:"Cancel",handler:()=>{this.$q.notify("Cancelled...")}}})}},openSuccessPage(){this.$q.loading.show(),this.showSuccess||(this.listCreatedQuests(this.$store.state.user._id),this.listPlayedQuests(this.$store.state.user._id)),this.$q.loading.hide(),this.showSuccess=!this.showSuccess,15===this.$store.state.user.story.step&&(this.story.step=15)},async getRanking(){this.$q.loading.show();let e=await Ve.getRanking();this.$q.loading.hide(),this.success.ranking=e.data},async listCreatedQuests(e){let t=await We.ListCreatedByAUser(e);this.success.quests.built=t.data},async listPlayedQuests(e){let t=await We.ListPlayedByAUser(e);this.success.quests.played=t.data},async openProfilePage(){this.$q.loading.show(),this.showProfile=!this.showProfile,this.getProfileChangeData(this.$store.state.user._id),await this.loadFriends(),this.$q.loading.hide(),14===this.$store.state.user.story.step&&(this.story.step=14)},async loadFriends(){let e=await Ve.listFriends();this.friends.list=e.data},loadNews(e,t){var i=this;Ve.listNews(this.friends.news.limit,this.friends.news.skip,function(e,r){i.friends.news.skip+=i.friends.news.limit,e&&t(e),r&&r.data&&r.data.length>0&&(i.friends.news.items=i.friends.news.items.concat(r.data),t())})},async like(e){this.$q.loading.show(),this.friends.news.items[e].likes.push({userId:this.$store.state.user._id,date:new Date}),await Ve.likeNews(this.friends.news.items[e]._id),this.$q.loading.hide()},async unlike(e){this.$q.loading.show();for(var t=0;t<this.friends.news.items[e].likes.length;t++)this.friends.news.items[e].likes[t].userId===this.$store.state.user._id&&this.friends.news.items[e].likes.splice(t,1);await Ve.unlikeNews(this.friends.news.items[e]._id),this.$q.loading.hide()},isLiked(e){if(e.likes)for(var t=0;t<e.likes.length;t++)if(e.likes[t].userId===this.$store.state.user._id)return!0;return!1},async openFriendCard(e){this.$q.loading.show();let t=await Ve.getFriend(e);this.friends.selected.name=t.data.name;let i=await We.ListPlayedByAUser(e);this.friends.selected.played=i.data;let r=await We.ListCreatedByAUser(e);this.friends.selected.built=r.data,this.$q.loading.hide(),this.friends.show=!0},async getProfileChangeData(e){this.profile.form={name:this.$store.state.user.name,email:this.$store.state.user.email,phone:this.$store.state.user.phone?this.$store.state.user.phone:"",picture:this.$store.state.user.picture,zipCode:this.$store.state.user.location.postalCode,country:this.$store.state.user.location.country,language:this.$store.state.user.language},this.$store.state.user.provider&&"graaly"!==this.$store.state.user.provider.name&&(this.profile.userCanChangeEmail=!1,this.profile.userCanChangePassword=!1)},async submitProfileChanges(){if(!this.profile.form.$error){let e={name:this.profile.form.name,email:this.profile.form.email,phone:this.profile.form.phone?this.profile.form.phone:"",oldPassword:this.profile.form.oldPassword,newPassword:this.profile.form.newPassword,zipCode:this.profile.form.zipCode,country:this.profile.form.country,language:this.profile.form.language};this.$q.loading.show();let t=await Re.modifyAccount(e);this.$q.loading.hide(),t.status>=300&&t.data&&t.data.message?nt(t.data.message,"warning"):nt(this.$t("label.AccountModifiedLong"),"positive")}},changeLanguage(){this.$i18n.locale=this.profile.form.language},async uploadImage(e){var t=e.target.files;if(!t[0])return;var i=new FormData;i.append("image",t[0]),this.$q.loading.show();let r=await Re.uploadAccountPicture(i);r&&(this.$store.state.user.picture=r.data.file),this.$q.loading.hide()},disconnect(){this.$router.push("/user/logout")},openAdminPage(){this.$router.push("/admin")},openHowTo(){this.$q.dialog({message:"to complete",position:"top"})},getQuestTitle(e,t){return e&&e.title?this.$store.state.user.language&&e.title[this.$store.state.user.language]&&this.$store.state.user.language!==e.mainLanguage?e.title[this.$store.state.user.language]:e.title[e.mainLanguage]&&""!==e.title[e.mainLanguage]?e.title[e.mainLanguage]+(t?' <img class="image-and-text-aligned" src="statics/icons/game/flag-'+Object.keys(e.title)[0]+'.png" />':""):this.$t("label.NoTitle"):this.$t("label.NoTitle")},backToMap(){this.showProfile=!1,this.showSuccess=!1},setMapIcon(e){var t={url:"statics/icons/game/pointer-inactive.png",size:{width:40,height:40,f:"px",b:"px"},scaledSize:{width:40,height:40,f:"px",b:"px"},origin:{x:0,y:0},anchor:{x:20,y:40}};return e?e.authorUserId===this.$store.state.user._id?t.url="statics/icons/game/pointer-myquest.png":"played"!==e.status&&("quest"===e.type?t.url="statics/icons/game/pointer-quest.png":t.url="statics/icons/game/pointer-"+e.category+".png"):t.url="statics/icons/game/pointer-me.png",t},swipeMenu(e){"right"===e.direction&&this.openSuccessPage(),"left"===e.direction&&this.openProfilePage()},openSearch(){this.showSearch=!0},closeSearch(){this.showSearch=!1},async findQuests(){try{if(this.search.text.length>3){this.$q.loading.show();var e=this.user.position;let t=await We.find(this.search.text,e);this.search.quests=t.data,this.user.position.isSupported&&(this.search.quests=this.search.quests.map(function(t){const i=6378.137;let r=t.location.coordinates[1]*Math.PI/180-e.latitude*Math.PI/180,a=t.location.coordinates[0]*Math.PI/180-e.longitude*Math.PI/180,s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e.latitude*Math.PI/180)*Math.cos(t.location.coordinates[1]*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2),o=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return t.distance=Math.floor(i*o),t}))}this.$q.loading.hide()}catch(e){this.$q.loading.hide()}},buyCoins(){this.shop.show=!0},endStory(e){this.story.step=null,this.$store.state.user.story.step=e},closeShop(){this.shop.show=!1},openAddFriendsModal(){this.friends.new.show=!0},async closeAddFriends(){this.friends.new.show=!1,await this.loadFriends()},async removeFriend(e){this.$q.dialog({message:this.$t("label.AreYouSureYouWantToRemoveThisFriend"),ok:!0,cancel:!0}).then(async()=>{await Ve.removeFriend(e),await this.loadFriends()})},async removeAccount(){var e=this;this.$q.dialog({message:this.$t("label.AreYouSureYouWantToRemoveYourAccount"),ok:!0,cancel:!0}).then(async()=>{const t=await Re.removeAccount();t?(nt(e.$t("label.YourAccountIsRemoved"),"info"),await e.disconnect()):nt(e.$t("label.ErrorStandardMessage"),"error")})},openLocationSettings(){window.cordova&&window.cordova.plugins.settings?(console.log("openNativeSettings is active"),window.cordova.plugins.settings.open("location",function(){console.log("opened settings"),this.nativeSettingsIsEnabled=!0},function(){console.log("failed to open settings"),this.nativeSettingsIsEnabled=!1})):(console.log("openNativeSettings is not active!"),this.nativeSettingsIsEnabled=!1)},openRanking(){this.getRanking(),this.ranking.show=!0,11===this.$store.state.user.story.step&&(this.story.step=11)},closeRanking(){this.ranking.show=!1,13===this.$store.state.user.story.step&&(this.story.step=13)},openDiscoveryQuest(){3===this.$store.state.user.story.step&&(this.story.step=3)}},validations:{profile:{form:{email:{required:tt["required"],email:tt["email"]},name:{required:tt["required"]},country:{required:tt["required"]},zipCode:{required:tt["required"]},phone:{checkPhone:lt}}}}},At=Tt,Mt=(i("78d7"),Object(we["a"])(At,Be,Ue,!1,null,null,null));Mt.options.__file="map.vue";var xt=Mt.exports,Rt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"scroll",rawName:"v-scroll",value:e.scrolling,expression:"scrolling"}],staticClass:"scroll"},[i("div",{staticClass:"fit",attrs:{id:"teaser"}},[i("div",{directives:[{name:"touch-swipe",rawName:"v-touch-swipe.horizontal",value:e.swipeMgmt,expression:"swipeMgmt",modifiers:{horizontal:!0}}],staticClass:"fit",style:"background: url("+(e.quest.picture&&"_"===e.quest.picture[0]?"statics/images/quest/"+e.quest.picture:e.serverUrl+"/upload/quest/"+e.quest.picture)+" ) center center / cover no-repeat "},[i("div",{staticClass:"fit"},[i("div",{staticClass:"text-center bottom-dark-banner"},[i("div",{staticClass:"title",on:{click:function(t){e.restartStory()}}},[e._v("\n            "+e._s(e.getLanguage()?e.quest.title[e.getLanguage()]:e.$t("label.NoTitle"))+" "),i("q-icon",{attrs:{name:"help"}}),e.getLanguage()!==e.$store.state.user.language?i("img",{staticClass:"image-and-text-aligned",attrs:{src:"statics/icons/game/flag-"+e.getLanguage()+".png"}}):e._e()],1),"undefined"!==typeof e.quest.author&&e.quest.author.name?i("p",[i("strong",[e._v(e._s(e.$t("label.Author"))+":")]),e._v(" "+e._s(e.quest.author.name))]):e._e(),i("p",{staticClass:"medium-icon q-pa-none q-ma-none"},[i("span",{directives:[{name:"show",rawName:"v-show",value:!(e.isRunFinished||e.isOwner&&!e.isAdmin)&&e.quest.availablePoints&&e.quest.availablePoints>0,expression:"!(isRunFinished || (isOwner && !isAdmin)) && quest.availablePoints && quest.availablePoints > 0"}],staticClass:"q-ml-sm q-mr-sm"},[e._v(e._s(e.quest.availablePoints)+" "),i("q-icon",{attrs:{name:"fas fa-trophy"}})],1),i("span",{directives:[{name:"show",rawName:"v-show",value:(e.isRunFinished||e.isOwner&&!e.isAdmin)&&e.quest.availablePoints&&e.quest.availablePoints>0,expression:"(isRunFinished || (isOwner && !isAdmin)) && quest.availablePoints && quest.availablePoints > 0"}],staticClass:"q-ml-sm q-mr-sm"},[e._v("0 "),i("q-icon",{attrs:{name:"fas fa-trophy"}})],1),i("span",{directives:[{name:"show",rawName:"v-show",value:!(e.isRunFinished||e.isOwner&&!e.isAdmin)&&e.quest.reward&&e.quest.reward>0,expression:"!(isRunFinished || (isOwner && !isAdmin)) && quest.reward && quest.reward > 0"}],staticClass:"q-ml-sm q-mr-sm"},[e._v(e._s(e.quest.reward)+" "),i("q-icon",{attrs:{name:"fas fa-bolt"}})],1),i("span",{directives:[{name:"show",rawName:"v-show",value:(e.isRunFinished||e.isOwner&&!e.isAdmin)&&e.quest.reward&&e.quest.reward>0,expression:"(isRunFinished || (isOwner && !isAdmin)) && quest.reward && quest.reward > 0"}],staticClass:"q-ml-sm q-mr-sm"},[e._v("0 "),i("q-icon",{attrs:{name:"fas fa-bolt"}})],1)]),e.quest.rating?i("p",[i("q-rating",{attrs:{readonly:"",value:e.quest.rating&&e.quest.rating.rounded,color:"white",max:5,size:"1.2rem"}})],1):e._e(),e._v("  \n          "),i("div",{staticClass:"text-center"},[i("p",[(!this.isUserTooFar||e.quest.allowRemotePlay)&&e.isRunPlayable&&(e.isOwner||e.isAdmin||e.isRunStarted||e.isRunFinished)&&e.getAllLanguages()&&1===e.getAllLanguages().length?i("q-btn",{attrs:{color:"primary"},on:{click:function(t){e.playQuest(e.quest._id,e.getLanguage())}}},[e._v(e._s(e.$t("label.SolveThisQuest")))]):e._e(),(!this.isUserTooFar||e.quest.allowRemotePlay)&&e.isRunPlayable&&e.getAllLanguages()&&e.getAllLanguages().length>1?i("q-btn-dropdown",{attrs:{color:"primary",label:e.$t("label.SolveThisQuest")}},[i("q-list",{attrs:{link:""}},e._l(e.getAllLanguages(),function(t){return i("q-item",{directives:[{name:"show",rawName:"v-show",value:t.published,expression:"lang.published"}],key:t.lang,nativeOn:{click:function(i){e.playQuest(e.quest._id,t.lang)}}},[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[i("img",{staticClass:"image-and-text-aligned",attrs:{src:"statics/icons/game/flag-"+t.lang+".png"}}),e._v("\n                        "+e._s(e.$t("language."+t.lang))+"\n                      ")])],1)],1)}))],1):e._e(),this.isUserTooFar&&!e.quest.allowRemotePlay||!e.isRunPlayable||e.isOwner||e.isAdmin||e.isRunStarted||e.isRunFinished||!e.getAllLanguages()||1!==e.getAllLanguages().length?e._e():i("button",{staticClass:"q-btn q-btn-item q-btn-rectange bg-primary",attrs:{color:"primary"},on:{click:function(t){e.playQuest(e.quest._id,e.getLanguage())}}},[e._v("\n                "+e._s(e.$t("label.SolveThisQuest"))),i("br"),e.quest.price&&e.quest.price>0?i("span",[e._v(e._s(e.quest.price)+" "),i("q-icon",{attrs:{name:"fas fa-bolt"}})],1):e._e()]),e.isRunPlayable||this.isUserTooFar&&!e.quest.allowRemotePlay?e._e():i("q-btn",{attrs:{color:"primary"},on:{click:function(t){e.buyCoins()}}},[e._v(e._s(e.$t("label.BuyCoinsToPlay")))]),this.isUserTooFar&&!e.quest.allowRemotePlay?i("q-btn",{attrs:{disabled:"",color:"primary"}},[e._v(e._s(e.$t("label.GetCloserToStartingPoint"))+" ("+e._s(e.distance>1e3?Math.round(e.distance/1e3)+"km":e.distance+"m")+")")]):e._e()],1)]),i("div",{staticClass:"full-width text-center"},[e.isOwner||e.isAdmin?e._e():i("q-btn",{attrs:{flat:"",label:e.$t("label.BackToTheMap")},on:{click:function(t){e.backToTheMap()}}}),e.isOwner||e.isAdmin?i("q-btn",{attrs:{flat:"",label:e.$t("label.Modify")},on:{click:function(t){e.modifyQuest()}}}):e._e()],1)])])])]),i("transition",{attrs:{name:"slideInBottom"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.ranking.show,expression:"ranking.show"}],staticClass:"panel-bottom q-pa-md"},[i("a",{staticClass:"float-right no-underline",attrs:{color:"grey"},on:{click:function(t){e.ranking.show=!1}}},[i("q-icon",{staticClass:"medium-icon",attrs:{name:"close"}})],1),i("h1",{staticClass:"size-3 q-pl-md"},[e._v(e._s(e.$t("label.Ranking")))]),i("q-list",e._l(e.ranking.items,function(t){return i("q-item",{key:t.position},[i("q-item-side",[i("q-item-tile",{attrs:{avatar:""}},[i("img",{attrs:{src:"statics/icons/game/medal-"+t.position+".png"}})])],1),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.name)+" ("+e._s(t.score)+" "),i("q-icon",{attrs:{name:"fas fa-trophy"}}),e._v(")")],1)],1),i("q-item-side",{attrs:{right:""}},[i("q-item-tile",{attrs:{avatar:""}},[t.picture&&""!==t.picture&&-1!==t.picture.indexOf("http")?i("img",{attrs:{src:t.picture}}):e._e(),t.picture&&""!==t.picture&&-1===t.picture.indexOf("http")?i("img",{attrs:{src:e.serverUrl+"/upload/profile/"+t.picture}}):e._e(),t.picture&&""!==t.picture?e._e():i("img",{attrs:{src:"/statics/icons/game/profile-small.png"}})])],1),t.isFriend?e._e():i("q-item-side",{attrs:{right:""},nativeOn:{click:function(i){e.addFriend(t.id)}}},[i("q-item-tile",{attrs:{icon:"person_add",color:"primary"}})],1),t.isFriend?i("q-item-side",{attrs:{right:""}}):e._e()],1)}))],1)]),i("q-modal",{model:{value:e.shop.show,callback:function(t){e.$set(e.shop,"show",t)},expression:"shop.show"}},[i("a",{staticClass:"float-right no-underline q-pa-md",attrs:{color:"grey"},on:{click:e.closeShop}},[i("q-icon",{staticClass:"medium-icon",attrs:{name:"close"}})],1),i("h1",{staticClass:"size-3 q-pl-md"},[e._v(e._s(e.$t("label.Shop")))]),i("shop")],1),e.geolocationIsSupported?e._e():i("div",{staticClass:"fixed-bottom over-map"},[i("div",{staticClass:"centered bg-warning q-pa-sm"},[i("q-spinner-puff",{staticClass:"on-left"}),e._v(" "+e._s(e.$t("label.WarningNoLocation"))+"\n    ")],1)]),null!==e.story.step&&"end"!==e.story.step?i("div",{staticClass:"fixed-bottom over-map fit"},[i("story",{attrs:{step:e.story.step,data:e.story.data},on:{next:function(t){e.story.step="end"}}})],1):e._e()],1)},qt=[];Rt._withStripped=!0;var Pt={getById:function(e){return xe().get("run/"+e)},listForAQuest:function(e){return xe().get("run/quest/"+e)},listPlayersForThisQuest:function(e){return xe().get("run/quest/"+e+"/ranking")},getHint:function(){var e=Se()(regeneratorRuntime.mark(function e(t,i){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe().get("run/"+t+"/step/"+i+"/hint");case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e,this)}));return function(t,i){return e.apply(this,arguments)}}(),init:function(e,t,i){return xe().post("run/quest/"+e+"/init/"+t+"/remote/"+i)},endRun:function(e){return xe().put("run/"+e+"/end")},passCurrentStep:function(e){return xe().put("run/"+e+"/passCurrentStep")}},It={components:{shop:Je,story:vt},data(){return{quest:{},ranking:{show:!1,items:[]},shop:{show:!1},story:{step:null,data:null},serverUrl:"https://api.graaly.com",isRunFinished:!1,isRunStarted:!1,isRunPlayable:!0,isOwner:!1,isAdmin:!1,geolocationIsSupported:navigator.geolocation,isUserTooFar:!1,distanceFromStart:0,scrolled:!1}},computed:{isChrome(){let e=window.chrome,t=window.navigator,i=t.vendor,r=t.userAgent.indexOf("Edge")>-1,a=t.userAgent.match("CriOS");return!!a||null!==e&&"undefined"!==typeof e&&"Google Inc."===i&&!1===r}},async mounted(){if(st.clearAllRunningProcesses(),await this.getQuest(this.$route.params.id),this.$store.state.user.isAdmin&&(this.isAdmin=!0),this.quest.editorsUserId)for(var e=0;e<this.quest.editorsUserId.length;e++)this.quest.editorsUserId[e]===this.$store.state.user._id&&(this.isOwner=!0);else this.$store.state.user._id===this.quest.authorUserId&&(this.isOwner=!0);await this.getRun(),await this.checkUserCanPlay(),await this.getRanking(),this.checkUserIsCloseFromStartingPoint()},methods:{checkUserIsCloseFromStartingPoint(){navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{this.quest.location&&this.quest.location.coordinates&&this.quest.location.coordinates.length>1&&e.coords&&e.coords.latitude&&(this.distance=Math.round(1e3*st.distanceInKmBetweenEarthCoordinates(this.quest.location.coordinates[1],this.quest.location.coordinates[0],e.coords.latitude,e.coords.longitude)),this.distance>50&&(this.isUserTooFar=!0)),st.setTimeout(this.checkUserIsCloseFromStartingPoint,15e3),this.geolocationIsSupported=!0,this.startStory()},()=>{this.geolocationIsSupported=!1,st.setTimeout(this.checkUserIsCloseFromStartingPoint,5e3),this.startStory()},{timeout:1e4,maximumAge:1e4}):(this.geolocationIsSupported=!1,st.setTimeout(this.checkUserIsCloseFromStartingPoint,5e3),this.startStory())},startStory(){null===this.story.step&&(this.story.step=1,this.story.data={level2:1===this.quest.level?"grey":"red",level3:3===this.quest.level?"red":"grey",startingPlace:this.quest.location?this.quest.location.address:null,duration:this.quest.duration,isFar:this.isUserTooFar&&!this.quest.allowRemotePlay,isRunFinished:this.isRunFinished,isOwner:"undefined"!==typeof this.quest.author&&this.quest.author._id===this.$store.state.user._id,description:this.getLanguage()?this.quest.description[this.getLanguage()]:"",score:this.isRunFinished||this.isOwner&&!this.isAdmin?0:this.quest.availablePoints})},restartStory(){this.story.step=null,this.startStory()},async getQuest(e){let t=await We.getById(e);this.quest=t.data,"undefined"!==typeof this.quest.authorUserId&&(t=await Re.getAccount(this.quest.authorUserId),this.$set(this.quest,"author",t.data),this.quest.description=st.replaceBreakByBR(this.quest.description))},async getRun(){var e=await Pt.listForAQuest(this.quest._id),t=0,i="en";if(e&&e.data&&e.data.length>0){for(var r=0;r<e.data.length;r++)"finished"===e.data[r].status&&(this.isRunFinished=!0),"in-progress"===e.data[r].status&&e.data[r].currentStep>t&&(t=e.data[r].currentStep,i=e.data[r].language);if(t>0){this.isRunStarted=!0;var a=this;this.isOwner||this.$q.dialog({title:this.$t("label.ContinueThisStep"),message:this.$t("label.YouAlreadyStartThisQuest"),ok:this.$t("label.Continue"),cancel:this.$t("label.Restart")}).then(()=>{return a.$router.push("/quest/play/"+a.quest._id+"/step/"+t+"/"+i)})}}},async checkUserCanPlay(){return!(!this.isRunStarted&&!this.isRunFinished)||(!(this.quest.price>this.$store.state.user.coins&&!this.isAdmin&&!this.isOwner)||(this.isRunPlayable=!1,!1))},async addFriend(e){this.$q.loading.show();var t=await Ve.addFriend(e);if(this.$q.loading.hide(),console.log(t),t)for(var i=0;i<this.ranking.items.length;i++)this.ranking.items[i].id===e&&(this.ranking.items[i].isFriend=!0)},async getRanking(){var e=await Pt.listPlayersForThisQuest(this.quest._id);if(e&&e.data&&e.data.length>0){this.ranking.items=e.data,this.ranking.items.sort(this.compareScore);for(var t=0;t<this.ranking.items.length;t++)0===t||this.ranking.items[t].score!==this.ranking.items[t-1].score?this.ranking.items[t].position=t+1:this.ranking.items[t].position=this.ranking.items[t-1].position;st.setTimeout(this.showRanking,3e3)}},async showRanking(){this.ranking.show=!0},compareScore(e,t){return e.score>t.score?-1:e.score<t.score?1:0},getLanguage(e){if(e||(e=this.quest),!e.languages||0===e.languages.length)return!1;var t=e.languages.filter(e=>e.published);if(t&&t.length>0){for(var i="",r=0;r<t.length;r++)t[r].lang===this.$store.state.user.language&&(i=this.$store.state.user.language);""===i&&t.length>0&&(i=t[0].lang)}else e.languages.length>0&&(i=e.languages[0].lang);return i},getAllLanguages(e){if(e||(e=this.quest),!e||!e.languages||0===e.languages.length)return!1;var t=e.languages.filter(e=>e.published);return t&&0===t.length&&e.languages.length>0&&t.push(e.languages[0]),t},swipeMgmt(e){if("right"===e.direction&&this.backToTheMap(),"left"===e.direction){const e=this.getAllLanguages(this.quest),t=e[0].lang;this.playQuest(this.quest._id,t)}},playQuest(e,t){this.$router.push("/quest/play/"+e+"/step/1/"+t+"?remoteplay="+this.isUserTooFar)},scrolling(e){this.scrolled=e>40},backToTheMap(){this.$router.push("/map")},modifyQuest(){this.$router.push("/quest/settings/"+this.quest._id)},buyCoins(){this.shop.show=!0},closeShop(){this.shop.show=!1}}},Ft=It,Ot=Object(we["a"])(Ft,Rt,qt,!1,null,null,null);Ot.options.__file="home.vue";var Nt=Ot.exports,Dt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"play"},[i("stepPlay",{attrs:{step:e.step,runId:e.run._id,itemUsed:e.selectedItem,reload:e.loadStepData,lang:e.lang},on:{played:e.trackStepPlayed,success:e.trackStepSuccess,fail:e.trackStepFail,pass:e.trackStepPass}}),i("transition",{attrs:{name:"slideInBottom"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.inventory.isOpened,expression:"inventory.isOpened"}],staticClass:"inventory panel-bottom q-pa-md"},[i("h1",[e._v(e._s(e.$t("label.Inventory")))]),e.inventory.items.length>0?i("p",[e._v(e._s(e.$t("label.InventoryUsage")))]):e._e(),0===e.inventory.items.length?i("p",[e._v(e._s(e.$t("label.noItemInInventory")))]):e._e(),i("div",{staticClass:"inventory-items"},e._l(e.inventory.items,function(t,r){return i("div",{key:r,on:{click:function(i){e.selectItem(t)}}},[i("img",{attrs:{src:t.picture.indexOf("statics/")>-1?t.picture:e.serverUrl+"/upload/quest/"+e.quest.id+"/step/new-item/"+t.picture}}),i("p",[e._v(e._s(t.title))])])}))])]),i("transition",{attrs:{name:"slideInBottom"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.info.isOpened,expression:"info.isOpened"}]},[i("div",{staticClass:"panel-bottom no-padding",style:"background: url("+(e.info.quest.picture&&"_"===e.info.quest.picture[0]?"statics/images/quest/"+e.info.quest.picture:e.serverUrl+"/upload/quest/"+e.info.quest.picture)+" ) center center / cover no-repeat "},[i("div",{staticClass:"text-center bottom-dark-banner q-pb-xl"},[i("p",{staticClass:"title"},[e._v(e._s(e.info.quest&&e.info.quest.title?e.info.quest.title[e.lang]:e.$t("label.NoTitle")))]),i("p",{directives:[{name:"show",rawName:"v-show",value:e.info&&e.info.score,expression:"info && info.score"}],staticClass:"q-pa-md score-text"},[e._v(e._s(e.info.score)+" "),i("q-icon",{attrs:{color:"white",name:"fas fa-trophy"}})],1),i("p",{staticClass:"q-pb-xl"},[i("q-btn",{attrs:{color:"primary"},on:{click:e.backToMap}},[e._v(e._s(e.$t("label.LeaveQuest")))])],1)])])])]),e.hint.isOpened?i("div",{staticClass:"fixed-bottom over-map"},[i("story",{attrs:{step:"hint",data:{hint:e.hint.label[e.lang]}},on:{next:function(t){e.askForHint()}}})],1):e._e(),null!==e.story.step&&"end"!==e.story.step?i("div",{staticClass:"fixed-bottom over-map"},[i("story",{attrs:{step:e.story.step,data:e.story.data},on:{next:function(t){e.story.step="end"}}})],1):e._e(),i("q-layout-footer",{staticClass:"step-menu",model:{value:e.footer.show,callback:function(t){e.$set(e.footer,"show",t)},expression:"footer.show"}},[i("q-progress",{attrs:{percentage:100*(this.step.number-1)/e.info.stepsNumber,animate:"",stripe:"",color:"primary"}}),i("q-tabs",{model:{value:e.footer.tabSelected,callback:function(t){e.$set(e.footer,"tabSelected",t)},expression:"footer.tabSelected"}},[i("q-tab",{attrs:{slot:"title",name:"info",icon:"menu"},on:{click:function(t){e.openInfo()}},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"inventory",icon:"work"},on:{click:function(t){e.openInventory()}},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"hint",icon:"lightbulb outline",disable:!e.isHintAvailable()},on:{click:function(t){e.askForHint()}},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"previous",icon:"arrow_back"},on:{click:function(t){e.previousStep()}},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"next",icon:"arrow_forward",disable:!e.canMoveNextStep&&!e.canPass},on:{click:function(t){e.nextStep()}},slot:"title"})],1)],1)],1)},$t=[];Dt._withStripped=!0;var Lt={listForAQuest:function(){var e=Se()(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe().get("quest/"+t+"/steps");case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),listWonObjects:function(){var e=Se()(regeneratorRuntime.mark(function e(t,i){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe().get("quest/"+t+"/steps/"+i+"/objectswon");case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e,this)}));return function(t,i){return e.apply(this,arguments)}}(),getById:function(){var e=Se()(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe().get("step/"+t);case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getByNumber:function(){var e=Se()(regeneratorRuntime.mark(function e(t,i){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe().get("quest/"+t+"/step/number/"+i);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e,this)}));return function(t,i){return e.apply(this,arguments)}}(),checkAnswer:function(){var e=Se()(regeneratorRuntime.mark(function e(t,i,r,a){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe().post("quest/"+t+"/step/"+i+"/check/"+r,a);case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}},e,this)}));return function(t,i,r,a){return e.apply(this,arguments)}}(),countForAQuest:function(){var e=Se()(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe().get("quest/"+t+"/steps/count");case 2:return i=e.sent,e.abrupt("return",i.data.count);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),save:function(e){return xe().put("quest/"+e.questId+"/step/"+e._id+"/update",e)},remove:function(e,t){return xe().delete("quest/"+e+"/step/"+t+"/remove")},move:function(e,t,i){return xe().put("quest/"+e+"/step/"+t+"/move/"+i)},uploadBackgroundImage:function(e,t){return xe().post("/quest/"+e+"/step/background/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},uploadImageToRecognize:function(e,t){return xe().post("/quest/"+e+"/step/image-recognition/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},uploadAnswerImage:function(e,t){return xe().post("/quest/"+e+"/step/choose-image/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},uploadMemoryImage:function(e,t){return xe().post("/quest/"+e+"/step/memory/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},uploadCodeAnswerImage:function(e,t){return xe().post("/quest/"+e+"/step/code-image/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},uploadVideo:function(e,t){return xe().post("/quest/"+e+"/step/video/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},uploadPuzzleImage:function(e,t){return xe().post("/quest/"+e+"/step/jigsaw-puzzle/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},uploadItemImage:function(e,t,i){return xe().post("/quest/"+e+"/step/"+t+"/upload",i,{headers:{"Content-Type":"multipart/form-data"}})}},Ht=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fit",attrs:{id:"play-view"}},[i("div",{class:e.controlsAreDisplayed?"fadeIn":"hidden"},["info-text"==e.step.type||"info-video"==e.step.type?i("div",{staticClass:"info"},[i("div",{class:{grow:!e.step.videoStream},attrs:{id:"info-clickable"}},[i("p",{staticClass:"text"},[e._v(e._s(e.getTranslatedText()))])]),e.step.videoStream?i("div",{staticClass:"video"},[i("video",{staticClass:"full-width",attrs:{controls:"",controlsList:"nodownload",autoplay:""}},[i("source",{attrs:{src:e.serverUrl+"/upload/quest/"+e.step.questId+"/step/video/"+e.step.videoStream,type:"video/mp4"}})])]):e._e()]):e._e(),"new-item"==e.step.type?i("div",{staticClass:"new-item"},[i("div",[i("p",{staticClass:"text"},[e._v(e._s(e.getTranslatedText()))])]),i("div",{staticClass:"item"},[i("img",{staticStyle:{width:"80%"},attrs:{src:e.step.options.picture.indexOf("statics/")>-1?e.step.options.picture:e.serverUrl+"/upload/quest/"+e.step.questId+"/step/new-item/"+e.step.options.picture}}),i("p",[e._v(e._s(e.step.options.title))])])]):e._e(),"character"==e.step.type?i("div",{staticClass:"character"},[i("div",{staticClass:"fixed-bottom story",staticStyle:{bottom:"50px"}},[e._m(0),i("div",{staticClass:"bubble-middle",staticStyle:{background:"url(statics/icons/story/sticker-middle.png) repeat-y"}},[i("p",[e._v(e._s(e.getTranslatedText()))])]),e._m(1),i("div",{staticClass:"character"},[i("img",{attrs:{src:"statics/icons/story/character"+e.step.options.character+"_attitude1.png"}})])])]):e._e(),"choose"==e.step.type?i("div",{staticClass:"choose"},[i("div",[i("p",{staticClass:"text"},[e._v(e._s(e.getTranslatedText()))])]),"text"===e.answerType?i("div",{staticClass:"answers-text"},e._l(e.step.options,function(t,r){return i("q-btn",{key:r,staticClass:"full-width",class:t.class,attrs:{icon:t.icon,disabled:null!==e.playerResult},on:{click:function(t){e.checkAnswer(r)}}},[e._v("\n          "+e._s(t.text)+"\n        ")])})):e._e(),"image"===e.answerType?i("div",{staticClass:"answers-images"},[i("div",{staticClass:"images-block"},e._l(e.step.options,function(t,r){return i("div",{key:r,class:t.class,on:{click:function(t){e.checkAnswer(r)}}},[i("img",{class:t.class,attrs:{src:e.serverUrl+"/upload/quest/"+e.step.questId+"/step/choose-image/"+t.imagePath}}),null!==t.class?i("q-btn",{class:t.class,attrs:{round:"",icon:t.icon,disable:""}}):e._e()],1)}))]):e._e()]):e._e(),"code-keypad"==e.step.type?i("div",{staticClass:"code"},[i("div",[i("p",{staticClass:"text"},[e._v(e._s(e.getTranslatedText()))])]),i("div",{staticClass:"typed-code"},[i("table",{staticClass:"shadow-8",class:{right:!0===e.playerResult,wrong:!1===e.playerResult}},[i("tr",e._l(e.playerCode,function(t,r){return i("td",{key:r,class:{typed:""!==t}},[e._v(e._s(""==t?"?":t))])}))])]),i("div",{staticClass:"keypad"},[i("div",{staticClass:"keypadLine"},e._l(e.keypad,function(t,r){return i("div",{key:r},e._l(t,function(t,r){return i("q-btn",{key:r,attrs:{color:"grey",glossy:"",disable:null!==e.playerResult},on:{click:function(i){e.addCodeChar(t)}}},[e._v(e._s(t))])}))}))]),i("div",{directives:[{name:"show",rawName:"v-show",value:null===e.playerResult,expression:"playerResult === null"}],staticClass:"actions buttons-bottom"},[i("div",[i("q-btn",{attrs:{color:"primary",icon:"clear",disable:""===e.playerCode[0]},on:{click:function(t){e.clearLastCodeChar()}}},[e._v(e._s(e.$t("label.Clear")))]),i("q-btn",{attrs:{color:"primary",icon:"done",disable:""===e.playerCode[e.step.answers.length-1]},on:{click:function(t){e.checkAnswer()}}},[e._v(e._s(e.$t("label.Confirm")))])],1)])]):e._e(),"code-color"==e.step.type?i("div",{staticClass:"code code-color"},[i("div",[i("p",{staticClass:"text"},[e._v(e._s(e.getTranslatedText()))])]),i("div",{staticClass:"color-bubbles"},e._l(e.playerCode,function(t,r){return i("div",{key:r,staticClass:"shadow-8",class:{right:!0===e.playerResult,wrong:!1===e.playerResult},style:"background-color: "+e.playerCode[r],on:{click:function(t){e.changeColorForCode(r)}}},[e._v(" ")])})),i("div",{directives:[{name:"show",rawName:"v-show",value:null===e.playerResult,expression:"playerResult === null"}],staticClass:"actions buttons-bottom"},[i("div",[i("q-btn",{attrs:{color:"primary",icon:"done"},on:{click:function(t){e.checkAnswer()}}},[e._v(e._s(e.$t("label.Confirm")))])],1)])]):e._e(),"code-image"==e.step.type?i("div",{staticClass:"code code-image"},[i("div",[i("p",{staticClass:"text"},[e._v(e._s(e.getTranslatedText()))])]),i("table",[i("tr",e._l(e.playerCode,function(t,r){return i("td",{key:r,staticClass:"text-center",on:{click:function(t){e.previousCodeAnswer(r)}}},[i("q-icon",{attrs:{name:"keyboard_arrow_up"}})],1)})),i("tr",e._l(e.playerCode,function(t,r){return i("td",{key:r},[i("img",{attrs:{id:"image-code-"+r,src:e.serverUrl+"/upload/quest/"+e.step.questId+"/step/code-image/"+e.step.options.images[t].imagePath}})])})),i("tr",e._l(e.playerCode,function(t,r){return i("td",{key:r,staticClass:"text-center",on:{click:function(t){e.nextCodeAnswer(r)}}},[i("q-icon",{attrs:{name:"keyboard_arrow_down"}})],1)}))]),i("div",{directives:[{name:"show",rawName:"v-show",value:null===e.playerResult,expression:"playerResult === null"}],staticClass:"actions buttons-bottom"},[i("div",[i("q-btn",{attrs:{color:"primary",icon:"done"},on:{click:function(t){e.checkAnswer()}}},[e._v(e._s(e.$t("label.Confirm")))])],1)])]):e._e(),"image-recognition"==e.step.type?i("div",{staticClass:"image-recognition"},[i("div",[i("p",{staticClass:"text"},[e._v(e._s(e.getTranslatedText()))])]),i("div",{staticClass:"photo"},[i("img",{directives:[{name:"show",rawName:"v-show",value:!e.cameraStreamEnabled&&!e.photoTaken,expression:"!cameraStreamEnabled && !photoTaken"}],ref:"original-photo",staticClass:"shadow-8",attrs:{src:e.serverUrl+"/upload/quest/"+e.step.questId+"/step/image-recognition/"+e.step.answers}}),i("video",{directives:[{name:"show",rawName:"v-show",value:e.cameraStreamEnabled,expression:"cameraStreamEnabled"}],ref:"camera-stream-for-recognition"}),i("canvas",{ref:"photo-buffer",staticClass:"hidden"}),i("img",{directives:[{name:"show",rawName:"v-show",value:e.photoTaken,expression:"photoTaken"}],ref:"player-photo",attrs:{alt:e.$t("label.TheScreenCaptureWillAppearInThisBox")}})]),i("div",{staticClass:"actions buttons-bottom"},[i("q-btn",{directives:[{name:"show",rawName:"v-show",value:!e.cameraStreamEnabled&&!e.photoTaken,expression:"!cameraStreamEnabled && !photoTaken"}],staticClass:"full-width",attrs:{icon:"photo camera",color:"primary"},on:{click:function(t){e.toggleCameraStream()}}},[e._v(e._s(e.$t("label.TakeThePicture")))]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.cameraStreamEnabled,expression:"cameraStreamEnabled"}]},[i("q-btn",{attrs:{color:"primary",icon:"clear"},on:{click:function(t){e.toggleCameraStream()}}},[e._v(e._s(e.$t("label.Cancel")))]),i("q-btn",{attrs:{color:"primary",icon:"done"},on:{click:function(t){e.checkAnswer()}}},[e._v(e._s(e.$t("label.Check")))])],1)],1)]):e._e(),"geolocation"==e.step.type?i("div",{staticClass:"geolocation"},[i("div",[i("p",{staticClass:"text"},[e._v(e._s(e.getTranslatedText()))]),e.step.showDistanceToTarget?i("p",{staticClass:"text"},[e._v(e._s(e.$t("label.DistanceInMeters",{distance:Math.round(e.geolocation.distance)})))]):e._e()]),e.geolocation.active?e._e():i("div",{staticClass:"centered bg-warning q-pa-sm"},[i("q-spinner-puff",{staticClass:"on-left"}),e._v(" "+e._s(e.$t("label.WarningNoLocation"))+"\n      ")],1)]):e._e(),"write-text"==e.step.type?i("div",{staticClass:"write-text"},[i("div",[i("p",{staticClass:"text"},[e._v(e._s(e.getTranslatedText()))])]),i("div",{staticClass:"answer-text"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.writetext.playerAnswer,expression:"writetext.playerAnswer"}],class:{right:!0===e.playerResult,wrong:!1===e.playerResult},attrs:{placeholder:e.$t("label.YourAnswer")},domProps:{value:e.writetext.playerAnswer},on:{input:function(t){t.target.composing||e.$set(e.writetext,"playerAnswer",t.target.value)}}}),i("q-btn",{staticClass:"full-width",attrs:{color:"primary",disabled:null!==e.playerResult},on:{click:function(t){e.checkAnswer()}}},[e._v(e._s(e.$t("label.ConfirmTheAnswer")))])],1)]):e._e(),"jigsaw-puzzle"===e.step.type?i("div",{staticClass:"puzzle"},[i("div",[i("p",{staticClass:"text"},[e._v(e._s(e.getTranslatedText()))])]),i("div",{attrs:{id:"pieces"}},e._l(e.puzzle.pieces,function(t){return i("div",{key:t.pos,staticClass:"piece",style:"background-image: url("+e.puzzle.picture+"); background-size: "+t.backSize+"% "+t.backSize+"%;background-position: -"+t.backXPos+" -"+t.backYPos+";",attrs:{draggable:"true",id:"piece-"+t.pos},on:{dragstart:function(t){e.handleDragStart(t)},drop:function(t){e.handleDrop(t)},dragend:function(t){e.handleDragEnd(t)}}},[i("header",{style:"width: "+t.width+"px;height: "+t.height+"px;"})])})),i("img",{staticStyle:{display:"none"},attrs:{src:e.puzzle.picture}})]):e._e(),"memory"===e.step.type?i("div",{staticClass:"puzzle"},[i("div",[i("p",{staticClass:"text"},[e._v(e._s(e.getTranslatedText()))])]),i("ul",{staticClass:"memory",attrs:{id:"card-deck"}},e._l(e.memory.items,function(t,r){return i("li",{key:r,staticClass:"card",class:{open:t.isClicked,show:t.isClicked,disabled:t.isFound},on:{click:function(t){e.selectMemoryCard(r)}}},[i("img",{attrs:{src:e.serverUrl+"/upload/quest/"+e.step.questId+"/step/memory/"+t.imagePath}})])}))]):e._e(),"use-item"==e.step.type?i("div",{staticClass:"use-item",on:{click:function(t){e.useItem(t)}}},[i("div",[i("p",{staticClass:"text"},[e._v(e._s(e.getTranslatedText()))])]),i("div",{ref:"useItemPicture",style:"overflow: hidden; background-image: url("+e.serverUrl+"/upload/quest/"+e.step.questId+"/step/background/"+e.step.backgroundImage+"); background-position: center; background-size: 100% 100%; background-repeat: no-repeat; width: 100vw; height: 133vw;"},[i("img",{staticStyle:{position:"relative","z-index":"500",width:"16vw",height:"16vw",display:"none"},attrs:{id:"cross-play",src:"statics/icons/game/find-item-locator.png"}})])]):e._e(),"use-item"==e.step.type&&e.nbTry<2&&null===e.playerResult&&null!==e.itemUsed?i("p",{staticClass:"inventory-btn"},[i("q-btn",{attrs:{round:"",color:"primary"}},[e.itemUsed?i("img",{attrs:{src:e.itemUsed.picture.indexOf("statics/")>-1?e.itemUsed.picture:e.serverUrl+"/upload/quest/"+e.step.questId+"/step/new-item/"+e.itemUsed.picture}}):e._e()]),e._v("\n      "+e._s(e.$t("label.TouchWhereYouUseThisItem"))+"\n    ")],1):e._e(),"find-item"==e.step.type?i("div",{staticClass:"find-item",on:{click:function(t){e.findItem(t)}}},[i("div",[i("p",{staticClass:"text"},[e._v(e._s(e.getTranslatedText()))])]),i("div",{ref:"findItemPicture",style:"overflow: hidden; background-image: url("+e.serverUrl+"/upload/quest/"+e.step.questId+"/step/background/"+e.step.backgroundImage+"); background-position: center; background-size: 100% 100%; background-repeat: no-repeat; width: 100vw; height: 133vw;"},[i("img",{staticStyle:{position:"relative","z-index":"500",width:"16vw",height:"16vw",display:"none"},attrs:{id:"cross-play",src:"statics/icons/game/find-item-locator.png"}})])]):e._e(),"locate-item-ar"==e.step.type?i("div",{staticClass:"locate-item-ar"},[i("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[i("video",{directives:[{name:"show",rawName:"v-show",value:e.cameraStreamEnabled&&!e.playerResult,expression:"cameraStreamEnabled && !playerResult"}],ref:"camera-stream-for-locate-item-ar"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.playerResult,expression:"!playerResult"}]},[i("div",{staticClass:"text"},[i("p",[e._v(e._s(e.getTranslatedText()))]),e.step.showDistanceToTarget?i("p",[e._v(e._s(e.$t("label.DistanceInMeters",{distance:Math.round(e.geolocation.distance)})))]):e._e(),this.geolocation.canSeeTarget?e._e():i("p",[e._v(e._s(e.$t("label.ObjectIsTooFar")))]),this.geolocation.canTouchTarget?i("p",[e._v(e._s(e.$t("label.TouchTheObject")))]):e._e()])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.playerResult||e.playerResult&&e.step.options.is3D,expression:"!playerResult || (playerResult && step.options.is3D)"}],staticClass:"target-view"},[i("canvas",{attrs:{id:"target-canvas"},on:{click:e.onTargetCanvasClick}})]),i("img",{directives:[{name:"show",rawName:"v-show",value:e.playerResult&&!e.step.options.is3D,expression:"playerResult && !step.options.is3D"}],ref:"item-image"})],1):e._e(),"locate-marker"==e.step.type?i("div",{staticClass:"locate-marker"},[i("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[i("video",{directives:[{name:"show",rawName:"v-show",value:e.cameraStreamEnabled&&!e.playerResult,expression:"cameraStreamEnabled && !playerResult"}],ref:"camera-stream-for-locate-marker"})]),null!==e.locateMarker.layer?i("div",[i("transition",{attrs:{appear:"","enter-active-class":"animated "+e.locateMarker.layer.animationShow,"leave-active-class":"animated "+e.locateMarker.layer.animationHide}},[i("img",{directives:[{name:"show",rawName:"v-show",value:null===e.playerResult||!1===e.playerResult&&e.nbTry<2,expression:"playerResult === null || (playerResult === false && nbTry < 2)"}],staticClass:"locate-marker-layer",attrs:{src:"statics/images/find-marker-layers/"+e.step.options.layerCode+".png"}})])],1):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.playerResult,expression:"!playerResult"}]},[i("div",{directives:[{name:"show",rawName:"v-show",value:""!=e.getTranslatedText(),expression:"getTranslatedText() != ''"}],staticClass:"text"},[i("p",[e._v(e._s(e.getTranslatedText()))])])]),e.playerResult?i("img",{staticClass:"locate-marker-answer",attrs:{src:"statics/markers/"+e.locateMarker.playerAnswer+"/marker.png"}}):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.playerResult,expression:"!playerResult"}],staticClass:"marker-view"},[i("canvas",{attrs:{id:"marker-canvas"}})]),i("q-btn",{staticClass:"absolute-bottom-left",attrs:{round:"",size:"lg",color:"primary"},on:{click:function(t){e.locateMarker.showHelp=!0}}},[i("span",[e._v("?")])]),e.locateMarker.showHelp?i("div",{staticClass:"fixed-bottom over-map",staticStyle:{height:"100%"}},[i("story",{attrs:{step:"help",data:{help:e.$t("label.FindMarkerHelp")}},on:{next:function(t){e.locateMarker.showHelp=!1}}})],1):e._e()],1):e._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:("geolocation"==e.step.type||"locate-item-ar"==e.step.type)&&e.step.showDirectionToTarget&&null===e.playerResult,expression:"(step.type == 'geolocation' || step.type == 'locate-item-ar') && step.showDirectionToTarget && playerResult === null"}],staticClass:"direction-helper"},[i("canvas",{attrs:{id:"direction-canvas"}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.playerResult&&e.score>0,expression:"playerResult === true && score > 0"}],staticClass:"fadein-message"},[e._v("+"+e._s(e.score)+" "),i("q-icon",{attrs:{color:"white",name:"fas fa-trophy"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.playerResult&&e.reward>0,expression:"playerResult === true && reward > 0"}],staticClass:"fadein-message"},[e._v("+"+e._s(e.reward)+" "),i("q-icon",{attrs:{color:"white",name:"fas fa-bolt"}})],1),null!==e.story.step&&"end"!==e.story.step?i("div",{staticClass:"fixed-bottom over-map"},[i("story",{attrs:{step:e.story.step,data:e.story.data},on:{next:function(t){e.story.step="end"}}})],1):e._e()])},jt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bubble-top"},[i("img",{attrs:{src:"statics/icons/story/sticker-top.png"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bubble-bottom"},[i("img",{attrs:{src:"statics/icons/story/sticker-bottom.png"}})])}];Ht._withStripped=!0;var zt=16,Bt=16;function Ut(e,t){if(e.width!==t.width||e.height!==t.height){var i=e.width*e.height,r=t.width*t.height;if(i<r){var a=[e,t,i,r];t=a[0],e=a[1],r=a[2],i=a[3]}var s=Math.sqrt(r/i),o=Math.round(e.width*s),n=Math.round(e.height*s);e=Wt(e,o,n);var l=0,u=Math.min(e.width,t.width),c=e.width>t.width;e.width!==t.width&&(l=Math.round(Math.abs(e.width-t.width)/2));var d=0,f=Math.min(e.height,t.height),h=e.height>t.height;e.height!==t.height&&(d=Math.round(Math.abs(e.height-t.height)/2));var p=e;e=document.createElement("canvas"),e.width=u,e.height=f,e.getContext("2d").drawImage(p,c?l:0,h?d:0,u,f,0,0,u,f),p=t,t=document.createElement("canvas"),t.width=u,t.height=f,t.getContext("2d").drawImage(p,c?0:l,h?0:d,u,f,0,0,u,f)}var m=zt,b=Bt,g=e.width/e.height;return e.width>e.height?m=Math.round(m*g):e.width<e.height&&(b=Math.round(b/g)),e=Wt(e,m,b),t=Wt(t,m,b),Vt(e,t)}function Wt(e,t,i){var r=document.createElement("canvas");return r.width=t,r.height=i,r.getContext("2d").drawImage(e,0,0,t,i),r}function Vt(e,t){var i=Yt(e),r=Yt(t),a=100*Qt.hammingDistance(i,r,e.width);return a.toFixed(3)}function Yt(e){for(var t=Qt.pixelsMap(e),i=Qt.desaturate(t),r=Qt.average(i),a=Qt.thresholdMap(i,r),s="",o=0;o<a.length;o++)s+=a[o]?"-":"X",s+=(o+1)%e.width===0?"\n":"";return console.log(s),a}var Qt={desaturate:function(e){for(var t=new Array(e.length/4),i=0;i<t.length;i++){var r=4*i;t[i]=Math.round((e[r]+e[r+1]+e[r+2])/3)}return t},average:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i];return t/e.length},thresholdMap:function(e,t){return e.map(function(e){return e>=t})},pixelsMap:function(e){return e.getContext("2d").getImageData(0,0,e.width,e.height).data},hammingDistance:function(e,t,i){for(var r=0,a="",s=0;s<e.length;s++)"undefined"!==typeof t[s]&&e[s]===t[s]?(r++,a+="."):a+="*",a+=(s+1)%i===0?"\n":"";return console.log(a),e.length>0?r/e.length:0}},Gt={hash:Yt,compare:Ut,compareHash:Vt,utils:Qt},Kt=i("22ae"),Xt=i("3ba6"),Jt=i("57e4"),Zt=i("e030"),ei=i("5a89"),ti=i("682a"),ii=i("bd2e"),ri=i.n(ii),ai=i("8c64"),si=i("0321"),oi={props:["step","runId","reload","itemUsed","lang"],components:{story:vt},watch:{reload:async function(e,t){!0!==e&&"true"!==e||await this.initData(),!1!==e&&"false"!==e||this.hideReadMoreAlert()}},data:function(){return this.initialState()},mounted(){this.initData()},beforeDestroy(){this.clearAllCameraStreams(),this.stopLatestAnimation(),this.geolocation.target=null,this.locateMarker.scene=null,this.locateMarker.renderer=null,this.locateMarker.camera=null,this.locateMarker.arToolkitContext=null,this.locateMarker.arSmoothedControls=null,this.locateMarker.markerRoot=null,this.locateMarker.markerControls=null,null!==this.geolocation.locationWatcher&&navigator.geolocation.clearWatch(this.geolocation.locationWatcher),null!==this.geolocation.absoluteOrientationSensor&&this.geolocation.absoluteOrientationSensor.stop(),st.clearAllRunningProcesses()},methods:{initialState(){return{playerResult:null,cameraStreamEnabled:!1,serverUrl:"https://api.graaly.com",nbTry:0,score:0,reward:0,controlsAreDisplayed:!1,answerType:"text",playerCode:[],keypad:[["1","2","3"],["4","5","6"],["7","8","9"],["*","0","#"]],photoComparisonThreshold:70,photoTaken:!1,geolocation:{distance:null,direction:null,locationWatcher:null,watchLocationInterval:1e3,rawDirection:null,alpha:null,beta:null,absoluteOrientationSensor:null,target:null,canSeeTarget:!1,canTouchTarget:!1,active:!0},locateMarker:{renderer:null,scene:null,camera:null,arToolkitContext:null,arSmoothedControls:null,markerRoot:null,markerControls:{},playerAnswer:"",layer:null,showHelp:!1},writetext:{playerAnswer:null},puzzle:{pieces:[],picture:"statics/icons/game/medal.png",dragSrcEl:null,element:{}},memory:{items:[],nbTry:0,score:0,selectedKey:null,disabled:!1},itemAdded:null,readMoreNotif:null,story:{step:null,data:null},latestRequestAnimationId:null}},initData(){this.$nextTick(async()=>{let e=document.getElementById("play-view");if(this.step.backgroundImage)if("find-item"===this.step.type||"use-item"===this.step.type)e.style.background="none",e.style.backgroundColor="#000",this.showControls();else if("jigsaw-puzzle"===this.step.type)e.style.background="none",e.style.backgroundColor="#fff",this.showControls();else{let t="_"===this.step.backgroundImage[0]?"statics/images/quest/"+this.step.backgroundImage:"https://api.graaly.com/upload/quest/"+this.step.questId+"/step/background/"+this.step.backgroundImage;e.style.background='#fff url("'+t+'") center/cover no-repeat',st.setTimeout(this.showControls,1e3)}else e.style.background="none",e.style.backgroundColor="#fff",this.showControls();let t=this.$store.state.questSteps.geolocation.drawDirectionInterval;if(null!==t&&window.clearInterval(t),this.$store.dispatch("setDrawDirectionInterval",null),"info-text"!==this.step.type&&"info-video"!==this.step.type&&"character"!==this.step.type&&"new-item"!==this.step.type||st.setTimeout(this.checkAnswer,1e3),"choose"===this.step.type&&(this.answerType=Array.isArray(this.step.options)&&this.step.options[0].hasOwnProperty("imagePath")&&null!==this.step.options[0].imagePath?"image":"text"),"code-keypad"===this.step.type&&this.resetKeypadCode(),"code-color"===this.step.type&&this.resetColorCode(),"code-image"===this.step.type&&this.resetImageCode(),"jigsaw-puzzle"===this.step.type&&(st.setTimeout(this.initPuzzle,1e3),this.$emit("pass")),"memory"===this.step.type&&(this.initMemory(),this.$emit("pass")),"geolocation"!==this.step.type&&"locate-item-ar"!==this.step.type||(this.$emit("pass"),this.geolocation.locationWatcher=navigator.geolocation.watchPosition(this.watchLocationSuccess,this.watchLocationError,{enableHighAccuracy:!0,timeout:this.geolocation.watchLocationInterval,maximumAge:0})),"geolocation"!==this.step.type&&"locate-item-ar"!==this.step.type||("ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",this.handleOrientation):console.warn("No absolute orientation info is available"),this.$store.dispatch("setDrawDirectionInterval",window.setInterval(this.drawDirectionArrow,200))),"locate-item-ar"===this.step.type&&!this.playerResult){let e=this.$refs["camera-stream-for-locate-item-ar"];navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1}).then(t=>{e.srcObject=t,e.play(),this.cameraStreamEnabled=!0}).catch(e=>{console.warn("No camera stream available"),console.log(e)});let t=new AbsoluteOrientationSensor({frequency:30});t.onerror=(e=>console.error(e.error.name,e.error.message)),t.onreading=this.onAbsoluteOrientationSensorReading,t.start(),this.geolocation.absoluteOrientationSensor=t;let i=document.getElementById("target-canvas");this.geolocation.target={scene:new ei["Scene"],camera:new ei["PerspectiveCamera"](45,window.innerWidth/window.innerHeight,.001,1e3),renderer:new ei["WebGLRenderer"]({canvas:i,alpha:!0,antialias:!0}),size:null,mixers:[],clock:new ei["Clock"]},this.geolocation.target.renderer.setSize(window.innerWidth,window.innerHeight);let r=this.geolocation.target,a=r.scene;const s=new ei["PointLight"](13684944);let o;if(s.position.set(0,0,1e3),a.add(s),a.add(new ei["AmbientLight"](12632256)),this.step.options.is3D){let e,t=4,i=this.step.options.model,a=Xt[i];try{this.$q.loading.show(),e=await this.ModelLoaderAsync(i),this.$q.loading.hide()}catch(e){return console.error("Error while loading 3D model:",e),void nt(this.$t("label.CouldNotDisplayObject"),"error")}o=e.scene,a.rotation=a.rotation||{},a.rotation.hasOwnProperty("x")?o.rotateX(st.degreesToRadians(a.rotation.x)):o.rotateX(Math.PI/2),a.rotation.hasOwnProperty("y")&&o.rotateY(st.degreesToRadians(a.rotation.y)),a.rotation.hasOwnProperty("z")&&o.rotateZ(st.degreesToRadians(a.rotation.z));let s=(a.scale||1)*t;o.scale.set(s,s,s);let n=(new ei["Box3"]).setFromObject(o),l=n.getCenter(new ei["Vector3"]);l.multiplyScalar(-1);let u=new ei["Object3D"];o.applyMatrix((new ei["Matrix4"]).makeTranslation(l.x,l.y,l.z)),u.add(o),u.up=new ei["Vector3"](0,0,1),o=u;let c=(new ei["Box3"]).setFromObject(o),d=(c.max.z-c.min.z)/2;if(o.applyMatrix((new ei["Matrix4"]).makeTranslation(0,0,d)),r.size=Math.max(c.max.x-c.min.x,c.max.y-c.min.y,c.max.z-c.min.z),a.translation&&(a.translation.hasOwnProperty("x")&&(o.position.x+=a.translation.x*t),a.translation.hasOwnProperty("y")&&(o.position.y+=a.translation.y*t),a.translation.hasOwnProperty("z")&&(o.position.z+=a.translation.z*t)),e.animations.length>0){let t=new ei["AnimationMixer"](e.scene);t.clipAction(e.animations[0]).play(),this.geolocation.target.mixers.push(t)}}else{let e=this.serverUrl+"/upload/quest/"+this.step.questId+"/step/locate-item-ar/"+this.step.options.picture;this.$refs["item-image"].src=e,r.size=this.step.options.objectSize||1;let t,i=new ei["PlaneGeometry"](r.size,r.size);try{t=(new ei["TextureLoader"]).load(e)}catch(e){return console.error("Error while loading image:",e),void nt(this.$t("label.CouldNotDisplayObject"),"error")}let a=new ei["MeshBasicMaterial"]({map:t});o=new ei["Mesh"](i,a),o.position.y=0}o.name="targetObject",o.up=new ei["Vector3"](0,0,1),o.visible=!1,a.add(o),this.geolocation.target.camera.up=new ei["Vector3"](0,0,1),this.geolocation.target.camera.lookAt(new ei["Vector3"](0,1,0)),this.geolocation.target.camera.position.z=this.step.options.is3D?6:1.5,this.animateTargetCanvas()}if("locate-marker"===this.step.type&&!this.playerResult){this.$emit("pass");for(let t of Zt)if(t.code===this.step.options.layerCode){this.locateMarker.layer=t;break}let e=this.$refs["camera-stream-for-locate-marker"];navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1}).then(t=>{e.srcObject=t,e.play(),e.onloadeddata=(async t=>{this.cameraStreamEnabled=!0;let i=document.getElementById("marker-canvas"),r=e.videoHeight?i.clientHeight/e.videoHeight:1;i.height=e.videoHeight*r,i.width=Math.round(4*i.height/3);let a=new ei["WebGLRenderer"]({canvas:i,antialias:!0,alpha:!0}),s=new ei["Scene"],o=new ei["PerspectiveCamera"](45,window.innerWidth/window.innerHeight,.001,1e3);s.add(o);let n=new ai["THREEx"].ArToolkitContext({cameraParametersUrl:"statics/markers/camera_para.dat",detectionMode:"mono",maxDetectionRate:30,canvasWidth:640,canvasHeight:480,patternRatio:.8});n.initAsync=Object(si["promisify"])(n.init),await n.initAsync(),o.projectionMatrix.copy(n.getProjectionMatrix());let l=new ei["Group"];s.add(l);let u=new ei["Group"];s.add(u);let c=new ai["THREEx"].ArSmoothedControls(u,{lerpPosition:.4,lerpQuaternion:.3,lerpScale:1}),d=new ei["PlaneGeometry"](1,1),f=new ei["MeshNormalMaterial"]({transparent:!0,opacity:0,side:ei["DoubleSide"]}),h=new ei["Mesh"](d,f);h.rotateX(Math.PI/2),u.add(h),u.name="markerObject",this.locateMarker.arToolkitContext=n,this.locateMarker.arSmoothedControls=c,this.locateMarker.renderer=a,this.locateMarker.scene=s,this.locateMarker.camera=o,this.locateMarker.markerRoot=l,this.locateMarker.markerCodeAnswer=this.step.answers,Jt.forEach(e=>{this.locateMarker.markerControls[e]=this.createMarkerControl(e)}),this.animateMarkerCanvas()})}).catch(e=>{console.warn("No camera stream available"),console.log(e)})}})},createMarkerControl(e){let t=this.locateMarker.arToolkitContext,i=this.locateMarker.markerRoot,r=new ai["THREEx"].ArMarkerControls(t,i,{type:"pattern",patternUrl:"statics/markers/"+e+"/pattern-marker.patt"});return r.code=e,r.addEventListener("markerFound",e=>{this.checkAnswer(e.target.code)}),r.detected=!1,r},showControls(){this.controlsAreDisplayed=!0},async sendAnswer(e,t,i,r,a){a&&this.$q.loading.show();let s=await Lt.checkAnswer(e,t,i,r);return a&&this.$q.loading.hide(),s},async checkAnswer(e){var t;if(null===this.playerResult){switch(this.step.type){case"info-text":case"info-video":case"new-item":case"character":t=await this.sendAnswer(this.step.questId,this.step.id,this.runId,{},!1),this.submitGoodAnswer(0);break;case"choose":if(t=await this.sendAnswer(this.step.questId,this.step.id,this.runId,{answer:e},!0),!0===t.result){let i=this.step.options[e];i.icon="done",i.class="right",r["a"].set(this.step.options,e,i),this.submitGoodAnswer(t&&t.score?t.score:0)}else{let i=this.step.options[e];if(i.icon="clear",i.class="wrong",r["a"].set(this.step.options,e,i),t.answer||0===t.answer){let e=this.step.options[t.answer];e.icon="done",e.class="right",r["a"].set(this.step.options,t.answer,e)}this.nbTry++,this.submitWrongAnswer()}break;case"geolocation":t=await this.sendAnswer(this.step.questId,this.step.id,this.runId,{answer:e},!1),!0===t.result&&this.submitGoodAnswer(t&&t.score?t.score:0);break;case"image-recognition":const i=this.checkPhoto();t=await this.sendAnswer(this.step.questId,this.step.id,this.runId,{answer:i},!0),!0===t.result?this.submitGoodAnswer(t&&t.score?t.score:0):this.submitWrongAnswer();break;case"code-keypad":t=await this.sendAnswer(this.step.questId,this.step.id,this.runId,{answer:this.playerCode.join("")},!0),!0===t.result?this.submitGoodAnswer(t&&t.score?t.score:0):(this.nbTry++,this.nbTry<2?(this.resetKeypadCode(),this.submitRetry()):this.submitWrongAnswer());break;case"code-color":this.$q.loading.show(),t=await this.sendAnswer(this.step.questId,this.step.id,this.runId,{answer:this.playerCode.join("|")},!0),!0===t.result?this.submitGoodAnswer(t&&t.score?t.score:0):(this.nbTry++,this.nbTry<2?(this.resetColorCode(),this.submitRetry()):this.submitWrongAnswer());break;case"code-image":t=await this.sendAnswer(this.step.questId,this.step.id,this.runId,{answer:this.playerCode.join("|")},!0),!0===t.result?this.submitGoodAnswer(t&&t.score?t.score:0):(this.nbTry++,this.nbTry<2?(this.resetImageCode(),this.submitRetry()):this.submitWrongAnswer());break;case"jigsaw-puzzle":t=await this.sendAnswer(this.step.questId,this.step.id,this.runId,{answer:e.join("|")},!0),!0===t.result&&this.submitGoodAnswer(t&&t.score?t.score:0);break;case"memory":t=await this.sendAnswer(this.step.questId,this.step.id,this.runId,{},!1),!0===t.result&&this.submitGoodAnswer(t&&t.score?t.score:0);break;case"write-text":t=await this.sendAnswer(this.step.questId,this.step.id,this.runId,{answer:this.writetext.playerAnswer},!0),!0===t.result?this.submitGoodAnswer(t&&t.score?t.score:0):(this.nbTry++,this.nbTry<2?(this.writetext.playerAnswer="",this.submitRetry()):this.submitWrongAnswer());break;case"use-item":t=await this.sendAnswer(this.step.questId,this.step.id,this.runId,{answer:e},!0),!0===t.result?(this.showItemLocation(t.answer.coordinates.left,t.answer.coordinates.top),this.submitGoodAnswer(t&&t.score?t.score:0)):(this.nbTry++,this.nbTry<2?nt(this.$t("label.UseItemNothingHappens"),"error"):(this.showItemLocation(t.answer.coordinates.left,t.answer.coordinates.top),this.submitWrongAnswer()));break;case"find-item":t=await this.sendAnswer(this.step.questId,this.step.id,this.runId,{answer:e},!0),!0===t.result?(this.showFoundLocation(t.answer.left,t.answer.top),this.submitGoodAnswer(t&&t.score?t.score:0)):(this.nbTry++,this.nbTry<2?nt(this.$t("label.FindItemNothingHappens"),"error"):(this.showFoundLocation(t.answer.left,t.answer.top),this.submitWrongAnswer()));break;case"locate-item-ar":if(t=await this.sendAnswer(this.step.questId,this.step.id,this.runId,{answer:e},!1),!0===t.result)if(this.geolocation.absoluteOrientationSensor.stop(),ti["removeAll"](),this.step.options&&this.step.options.is3D){let e=this.geolocation.target,i=e.camera,r=e.scene.getObjectByName("targetObject"),a=(new ei["Box3"]).setFromObject(r),s=new ei["Vector3"];a.getSize(s);let o=2*Math.max(s.x,s.y,s.z),n=r.scale,l=new ti["Tween"](r.scale).to({x:0,y:0,z:0},1e3).easing(ti["Easing"].Back.In).onComplete(()=>{i.position.set(0,0,2*o/3),i.lookAt(new ei["Vector3"](0,o,s.z/2)),r.position.set(0,o,s.z/2),this.submitGoodAnswer(t&&t.score?t.score:0)}),u=new ti["Tween"](r.scale).to({x:n.x,y:n.y,z:n.z},1e3).easing(ti["Easing"].Back.Out),c=new ti["Tween"](r.rotation).to({z:"-"+Math.PI/2},2e3).onComplete(function(){Math.abs(r.rotation.z)>=2*Math.PI&&(r.rotation.z=r.rotation.z%(2*Math.PI))}).repeat(1/0);l.chain(u,c).start()}else this.submitGoodAnswer(t&&t.score?t.score:0);break;case"locate-marker":if(!this.locateMarker.markerControls[e].detected){let i=this.locateMarker.scene.getObjectByName("markerObject"),r=new ei["Raycaster"];r.setFromCamera(new ei["Vector2"](0,0),this.locateMarker.camera);let a=r.intersectObject(i,!0);a.length>0&&(this.locateMarker.markerControls[e].detected=!0,t=await this.sendAnswer(this.step.questId,this.step.id,this.runId,{answer:e},!0),!0===t.result?(this.submitGoodAnswer(t.score),this.stopVideoTracks("camera-stream-for-locate-marker"),this.locateMarker.scene=new ei["Scene"],this.locateMarker.renderer.render(this.locateMarker.scene,this.locateMarker.camera),this.locateMarker.playerAnswer=e):(this.nbTry++,2===this.nbTry?(this.submitWrongAnswer(),this.stopVideoTracks("camera-stream-for-locate-marker"),this.locateMarker.scene=new ei["Scene"],this.locateMarker.renderer.render(this.locateMarker.scene,this.locateMarker.camera)):this.submitRetry()))}break;default:console.log("checkAnswer(): Step type "+this.step.type+" not supported.")}this.score=t&&t.score?t.score:0,this.reward=t&&t.reward?t.reward:0}},submitGoodAnswer(e){switch(this.playerResult=!0,this.$emit("success",e),this.$emit("played"),this.displayReadMoreAlert(),this.step.type){case"character":case"new-item":case"info-text":case"info-video":break;case"choose":case"code-keypad":case"code-color":case"code-image":this.displaySuccessMessage(!0,this.$t("label.GoodAnswer"));break;case"image-recognition":case"write-text":case"jigsaw-puzzle":case"memory":case"use-item":case"find-item":case"locate-marker":this.displaySuccessMessage(!0,this.$t("label.WellDone"));break;case"geolocation":this.displaySuccessMessage(!0,this.$t("label.YouHaveFoundThePlace"));break;case"locate-item-ar":this.displaySuccessMessage(!0,this.$t("label.YouHaveWinANewItem"));break}st.setTimeout(this.alertToPassToNextStep,15e3)},submitWrongAnswer(){this.playerResult=!1,this.$emit("fail"),this.$emit("played"),this.displayReadMoreAlert(),"image-recognition"===this.step.type?this.displaySuccessMessage(!1,this.$t("label.PhotosDoesntMatch")):this.displaySuccessMessage(!1,this.$t("label.WrongAnswer")),st.setTimeout(this.alertToPassToNextStep,15e3)},alertToPassToNextStep(){this.displaySuccessMessage(!0,this.$t("label.ClickOnArrowToMoveToNextStep"))},displayReadMoreAlert(){if(this.step.extraText&&"object"===typeof this.step.extraText&&this.step.extraText[this.lang]){var e=[{label:this.$t("label.ReadMore"),handler:()=>{this.readMore()}}];this.readMoreNotif=nt(this.$t("label.ClickHereToKnowMore"),"readMore",e)}},hideReadMoreAlert(){null!==this.readMoreNotif&&this.readMoreNotif()},submitRetry(){this.displaySuccessMessage(!1,this.$t("label.SecondTry"))},resetKeypadCode(){const e=this.step.options&&this.step.options.codeLength&&this.step.options.codeLength>0?this.step.options.codeLength:4;this.playerCode=Array(e).fill("")},resetColorCode(){const e=this.step.options&&this.step.options.codeLength&&this.step.options.codeLength>0?this.step.options.codeLength:4;this.playerCode=Array(e).fill("red")},resetImageCode(){this.playerCode.length=0;for(var e=0;e<(this.step.options&&this.step.options.codeLength&&this.step.options.codeLength>0?this.step.options.codeLength:4);e++)this.playerCode.push(0)},nextCodeAnswer:function(e){this.playerCode[e]++;var t=this.getNbImageUploadedForCode();this.playerCode[e]>=t&&(this.playerCode[e]=0),document.getElementById("image-code-"+e).src=this.serverUrl+"/upload/quest/"+this.step.questId+"/step/code-image/"+this.step.options.images[this.playerCode[e]].imagePath},previousCodeAnswer:function(e){this.playerCode[e]--;var t=this.getNbImageUploadedForCode();this.playerCode[e]<0&&(this.playerCode[e]=t-1),document.getElementById("image-code-"+e).src=this.serverUrl+"/upload/quest/"+this.step.questId+"/step/code-image/"+this.step.options.images[this.playerCode[e]].imagePath},getNbImageUploadedForCode(){for(var e=0,t=0;t<this.step.options.images.length;t++)this.step.options.images[t]&&this.step.options.images[t].imagePath&&e++;return e},addCodeChar(e){let t=this.playerCode.indexOf("");-1!==t&&r["a"].set(this.playerCode,t,e)},clearLastCodeChar(){let e=this.playerCode.indexOf("");e=-1===e?this.playerCode.length-1:e-1,e<0||e>=this.playerCode.length||r["a"].set(this.playerCode,e,"")},changeColorForCode(e){if(null!==this.playerResult)return;let t=Kt.indexOf(this.playerCode[e]),i=(t+1)%Kt.length;this.$set(this.playerCode,e,Kt[i])},changeImageForCode(e){if(null!==this.playerResult)return;let t=Kt.indexOf(this.playerCode[e]),i=(t+1)%Kt.length;this.$set(this.playerCode,e,Kt[i])},toggleCameraStream(){if(this.cameraStreamEnabled)return void this.stopVideoTracks("camera-stream-for-recognition");let e=this.$refs["camera-stream-for-recognition"],t=this.$refs["photo-buffer"],i=this.$refs["player-photo"];navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1}).then(t=>{e.srcObject=t,e.play()}).catch(e=>{console.log("An error occured! "+e)}),e.addEventListener("canplay",r=>{if(!this.cameraStreamEnabled){let a=r.target.parentElement,s=getComputedStyle(a),o=a.clientWidth-(parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)),n=Math.floor(e.videoHeight/(e.videoWidth/o));e.setAttribute("width",o),e.setAttribute("height",n),t.setAttribute("width",o),t.setAttribute("height",n),i.setAttribute("width",o),i.setAttribute("height",n),this.cameraStreamEnabled=!0}},!1)},checkPhoto(){let e=this.$refs["photo-buffer"],t=e.getContext("2d");if(this.cameraStreamEnabled){t.drawImage(this.$refs["camera-stream-for-recognition"],0,0,e.width,e.height);let i=e.toDataURL("image/png");this.$refs["player-photo"].setAttribute("src",i),this.stopVideoTracks("camera-stream-for-recognition");let r=document.createElement("canvas"),a=new Image;a.crossOrigin="anonymous",a.src=this.serverUrl+"/upload/quest/"+this.step.questId+"/step/image-recognition/"+this.step.answers,a.onload=(async()=>{return r.width=a.naturalWidth,r.height=a.naturalHeight,r.getContext("2d").drawImage(a,0,0,r.width,r.height),this.photoTaken=!0,Gt.compare(e,r)>=this.photoComparisonThreshold})}},stopVideoTracks(e){this.$refs[e].srcObject&&this.$refs[e].srcObject.getVideoTracks().forEach(function(e){e.stop()}),this.cameraStreamEnabled=!1},handleOrientation(e){this.geolocation.alpha=360-e.alpha,this.geolocation.direction=(this.geolocation.rawDirection-this.geolocation.alpha+360)%360,this.geolocation.beta=e.beta},drawDirectionArrow(){if(null===this.geolocation.alpha||null===document.querySelector(".direction-helper canvas"))return;let e=document.querySelector(".direction-helper canvas");e.width=e.clientWidth,e.height=e.clientHeight;let t=e.getContext("2d"),i=e.width,r=e.height,a=Math.round(i/2),s=Math.round(r/2);t.save(),t.clearRect(0,0,i,r),t.translate(a,s),t.lineWidth=20,t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.arc(0,0,Math.round(r/2)-10,0,2*Math.PI),t.stroke(),t.rotate(st.degreesToRadians(this.geolocation.direction)),t.beginPath(),t.moveTo(0,Math.round(r/2)-30),t.lineTo(0,45-Math.round(r/2)),t.stroke(),t.lineWidth=1,t.beginPath(),t.moveTo(0,25-Math.round(r/2)),t.lineTo(-20,45-Math.round(r/2)),t.lineTo(20,45-Math.round(r/2)),t.fill(),t.stroke(),t.restore()},watchLocationError(e){this.geolocation.active=!1,console.warn("Could not get location from watchPosition()"),console.log(e)},async watchLocationSuccess(e){this.geolocation.active=!0;let t=e.coords,i=this.step.options;if("undefined"!==typeof i){if(this.geolocation.distance=1e3*st.distanceInKmBetweenEarthCoordinates(i.lat,i.lng,t.latitude,t.longitude),this.geolocation.rawDirection=st.bearingBetweenEarthCoordinates(t.latitude,t.longitude,i.lat,i.lng),"locate-item-ar"===this.step.type&&null!==this.geolocation.target.scene){let e=this.geolocation.target,t=e.scene,i=t.getObjectByName("targetObject");if(this.geolocation.canSeeTarget=null===e.size||this.geolocation.distance<40*e.size,"undefined"===typeof i)return;i.visible=!0;let r=st.degreesToRadians(this.geolocation.rawDirection),a=0!==this.geolocation.distance?Math.sin(r)*this.geolocation.distance:0,s=0!==this.geolocation.distance?Math.cos(r)*this.geolocation.distance:0;new ti["Tween"](i.position).to({x:a,y:s},this.geolocation.watchLocationInterval).easing(ti["Easing"].Quadratic.InOut).start(),!this.geolocation.canTouchTarget&&this.geolocation.distance<=10&&(this.geolocation.canTouchTarget=!0)}"geolocation"===this.step.type&&this.geolocation.distance<=20&&(navigator.geolocation.clearWatch(this.geolocation.locationWatcher),await this.checkAnswer(t))}else console.warn("watchLocationSuccess: variable 'options' is undefined. Could not get latitude & longitude of the target.")},async useItem(e){if(!0===this.playerResult||this.nbTry>=3)return;if(null===this.itemUsed)return void nt(this.$t("label.PleaseSelectAnItemFirst"),"error");let t=window.innerWidth/100;var i={windowWidth:t,posX:e.offsetX,posY:e.offsetY,item:this.itemUsed.picture};await this.checkAnswer(i)},async showItemLocation(e,t){let i=window.innerWidth/100,r={left:Math.round(e/100*100*i),top:Math.round(t/100*133*i)},a=Math.round(8*i);var s=document.getElementById("cross-play");s.style.top=r.top-a+"px",s.style.left=r.left-a+"px",s.style.display="block";var o=s.src,n=this;setInterval(function(){s.src===o?(s.src=n.step.answers.item.indexOf("statics/")>-1?n.step.answers.item:n.serverUrl+"/upload/quest/"+n.step.questId+"/step/new-item/"+n.step.answers.item,s.style.borderRadius="50%"):(s.src=o,s.style.borderRadius="0")},1e3)},async findItem(e){if(!0===this.playerResult||this.nbTry>=3)return;let t=window.innerWidth/100;var i={windowWidth:t,posX:e.offsetX,posY:e.offsetY};await this.checkAnswer(i)},getTranslatedText(){let e="";"new-item"===this.step.type&&(e=this.$t("label.YouHaveWinANewItem"));let t=this.step.text&&"object"===typeof this.step.text&&this.step.text[this.lang]?this.step.text[this.lang]:e;return t},async showFoundLocation(e,t){let i=window.innerWidth/100,r={left:Math.round(e/100*100*i),top:Math.round(t/100*133*i)},a=Math.round(8*i);var s=document.getElementById("cross-play");s.style.top=r.top-a+"px",s.style.left=r.left-a+"px",s.style.display="block"},async checkPuzzle(){var e=this.comparePuzzlePiecePositions();e&&this.checkAnswer(e)},comparePuzzlePiecePositions(){for(var e=[],t=this.step.answers.split("|"),i=0;i<this.puzzle.pieces.length;i++)if(e.push(this.puzzle.pieces[i].pos),t[i]!==this.puzzle.pieces[i].pos)return!1;return e},initPuzzle(){var e=parseInt(this.step.options.level||2,10),t=2*e,i=document.getElementById("pieces").clientWidth,r=i,a=Math.floor(r/t),s=Math.floor(i/t);let o=this.step.answers.split("|");for(var n=0;n<t*t;n++){let e=s*(n%t)+"px",i=a*Math.floor(n/t)+"px";this.puzzle.pieces[n]={pos:o[n],backSize:100*t,backXPos:e,backYPos:i,width:s,height:a}}var l=!0;while(l)this.puzzle.pieces=this.shuffle(this.puzzle.pieces),l=this.comparePuzzlePiecePositions();this.puzzle.picture=-1===this.step.options.picture.indexOf("upload/")?this.serverUrl+"/upload/quest/"+this.step.questId+"/step/jigsaw-puzzle/"+this.step.options.picture:this.serverUrl+this.step.options.picture,initJigsaw(this.puzzle.element)},shuffle(e){for(var t=e.length-1;t>0;t--){let i=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[i],e[i]=r}return e},handleDragStart(e){-1!==e.target.className.indexOf("piece")&&(this.puzzle.dragSrcEl=e.target)},handleDragEnd(e){this.puzzle.dragSrcEl=null;var t=document.querySelectorAll("#pieces .piece");[].forEach.call(t,function(e){e.style.opacity="",e.classList.remove("over")})},handleDrop(e){if(this.puzzle.dragSrcEl&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),e.target.parentNode.id&&this.puzzle.dragSrcEl.id)){var t=e.target.parentNode.id.replace("piece-",""),i=this.puzzle.dragSrcEl.id.replace("piece-",""),a=0,s=0;if(t!==i){for(var o=0;o<this.puzzle.pieces.length;o++)this.puzzle.pieces[o].pos===t&&(a=o),this.puzzle.pieces[o].pos===i&&(s=o);let e=this.puzzle.pieces[a];r["a"].set(this.puzzle.pieces,a,this.puzzle.pieces[s]),r["a"].set(this.puzzle.pieces,s,e),this.checkPuzzle()}}},initMemory(){for(var e=[],t=0;t<2*this.step.options.items.length;t++){let i=t<this.step.options.items.length?this.step.options.items[t]:this.step.options.items[t-this.step.options.items.length];(!i.single||t<this.step.options.items.length)&&(e[t]={imagePath:i.imagePath,isClicked:!1,isFound:!1})}this.memory.items=this.shuffle(e)},selectMemoryCard(e){if(!this.memory.disabled&&!(this.memory.nbTry>=1&&e===this.memory.selectedKey)){var t=this;if(this.memory.items[e].isClicked=!0,r["a"].set(this.memory.items,e,this.memory.items[e]),this.memory.nbTry>=1){if(this.memory.items[this.memory.selectedKey].imagePath===this.memory.items[e].imagePath)if(this.memory.score++,this.memory.score===Math.floor(this.memory.items.length/2)){for(var i=0;i<this.memory.items.length;i++)this.memory.items[i].isFound||(this.memory.items[i].isClicked=!0,r["a"].set(this.memory.items,i,this.memory.items[i]));this.checkAnswer(!0)}else t.memory.items[t.memory.selectedKey].isFound=!0,t.memory.items[e].isFound=!0,r["a"].set(t.memory.items,t.memory.selectedKey,t.memory.items[t.memory.selectedKey]),r["a"].set(t.memory.items,e,t.memory.items[e]);else this.memory.disabled=!0,st.setTimeout(function(){t.memory.items[t.memory.selectedKey].isClicked=!1,t.memory.items[e].isClicked=!1,r["a"].set(t.memory.items,t.memory.selectedKey,t.memory.items[t.memory.selectedKey]),r["a"].set(t.memory.items,e,t.memory.items[e]),t.memory.disabled=!1},1500);this.memory.nbTry=0}else this.memory.nbTry++,this.memory.selectedKey=e}},animateTargetCanvas(){this.latestRequestAnimationId=requestAnimationFrame(this.animateTargetCanvas);let e=this.geolocation.target,t=e.mixers;if(this.step.options&&!this.step.options.is3D){let t=e.scene.getObjectByName("targetObject");t.lookAt(e.camera.position)}if(t.length>0)for(var i=0;i<t.length;i++)t[i].update(e.clock.getDelta());e.renderer.render(e.scene,e.camera),ti["update"]()},animateMarkerCanvas(){null===this.playerResult&&(this.latestRequestAnimationId=requestAnimationFrame(this.animateMarkerCanvas),this.locateMarker.arToolkitContext.update(this.$refs["camera-stream-for-locate-marker"]),this.locateMarker.arSmoothedControls.update(this.locateMarker.markerRoot),this.locateMarker.renderer.render(this.locateMarker.scene,this.locateMarker.camera))},stopLatestAnimation(){cancelAnimationFrame(this.latestRequestAnimationId),this.latestRequestAnimationId=null},onAbsoluteOrientationSensorReading(){let e=this.geolocation.target.camera;e.quaternion.fromArray(this.geolocation.absoluteOrientationSensor.quaternion)},onTargetCanvasClick(e){if(null!==this.playerResult)return void(this.geolocation.canTouchTarget=!1);e.preventDefault();let t=this.geolocation.target,i=t.scene.getObjectByName("targetObject"),r=new ei["Vector2"];r.x=e.clientX/t.renderer.domElement.clientWidth*2-1,r.y=-e.clientY/t.renderer.domElement.clientHeight*2+1;let a=new ei["Raycaster"];a.setFromCamera(r,t.camera);let s=a.intersectObject(i,!0);s.length>0&&this.geolocation.canTouchTarget&&(navigator.geolocation.clearWatch(this.geolocation.locationWatcher),this.stopVideoTracks("camera-stream-for-locate-item-ar"),this.checkAnswer())},async ModelLoaderAsync(e){let t=console.log;return new Promise((i,r)=>{let a=new ri.a;a.load(this.serverUrl+"/statics/3d-models/"+e+"/scene.gltf",i,t,r)})},displaySuccessMessage(e,t,i){nt(t,e?"rightAnswer":"wrongAnswer",i)},readMore(){this.step.extraText&&"object"===typeof this.step.extraText&&this.step.extraText[this.lang]&&(this.story.step=6,this.story.data={readMore:this.step.extraText[this.lang]})},clearAllCameraStreams(){let e=["camera-stream-for-recognition","camera-stream-for-locate-marker","camera-stream-for-locate-item-ar"],t=[];for(let i of e){let e=this.$refs[i];"undefined"!==typeof e&&e.srcObject&&t.push(e.srcObject)}for(let i of t)st.clearCameraStream(i)}}},ni=oi,li=(i("7386"),Object(we["a"])(ni,Ht,jt,!1,null,"5b1c126e",null));li.options.__file="stepPlay.vue";var ui=li.exports,ci=i("53fe"),di=i.n(ci);r["a"].directive("sortable",{inserted:function(e,t){return new di.a(e,t.value||{})}});var fi={components:{stepPlay:ui,story:vt},data(){return{footer:{show:!0,tabSelected:"none"},inventory:{isOpened:!1,items:[]},hint:{isOpened:!1,label:""},info:{isOpened:!1,score:0,quest:{}},quest:{id:this.$route.params.questId},step:{nextNumber:2},story:{step:null,data:null},loadStepData:!1,run:{},isRunFinished:!1,canMoveNextStep:!1,canPass:!1,remotePlay:!1,serverUrl:"https://api.graaly.com",nbTry:0,controlsAreDisplayed:!1,lang:this.$route.params.lang,selectedItem:null}},mounted(){st.clearAllRunningProcesses(),this.getStep().then(async e=>{if(e.redirect)return this.$router.push("/quest/play/"+this.quest.id+"/step/"+e.redirect+"/"+this.$route.params.lang);if(await this.getQuest(this.quest.id),await this.countStepsNumber(this.quest.id),"undefined"===typeof e||"OK"===e)return this.$store.state.user.isAdmin?this.$router.push("/admin/validate/"+this.quest.id):this.$store.state.user._id===this.info.quest.authorUserId?this.$router.push("/quest/settings/"+this.quest.id):this.$router.push("/quest/"+this.quest.id+"/end");var t=await Pt.listForAQuest(this.quest.id),i=0;if(t&&t.data&&t.data.length>0)for(var r=0;r<t.data.length;r++)"finished"===t.data[r].status&&(this.isRunFinished=!0),"in-progress"===t.data[r].status&&t.data[r].currentStep>i&&(this.run=t.data[r],i=t.data[r].currentStep);if(this.info.score=this.run.tempScore,0===i){var a=!!this.$route.query.hasOwnProperty("remoteplay")&&this.$route.query.remoteplay;let e=await Pt.init(this.quest.id,this.$route.params.lang,a);200===e.status&&e.data&&e.data._id&&(this.run=e.data)}this.step=e,this.step.id=e._id,this.step.nextNumber=this.step.number+1,await this.startStory(),this.loadStepData=!0}).catch(e=>{nt(this.$t("label.ErrorStandardMessage"),"error"),console.log(e)})},methods:{async getStep(){return Lt.getByNumber(this.quest.id,this.$route.params.stepNumber)},async trackStepSuccess(e){this.info.score+=e,this.hideHint()},async trackStepPlayed(){this.canMoveNextStep=!0,this.footer.tabSelected="next"},async trackStepPass(){this.canPass=!0},async trackStepFail(){this.hideHint()},hideHint(){this.step.hint={}},async nextStep(){this.loadStepData=!1,this.canMoveNextStep?"no next step"===this.step.nextNumber?this.$router.push("/quest/"+this.quest.id+"/end"):this.$router.push("/quest/play/"+this.quest.id+"/step/"+this.step.nextNumber+"/"+this.$route.params.lang):this.canPass&&this.$q.dialog({message:this.$t("label.ConfirmPass"),ok:this.$t("label.Ok"),cancel:this.$t("label.Cancel")}).then(async()=>{await Pt.passCurrentStep(this.run._id),this.$router.push("/quest/play/"+this.quest.id+"/step/"+this.step.nextNumber+"/"+this.$route.params.lang)}).catch(()=>{})},async previousStep(){this.step.number&&this.step.number>1?this.$router.push("/quest/play/"+this.quest.id+"/step/"+(this.step.number-1)+"/"+this.$route.params.lang):this.$router.push("/quest/play/"+this.quest.id)},async askForHint(){this.isHintAvailable()&&(this.hint.isOpened?this.closeAllPanels():this.$store.state.user.bonus&&this.$store.state.user.bonus.name&&"infinitehint"===this.$store.state.user.bonus.name?await this.getHint():this.$q.dialog({message:this.$t("label.ConfirmHint"),ok:this.$t("label.Ok"),cancel:this.$t("label.Cancel")}).then(async()=>{await this.getHint()}))},async getHint(){let e=await Pt.getHint(this.run._id,this.step._id);e&&e.hint&&(this.hint.label=e.hint,this.closeAllPanels(),this.hint.isOpened=!0,this.footer.tabSelected="hint")},closeAllPanels(){this.inventory.isOpened=!1,this.info.isOpened=!1,this.hint.isOpened=!1,this.footer.tabSelected="none"},async fillInventory(){this.$q.loading.show(),this.inventory.items=await Lt.listWonObjects(this.quest.id,this.step._id),this.$q.loading.hide()},async openInventory(){0===this.inventory.items.length&&await this.fillInventory(),this.inventory.isOpened?this.closeAllPanels():(this.closeAllPanels(),this.inventory.isOpened=!0,this.footer.tabSelected="inventory")},async openInfo(){this.info.isOpened?this.closeAllPanels():(this.closeAllPanels(),this.info.isOpened=!0,this.footer.tabSelected="info")},async backToMap(){return this.$router.push("/map")},async startStory(){"discovery"===this.info.quest.type&&(1===this.step.number&&(this.story.step=4),2===this.step.number&&(this.story.step=5),5===this.step.number&&(this.story.step=7),7===this.step.number&&(this.story.step=8))},async getQuest(e){let t=await We.getById(e);this.info.quest=t.data},async countStepsNumber(e){let t=await Lt.countForAQuest(e);this.info.stepsNumber=t||1},selectItem(e){"use-item"===this.step.type?(this.selectedItem=e,this.closeAllPanels()):nt(this.$t("label.YouCanNotUseAnItemInThisStep"),"warning")},isHintAvailable(){return this.step&&this.step.hint&&this.step.hint[this.lang]&&""!==this.step.hint[this.lang]}}},hi=fi,pi=(i("263d"),Object(we["a"])(hi,Dt,$t,!1,null,"4eff554b",null));pi.options.__file="step.vue";var mi=pi.exports,bi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"dark-background"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.run.score>0||e.run.reward>0,expression:"run.score > 0 || run.reward > 0"}],staticClass:"centered"},[i("h2",{staticClass:"text-center size-3 q-mt-xl q-mb-sm"},[e._v(e._s(e.$t("label.YouWin")))]),i("h2",{directives:[{name:"show",rawName:"v-show",value:e.run.score>0||0===e.run.reward,expression:"run.score > 0 || run.reward === 0"}],staticClass:"size-1 q-mt-sm q-mb-sm"},[e._v(e._s(e.run.score)+" "),i("q-icon",{attrs:{color:"white",name:"fas fa-trophy"}})],1),i("h2",{directives:[{name:"show",rawName:"v-show",value:e.run.reward>0,expression:"run.reward > 0"}],staticClass:"size-1 q-mt-sm q-mb-sm"},[e._v(e._s(e.run.reward)+" "),i("q-icon",{attrs:{color:"white",name:"fas fa-bolt"}})],1),i("router-link",{directives:[{name:"show",rawName:"v-show",value:e.run.score>0,expression:"run.score > 0"}],attrs:{to:"/help/points"}},[e._v(e._s(e.$t("label.WhatCanYouDoWithThesePoints")))])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.run.score>0,expression:"run.score > 0"}],staticClass:"q-pa-md centered"},[i("p",{staticClass:"centered"},[e._v(e._s(e.$t("label.MyLevel"))+" : "+e._s(e.$store.state.user.level))]),i("q-progress",{attrs:{percentage:e.level.progress,height:"30px",color:"white"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.run.score>0,expression:"run.score > 0"}],staticClass:"q-mt-md q-ml-md q-mr-md q-pb-md centered"},[i("q-btn",{attrs:{icon:"people",color:"tertiary",size:"lg",label:e.$t("label.ChallengeYourFriends")},on:{click:e.openChallengeBox}})],1),e.showAddReview?i("div",{staticClass:"bg-secondary q-mt-md q-ml-md q-mr-md q-pa-sm centered"},[i("h3",{staticClass:"size-2"},[e._v(e._s(e.$t("label.ReviewThisQuest"))+" (+2 "),i("q-icon",{attrs:{color:"white",name:"fas fa-bolt"}}),e._v(")")],1),i("p",[e._v(e._s(e.$t("label.Rating")+e.$t("label.Colon"))+" "),i("q-rating",{attrs:{max:5,size:"1.5rem",disable:e.reviewSent},model:{value:e.rating,callback:function(t){e.rating=t},expression:"rating"}})],1),i("p",[e._v(e._s(e.$t("label.CommentThisQuest"))+" ("+e._s(e.$t("label.Optional"))+")"+e._s(e.$t("label.Colon")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"comment"}],staticClass:"full-width",attrs:{rows:"5",disabled:e.reviewSent},domProps:{value:e.comment},on:{input:function(t){t.target.composing||(e.comment=t.target.value)}}}),i("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:e.$t("label.Send"),disabled:e.reviewSent},on:{click:function(t){e.addReview()}}})],1):e._e(),i("div",{staticClass:"share bg-secondary q-mt-md q-ml-md q-mr-md q-pa-sm centered"},[i("h3",{staticClass:"size-2 q-ma-sm"},[e._v(e._s(e.$t("label.ShareYourSuccess")))]),e._m(0)]),i("div",{staticClass:"back centered q-pa-md bg-primary text-primary"},[i("q-btn",{staticClass:"text-primary bg-white full-width",attrs:{label:e.$t("label.BackToTheMap")},on:{click:function(t){e.$router.push("/map")}}})],1)]),i("transition",{attrs:{name:"slideInBottom"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.ranking.show,expression:"ranking.show"}],staticClass:"panel-bottom q-pa-md"},[i("a",{staticClass:"float-right no-underline",attrs:{color:"grey"},on:{click:function(t){e.ranking.show=!1}}},[i("q-icon",{staticClass:"medium-icon",attrs:{name:"close"}})],1),i("h1",{staticClass:"size-3 q-pl-md"},[e._v(e._s(e.$t("label.Ranking")))]),i("q-list",e._l(e.ranking.items,function(t){return i("q-item",{key:t.id,class:t.className},[i("q-item-side",[i("q-item-tile",{attrs:{avatar:""}},[i("img",{attrs:{src:"statics/icons/game/medal-"+t.position+".png"}})])],1),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.name))]),i("q-item-tile",{attrs:{sublabel:""}},[e._v(e._s(t.score)+" "),i("q-icon",{attrs:{name:"fas fa-trophy"}})],1)],1),i("q-item-side",{attrs:{right:""}},[i("q-item-tile",{attrs:{avatar:""}},[t.picture&&""!==t.picture&&-1!==t.picture.indexOf("http")?i("img",{attrs:{src:t.picture}}):e._e(),t.picture&&""!==t.picture&&-1===t.picture.indexOf("http")?i("img",{attrs:{src:e.serverUrl+"/upload/profile/"+t.picture}}):e._e(),t.picture&&""!==t.picture?e._e():i("img",{attrs:{src:"statics/icons/game/profile-small.png"}})])],1),t.isFriend||t.id===e.$store.state.user._id?e._e():i("q-item-side",{attrs:{right:""},nativeOn:{click:function(i){e.addFriend(t.id)}}},[i("q-item-tile",{attrs:{icon:"person_add",color:"primary"}})],1),t.isFriend?i("q-item-side",{attrs:{right:""}}):e._e()],1)}))],1)]),i("transition",{attrs:{name:"slideInBottom"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showChallenge,expression:"showChallenge"}],staticClass:"panel-bottom q-pa-md"},[i("a",{staticClass:"float-right no-underline",attrs:{color:"grey"},on:{click:e.closeChallenge}},[i("q-icon",{staticClass:"medium-icon",attrs:{name:"close"}})],1),i("h1",{staticClass:"size-3 q-pl-md"},[e._v(e._s(e.$t("label.ChallengeYourFriends")))]),i("div",[i("div",{staticClass:"q-pa-md centered"},[i("q-btn",{attrs:{color:"primary",size:"lg",full:"",label:e.$t("label.ChallengeAllFriends")},on:{click:e.challengeAll}})],1),i("div",{staticClass:"q-pa-md centered"},[e._v("\n          "+e._s(e.$t("label.Or"))+"\n        ")]),e.friends&&0!==e.friends.length?i("div",[i("q-list",{attrs:{highlight:""}},e._l(e.filteredFriends,function(t){return i("q-item",{key:t.friendId},[i("q-item-side",[i("q-item-tile",{attrs:{avatar:""}},[t.picture&&""!==t.picture&&-1!==t.picture.indexOf("http")?i("img",{attrs:{src:t.picture}}):e._e(),t.picture&&""!==t.picture&&-1===t.picture.indexOf("http")?i("img",{attrs:{src:e.serverUrl+"/upload/profile/"+t.picture}}):e._e(),t.picture&&""!==t.picture?e._e():i("img",{attrs:{src:"statics/icons/game/profile-small.png"}})])],1),i("q-item-main",[i("q-item-tile",[e._v(e._s(t.name))])],1),i("q-item-side",{attrs:{right:""}},[i("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.isChallenged,expression:"!friend.isChallenged"}],attrs:{color:"primary",label:e.$t("label.Challenge")},on:{click:function(i){e.challenge(t)}}})],1)],1)}))],1):e._e()])])]),i("transition",{attrs:{name:"slideInBottom"}},[e.showBonus?i("div",{staticClass:"panel-bottom q-pa-md"},[i("a",{staticClass:"float-right no-underline",attrs:{color:"grey"},on:{click:e.closeBonus}},[i("q-icon",{staticClass:"medium-icon",attrs:{name:"close"}})],1),i("h1",{staticClass:"size-3 q-pl-md"},[e._v(e._s(e.$t("label.YouWonABonus")))]),i("div",{staticClass:"q-pa-md"},[i("q-card",{staticClass:"q-ma-sm",attrs:{inline:""}},[i("q-card-media",[i("img",{attrs:{src:"statics/icons/game/bonus_"+e.run.bonus+".png"}})]),i("q-card-title",[e._v("\n            "+e._s(e.$t("bonus."+e.run.bonus))+"\n          ")]),i("q-card-main",[e._v("\n            "+e._s(e.$t("bonus."+e.run.bonus+"Desc"))+"\n          ")])],1)],1)]):e._e()]),null!==e.story.step&&"end"!==e.story.step?i("div",{staticClass:"fixed-bottom over-map"},[i("story",{attrs:{step:e.story.step,data:e.story.data},on:{next:function(t){e.story.step="end"}}})],1):e._e(),e.level.upgraded?i("div",{staticClass:"fadein-message"},[e._v("+100 "),i("q-icon",{attrs:{color:"white",name:"fas fa-bolt"}})],1):e._e()],1)},gi=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",[i("li",[i("a",{attrs:{href:"https://www.facebook.com/sharer/sharer.php?u=http://graaly.com",target:"_blank"}},[i("img",{attrs:{src:"statics/icons/social-networks/facebook.png"}})])]),i("li",[i("a",{attrs:{href:"https://twitter.com/intent/tweet?text=To%Define&url=http://graaly.com",target:"_blank"}},[i("img",{attrs:{src:"statics/icons/social-networks/twitter.png"}})])]),i("li",[i("a",{attrs:{href:"https://plus.google.com/share?url=http://graaly.com",target:"_blank"}},[i("img",{attrs:{src:"statics/icons/social-networks/googleplus.png"}})])])])}];bi._withStripped=!0;var vi={add:function(e,t,i,r){return xe().put("review/add",{questId:e,runId:t,text:i,rating:r})},list:function(e,t){return xe().get("review/list",{params:{filter:JSON.stringify(e),options:JSON.stringify(t)}})}},wi={components:{story:vt},data(){return{title:"Enquête réussie",rating:0,comment:"",ranking:{show:!1,items:[]},score:{},level:{color:"white",upgraded:!1},run:{score:0},friends:[],filteredFriends:[],invitedFriends:{id:[],name:[]},story:{step:null,data:null},questId:this.$route.params.questId,awardPoints:!0,showChallenge:!1,showBonus:!1,showAddReview:!1,reviewSent:!1,serverUrl:"https://api.graaly.com"}},async mounted(){st.clearAllRunningProcesses();var e=!1,t=await Pt.listForAQuest(this.questId);if(t&&t.data&&t.data.length>0)for(var i=0;i<t.data.length;i++)"finished"===t.data[i].status&&(this.run=t.data[i]),"in-progress"===t.data[i].status&&(this.run=t.data[i],e=!0);await this.getRanking();let r=await We.getById(this.questId),a=this.$store.state.user._id===r.data.authorUserId,s=await vi.list({questId:this.questId,userId:this.$store.state.user._id},{limit:1}),o=s.data&&s.data.length>=1;this.showAddReview=!a&&!o,this.score.old=this.$store.state.user.score,this.initProgression();let n=await Pt.endRun(this.run._id);n&&n.data&&(this.run.score=n.data.score,this.run.reward=n.data.reward,n.data.newBonus&&""!==n.data.newBonus&&(this.run.bonus=n.data.newBonus,this.showBonus=!0)),this.startStory(),this.score.new=e?this.score.old+this.run.score:this.score.old,st.setTimeout(this.updateProgression,3e3)},methods:{async initProgression(){this.level=yt(this.score.old)},async updateProgression(){if(this.ranking.show||this.showChallenge||this.showBonus)st.setTimeout(this.updateProgression,2e3);else{var e=yt(this.score.new);e.level>this.level.level?(this.level.progress=100,this.$store.state.user.level=e.level,this.level=e,this.level.progress=10,this.level.upgraded=!0):this.level=e}},async getRanking(){var e=await Pt.listPlayersForThisQuest(this.questId);e&&e.data&&e.data.length>0&&(this.ranking.items=e.data,this.ranking.items.sort(this.compareScore),this.refreshPosition(),st.setTimeout(this.showRanking,5e3))},async showRanking(){this.ranking.show=!0;for(var e=!1,t=0;t<this.ranking.items.length;t++)this.ranking.items[t].id===this.$store.state.user._id&&(e=!0);e||(this.ranking.items.push({id:this.$store.state.user._id,score:this.run.score,name:this.$store.state.user.name,picture:this.$store.state.user.picture,position:this.ranking.items.length+1,isFriend:!0,className:"selected"}),st.setTimeout(this.updateRanking,3e3))},updateRanking(){for(var e=0;e<this.ranking.items.length;e++)if(this.ranking.items[e].id===this.$store.state.user._id&&e>0&&this.ranking.items[e].score>=this.ranking.items[e-1].score){let t=this.ranking.items[e],i=this.ranking.items[e-1];this.$set(this.ranking.items,e,i),this.$set(this.ranking.items,e-1,t),this.refreshPosition(),st.setTimeout(this.updateRanking,500);break}},refreshPosition(){for(var e=0,t=0;t<this.ranking.items.length;t++)0===t||this.ranking.items[t].score!==this.ranking.items[t-1].score?(e=t+1,this.ranking.items[t].position&&this.ranking.items[t].position===e||(this.ranking.items[t].position=e,this.$set(this.ranking.items,t,this.ranking.items[t]))):(e=this.ranking.items[t-1].position,this.ranking.items[t].position&&this.ranking.items[t].position===e||(this.ranking.items[t].position=e,this.$set(this.ranking.items,t,this.ranking.items[t])))},compareScore(e,t){return e.score>t.score?-1:e.score<t.score?1:0},async openChallengeBox(){this.showChallenge=!0;var e=await Ve.listFriends();e&&e.data&&e.data.length>0&&(this.friends=e.data,this.filteredFriends=this.friends)},async closeChallenge(){this.showChallenge=!1},async challenge(e){await Ve.challengeFriend(e.friendId,this.run._id);for(var t=0;t<this.filteredFriends.length;t++)this.filteredFriends[t].friendId===e.friendId&&(this.filteredFriends[t].isChallenged=!0,r["a"].set(this.filteredFriends,t,this.filteredFriends[t]));console.log(this.filteredFriends)},async challengeAll(){await Ve.challengeFriend("all",this.run._id)},async closeBonus(){this.showBonus=!1},startStory(){null===this.story.step&&(this.story.step=9,this.story.data={score:this.run.score,level:this.$store.state.user.level,progress:this.level.progress,discovery:"5b7303ec4efbcd1f8cb101c6"===this.questId})},async addReview(){if(0===this.rating)return nt(this.$t("label.PleaseRateTheQuest"),"success"),!1;this.$q.loading.show(),await vi.add(this.questId,this.run._id,this.comment,this.rating),this.$q.loading.hide(),this.reviewSent=!0,nt(this.$t("label.ReviewSent"),"success")}}},ki=wi,yi=(i("6dff"),Object(we["a"])(ki,bi,gi,!1,null,"240951c1",null));yi.options.__file="end.vue";var _i=yi.exports,Si=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"wrapper"},[i("h1",{staticClass:"size-3 centered"},[e._v(e._s(e.$t("label.CreateYourQuest")))]),i("div",{staticClass:"grow"},[i("div",{staticClass:"centered",domProps:{innerHTML:e._s(e.$t("label.andWin"))}}),i("div",{staticClass:"row q-pa-md"},[i("div",{staticClass:"col score-text centered"},[e._v("600 "),i("q-icon",{attrs:{color:"warning",name:"fas fa-bolt"}})],1),i("div",{staticClass:"col centered"},[i("q-icon",{attrs:{color:"positive",size:"2rem",name:"fas fa-money-bill-wave"}}),i("br"),e._v("\n          "+e._s(e.$t("label.SomeMoney"))+" \n          "),i("a",{on:{click:function(t){e.openMoneyPopup()}}},[e._v("*")])],1)]),i("div",{staticClass:"q-pa-md",domProps:{innerHTML:e._s(e.$t("label.BuilderWelcomeMessage"))}})]),i("q-btn",{staticClass:"full-width center",attrs:{color:"primary"},on:{click:function(t){e.createNewQuest()}}},[e._v(e._s(e.$t("label.AcceptTheRules")))])],1)])},Ei=[];Si._withStripped=!0;var Ci={methods:{openMoneyPopup(){this.$q.dialog({title:this.$t("label.HowToWinMoney"),message:this.$t("label.HowToWinMoneyExplaination")})},async createNewQuest(){let e={title:{}},t=await We.create(e);t&&t.data&&t.data._id?this.$router.push("/quest/settings/"+t.data._id):nt(this.$t("label.ErrorStandardMessage"),"error")}}},Ti=Ci,Ai=Object(we["a"])(Ti,Si,Ei,!1,null,null,null);Ai.options.__file="welcome.vue";var Mi=Ai.exports,xi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("router-link",{directives:[{name:"show",rawName:"v-show",value:!e.steps.showNewStepOverview&&!e.steps.showNewStepPageSettings,expression:"!steps.showNewStepOverview && !steps.showNewStepPageSettings"}],staticClass:"float-right no-underline",attrs:{to:{path:"/map"},color:"grey"}},[i("q-icon",{staticClass:"medium-icon",attrs:{name:"close"}})],1),i("h1",{directives:[{name:"show",rawName:"v-show",value:!e.steps.showNewStepOverview&&!e.steps.showNewStepPageSettings,expression:"!steps.showNewStepOverview && !steps.showNewStepPageSettings"}],staticClass:"size-3 q-pl-md"},[e.tabs.progress>=2?i("span",[e._v(e._s(e.form.fields.title[e.languages.current]||e.form.fields.title[e.quest.mainLanguage]))]):i("span",[e._v(e._s(e.$t("label.NewQuest")))])]),i("q-tabs",{directives:[{name:"show",rawName:"v-show",value:!e.steps.showNewStepOverview&&!e.steps.showNewStepPageSettings,expression:"!steps.showNewStepOverview && !steps.showNewStepPageSettings"}],model:{value:e.tabs.selected,callback:function(t){e.$set(e.tabs,"selected",t)},expression:"tabs.selected"}},[i("q-tab",{attrs:{slot:"title",disable:e.isReadOnly(),name:"languages",icon:e.getTabIcon(1),label:e.$t("label.Languages"),default:""},slot:"title"}),i("q-tab",{attrs:{slot:"title",disable:e.tabs.progress<1||e.isReadOnly(),name:"settings",icon:e.getTabIcon(2),label:e.$t("label.Intro")+" ("+e.languages.current+")"},slot:"title"}),i("q-tab",{attrs:{slot:"title",disable:e.tabs.progress<2||e.isReadOnly(),name:"steps",icon:e.getTabIcon(3),label:e.$t("label.Steps")+" ("+e.languages.current+")"},slot:"title"}),i("q-tab",{attrs:{slot:"title",disable:e.tabs.progress<3,name:"publish",icon:e.getTabIcon(4),label:e.$t("label.Publish")},slot:"title"}),this.isEdition?i("q-tab",{attrs:{slot:"title",name:"reviews",label:e.$t("label.Reviews")},slot:"title"}):e._e(),i("q-tab-pane",{staticClass:"q-pa-md",attrs:{name:"languages"}},[i("q-field",{attrs:{icon:"language",helper:e.$t("label.SelectTheLanguageAndClickOnNextButton"),label:e.$t("label.SelectedLanguage")}},[i("q-option-group",{attrs:{type:"radio",color:"primary",options:e.form.languages},model:{value:e.languages.current,callback:function(t){e.$set(e.languages,"current",t)},expression:"languages.current"}})],1),i("q-btn",{staticClass:"full-width",attrs:{big:"",color:"primary",label:e.$t("label.Save")},on:{click:function(t){e.selectLanguage()}}}),"published"!==e.quest.status?i("p",{staticClass:"centered q-pa-md"},[i("q-btn",{attrs:{flat:"",color:"primary",icon:"delete",label:e.$t("label.RemoveThisQuest")},on:{click:function(t){e.removeQuest()}}})],1):e._e()],1),i("q-tab-pane",{attrs:{name:"settings"}},[i("form",{on:{submit:function(t){t.preventDefault(),e.submitSettings()}}},[i("q-field",{attrs:{error:e.$v.form.fields.title.$error,count:e.titleMaxLength}},[i("q-input",{attrs:{type:"text","float-label":e.$t("label.Title")+" "+e.currentLanguageForLabels,maxlength:"titleMaxLength"},on:{blur:e.$v.form.fields.title.$touch},model:{value:e.form.fields.title[e.languages.current],callback:function(t){e.$set(e.form.fields.title,e.languages.current,t)},expression:"form.fields.title[languages.current]"}}),e.$v.form.fields.title.$error?i("div",{staticClass:"q-field-bottom"},[e.$v.form.fields.title.required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseEnterATitle")))])]):e._e()],1),i("q-field",{attrs:{error:e.$v.form.fields.category.$error}},[i("q-select",{attrs:{"float-label":e.$t("label.Category"),options:e.form.categories},on:{blur:e.$v.form.fields.category.$touch},model:{value:e.form.fields.category,callback:function(t){e.$set(e.form.fields,"category",t)},expression:"form.fields.category"}}),e.$v.form.fields.category.$error?i("div",{staticClass:"q-field-bottom"},[e.$v.form.fields.category.required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseSelectACategory")))])]):e._e()],1),i("q-field",[i("q-select",{attrs:{"float-label":e.$t("label.Difficulty"),options:e.form.levels},model:{value:e.form.fields.level,callback:function(t){e.$set(e.form.fields,"level",t)},expression:"form.fields.level"}})],1),i("q-field",[i("q-select",{attrs:{"float-label":e.$t("label.Duration"),options:e.form.durations},model:{value:e.form.fields.duration,callback:function(t){e.$set(e.form.fields,"duration",t)},expression:"form.fields.duration"}})],1),i("div",{staticClass:"description"},[i("q-input",{staticClass:"full-width",attrs:{type:"textarea","float-label":e.$t("label.Description")+" "+e.currentLanguageForLabels,"max-height":100,"min-rows":4},model:{value:e.form.fields.description[e.languages.current],callback:function(t){e.$set(e.form.fields.description,e.languages.current,t)},expression:"form.fields.description[languages.current]"}})],1),i("div",{staticClass:"location-gps",staticStyle:{display:"none"}},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.form.fields.location.lat,expression:"form.fields.location.lat",modifiers:{number:!0}}],attrs:{type:"number",id:"latitude",step:"any"},domProps:{value:e.form.fields.location.lat},on:{input:function(t){t.target.composing||e.$set(e.form.fields.location,"lat",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.form.fields.location.lng,expression:"form.fields.location.lng",modifiers:{number:!0}}],attrs:{type:"number",id:"longitude",step:"any"},domProps:{value:e.form.fields.location.lng},on:{input:function(t){t.target.composing||e.$set(e.form.fields.location,"lng",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.fields.zipcode,expression:"form.fields.zipcode"}],attrs:{type:"text"},domProps:{value:e.form.fields.zipcode},on:{input:function(t){t.target.composing||e.$set(e.form.fields,"zipcode",t.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.fields.town,expression:"form.fields.town"}],attrs:{type:"text"},domProps:{value:e.form.fields.town},on:{input:function(t){t.target.composing||e.$set(e.form.fields,"town",t.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.fields.country,expression:"form.fields.country"}],attrs:{type:"text"},domProps:{value:e.form.fields.country},on:{input:function(t){t.target.composing||e.$set(e.form.fields,"country",t.target.value)}}})]),i("div",{staticClass:"location-address"},[i("div",{staticClass:"q-if row no-wrap items-center relative-position q-input q-if-has-label text-primary"},["settings"===e.tabs.selected?i("gmap-autocomplete",{staticClass:"col q-input-target text-left",attrs:{id:"startingplace",placeholder:e.$t("label.StartingPointOfTheQuest")},on:{place_changed:e.setLocation},model:{value:e.form.fields.startingPlace,callback:function(t){e.$set(e.form.fields,"startingPlace",t)},expression:"form.fields.startingPlace"}}):e._e()],1),i("a",{on:{click:function(t){e.getCurrentLocation()}}},[i("img",{attrs:{src:"statics/icons/game/location.png"}})])]),null!==e.form.fields.picture?i("div",[i("p",[e._v(e._s(e.$t("label.Picture"))+" :")]),i("img",{staticClass:"full-width",attrs:{src:e.serverUrl+"/upload/quest/"+e.form.fields.picture}})]):e._e(),i("q-btn",{staticClass:"full-width",attrs:{type:"button"}},[i("label",{attrs:{for:"picturefile"}},[e._v(e._s(e.$t("label.ModifyThePicture")))]),i("input",{staticStyle:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute","z-index":"-1"},attrs:{name:"picturefile",id:"picturefile",type:"file",accept:"image/*"},on:{change:e.uploadImage}})]),i("q-btn",{staticClass:"full-width",attrs:{type:"submit",color:"primary"}},[e._v(e._s(e.$t("label.Save")))])],1)]),i("q-tab-pane",{attrs:{name:"steps"}},[i("p",[e._v(e._s(e.$t("label.AddYourSteps")))]),i("p",{directives:[{name:"show",rawName:"v-show",value:e.steps.items&&e.steps.items.length>6,expression:"steps.items && steps.items.length > 6"}],staticClass:"centered"},[i("q-btn",{attrs:{color:"primary",icon:"fas fa-plus-circle",label:e.$t("label.AddAStep")},on:{click:function(t){e.addStep()}}})],1),i("ul",{directives:[{name:"sortable",rawName:"v-sortable",value:{onUpdate:e.onStepListUpdate,handle:".handle"},expression:"{ onUpdate: onStepListUpdate, handle: '.handle' }"}],staticClass:"list-group"},e._l(e.steps.items,function(t){return i("li",{key:t._id,staticClass:"list-group-item"},[i("q-icon",{staticClass:"handle",attrs:{name:"reorder"}}),i("p",[e._v(e._s(t.title[e.languages.current]||t.title[e.quest.mainLanguage]))]),i("q-icon",{staticClass:"q-mr-sm",attrs:{color:"grey",name:e.getIconFromStepType(t.type)}}),i("q-btn",{on:{click:function(i){e.modifyStep(t)}}},[i("q-icon",{attrs:{name:"mode edit"}})],1),i("q-btn",{on:{click:function(i){e.removeStep(t._id)}}},[i("q-icon",{attrs:{name:"clear"}})],1)],1)})),i("p",{staticClass:"centered"},[i("q-btn",{attrs:{color:"primary",icon:"fas fa-plus-circle",label:e.$t("label.AddAStep")},on:{click:function(t){e.addStep()}}})],1)]),i("q-tab-pane",{attrs:{name:"publish"}},["tovalidate"===e.quest.status?i("q-alert",{staticClass:"q-mb-md",attrs:{type:"warning"}},[e._v("\n        "+e._s(e.$t("label.QuestUnderValidation"))+"\n      ")]):e._e(),"rejected"===e.quest.status?i("q-alert",{staticClass:"q-mb-md",attrs:{type:"warning"}},[e._v("\n        "+e._s(e.$t("label.QuestPublicationRejected"))+"\n      ")]):e._e(),e.steps.items.length<6?i("q-alert",{staticClass:"q-mb-md",attrs:{type:"warning"}},[e._v("\n        "+e._s(e.$t("label.YourQuestMustContainAtLeast6Steps"))+"\n      ")]):e._e(),e.steps.items.length>50?i("q-alert",{staticClass:"q-mb-md",attrs:{type:"warning"}},[e._v("\n        "+e._s(e.$t("label.YourQuestMustContainLessThan50Steps"))+"\n      ")]):e._e(),i("p",{staticClass:"centered q-pa-md"},[i("q-btn",{attrs:{color:"primary",icon:"play_arrow",label:e.$t("label.TestYourQuest")},on:{click:function(t){e.testQuest()}}})],1),i("q-field",{attrs:{icon:"visibility",helper:e.$t("label.ActivateTheLanguageVisible"),label:e.$t("label.LanguagesPublished")}},e._l(e.form.fields.languages,function(t){return i("p",{key:t.lang},[i("q-toggle",{attrs:{disable:e.steps.items.length<6||e.steps.items.length>50,label:e.$t("language."+t.lang)},on:{input:function(i){e.publish(t.lang)}},model:{value:t.published,callback:function(i){e.$set(t,"published",i)},expression:"lang.published"}})],1)})),e.editor.items&&e.editor.items.length>0?i("q-field",{attrs:{icon:"people",helper:e.$t("label.InviteEditorsHelp"),label:e.$t("label.Editors")}},[e._l(e.editor.items,function(t){return i("p",{key:t.id},[i("q-toggle",{attrs:{label:t.name},on:{input:function(i){e.removeEditor(t.id)}},model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"item.checked"}})],1)}),i("q-input",{attrs:{type:"text","float-label":e.$t("label.InviteEditors"),after:[{icon:"add_circle",handler:function(){e.addEditor()}}]},model:{value:e.editor.new.email,callback:function(t){e.$set(e.editor.new,"email",t)},expression:"editor.new.email"}}),e.editor.new.isExisting?e._e():i("div",{staticClass:"q-field-bottom"},[i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.UserIsNotAGraalyUser")))])])],2):e._e(),e.quest.hasLocateMarkerSteps?i("q-field",{attrs:{icon:"fa fa-qrcode",label:e.$t("label.MarkersFile")}},[e.isHybrid?e._e():i("q-btn",{attrs:{color:"primary",icon:"fa fa-download",label:e.$t("label.Download"),type:"a",href:"statics/markers/all.pdf",download:""}}),e.isHybrid?i("q-btn",{attrs:{color:"primary",icon:"fa fa-download",label:e.$t("label.Download")},on:{click:function(t){e.downloadMarkers()}}}):e._e()],1):e._e(),"published"!==e.quest.status?i("p",{staticClass:"centered q-pa-md"},[i("q-btn",{attrs:{flat:"",color:"primary",icon:"delete",label:e.$t("label.RemoveThisQuest")},on:{click:function(t){e.removeQuest()}}})],1):e._e()],1),this.isEdition?i("q-tab-pane",{attrs:{name:"reviews"}},[e.reviews.length>0?i("q-list",{attrs:{highlight:""}},e._l(e.reviews,function(t){return i("q-item",{key:t._id},[i("q-item-side",{attrs:{avatar:e.getAvatar(t.userId.picture)}}),i("q-item-main",[i("q-item-tile",[e._v(e._s(t.userId.name))]),i("q-item-tile",[i("q-rating",{attrs:{readonly:""},model:{value:t.rating,callback:function(i){e.$set(t,"rating",i)},expression:"review.rating"}})],1),i("q-item-tile",[e._v("\n                "+e._s(t.text)+"\n              ")])],1),i("q-item-side",{attrs:{right:"",stamp:e.$options.filters.formatDate(t.created)}})],1)})):e._e(),0===e.reviews.length?i("p",[e._v(e._s(e.$t("label.QuestNotReviewed")))]):e._e()],1):e._e()],1),i("q-modal",{model:{value:e.steps.showNewStepPage,callback:function(t){e.$set(e.steps,"showNewStepPage",t)},expression:"steps.showNewStepPage"}},[i("div",[i("a",{staticClass:"float-right no-underline",attrs:{color:"grey"},on:{click:e.closeStepTypePage}},[i("q-icon",{staticClass:"medium-icon",attrs:{name:"close"}})],1),i("h1",{staticClass:"size-3 q-pl-md"},[e._v(e._s(e.$t("label.ChooseTheStepType")))]),i("div",{staticClass:"q-pa-md"},[i("p",{staticClass:"caption"},[e._v(e._s(e.$t("label.Transition")))]),i("q-list",e._l(e.filteredStepTypes("transition"),function(t){return i("q-collapsible",{key:t.code,attrs:{color:"primary",popup:"",group:"steptype",icon:"fas fa-"+t.icon,label:e.$t("stepType."+t.title)}},[i("div",[e._v("\n              "+e._s(e.$t("stepType."+t.description))+"\n              "),i("q-btn",{attrs:{color:"primary",label:e.$t("label.UseThisGame")},nativeOn:{click:function(i){e.selectStepType(t)}}})],1)])})),i("p",{staticClass:"caption"},[e._v(e._s(e.$t("label.Quest")))]),i("q-list",e._l(e.filteredStepTypes("enigma"),function(t){return i("q-collapsible",{key:t.code,attrs:{color:"primary",popup:"",group:"steptype",icon:"fas fa-"+t.icon,label:e.$t("stepType."+t.title)}},[i("div",[e._v("\n              "+e._s(e.$t("stepType."+t.description))+"\n              "),i("q-btn",{attrs:{color:"primary",label:e.$t("label.UseThisGame")},nativeOn:{click:function(i){e.selectStepType(t)}}})],1)])})),i("div",{staticClass:"q-pa-md centered"},[i("a",{on:{click:function(t){e.closeStepTypePage()}}},[e._v(e._s(e.$t("label.Close")))])])],1)])]),e.steps.showNewStepPageSettings?i("div",{staticClass:"fit",attrs:{id:"overview"}},[i("stepSettings",{attrs:{quest:e.quest,stepId:e.stepId,lang:e.languages.current,options:e.steps.new.type},on:{change:e.trackStepChanges,close:e.closeStepSettingsPage}})],1):e._e(),e.steps.showNewStepOverview?i("div",{staticClass:"fit",attrs:{id:"overview"}},[i("stepPlay",{attrs:{step:e.steps.new.overviewData,runId:"0",itemUsed:e.selectedItem,reload:e.steps.reloadStepPlay,lang:e.languages.current},on:{played:e.trackStepPlayed,success:e.trackStepSuccess,fail:e.trackStepFail,pass:e.trackStepPass}}),i("q-layout-footer",{staticClass:"step-menu"},[i("q-tabs",{model:{value:e.overview.tabSelected,callback:function(t){e.$set(e.overview,"tabSelected",t)},expression:"overview.tabSelected"}},[i("q-tab",{attrs:{slot:"title",name:"info",icon:"edit",disable:""},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"inventory",icon:"work"},on:{click:function(t){e.openInventory()}},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"hint",icon:"lightbulb outline",disable:!e.isHintAvailable()},on:{click:function(t){e.askForHint()}},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"previous",icon:"arrow_back"},on:{click:e.modifyStep},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"next",icon:"arrow_forward",disable:!e.canMoveNextStep&&!e.canPass},on:{click:e.closeOverview},slot:"title"})],1)],1)],1):e._e(),i("transition",{attrs:{name:"slideInBottom"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.inventory.isOpened,expression:"inventory.isOpened"}],staticClass:"inventory panel-bottom q-pa-md"},[i("h1",[e._v(e._s(e.$t("label.Inventory")))]),e.inventory.items.length>0?i("p",[e._v(e._s(e.$t("label.InventoryUsage")))]):e._e(),0===e.inventory.items.length?i("p",[e._v(e._s(e.$t("label.noItemInInventory")))]):e._e(),i("div",{staticClass:"inventory-items"},e._l(e.inventory.items,function(t,r){return i("div",{key:r,on:{click:function(i){e.selectItem(t)}}},[i("img",{attrs:{src:e.serverUrl+"/upload/quest/"+e.questId+"/step/new-item/"+t.picture}}),i("p",[e._v(e._s(t.title))])])}))])]),i("transition",{attrs:{name:"slideInBottom"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.hint.isOpened,expression:"hint.isOpened"}],staticClass:"hint panel-bottom q-pa-md"},[i("h1",[e._v(e._s(e.$t("label.Hint")))]),""===e.hint.label?i("p",[e._v(e._s(e.$t("label.NoHintForThisStep")))]):e._e(),""!==e.hint.label?i("p",[e._v(e._s(e.hint.label[e.languages.current]))]):e._e(),i("q-btn",{staticClass:"q-mb-xl",attrs:{color:"primary"},on:{click:function(t){e.askForHint()}}},[e._v(e._s(e.$t("label.Close")))])],1)]),null!==e.story.step&&"end"!==e.story.step?i("div",{staticClass:"fixed-bottom over-map fit"},[i("story",{attrs:{step:e.story.step,data:e.story.data},on:{next:function(t){e.story.step="end"}}})],1):e._e()],1)},Ri=[];xi._withStripped=!0;var qi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"q-pa-md"},[i("a",{staticClass:"float-right no-underline",attrs:{color:"grey"},on:{click:e.close}},[i("q-icon",{staticClass:"medium-icon",attrs:{name:"close"}})],1),null!==e.selectedStep.type?i("h1",{staticClass:"size-3"},[e._v(e._s(e.$t("stepType."+e.selectedStep.type.title)))]):e._e(),i("q-field",{attrs:{error:e.$v.selectedStep.form.title[e.lang].$error,count:e.titleMaxLength}},[i("q-input",{attrs:{type:"text","float-label":e.$t("label.Title")+" "+e.currentLanguageForLabels,maxlength:e.titleMaxLength},on:{blur:e.$v.selectedStep.form.title[e.lang].$touch},model:{value:e.selectedStep.form.title[e.lang],callback:function(t){e.$set(e.selectedStep.form.title,e.lang,t)},expression:"selectedStep.form.title[lang]"}}),e.$v.selectedStep.form.title[e.lang].$error?i("div",{staticClass:"q-field-bottom"},[e.$v.selectedStep.form.title[e.lang].required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseEnterATitle")))])]):e._e()],1),i("q-field",{attrs:{error:e.$v.selectedStep.form.text[e.lang].$error,"error-label":e.$t("label.KeepEnigmaQuestionsShort"),count:e.mainTextMaxLength}},[i("q-input",{staticClass:"full-width",attrs:{"float-label":e.$t("label."+e.mainTextFieldLabel)+" "+e.currentLanguageForLabels,type:"textarea","max-height":100,"min-rows":4},on:{blur:e.$v.selectedStep.form.text[e.lang].$touch,input:e.$v.selectedStep.form.text[e.lang].$touch},model:{value:e.selectedStep.form.text[e.lang],callback:function(t){e.$set(e.selectedStep.form.text,e.lang,t)},expression:"selectedStep.form.text[lang]"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.options.hasBackgroundImage&&"main"===e.options.hasBackgroundImage,expression:"options.hasBackgroundImage && options.hasBackgroundImage === 'main'"}],staticClass:"background-upload"},[i("q-btn",{staticClass:"full-width",attrs:{type:"button"}},[i("q-icon",{attrs:{name:"cloud_upload"}}),i("label",{attrs:{for:"picturefile1"}},[e._v(e._s(e.$t("label.UploadABackgroundImage")))]),i("input",{staticStyle:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute","z-index":"-1"},attrs:{name:"picturefile1",id:"picturefile1",type:"file",accept:"image/*"},on:{input:e.uploadBackgroundImage}})],1),i("p",{directives:[{name:"show",rawName:"v-show",value:e.$v.selectedStep.form.backgroundImage&&e.$v.selectedStep.form.backgroundImage.$error,expression:"$v.selectedStep.form.backgroundImage && $v.selectedStep.form.backgroundImage.$error"}],staticClass:"error-label"},[e._v(e._s(e.$t("label.PleaseUploadAFile")))]),e.selectedStep.form.backgroundImage?e._e():i("p",[e._v(e._s(e.$t("label.WarningImageResize")))]),null!==e.selectedStep.form.backgroundImage&&""!==e.selectedStep.form.backgroundImage&&"find-item"!==e.options.code&&"use-item"!==e.options.code?i("div",[i("p",[e._v(e._s(e.$t("label.YourPicture"))+" :")]),null!==e.questId?i("img",{attrs:{src:e.serverUrl+"/upload/quest/"+e.questId+"/step/background/"+e.selectedStep.form.backgroundImage}}):e._e(),i("br"),i("a",{on:{click:e.resetBackgroundImage}},[e._v(e._s(e.$t("label.remove")))])]):e._e()],1),"info-video"==e.options.code?i("div",[i("q-btn",{staticClass:"full-width",attrs:{type:"button"}},[i("q-icon",{attrs:{name:"cloud_upload"}}),i("label",{attrs:{for:"videofile"}},[e._v(e._s(e.$t("label.UploadAVideo")))]),i("input",{staticStyle:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute","z-index":"-1"},attrs:{name:"videofile",id:"videofile",type:"file",accept:"video/mp4,video/x-m4v,video/*"},on:{change:e.uploadVideo}})],1),i("div",[i("p",{directives:[{name:"show",rawName:"v-show",value:e.$v.selectedStep.form.videoStream.$error,expression:"$v.selectedStep.form.videoStream.$error"}],staticClass:"error-label"},[e._v(e._s(e.$t("label.PleaseUploadAFile")))]),i("p",{directives:[{name:"show",rawName:"v-show",value:null===e.selectedStep.form.videoStream,expression:"selectedStep.form.videoStream === null"}]},[e._v(e._s(e.$t("label.NoVideoUploaded")))]),null!==e.selectedStep.form.videoStream?i("video",{staticClass:"full-width",attrs:{controls:"",controlsList:"nodownload"}},[i("source",{attrs:{src:e.serverUrl+"/upload/quest/"+e.questId+"/step/video/"+e.selectedStep.form.videoStream,type:"video/mp4"}})]):e._e()])],1):e._e(),"new-item"==e.options.code?i("div",{staticClass:"inventory"},[i("q-radio",{attrs:{val:"list",label:e.$t("label.SelectPictureInTheList")},model:{value:e.imageSource,callback:function(t){e.imageSource=t},expression:"imageSource"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:"list"===e.imageSource,expression:"imageSource === 'list'"}],staticClass:"row objects-list"},e._l(e.objectsList,function(t,r){return i("div",{key:r,staticClass:"col-2 q-pa-sm"},[i("img",{class:{selected:e.selectedStep.form.options.picture&&e.selectedStep.form.options.picture==="statics/images/object/"+e.objectsList[r].file},staticStyle:{width:"100%"},attrs:{src:"statics/images/object/"+t.thumb},on:{click:function(t){e.selectObject(r)}}})])})),i("q-radio",{attrs:{val:"upload",label:e.$t("label.UploadTheItemPicture")},model:{value:e.imageSource,callback:function(t){e.imageSource=t},expression:"imageSource"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:"upload"===e.imageSource,expression:"imageSource === 'upload'"}]},[i("q-btn",{staticClass:"full-width",attrs:{type:"button"}},[i("label",{attrs:{for:"itemfile"}},[e._v(e._s(e.$t("label.UploadTheItemPicture")))]),i("input",{staticStyle:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute","z-index":"-1"},attrs:{name:"itemfile",id:"itemfile",type:"file",accept:"image/*"},on:{change:e.uploadItemImage}})]),i("p",{directives:[{name:"show",rawName:"v-show",value:e.$v.selectedStep.form.options.picture.$error,expression:"$v.selectedStep.form.options.picture.$error"}],staticClass:"error-label"},[e._v(e._s(e.$t("label.PleaseUploadAFile")))]),i("p",[e._v(e._s(e.$t("label.WarningImageSizeSquare")))])],1),null!==e.selectedStep.form.options&&e.selectedStep.form.options.picture&&null!==e.selectedStep.form.options.picture?i("div",[i("p",[e._v(e._s(e.$t("label.YourItemPicture"))+" :")]),i("img",{staticStyle:{width:"100%"},attrs:{src:-1!==e.selectedStep.form.options.picture.indexOf("statics/")?e.selectedStep.form.options.picture:e.serverUrl+"/upload/quest/"+e.questId+"/step/new-item/"+e.selectedStep.form.options.picture}})]):e._e(),i("q-field",{attrs:{error:e.$v.selectedStep.form.options.title.$error,"error-label":e.$t("label.RequiredField")}},[i("q-input",{attrs:{"float-label":e.$t("label.ObjectName")},model:{value:e.selectedStep.form.options.title,callback:function(t){e.$set(e.selectedStep.form.options,"title",t)},expression:"selectedStep.form.options.title"}})],1)],1):e._e(),"character"==e.options.code?i("div",[i("h2",[e._v(e._s(e.$t("label.Character")))]),i("div",{staticClass:"answer"},[i("q-radio",{attrs:{val:"1"},model:{value:e.selectedStep.form.options.character,callback:function(t){e.$set(e.selectedStep.form.options,"character",t)},expression:"selectedStep.form.options.character"}}),e._m(0)],1),i("div",{staticClass:"answer"},[i("q-radio",{attrs:{val:"2"},model:{value:e.selectedStep.form.options.character,callback:function(t){e.$set(e.selectedStep.form.options,"character",t)},expression:"selectedStep.form.options.character"}}),e._m(1)],1),i("div",{staticClass:"answer"},[i("q-radio",{attrs:{val:"3"},model:{value:e.selectedStep.form.options.character,callback:function(t){e.$set(e.selectedStep.form.options,"character",t)},expression:"selectedStep.form.options.character"}}),e._m(2)],1),i("div",{staticClass:"answer"},[i("q-radio",{attrs:{val:"4"},model:{value:e.selectedStep.form.options.character,callback:function(t){e.$set(e.selectedStep.form.options,"character",t)},expression:"selectedStep.form.options.character"}}),e._m(3)],1)]):e._e(),"geolocation"==e.options.code?i("div",{staticClass:"location-gps"},[i("h2",[e._v(e._s(e.$t("label.AddressToFind")))]),i("div",{staticClass:"fields-group"},[i("div",{staticClass:"location-address"},[i("div",{staticClass:"q-if row no-wrap items-center relative-position q-input q-if-has-label text-primary"},[i("gmap-autocomplete",{staticClass:"col q-input-target text-left",attrs:{id:"destination",placeholder:e.$t("label.Address")},on:{place_changed:e.setLocation},model:{value:e.selectedStep.form.options.destination,callback:function(t){e.$set(e.selectedStep.form.options,"destination",t)},expression:"selectedStep.form.options.destination"}})],1),i("a",{on:{click:function(t){e.getCurrentLocation()}}},[i("img",{attrs:{src:"statics/icons/game/location.png"}})])]),i("q-list",[i("q-collapsible",{attrs:{icon:"explore",label:e.$t("label.OrDefineGPSLocation")}},[i("div",{staticClass:"location-gps-inputs"},[i("div",[i("label",{attrs:{for:"answer-latitude"}},[e._v(e._s(e.$t("label.Latitude")))]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.selectedStep.form.options.lat,expression:"selectedStep.form.options.lat",modifiers:{number:!0}}],attrs:{type:"number",id:"answer-latitude",placeholder:"par ex. 5,65487",step:"any"},domProps:{value:e.selectedStep.form.options.lat},on:{input:function(t){t.target.composing||e.$set(e.selectedStep.form.options,"lat",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.$v.selectedStep.form.options.lat.$error,expression:"$v.selectedStep.form.options.lat.$error"}],staticClass:"error-label"},[e._v(e._s(e.$t("label.RequiredField")))])]),i("div",[i("label",{attrs:{for:"answer-longitude"}},[e._v(e._s(e.$t("label.Longitude")))]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.selectedStep.form.options.lng,expression:"selectedStep.form.options.lng",modifiers:{number:!0}}],attrs:{type:"number",id:"answer-longitude",placeholder:"par ex. 45,49812",step:"any"},domProps:{value:e.selectedStep.form.options.lng},on:{input:function(t){t.target.composing||e.$set(e.selectedStep.form.options,"lng",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.$v.selectedStep.form.options.lng.$error,expression:"$v.selectedStep.form.options.lng.$error"}],staticClass:"error-label"},[e._v(e._s(e.$t("label.RequiredField")))])])]),i("div",[i("a",{on:{click:function(t){e.getMyGPSLocation()}}},[e._v(e._s(e.$t("label.UseMyCurrentGPSLocation")))])])])],1)],1)]):e._e(),"choose"==e.options.code?i("div",[i("h2",[e._v(e._s(e.$t("label.ResponseTypes")))]),i("q-radio",{attrs:{val:"text",label:e.$t("label.Texts")},on:{click:e.$v.selectedStep.form.options.$touch},model:{value:e.answerType,callback:function(t){e.answerType=t},expression:"answerType"}}),i("q-radio",{attrs:{val:"image",label:e.$t("label.Pictures")},on:{click:e.$v.selectedStep.form.options.$touch},model:{value:e.answerType,callback:function(t){e.answerType=t},expression:"answerType"}}),i("h2",[e._v(e._s(e.$t("label.PossibleAnswers")))]),i("p",[e._v(e._s(e.$t("label.SelectTheGoodAnswer")))]),e._l(e.selectedStep.form.options,function(t,r){return i("div",{key:r,staticClass:"answer"},[i("q-radio",{attrs:{val:r},model:{value:e.selectedStep.form.answers,callback:function(t){e.$set(e.selectedStep.form,"answers",t)},expression:"selectedStep.form.answers"}}),i("q-input",{directives:[{name:"show",rawName:"v-show",value:"text"===e.answerType,expression:"answerType === 'text'"}],on:{input:function(t){e.$v.selectedStep.form.options&&e.$v.selectedStep.form.options.$each[r].text.$touch}},model:{value:t.text,callback:function(i){e.$set(t,"text",i)},expression:"option.text"}}),"text"===e.answerType&&e.$v.selectedStep.form.options&&!e.$v.selectedStep.form.options.$each[r].text.required?i("p",{staticClass:"error-label"},[e._v(e._s(e.$t("label.RequiredField")))]):e._e(),i("p",{directives:[{name:"show",rawName:"v-show",value:"image"===e.answerType&&null===t.imagePath,expression:"answerType === 'image' && option.imagePath === null"}],class:{"error-label":e.$v.selectedStep.form.options&&!e.$v.selectedStep.form.options.$each[r].imagePath.required}},[e._v(e._s(e.$t("label.NoPictureUploaded")))]),i("p",["image"===e.answerType&&null!==t.imagePath?i("img",{attrs:{src:e.serverUrl+"/upload/quest/"+e.questId+"/step/choose-image/"+t.imagePath}}):e._e()]),i("q-btn",{directives:[{name:"show",rawName:"v-show",value:"image"===e.answerType,expression:"answerType === 'image'"}]},[i("label",{attrs:{for:"answerImage"+r}},[i("q-icon",{attrs:{name:"file upload"}})],1),i("input",{staticStyle:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute","z-index":"-1"},attrs:{name:"answerImage"+r,id:"answerImage"+r,type:"file",accept:"image/*"},on:{change:function(t){e.uploadAnswerImage(r,t)}}})]),i("q-btn",{on:{click:function(t){e.deleteAnswer(r)}}},[i("q-icon",{attrs:{name:"clear"}})],1)],1)}),i("q-btn",{staticClass:"full-width add-answer",on:{click:function(t){e.addAnswer()}}},[e._v("\n      "+e._s(e.$t("label.AddAnAnswer"))+"\n    ")])],2):e._e(),"write-text"==e.options.code?i("div",[i("q-field",{attrs:{error:e.$v.selectedStep.form.answers.$error,"error-label":e.$t("label.RequiredField")}},[i("q-input",{attrs:{"float-label":e.$t("label.ExpectedAnswer")},model:{value:e.selectedStep.form.answers,callback:function(t){e.$set(e.selectedStep.form,"answers",t)},expression:"selectedStep.form.answers"}})],1)],1):e._e(),"code-keypad"==e.options.code?i("div",[i("q-field",{attrs:{error:e.$v.selectedStep.form.answers.$error,"error-label":e.$t("label.CodeKeypadFormatError")}},[i("q-input",{attrs:{"float-label":e.$t("label.Code"),"min-length":"2","max-length":"6"},on:{blur:e.$v.selectedStep.form.answers.$touch,input:e.$v.selectedStep.form.answers.$touch},model:{value:e.selectedStep.form.answers,callback:function(t){e.$set(e.selectedStep.form,"answers",t)},expression:"selectedStep.form.answers"}})],1)],1):e._e(),"code-color"==e.options.code?i("div",{staticClass:"code-color"},[i("q-select",{attrs:{"float-label":e.$t("label.NumberOfColorsInTheCode"),options:e.numberOfDigitsOptions},on:{input:e.changeDigitsNumberInCode},model:{value:e.selectedStep.form.options.codeLength,callback:function(t){e.$set(e.selectedStep.form.options,"codeLength",t)},expression:"selectedStep.form.options.codeLength"}}),i("h2",[e._v(e._s(e.$t("label.ExpectedColorCodeAnswer")))]),i("table",[i("tr",e._l(e.unformatedAnswer,function(t,r){return i("td",{key:r},[i("q-select",{ref:"colorSelect"+r,refInFor:!0,attrs:{options:e.colorsForCode},model:{value:e.unformatedAnswer[r],callback:function(t){e.$set(e.unformatedAnswer,r,t)},expression:"unformatedAnswer[index]"}})],1)})),i("tr",e._l(e.unformatedAnswer,function(t,r){return i("td",{key:r},[i("div",{staticClass:"color-bubble",style:"background-color: "+e.unformatedAnswer[r],on:{click:function(t){e.triggerClickOnColorSelect(r)}}},[e._v(" ")])])}))])],1):e._e(),"code-image"==e.options.code?i("div",{staticClass:"code-image"},[i("h2",[e._v(e._s(e.$t("label.ImagesUsedForCode")))]),e._l(e.selectedStep.form.options.images,function(t,r){return i("div",{key:r,staticClass:"answer"},[i("p",{directives:[{name:"show",rawName:"v-show",value:null===t.imagePath,expression:"image.imagePath === null"}],class:{"error-label":e.$v.selectedStep.form.options&&!e.$v.selectedStep.form.options.$each[r].imagePath.required}},[e._v(e._s(e.$t("label.NoPictureUploaded")))]),i("p",[null!==t.imagePath?i("img",{attrs:{src:e.serverUrl+"/upload/quest/"+e.questId+"/step/code-image/"+t.imagePath}}):e._e()]),i("q-btn",[i("label",{attrs:{for:"answerImage"+r}},[i("q-icon",{attrs:{name:"file upload"}})],1),i("input",{staticStyle:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute","z-index":"-1"},attrs:{name:"answerImage"+r,id:"answerImage"+r,type:"file",accept:"image/*"},on:{change:function(t){e.uploadCodeAnswerImage(r,t)}}})]),i("q-btn",{on:{click:function(t){e.deleteCodeAnswer(r)}}},[i("q-icon",{attrs:{name:"clear"}})],1)],1)}),i("q-btn",{staticClass:"full-width add-answer",on:{click:function(t){e.addCodeAnswer()}}},[e._v("\n      "+e._s(e.$t("label.AddAnImage"))+"\n    ")]),e.selectedStep.form.options.images&&e.selectedStep.form.options.images.length>0&&e.selectedStep.form.options.images[0].imagePath?i("div",[i("h2",[e._v(e._s(e.$t("label.ExpectedCode")))]),i("q-select",{attrs:{"float-label":e.$t("label.NumberOfImagesInTheCode"),options:e.numberOfDigitsOptions},on:{input:e.changeDigitsNumberInCode},model:{value:e.selectedStep.form.options.codeLength,callback:function(t){e.$set(e.selectedStep.form.options,"codeLength",t)},expression:"selectedStep.form.options.codeLength"}}),i("table",[i("tr",e._l(e.unformatedAnswer,function(t,r){return i("td",{key:r,staticClass:"text-center",on:{click:function(t){e.previousCodeAnswer(r)}}},[i("q-icon",{attrs:{name:"keyboard_arrow_up"}})],1)})),i("tr",e._l(e.unformatedAnswer,function(t,r){return i("td",{key:r},[i("img",{attrs:{id:"image-code-setting-"+r,src:e.serverUrl+"/upload/quest/"+e.questId+"/step/code-image/"+e.selectedStep.form.options.images[t].imagePath}})])})),i("tr",e._l(e.unformatedAnswer,function(t,r){return i("td",{key:r,staticClass:"text-center",on:{click:function(t){e.nextCodeAnswer(r)}}},[i("q-icon",{attrs:{name:"keyboard_arrow_down"}})],1)}))])],1):e._e()],2):e._e(),"image-recognition"==e.options.code?i("div",{staticClass:"image-recognition"},[i("q-btn",{staticClass:"full-width",attrs:{type:"button"}},[i("label",{attrs:{for:"image-to-recognize"}},[e._v(e._s(e.$t("label.UploadThePictureOfTheObjectToFind")))]),i("input",{staticStyle:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute","z-index":"-1"},attrs:{name:"image-to-recognize",id:"image-to-recognize",type:"file",accept:"image/*"},on:{change:e.uploadImageToRecognize}})]),i("p",{directives:[{name:"show",rawName:"v-show",value:e.$v.selectedStep.form.answers.$error,expression:"$v.selectedStep.form.answers.$error"}],staticClass:"error-label"},[e._v(e._s(e.$t("label.PleaseUploadAFile")))]),""!=e.selectedStep.form.answers?i("div",[i("p",[e._v(e._s(e.$t("label.UploadedPicture"))+" :")]),i("img",{attrs:{src:e.serverUrl+"/upload/quest/"+e.questId+"/step/image-recognition/"+e.selectedStep.form.answers}})]):e._e()],1):e._e(),"jigsaw-puzzle"===e.options.code?i("div",[i("div",{staticClass:"background-upload"},[i("q-btn",{staticClass:"full-width",attrs:{type:"button"}},[i("label",{attrs:{for:"puzzlefile"}},[e._v(e._s(e.$t("label.UploadThePuzzlePicture")))]),i("input",{staticStyle:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute","z-index":"-1"},attrs:{name:"puzzlefile",id:"puzzlefile",type:"file",accept:"image/*"},on:{change:e.uploadPuzzleImage}})]),i("p",{directives:[{name:"show",rawName:"v-show",value:e.$v.selectedStep.form.options.picture&&e.$v.selectedStep.form.options.picture.$error,expression:"$v.selectedStep.form.options.picture && $v.selectedStep.form.options.picture.$error"}],staticClass:"error-label"},[e._v(e._s(e.$t("label.PleaseUploadAFile")))]),e.selectedStep.form.options.picture?e._e():i("p",[e._v(e._s(e.$t("label.WarningImageSizeSquare")))]),e.selectedStep.form.options.picture?i("div",[i("p",[e._v(e._s(e.$t("label.YourPuzzlePicture"))+" :")]),i("img",{attrs:{src:e.serverUrl+"/upload/quest/"+e.questId+"/step/jigsaw-puzzle/"+e.selectedStep.form.options.picture}})]):e._e()],1),i("div",[i("q-select",{attrs:{"float-label":e.$t("label.Difficulty"),options:e.jigsawLevels},model:{value:e.selectedStep.form.options.level,callback:function(t){e.$set(e.selectedStep.form.options,"level",t)},expression:"selectedStep.form.options.level"}})],1)]):e._e(),"memory"===e.options.code?i("div",[i("h2",[e._v(e._s(e.$t("label.ImagesUsedForCards")))]),e._l(e.memoryItems,function(t,r){return i("div",{key:r,staticClass:"answer"},[i("p",{directives:[{name:"show",rawName:"v-show",value:null===t.imagePath,expression:"option.imagePath === null"}],staticClass:"error-label"},[e._v(e._s(e.$t("label.NoPictureUploaded")))]),i("p",[null!==t.imagePath?i("img",{attrs:{src:e.serverUrl+"/upload/quest/"+e.questId+"/step/memory/"+t.imagePath}}):e._e()]),i("q-btn",[i("label",{attrs:{for:"answerImage"+r}},[i("q-icon",{attrs:{name:"file upload"}})],1),i("input",{staticStyle:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute","z-index":"-1"},attrs:{name:"answerImage"+r,id:"answerImage"+r,type:"file",accept:"image/*"},on:{change:function(t){e.uploadMemoryImage(r,t)}}})]),i("q-btn",{on:{click:function(t){e.deleteMemoryAnswer(r)}}},[i("q-icon",{attrs:{name:"clear"}})],1)],1)}),i("q-btn",{staticClass:"full-width add-answer",on:{click:function(t){e.addAnswer()}}},[e._v("\n      "+e._s(e.$t("label.AddAnAnswer"))+"\n    ")])],2):e._e(),"use-item"==e.options.code&&e.selectedStep.form.backgroundImage?i("div",{staticClass:"find-item"},[i("p",[e._v(e._s(e.$t("label.ClickOnTheLocationTheItemMustBeUsed"))+" :")]),i("div",{ref:"useItemPicture",style:"overflow: hidden; background-image: url("+e.serverUrl+"/upload/quest/"+e.questId+"/step/background/"+e.selectedStep.form.backgroundImage+"); background-position: center; background-size: 100% 100%; background-repeat: no-repeat; width: 90vw; height: 120vw; margin: auto;",attrs:{id:"useItemPicture"},on:{click:function(t){e.getClickCoordinates(t)}}},[i("img",{style:"position: relative; z-index: 500; top: 52vw; left: 37vw; width: 16vw; height: 16vw;",attrs:{id:"cross",src:"statics/icons/game/find-item-locator.png"}})])]):e._e(),"use-item"==e.options.code?i("div",{staticClass:"inventory"},[i("q-field",{attrs:{error:e.$v.selectedStep.form.answerItem&&e.$v.selectedStep.form.answerItem.$error,"error-label":e.$t("label.RequiredField")}},[i("q-select",{attrs:{"float-label":e.$t("label.ObjectToUse"),options:e.questItemsAsOptions},on:{change:e.$v.selectedStep.form.answerItem.$touch},model:{value:e.selectedStep.form.answerItem,callback:function(t){e.$set(e.selectedStep.form,"answerItem",t)},expression:"selectedStep.form.answerItem"}})],1),null!==e.selectedStep.form.answerItem?i("div",[e._v("\n      "+e._s(e.$t("label.SelectedObject"))+" :\n      "),i("img",{staticStyle:{width:"100%"},attrs:{src:-1!==e.selectedStep.form.answerItem.indexOf("statics/")?e.selectedStep.form.answerItem:e.serverUrl+"/upload/quest/"+e.questId+"/step/new-item/"+e.selectedStep.form.answerItem}})]):e._e()],1):e._e(),"find-item"===e.options.code&&null!==e.selectedStep.form.backgroundImage&&""!==e.selectedStep.form.backgroundImage?i("div",{staticClass:"find-item"},[i("p",[e._v(e._s(e.$t("label.ClickOnTheItemThatIsToFind"))+" :")]),i("div",{ref:"findItemPicture",style:"overflow: hidden;background-image: url("+e.serverUrl+"/upload/quest/"+e.questId+"/step/background/"+e.selectedStep.form.backgroundImage+"); background-position: center; background-size: 100% 100%; background-repeat: no-repeat; width: 90vw; height: 120vw; margin: auto;",attrs:{id:"findItemPicture"},on:{click:function(t){e.getClickCoordinates(t)}}},[i("img",{style:"position: relative; z-index: 500; top: 52vw; left: 37vw; width: 16vw; height: 16vw;",attrs:{id:"cross",src:"statics/icons/game/find-item-locator.png"}})])]):e._e(),"locate-item-ar"===e.options.code?i("div",{staticClass:"locate-item-ar"},[i("h2",[e._v(e._s(e.$t("label.ObjectFormat")))]),i("div",{staticClass:"fields-group"},[i("q-radio",{attrs:{val:!1,label:e.$t("label.2DPicture")},model:{value:e.selectedStep.form.options.is3D,callback:function(t){e.$set(e.selectedStep.form.options,"is3D",t)},expression:"selectedStep.form.options.is3D"}}),i("q-radio",{attrs:{val:!0,label:e.$t("label.3DObject")},model:{value:e.selectedStep.form.options.is3D,callback:function(t){e.$set(e.selectedStep.form.options,"is3D",t)},expression:"selectedStep.form.options.is3D"}}),e.selectedStep.form.options.is3D?e._e():i("div",[i("q-btn",{staticClass:"full-width",attrs:{type:"button"}},[i("label",{attrs:{for:"item-to-find"}},[e._v(e._s(e.$t("label.UploadThePictureOfTheObjectToFind")))]),i("input",{staticStyle:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute","z-index":"-1"},attrs:{name:"item-to-find",id:"item-to-find",type:"file",accept:"image/png"},on:{change:e.uploadItemImage}})]),i("p",{directives:[{name:"show",rawName:"v-show",value:!e.selectedStep.form.options.picture,expression:"!selectedStep.form.options.picture"}]},[e._v(e._s(e.$t("label.PleaseUploadAFileInPNGFormat")))]),i("p",{directives:[{name:"show",rawName:"v-show",value:e.$v.selectedStep.form.options.picture.$error,expression:"$v.selectedStep.form.options.picture.$error"}],staticClass:"error-label"},[e._v(e._s(e.$t("label.PleaseUploadAFile")))]),e.selectedStep.form.options.picture?i("div",[i("p",[e._v(e._s(e.$t("label.UploadedPicture"))+" :")]),i("img",{attrs:{src:e.serverUrl+"/upload/quest/"+e.questId+"/step/locate-item-ar/"+e.selectedStep.form.options.picture}})]):e._e(),i("div",[i("p",[e._v(e._s(e.$t("label.ObjectSize")))]),i("q-slider",{attrs:{min:.5,max:10,step:.1,"label-always":"",decimals:1,"label-value":(e.selectedStep.form.options.objectSize||.5)+"m"},model:{value:e.selectedStep.form.options.objectSize,callback:function(t){e.$set(e.selectedStep.form.options,"objectSize",t)},expression:"selectedStep.form.options.objectSize"}})],1)],1),e.selectedStep.form.options.is3D?i("div",[i("q-select",{attrs:{"float-label":e.$t("label.Choose3DModel"),options:e.selectModel3DOptions},model:{value:e.selectedStep.form.options.model,callback:function(t){e.$set(e.selectedStep.form.options,"model",t)},expression:"selectedStep.form.options.model"}}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.$v.selectedStep.form.options.model.$error,expression:"$v.selectedStep.form.options.model.$error"}],staticClass:"error-label"},[e._v(e._s(e.$t("label.RequiredField")))])],1):e._e()],1),i("h2",[e._v(e._s(e.$t("label.AddressToFind")))]),i("div",{staticClass:"fields-group"},[i("div",{staticClass:"location-address"},[i("div",{staticClass:"q-if row no-wrap items-center relative-position q-input q-if-has-label text-primary"},[i("gmap-autocomplete",{staticClass:"col q-input-target text-left",attrs:{id:"destination",placeholder:e.$t("label.Address")},on:{place_changed:e.setLocation},model:{value:e.selectedStep.form.options.destination,callback:function(t){e.$set(e.selectedStep.form.options,"destination",t)},expression:"selectedStep.form.options.destination"}})],1),i("a",{on:{click:function(t){e.getCurrentLocation()}}},[i("img",{attrs:{src:"statics/icons/game/location.png"}})])]),i("q-list",[i("q-collapsible",{attrs:{icon:"explore",label:e.$t("label.OrDefineGPSLocation")}},[i("div",{staticClass:"location-gps-inputs"},[i("div",[i("label",{attrs:{for:"answer-latitude"}},[e._v(e._s(e.$t("label.Latitude")))]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.selectedStep.form.options.lat,expression:"selectedStep.form.options.lat",modifiers:{number:!0}}],attrs:{type:"number",id:"answer-latitude",placeholder:"par ex. 5,65487",step:"any"},domProps:{value:e.selectedStep.form.options.lat},on:{input:function(t){t.target.composing||e.$set(e.selectedStep.form.options,"lat",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.$v.selectedStep.form.options.lat.$error,expression:"$v.selectedStep.form.options.lat.$error"}],staticClass:"error-label"},[e._v(e._s(e.$t("label.RequiredField")))])]),i("div",[i("label",{attrs:{for:"answer-longitude"}},[e._v(e._s(e.$t("label.Longitude")))]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.selectedStep.form.options.lng,expression:"selectedStep.form.options.lng",modifiers:{number:!0}}],attrs:{type:"number",id:"answer-longitude",placeholder:"par ex. 45,49812",step:"any"},domProps:{value:e.selectedStep.form.options.lng},on:{input:function(t){t.target.composing||e.$set(e.selectedStep.form.options,"lng",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.$v.selectedStep.form.options.lng.$error,expression:"$v.selectedStep.form.options.lng.$error"}],staticClass:"error-label"},[e._v(e._s(e.$t("label.RequiredField")))])])]),i("div",[i("a",{on:{click:function(t){e.getMyGPSLocation()}}},[e._v(e._s(e.$t("label.UseMyCurrentGPSLocation")))])])])],1)],1)]):e._e(),"locate-marker"===e.options.code&&"string"===typeof e.selectedStep.form.answers?i("div",{staticClass:"locate-marker"},[i("h2",[e._v(e._s(e.$t("label.Marker")))]),i("p",[i("img",{attrs:{src:"statics/markers/"+e.selectedStep.form.answers+"/marker.png"}}),i("span",[e._v(e._s(e.selectedStep.form.answers))]),i("q-btn",{attrs:{color:"primary",label:e.$t("label.Choose")},on:{click:function(t){e.openChooseMarkerModal()}}})],1),i("q-select",{attrs:{"float-label":e.$t("label.TransparentImageAboveCameraStream"),options:e.layersForMarkersOptions},model:{value:e.selectedStep.form.options.layerCode,callback:function(t){e.$set(e.selectedStep.form.options,"layerCode",t)},expression:"selectedStep.form.options.layerCode"}}),i("q-modal",{model:{value:e.markerModalOpened,callback:function(t){e.markerModalOpened=t},expression:"markerModalOpened"}},[i("h2",[e._v(e._s(e.$t("label.ChooseTheMarker")))]),e._l(e.markersList,function(t,r){return i("q-btn",{key:r,staticClass:"full-width",attrs:{color:"white"},on:{click:function(i){e.selectMarker(t)}}},[i("img",{attrs:{src:"statics/markers/"+t+"/marker.png"}}),i("span",[e._v(e._s(t))])])}),i("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Cancel"},on:{click:function(t){e.closeChooseMarkerModal()}}})],2)],1):e._e(),i("q-list",{directives:[{name:"show",rawName:"v-show",value:e.options.hasOptions,expression:"options.hasOptions"}],attrs:{separator:""}},[i("q-collapsible",{attrs:{icon:"add_box",label:e.$t("label.OtherOptions")}},["geolocation"==e.options.code||"locate-item-ar"==e.options.code?i("div",{staticClass:"location-gps"},[i("q-toggle",{attrs:{label:e.$t("label.DisplayDistanceBetweenUserAndLocation")},model:{value:e.selectedStep.form.showDistanceToTarget,callback:function(t){e.$set(e.selectedStep.form,"showDistanceToTarget",t)},expression:"selectedStep.form.showDistanceToTarget"}}),i("q-toggle",{attrs:{label:e.$t("label.DisplayDirectionArrow")},model:{value:e.selectedStep.form.showDirectionToTarget,callback:function(t){e.$set(e.selectedStep.form,"showDirectionToTarget",t)},expression:"selectedStep.form.showDirectionToTarget"}})],1):e._e(),"memory"===e.options.code?i("div",[i("q-toggle",{attrs:{label:e.$t("label.LastItemIsUniq")},model:{value:e.selectedStep.form.options.lastIsSingle,callback:function(t){e.$set(e.selectedStep.form.options,"lastIsSingle",t)},expression:"selectedStep.form.options.lastIsSingle"}})],1):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.options.hasBackgroundImage&&"option"===e.options.hasBackgroundImage,expression:"options.hasBackgroundImage && options.hasBackgroundImage === 'option'"}],staticClass:"background-upload"},[i("q-btn",{staticClass:"full-width",attrs:{type:"button"}},[i("q-icon",{attrs:{name:"cloud_upload"}}),i("label",{attrs:{for:"picturefile2"}},[e._v(e._s(e.$t("label.UploadABackgroundImage")))]),i("input",{staticStyle:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute","z-index":"-1"},attrs:{name:"picturefile2",id:"picturefile2",type:"file",accept:"image/*"},on:{input:e.uploadBackgroundImage}})],1),i("p",{directives:[{name:"show",rawName:"v-show",value:e.$v.selectedStep.form.backgroundImage&&e.$v.selectedStep.form.backgroundImage.$error,expression:"$v.selectedStep.form.backgroundImage && $v.selectedStep.form.backgroundImage.$error"}],staticClass:"error-label"},[e._v(e._s(e.$t("label.PleaseUploadAFile")))]),e.selectedStep.form.backgroundImage?e._e():i("p",[e._v(e._s(e.$t("label.WarningImageResize")))]),null!==e.selectedStep.form.backgroundImage&&""!==e.selectedStep.form.backgroundImage&&"find-item"!==e.options.code&&"use-item"!==e.options.code?i("div",[i("p",[e._v(e._s(e.$t("label.YourPicture"))+" :")]),null!==e.questId?i("img",{attrs:{src:e.serverUrl+"/upload/quest/"+e.questId+"/step/background/"+e.selectedStep.form.backgroundImage}}):e._e(),i("br"),i("a",{on:{click:e.resetBackgroundImage}},[e._v(e._s(e.$t("label.remove")))])]):e._e()],1),i("q-field",[i("q-input",{staticClass:"full-width",attrs:{"float-label":e.$t("label.ExtraTextFieldLabel"),type:"textarea","max-height":100,"min-rows":4},model:{value:e.selectedStep.form.extraText[e.lang],callback:function(t){e.$set(e.selectedStep.form.extraText,e.lang,t)},expression:"selectedStep.form.extraText[lang]"}})],1)],1)],1),i("q-list",{directives:[{name:"show",rawName:"v-show",value:"yes"==e.options.showTrick,expression:"options.showTrick == 'yes'"}],attrs:{separator:""}},[i("q-collapsible",{attrs:{icon:"lightbulb outline",label:e.$t("label.Hint")}},[i("q-input",{attrs:{"float-label":e.$t("label.HintText")},model:{value:e.selectedStep.form.hint[e.lang],callback:function(t){e.$set(e.selectedStep.form.hint,e.lang,t)},expression:"selectedStep.form.hint[lang]"}})],1)],1),i("q-btn",{staticClass:"full-width",attrs:{color:"primary"},on:{click:e.submitStep}},[e._v(e._s(e.$t("label.SaveThisStep")))]),i("q-modal",{attrs:{id:"save-changes-modal",minimized:""},model:{value:e.saveChangesModalOpened,callback:function(t){e.saveChangesModalOpened=t},expression:"saveChangesModalOpened"}},[i("a",{staticClass:"float-right no-underline",on:{click:function(t){e.saveChangesModalOpened=!1}}},[i("q-icon",{staticClass:"medium-icon",attrs:{name:"close"}})],1),i("p",[e._v(e._s(e.$t("label.ConfirmSaveChanges")))]),i("div",{staticClass:"full-width"},[i("q-btn",{attrs:{color:"primary",label:e.$t("label.Yes")},on:{click:function(t){e.submitStep()}}}),i("q-btn",{attrs:{color:"primary",label:e.$t("label.No")},on:{click:function(t){e.$emit("close")}}})],1)])],1)},Pi=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[i("img",{attrs:{src:"statics/icons/story/character1_attitude1.png"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[i("img",{attrs:{src:"statics/icons/story/character2_attitude1.png"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[i("img",{attrs:{src:"statics/icons/story/character3_attitude1.png"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[i("img",{attrs:{src:"statics/icons/story/character4_attitude1.png"}})])}];qi._withStripped=!0;var Ii=i("d442"),Fi=i.n(Ii),Oi=i("025e"),Ni=i("547f"),Di={props:["quest","stepId","lang","options"],watch:{stepId:async function(e,t){await this.initData()}},data(){return{questId:null,selectedStep:{isNew:!0,id:0,code:null,type:null,form:{title:{},text:{},extraText:{},options:{},hint:{}}},stepTypes:Oi,objectsList:Ni,markersList:Jt,titleMaxLength:50,imageSource:"",originalStepData:{},saveChangesModalOpened:!1,jigsawLevels:[{value:1,label:this.$t("label.Easy")},{value:2,label:this.$t("label.Medium")},{value:3,label:this.$t("label.Hard")}],answerType:"text",numberOfDigitsOptions:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"}],defaultNbAnswers:4,minNbAnswers:2,maxNbAnswers:6,rightAnswerIndex:0,serverUrl:"https://api.graaly.com",colorsForCode:this.getColorsForCodeOptions(),imagesForCode:this.getImagesForCodeOptions(),questItemsAsOptions:[],questItems:[],memoryItems:[],unformatedAnswer:null,selectModel3DOptions:[],markerModalOpened:!1,layersForMarkersOptions:[]}},computed:{mainTextFieldLabel(){return"enigma"===this.options.category?"Question":"Text"},mainTextMaxLength(){let e=500;return this.options.textRules&&this.options.textRules.maxNbChars&&(e=this.options.textRules.maxNbChars),e},currentLanguageForLabels(){return this.quest.languages.length>1?"["+this.lang.toUpperCase()+"]":""}},async mounted(){await this.initData()},methods:{async getStepId(){this.stepId&&"0"!==this.stepId?(this.selectedStep.id=this.stepId,this.selectedStep.isNew=!1):(this.selectedStep.id=0,this.selectedStep.isNew=!0)},async resetStep(){this.selectedStep.form={title:{},text:{},extraText:{},answers:{},options:{},backgroundImage:null,videoStream:null,answerPointerCoordinates:{top:50,left:50},answerItem:null,showDistanceToTarget:!0,showDirectionToTarget:!0,trigger:{type:"none"},wrongAnswerAnimation:{type:"none"},hint:{},number:null},this.$nextTick(function(){document.getElementById("picturefile1")&&(document.getElementById("picturefile1").value=""),document.getElementById("picturefile2")&&(document.getElementById("picturefile2").value="")})},async initData(){if(this.questId=this.quest._id,this.resetStep(),!this.stepId||"-1"!==this.stepId){if(await this.getStepId(),this.selectedStep.isNew||Object.assign(this.selectedStep.form,await Lt.getById(this.stepId)),this.selectedStep.type=this.getStepType(this.selectedStep.form.type),null===this.selectedStep.form.number&&(this.selectedStep.form.number=await Lt.countForAQuest(this.questId)+1),!this.selectedStep.form.title[this.lang]||""===this.selectedStep.form.title[this.lang]){let e;e=this.lang!==this.quest.mainLanguage&&""!==this.selectedStep.form.title[this.quest.mainLanguage]?this.selectedStep.form.title[this.quest.mainLanguage]:this.$t("label.Step")+" "+this.selectedStep.form.number,this.$set(this.selectedStep.form.title,this.lang,e)}if(this.selectedStep.form.text[this.lang]&&""!==this.selectedStep.form.text[this.lang]||this.lang!==this.quest.mainLanguage&&""!==this.selectedStep.form.text[this.quest.mainLanguage]&&this.$set(this.selectedStep.form.text,this.lang,this.selectedStep.form.text[this.quest.mainLanguage]),this.selectedStep.form.extraText[this.lang]&&""!==this.selectedStep.form.extraText[this.lang]||this.lang!==this.quest.mainLanguage&&""!==this.selectedStep.form.extraText[this.quest.mainLanguage]&&this.$set(this.selectedStep.form.extraText,this.lang,this.selectedStep.form.extraText[this.quest.mainLanguage]),this.selectedStep.form.hint[this.lang]&&""!==this.selectedStep.form.hint[this.lang]||this.lang!==this.quest.mainLanguage&&""!==this.selectedStep.form.hint[this.quest.mainLanguage]&&this.$set(this.selectedStep.form.hint,this.lang,this.selectedStep.form.hint[this.quest.mainLanguage]),"choose"===this.options.code){if(Array.isArray(this.selectedStep.form.options))this.answerType=this.selectedStep.form.options[0].hasOwnProperty("imagePath")&&null!==this.selectedStep.form.options[0].imagePath?"image":"text";else{this.answerType="text",this.selectedStep.form.options=[],this.selectedStep.form.answers=0;for(let e=0;e<this.defaultNbAnswers;e++)this.selectedStep.form.options.push({text:this.$t("label.AnswerNb",{nb:e+1}),imagePath:null})}this.minNbAnswers=2,this.maxNbAnswers=6}else if("code-color"===this.options.code)this.selectedStep.form.answers&&"string"===typeof this.selectedStep.form.answers&&-1!==this.selectedStep.form.answers.indexOf("|")?this.unformatedAnswer=this.selectedStep.form.answers.split("|"):this.unformatedAnswer=Array(4).fill("red"),this.selectedStep.form.options.codeLength||(this.selectedStep.form.options.codeLength=4);else if("code-image"===this.options.code){if(!this.selectedStep.form.options||!this.selectedStep.form.options.images){this.selectedStep.form.options={images:[]};for(let e=0;e<this.defaultNbAnswers;e++)this.selectedStep.form.options.images.push({imagePath:null})}this.selectedStep.form.options.codeLength||(this.selectedStep.form.options.codeLength=4),this.selectedStep.form.answers&&"string"===typeof this.selectedStep.form.answers&&-1!==this.selectedStep.form.answers.indexOf("|")?this.unformatedAnswer=this.selectedStep.form.answers.split("|"):this.unformatedAnswer=[0,0,0,0]}else if("code-keypad"===this.options.code)"string"!==typeof this.selectedStep.form.answers&&(this.selectedStep.form.answers="");else if("write-text"===this.options.code)"string"!==typeof this.selectedStep.form.answers&&(this.selectedStep.form.answers="");else if("image-recognition"===this.options.code)"string"!==typeof this.selectedStep.form.answers&&(this.selectedStep.form.answers="");else if("find-item"===this.options.code)this.selectedStep.form.answers.hasOwnProperty("top")&&(this.selectedStep.form.answerPointerCoordinates=this.selectedStep.form.answers,this.$nextTick(function(){this.positionFindItemPointer()}));else if("use-item"===this.options.code)this.selectedStep.form.answers.hasOwnProperty("coordinates")&&(this.selectedStep.form.answerPointerCoordinates=this.selectedStep.form.answers.coordinates,this.$nextTick(function(){this.positionFindItemPointer()})),this.selectedStep.form.answers&&this.selectedStep.form.answers.item&&(this.selectedStep.form.answerItem=this.selectedStep.form.answers.item),this.getQuestItemsAsOptions();else if("new-item"===this.options.code)this.selectedStep.form.options.hasOwnProperty("picture")||(this.selectedStep.form.options={picture:null,title:""});else if("jigsaw-puzzle"===this.options.code)this.selectedStep.form.options.hasOwnProperty("picture")||(this.selectedStep.form.options={picture:null,level:2});else if("memory"===this.options.code){if(this.selectedStep.form.options.items)this.memoryItems=this.selectedStep.form.options.items;else{this.selectedStep.form.options={lastIsSingle:!1},this.memoryItems=[];for(let e=0;e<8;e++)this.memoryItems.push({imagePath:null,single:!1})}this.minNbAnswers=3,this.maxNbAnswers=12}else if("locate-item-ar"===this.options.code){this.selectedStep.form.options.hasOwnProperty("picture")||this.$set(this.selectedStep.form.options,"picture",null),this.selectedStep.form.options.hasOwnProperty("objectSize")||this.$set(this.selectedStep.form.options,"objectSize",1),this.selectedStep.form.options.hasOwnProperty("is3D")||this.$set(this.selectedStep.form.options,"is3D",!1),this.selectedStep.form.options.hasOwnProperty("model")||this.$set(this.selectedStep.form.options,"model",null);for(let e in Xt)this.selectModel3DOptions.push({label:Xt[e].name[this.$store.state.user.language],value:e});this.selectModel3DOptions=this.selectModel3DOptions.sort((e,t)=>{return e.label.localeCompare(t.label)})}else if("locate-marker"===this.options.code){"string"!==typeof this.selectedStep.form.answers&&this.$set(this.selectedStep.form,"answers",Jt[0]);for(let e of Zt)this.layersForMarkersOptions.push({label:this.$t("layersForMarkers."+e.label),value:e.code});this.layersForMarkersOptions=this.layersForMarkersOptions.sort((e,t)=>{return e.label.localeCompare(t.label)}),this.selectedStep.form.options.hasOwnProperty("layerCode")||this.$set(this.selectedStep.form.options,"layerCode",Zt[0].code)}this.originalStepData=st.clone(this.selectedStep.form)}},async submitStep(){if(this.$v.selectedStep.form.$touch(),this.$v.selectedStep.form.$error)return void nt(this.$t("label.StepSettingsFormError"),"error");if("choose"===this.options.code&&"text"===this.answerType&&(this.selectedStep.form.options=this.selectedStep.form.options.map(e=>{return e.imagePath=null,e})),"character"===this.options.code&&(this.selectedStep.form.options.character||(this.selectedStep.form.options.character="1")),"code-keypad"===this.options.code&&(this.selectedStep.form.options.codeLength=this.selectedStep.form.answers.length),"code-color"===this.options.code&&(this.selectedStep.form.answers=this.unformatedAnswer.join("|")),"code-image"===this.options.code&&(this.selectedStep.form.answers=this.unformatedAnswer.join("|")),"jigsaw-puzzle"===this.options.code){let e=st.buildIncrementalArray(Math.pow(2*parseInt(this.selectedStep.form.options.level,10),2));e=st.shuffle(e),this.selectedStep.form.answers=e.join("|")}"memory"===this.options.code&&(this.selectedStep.form.options.items=this.memoryItems,this.selectedStep.form.options.lastIsSingle&&this.selectedStep.form.options.items&&this.selectedStep.form.options.items.length>0&&(this.selectedStep.form.options.items[this.selectedStep.form.options.items.length-1].single=!0)),"find-item"===this.options.code&&(this.selectedStep.form.answers=this.selectedStep.form.answerPointerCoordinates),"use-item"===this.options.code&&(this.selectedStep.form.answers={coordinates:this.selectedStep.form.answerPointerCoordinates,item:this.selectedStep.form.answerItem}),this.options.code;let e=Object.assign(this.selectedStep.form,{questId:this.questId,type:this.options.code});this.$q.loading.show();let t=await Lt.save(e);this.$q.loading.hide(),t&&t.data&&t.data.stepId?(e.id=t.data.stepId,this.$emit("change",e)):nt(this.$t("label.TechnicalIssue"),"error")},addAnswer:function(){this.selectedStep.form.options.length>=this.maxNbAnswers?nt(this.$t("label.YouCantAddMoreThanNbAnswers",{nb:this.maxNbAnswers}),"error"):this.selectedStep.form.options.push({isRightAnswer:!1,text:this.$t("label.AnswerNb",{nb:this.selectedStep.form.options.length+1}),imagePath:null})},addCodeAnswer:function(){this.selectedStep.form.options.images.length>=this.maxNbAnswers?nt(this.$t("label.YouCantAddMoreThanNbAnswers",{nb:this.maxNbAnswers}),"error"):this.selectedStep.form.options.images.push({imagePath:null})},deleteAnswer:function(e){this.selectedStep.form.options.length<=this.minNbAnswers?nt(this.$t("label.YouMustDefineAtLeastNbAnswers",{nb:this.minNbAnswers}),"error"):this.selectedStep.form.options.splice(e,1)},deleteCodeAnswer:function(e){this.selectedStep.form.options.images.length<=this.minNbAnswers?nt(this.$t("label.YouMustDefineAtLeastNbAnswers",{nb:this.minNbAnswers}),"error"):this.selectedStep.form.options.images.splice(e,1)},changeDigitsNumberInCode:function(){if("code-color"===this.options.code){this.unformatedAnswer.length=0;const e=parseInt(this.selectedStep.form.options.codeLength,10);while(e>this.unformatedAnswer.length)this.unformatedAnswer.push("red")}else if("code-image"===this.options.code){this.unformatedAnswer.length=0;const e=parseInt(this.selectedStep.form.options.codeLength,10);while(e>this.unformatedAnswer.length)this.unformatedAnswer.push(0)}},nextCodeAnswer:function(e){this.unformatedAnswer[e]++;var t=this.getNbImageUploadedForCode();this.unformatedAnswer[e]>=t&&(this.unformatedAnswer[e]=0),document.getElementById("image-code-setting-"+e).src=this.serverUrl+"/upload/quest/"+this.questId+"/step/code-image/"+this.selectedStep.form.options.images[this.unformatedAnswer[e]].imagePath},previousCodeAnswer:function(e){this.unformatedAnswer[e]--;var t=this.getNbImageUploadedForCode();this.unformatedAnswer[e]<0&&(this.unformatedAnswer[e]=t-1),document.getElementById("image-code-setting-"+e).src=this.serverUrl+"/upload/quest/"+this.questId+"/step/code-image/"+this.selectedStep.form.options.images[this.unformatedAnswer[e]].imagePath},getNbImageUploadedForCode(){for(var e=0,t=0;t<this.selectedStep.form.options.images.length;t++)this.selectedStep.form.options.images[t]&&this.selectedStep.form.options.images[t].imagePath&&e++;return e},async uploadBackgroundImage(e){this.$q.loading.show();var t=e.target.files;if(!t[0])return;var i=new FormData;i.append("image",t[0]);let r=await Lt.uploadBackgroundImage(this.questId,i);r&&r.hasOwnProperty("data")&&(this.selectedStep.form.backgroundImage=r.data.file,this.$q.loading.hide())},async resetBackgroundImage(){this.selectedStep.form.backgroundImage=null,document.getElementById("picturefile1")&&(document.getElementById("picturefile1").value=""),document.getElementById("picturefile2")&&(document.getElementById("picturefile2").value="")},async uploadVideo(e){this.$q.loading.show();var t=e.target.files;if(!t[0])return;var i=new FormData;i.append("video",t[0]);let r=await Lt.uploadVideo(this.questId,i);r&&r.hasOwnProperty("data")&&(this.selectedStep.form.videoStream=r.data.file,this.$q.loading.hide())},async uploadImageToRecognize(e){this.$q.loading.show();var t=e.target.files;if(!t[0])return;var i=new FormData;i.append("image",t[0]);let r=await Lt.uploadImageToRecognize(this.questId,i);r&&r.hasOwnProperty("data")&&(this.selectedStep.form.answers=r.data.file,this.$q.loading.hide())},async uploadAnswerImage(e,t){this.$q.loading.show();var i=t.target.files;if(!i[0])return;var r=new FormData;r.append("image",i[0]);let a=await Lt.uploadAnswerImage(this.questId,r);a&&a.hasOwnProperty("data")&&(this.selectedStep.form.options[e].imagePath=a.data.file,this.$q.loading.hide())},async uploadMemoryImage(e,t){this.$q.loading.show();var i=t.target.files;if(!i[0])return;var r=new FormData;r.append("image",i[0]);let a=await Lt.uploadMemoryImage(this.questId,r);a&&a.hasOwnProperty("data")&&(this.memoryItems[e].imagePath=a.data.file,this.$q.loading.hide())},deleteMemoryAnswer:function(e){this.memoryItems.length<=this.minNbAnswers?nt(this.$t("label.YouMustDefineAtLeastNbAnswers",{nb:this.minNbAnswers}),"error"):this.memoryItems.splice(e,1)},async uploadCodeAnswerImage(e,t){this.$q.loading.show();var i=t.target.files;if(!i[0])return;var r=new FormData;r.append("image",i[0]);let a=await Lt.uploadCodeAnswerImage(this.questId,r);a&&a.hasOwnProperty("data")&&(this.selectedStep.form.options.images[e].imagePath=a.data.file,this.$q.loading.hide())},async uploadPuzzleImage(e){this.$q.loading.show();var t=e.target.files;if(!t[0])return;var i=new FormData;i.append("image",t[0]);let r=await Lt.uploadPuzzleImage(this.questId,i);r&&r.hasOwnProperty("data")&&(this.selectedStep.form.options.picture=r.data.file,this.$q.loading.hide())},async uploadItemImage(e){this.$q.loading.show();var t=e.target.files;if(!t[0])return;var i=new FormData;i.append("image",t[0]);let r=await Lt.uploadItemImage(this.questId,this.options.code,i);r&&r.hasOwnProperty("data")&&(this.selectedStep.form.options.picture=r.data.file,this.$q.loading.hide())},async selectObject(e){this.selectedStep.form.options.title=this.objectsList[e].name[this.lang],this.selectedStep.form.options.picture="statics/images/object/"+this.objectsList[e].file},getColorsForCodeOptions(){let e=[];return Kt.forEach(t=>{e.push({value:t,label:this.$t("color."+t)})}),e},getImagesForCodeOptions(){let e=[];return e},triggerClickOnColorSelect(e){this.$refs["colorSelect"+e][0].$el.click()},async getQuestItemsAsOptions(){this.questItems=await Lt.listWonObjects(this.questId,this.stepId);let e=[];this.questItems.forEach(t=>{e.push({value:t.picture,label:t.title})}),e.sort((e,t)=>{return e.label>t.label?1:-1}),this.questItemsAsOptions=e},getItemIcon(e){let t=this.questItems.find(t=>t.code===e);return"undefined"!==typeof t?t.icon:"clear"},getClickCoordinates(e){let t=e.currentTarget.getBoundingClientRect(),i=e.clientX-t.left,r=e.clientY-t.top,a="use-item"===this.options.code?this.$refs["useItemPicture"]:this.$refs["findItemPicture"];this.selectedStep.form.answerPointerCoordinates.left=Math.round(i/a.clientWidth*100),this.selectedStep.form.answerPointerCoordinates.top=Math.round(r/a.clientHeight*100),this.positionFindItemPointer()},positionFindItemPointer(){let e=window.innerWidth/100,t=Math.round(8*e);document.getElementById("cross").style.left=Math.round(90*this.selectedStep.form.answerPointerCoordinates.left*e/100-t)+"px",document.getElementById("cross").style.top=Math.round(120*this.selectedStep.form.answerPointerCoordinates.top*e/100-t)+"px"},async setLocation(e){this.selectedStep.form.options.lat=parseFloat(e.geometry.location.lat()),this.selectedStep.form.options.lng=parseFloat(e.geometry.location.lng()),this.selectedStep.form.options.destination=e.formatted_address||"",this.$v.selectedStep.form.options.lat.$touch(),this.$v.selectedStep.form.options.lng.$touch()},async getCurrentLocation(){this.$q.loading.show(),navigator.geolocation.getCurrentPosition(this.fillLocation,getLocationError,{timeout:5e3,maximumAge:1e4})},getLocationError(e){console.log(e),this.$q.dialog({title:this.$t("label.GeolocationFailed"),message:this.$t("label.GeolocationFailedDesc")})},async fillLocation(e){this.selectedStep.form.options.lat=e.coords.latitude,this.selectedStep.form.options.lng=e.coords.longitude,this.$v.selectedStep.form.options.lat.$touch(),this.$v.selectedStep.form.options.lng.$touch();var t=new google.maps.Geocoder;t.geocode({location:{lat:e.coords.latitude,lng:e.coords.longitude}},(e,t)=>{this.$q.loading.hide(),"OK"===t&&e[0].formatted_address?(this.selectedStep.form.options.destination=e[0].formatted_address,document.getElementById("destination").value=this.selectedStep.form.options.destination):nt(this.$t("label.ErrorStandardMessage"),"error")})},async getMyGPSLocation(){this.$q.loading.show(),navigator.geolocation.getCurrentPosition(async e=>{this.selectedStep.form.options.lat=e.coords.latitude,this.selectedStep.form.options.lng=e.coords.longitude,this.$v.selectedStep.form.options.lat.$touch(),this.$v.selectedStep.form.options.lng.$touch(),this.$q.loading.hide()},getLocationError,{timeout:5e3,maximumAge:1e4})},checkMainTextLength(e){let t=11,i=this.mainTextMaxLength;return this.options.textRules&&this.options.textRules.maxNbCarriageReturns&&(t=this.options.textRules.maxNbCarriageReturns),null!==e&&"undefined"!==typeof e||(e=""),e.length<=i&&(e.match(/\n/g)||[]).length<=t},openChooseMarkerModal(){this.markerModalOpened=!0},closeChooseMarkerModal(){this.markerModalOpened=!1},selectMarker(e){this.selectedStep.form.answers=e,this.closeChooseMarkerModal()},close(){Fi()(this.originalStepData)!==Fi()(this.selectedStep.form)?this.saveChangesModalOpened=!0:this.$emit("close")},getStepType(e){for(let t of Oi)if(t.code===e)return t;return console.warn("Could not retrieve step type from code '"+e+"'"),null}},validations(){let e={title:{},text:{}};switch(e.title[this.lang]={required:tt["required"]},e.text[this.lang]={function(e){return this.checkMainTextLength(e)}},this.options.code){case"choose":e.options={$each:"text"===this.answerType?{text:{required:tt["required"]},imagePath:{}}:{text:{},imagePath:{required:tt["required"]}}};break;case"code-keypad":e.answers={required:tt["required"],function(e){let t=new RegExp("^([0-9*#]{2,6})$","g");return t.test(e)}};break;case"find-item":e.backgroundImage={required:tt["required"]};break;case"geolocation":e.options={lat:{required:tt["required"]},lng:{required:tt["required"]}};break;case"info-video":e.videoStream={required:tt["required"]};break;case"image-recognition":e.answers={required:tt["required"]};break;case"jigsaw-puzzle":e.options={picture:{required:tt["required"]}};break;case"new-item":e.options={picture:{required:tt["required"]},title:{required:tt["required"]}};break;case"use-item":e.backgroundImage={required:tt["required"]},e.answerItem={required:tt["required"]};break;case"write-text":e.answers={required:tt["required"]};break;case"locate-item-ar":e.options={lat:{required:tt["required"]},lng:{required:tt["required"]}},this.selectedStep.form.options.is3D?e.options.model={required:tt["required"]}:e.options.picture={required:tt["required"]};break}return{selectedStep:{form:e}}}},$i=Di,Li=(i("b4df"),Object(we["a"])($i,qi,Pi,!1,null,"3988463d",null));Li.options.__file="stepSettings.vue";var Hi=Li.exports,ji=i("fb4c");r["a"].directive("sortable",{inserted:function(e,t){return new di.a(e,t.value||{})}});var zi={components:{stepSettings:Hi,stepPlay:ui,story:vt},data(){return{questId:null,stepId:"-1",tabs:{selected:"languages",progress:0,list:["languages","settings","steps","publish"],icons:["looks_one","looks_two","looks_3","looks_4"]},overview:{tabSelected:"none"},languages:{current:"fr",available:[]},form:{fields:{title:{},category:"",description:{},location:{lat:"",lng:""},startingPlace:"",languages:[],mainLanguage:"fr",level:2,duration:30,picture:null,town:"",country:"",zipcode:""},categories:st.buildOptionsForSelect(ji,{valueField:"id",labelField:"name"},this.$t),languages:st.buildOptionsForSelect(Ct,{valueField:"code",labelField:"name"},this.$t),levels:st.buildOptionsForSelect(_t,{valueField:"id",labelField:"name"},this.$t),durations:[{label:"15 "+this.$t("label.minutes"),value:15},{label:"30 "+this.$t("label.minutes"),value:30},{label:"45 "+this.$t("label.minutes"),value:45},{label:"60 "+this.$t("label.minutes"),value:60},{label:"90 "+this.$t("label.minutes"),value:90},{label:"120 "+this.$t("label.minutes"),value:120}]},quest:{languages:[],hasLocateMarkerSteps:!1},steps:{items:[],showNewStepPage:!1,showNewStepPageSettings:!1,showNewStepOverview:!1,reloadStepPlay:!1,new:{title:"ImageAndText",type:{},overviewData:{}}},inventory:{isOpened:!1,items:[]},selectedItem:null,hint:{isOpened:!1,label:""},editor:{items:[],new:{email:"",isExisting:!0}},story:{step:null,data:null,active:!1},reviews:[],canMoveNextStep:!1,canPass:!1,itemUsed:null,serverUrl:"https://api.graaly.com",pictureUploadURL:this.serverUrl+"/quest/picture/upload",titleMaxLength:50,isHybrid:!1}},computed:{currentLanguageForLabels(){return this.quest.languages.length>1?"["+this.languages.current.toUpperCase()+"]":""},isCreation(){return this.tabs.progress<4},isEdition(){return!this.isCreation}},async mounted(){st.clearAllRunningProcesses(),this.$route.params.questId&&""!==this.$route.params.questId?("undefined"!==typeof window.cordova&&(this.isHybrid=!0),this.loadQuestData()):this.$router.push("/quest/create/welcome"),this.startStory()},methods:{async loadQuestData(){this.questId=this.$route.params.questId;let e=await We.getById(this.questId);if(e&&e.data){if(this.quest=e.data,this.quest.languages&&this.quest.languages.length>0&&""===this.languages.current){this.languages.current=this.quest.languages[0].lang;for(var t=0;t<this.quest.languages.length;t++)this.languages.available.push({label:this.$t("language."+this.quest.languages[t].lang),value:this.quest.languages[t].lang})}if(this.quest.description[this.languages.current]&&""!==this.quest.description[this.languages.current]||(this.quest.description[this.languages.current]=this.quest.description[this.quest.mainLanguage]),this.form.fields=this.quest,this.form.fields.startingPlace=this.form.fields.location.address||"",this.form.fields.zipcode=this.form.fields.location&&this.form.fields.location.zipcode?this.form.fields.location.zipcode:"",this.form.fields.town=this.form.fields.location&&this.form.fields.location.town?this.form.fields.location.town:"",this.form.fields.country=this.form.fields.location&&this.form.fields.location.country?this.form.fields.location.country:"",this.form.fields.location.hasOwnProperty("coordinates")&&2===this.form.fields.location.coordinates.length){let e=this.form.fields.location.coordinates;this.form.fields.location={lng:e[0],lat:e[1]}}this.tabs.progress=this.quest.creationStep,this.tabs.progress<=4&&(this.tabs.selected=this.tabs.list[Math.min(this.tabs.progress+1,3)]),await this.refreshStepsList(),await this.listEditors(),await this.listReviews()}else console.error("Could not load quest data"),nt(this.$t("label.ErrorStandardMessage"),"error")},async refreshStepsList(){this.$q.loading.show(),this.steps.items=await Lt.listForAQuest(this.questId),this.$q.loading.hide(),this.steps.items&&this.steps.items.length>0&&this.tabs.progress<3&&(this.tabs.progress=3);let e=!1;for(let t=0;t<this.steps.items.length;t++){let i=this.steps.items[t];if("locate-marker"===i.type){e=!0;break}}this.quest.hasLocateMarkerSteps=e},async submitSettings(){if(0!==this.form.fields.location.lat&&0!==this.form.fields.location.lng){if(this.$v.form.fields.$touch(),!this.$v.form.fields.$error){let e={languages:[this.form.fields.mainLanguage],location:{type:"Point",coordinates:[this.form.fields.location.lng,this.form.fields.location.lat],town:this.form.fields.town,country:this.form.fields.country,zipcode:this.form.fields.zipcode,address:this.form.fields.startingPlace}},t=Object.assign({},this.form.fields,e);this.$q.loading.show();let i=await We.save(t);this.$q.loading.hide(),i&&i.data?(this.tabs.progress<2&&(this.tabs.progress=2,this.tabs.selected="steps",this.story.active&&(this.story.step=19)),nt(this.$t("label.QuestSaved"),"info")):nt(this.$t("label.ErrorStandardMessage"),"error")}}else nt(this.$t("label.YouMustDefineStartLocation"),"warning")},async uploadImage(e){this.$q.loading.show();var t=e.target.files;if(!t[0])return;var i=new FormData;i.append("image",t[0]);let r=await We.uploadPicture(i);r&&r.hasOwnProperty("data")&&(this.form.fields.picture=r.data.file,this.$q.loading.hide())},async startStory(){const e=await We.countForUser(this.$store.state.user._id);e.data&&e.data<2&&(this.story.active=!0,null===this.story.step&&"languages"===this.tabs.selected&&(this.story.step=17))},async getCurrentLocation(){this.$q.loading.show(),navigator.geolocation.getCurrentPosition(this.fillLocation,this.getLocationError,{timeout:5e3,maximumAge:1e4})},async getLocationError(e){console.log(e),this.$q.dialog({title:this.$t("label.GeolocationFailed"),message:this.$t("label.GeolocationFailedDesc")})},async fillLocation(e){this.form.fields.location={lat:e.coords.latitude,lng:e.coords.longitude};var t=new google.maps.Geocoder;t.geocode({location:{lat:e.coords.latitude,lng:e.coords.longitude}},(e,t)=>{this.$q.loading.hide(),"OK"===t&&e[0].formatted_address?(this.form.fields.town=this.getCity(e[0]),this.form.fields.country=this.getCountry(e[0]),this.form.fields.zipcode=this.getZipcode(e[0]),this.form.fields.startingPlace=e[0].formatted_address,document.getElementById("startingplace").value=this.form.fields.startingPlace):nt(this.$t("label.ErrorStandardMessage"),"error")})},async setLocation(e){this.form.fields.location={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},this.form.fields.town=this.getCity(e),this.form.fields.country=this.getCountry(e),this.form.fields.zipcode=this.getZipcode(e),this.form.fields.startingPlace=e.formatted_address||""},getZipcode(e){if(e&&e.address_components&&e.address_components.length>0)for(var t=0;t<e.address_components.length;t++)if(e.address_components[t].types)for(var i=0;i<e.address_components[t].types.length;i++)if("postal_code"===e.address_components[t].types[i])return e.address_components[t].long_name;return""},getCity(e){if(e&&e.address_components&&e.address_components.length>0)for(var t=0;t<e.address_components.length;t++)if(e.address_components[t].types)for(var i=0;i<e.address_components[t].types.length;i++)if("locality"===e.address_components[t].types[i])return e.address_components[t].long_name;return""},getCountry(e){if(e&&e.address_components&&e.address_components.length>0)for(var t=0;t<e.address_components.length;t++)if(e.address_components[t].types)for(var i=0;i<e.address_components[t].types.length;i++)if("country"===e.address_components[t].types[i])return e.address_components[t].short_name;return""},async onStepListUpdate(e){let t=await Lt.move(this.questId,e.oldIndex+1,e.newIndex+1);t&&this.steps.items.splice(e.newIndex,0,this.steps.items.splice(e.oldIndex,1)[0])},async publish(e){for(var t="unpublish",i=0;i<this.form.fields.languages.length;i++)this.form.fields.languages[i].lang&&this.form.fields.languages[i].lang===e&&this.form.fields.languages[i].published&&(t="publish");"publish"===t?(this.$q.loading.show(),await We.publish(this.questId,e),this.$q.loading.hide(),"unpublished"===this.quest.status&&(this.quest.status="tovalidate"),this.tabs.progress=4):(this.$q.loading.show(),await We.unpublish(this.questId,e),this.$q.loading.hide(),this.quest.status="unpublished",this.tabs.progress=3)},isReadOnly(){return"disabled"===this.quest.status||"tovalidate"===this.quest.status},async unpublish(){this.quest.status="unpublished",this.$q.loading.show(),await We.unpublish(this.questId),this.$q.loading.hide(),nt(this.$t("label.YourQuestIsUnpublished"),"positive")},async testQuest(){this.$router.push("/quest/play/"+this.questId)},async removeQuest(){var e=this;this.$q.dialog({message:this.$t("label.AreYouSureYouWantToRemoveThisQuest"),ok:!0,cancel:!0}).then(async()=>{await We.remove(e.questId),this.$router.push("/map")})},async removeStep(e){var t=this;this.$q.dialog({message:this.$t("label.DoYouWantToRemoveThisStep"),ok:!0,cancel:!0}).then(async()=>{await Lt.remove(t.questId,e);let i=t.steps.items.map(function(e){return e._id}).indexOf(e);t.steps.items.splice(i,1),await this.refreshStepsList()})},async modifyStep(e){e&&e._id&&(this.stepId=e._id,this.steps.new.type=this.getStepTypeInformations(e.type)),this.closeAllPanels(),this.steps.showNewStepOverview=!1,this.steps.showNewStepPageSettings=!0,this.steps.reloadStepPlay=!1,this.moveToTop()},async closeOverview(){this.resetStepData(),this.closeAllPanels(),await this.refreshStepsList(),this.steps.showNewStepOverview=!1,this.tabs.selected="steps",st.clearAllNotifications(),this.story.active&&7===this.steps.items.length&&(this.story.step=22)},resetStepData(){this.stepId="-1",this.steps.new.overviewData={},this.steps.reloadStepPlay=!1,this.selectedItem=null,this.canMoveNextStep=!1,this.canPass=!1},async closeStepSettingsPage(){await this.refreshStepsList(),this.steps.new.type={},this.stepId="0",this.steps.showNewStepPageSettings=!1,this.tabs.selected="steps"},async addStep(){this.steps.showNewStepPage=!0},async reindexSteps(){for(let e=0;e<this.steps.items.length;e++){let t=this.steps.items[e];await Lt.save({_id:t._id,questId:this.questId,number:e+1})}},async selectLanguage(){let e=this.languages.current,t=!1;if(this.quest.languages)for(var i=0;i<this.quest.languages.length;i++)this.quest.languages[i].lang===e&&(t=!0);t||await We.addLanguage(this.questId,e),await this.loadQuestData(),this.quest.title[e]&&""!==this.quest.title[e]||(e===this.quest.mainLanguage?this.quest.title[e]=this.$t("label.NewQuest",e):this.quest.title[e]=this.quest.title[this.quest.mainLanguage]),this.tabs.progress<1&&(this.tabs.progress=1),this.tabs.selected="settings",this.story.active&&(this.story.step=18)},closeStepTypePage(){this.stepId="-1",this.steps.reloadStepPlay=!1,this.steps.new.type={},this.steps.showNewStepPage=!1},filteredStepTypes(e){return Oi.filter(t=>t.category===e&&t.enabled)},async selectStepType(e){this.steps.new.type=e,this.steps.showNewStepPage=!1,this.stepId="0",this.steps.showNewStepPageSettings=!0,this.moveToTop(),0===this.steps.items.length&&this.story.active&&(this.story.step=20)},async trackStepChanges(e){this.steps.showNewStepPageSettings=!1,this.steps.showNewStepOverview=!0,this.stepId=e.id,this.steps.new.overviewData=e,this.steps.reloadStepPlay=!0,this.moveToTop(),this.story.active&&0===this.steps.items.length&&(this.story.step=21)},async trackStepPlayed(e){console.log("played"),this.canMoveNextStep=!0},async trackStepSuccess(e){console.log("success"),this.canMoveNextStep=!0,this.hideHint()},async trackStepPass(){console.log("pass"),this.canPass=!0},async trackStepFail(){console.log("fail"),this.hideHint()},async addEditor(){this.$q.loading.show();let e=await We.addEditor(this.questId,this.editor.new.email);this.$q.loading.hide(),e&&403!==e.status?(await this.listEditors(),this.editor.new.email="",this.editor.new.isExisting=!0):this.editor.new.isExisting=!1},async listEditors(){var e=await We.listEditors(this.questId);this.editor.items=e.data;for(var t=0;t<this.editor.items.length;t++)this.editor.items[t].checked=!0},async removeEditor(e){this.$q.loading.show(),await We.removeEditor(this.questId,e),this.$q.loading.hide(),await this.listEditors()},hideHint(){this.steps.new.overviewData.hint={}},getIconFromStepType(e){for(var t=0;t<Oi.length;t++)if(Oi[t].code===e)return"fas fa-"+Oi[t].icon;return""},getStepTypeInformations(e){for(var t=0;t<Oi.length;t++)if(Oi[t].code===e)return Oi[t];return""},async fillInventory(){this.$q.loading.show(),this.inventory.items=await Lt.listWonObjects(this.questId,this.stepId),this.$q.loading.hide()},async openInventory(){0===this.inventory.items.length&&await this.fillInventory(),this.inventory.isOpened?this.closeAllPanels():(this.closeAllPanels(),this.inventory.isOpened=!0,this.overview.tabSelected="inventory")},selectItem(e){"use-item"===this.steps.new.overviewData.type?(this.selectedItem=e,this.closeAllPanels()):nt(this.$t("label.YouCanNotUseAnItemInThisStep"),"warning")},closeAllPanels(){this.inventory.isOpened=!1,this.hint.isOpened=!1,this.overview.tabSelected="none"},async askForHint(){if(this.isHintAvailable())if(this.hint.isOpened)this.closeAllPanels();else{let e=await Pt.getHint(0,this.stepId);e&&e.hint&&(this.hint.label=e.hint,this.closeAllPanels(),this.hint.isOpened=!0,this.overview.tabSelected="hint")}},isHintAvailable(){return this.steps.new.overviewData&&this.steps.new.overviewData.hasOwnProperty("hint")&&this.steps.new.overviewData.hint[this.languages.current]&&""!==this.steps.new.overviewData.hint[this.languages.current]},moveToTop(){window.scrollTo(0,0)},downloadMarkers(){let e=this;window.requestFileSystem(window.TEMPORARY,5242880,t=>{let i=new XMLHttpRequest;i.open("GET","statics/markers/all.pdf",!0),i.responseType="blob",i.onload=function(i){if(200!==this.status)return nt(e.$t("label.TechnicalIssue"),"error"),void console.error("Could not download PDF markers file. Request status HTTP code: ",this.status);let r=new Blob([this.response],{type:"application/pdf"});t.root.getFile("all.pdf",{create:!0,exclusive:!1},function(e){e.createWriter(e=>{e.onwriteend=(e=>{cordova.plugins.fileOpener2.open(e.target.localURL,"application/pdf",{error:e=>{console.error("Could not open PDF markers file",e)},success:()=>{}})}),e.onerror=(e=>{console.error("Failed file write: ",e)}),e.write(r)})},t=>{nt(e.$t("label.TechnicalIssue"),"error"),console.error("Could not create PDF markers file on device system",t)})},i.send()},t=>{nt(e.$t("label.TechnicalIssue"),"error"),console.error("Could not access to device filesystem",t)})},async listReviews(){let e=await vi.list({questId:this.questId});this.reviews=e.data},getAvatar(e){return e?-1!==e.indexOf("http")?e:this.serverUrl+"/upload/profile/"+e:"/statics/profiles/noprofile.png"},getTabIcon(e){let t=this.tabs.icons[e-1],i="check_circle";return this.isEdition?"":e<=this.tabs.progress?i:t}},validations:{form:{fields:{title:{required:tt["required"]},category:{required:tt["required"]}}}}},Bi=zi,Ui=(i("74f2"),Object(we["a"])(Bi,xi,Ri,!1,null,null,null));Ui.options.__file="settings.vue";var Wi=Ui.exports,Vi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper dark-background"},[i("div",{staticClass:"page-content top-padding-middle"},[i("h1",{staticClass:"text-center size-3 q-mt-xl q-mb-lg"},[e._v(e._s(e.$t("label.letsGo")))]),i("form",{on:{submit:function(t){t.preventDefault(),e.formSubmit()}}},[i("div",{staticClass:"q-pa-lg"},["email"===e.step?i("q-field",{attrs:{error:e.$v.form.email.$error}},[i("q-input",{attrs:{type:"email",dark:"",color:"white","float-label":e.$t("label.YourEmail")},on:{blur:e.$v.form.email.$touch},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e.$v.form.email.$error?i("div",{staticClass:"q-field-bottom"},[e.$v.form.email.required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseEnterYourEmailAddress")))]),e.$v.form.email.email?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseEnterAValidEmailAddress")))])]):e._e()],1):e._e(),"password"===e.step?i("q-field",[i("q-input",{attrs:{type:"password",dark:"",color:"white","float-label":e.$t("label.YourPassword")},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),"password"===e.step?i("p",{staticClass:"text-right q-mt-md q-mb-md"},[i("a",{on:{click:function(t){e.sendForgottenPasswordCode()}}},[e._v(e._s(e.$t("label.ForgottenPassword")))])]):e._e(),"forgottenpassword"===e.step?i("q-field",[e._v("\n          "+e._s(e.$t("label.EnterTheCodeYouReceivedByEmail"))+"\n          "),i("q-input",{attrs:{"float-label":e.$t("label.Code")},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1):e._e(),"forgottenpassword"===e.step?i("q-field",[i("q-input",{attrs:{type:"password",dark:"",color:"white","float-label":e.$t("label.YourNewPassword")},on:{blur:e.$v.form.newPassword.$touch},model:{value:e.form.newPassword,callback:function(t){e.$set(e.form,"newPassword",t)},expression:"form.newPassword"}}),e.$v.form.newPassword.$error?i("div",{staticClass:"q-field-bottom"},[e.$v.form.newPassword.required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseEnterYourPassword")))]),e.$v.form.newPassword.minLength?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.YourPasswordMustBe6digitsLength")))]),e.$v.form.newPassword.checkPasswordComplexity?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PasswordComplexityRule")))])]):e._e()],1):e._e()],1),i("p",{staticClass:"text-center multiple-btn margin-size-3 q-mt-lg q-mb-xl"},["email"!==e.step?i("q-btn",{attrs:{round:"",color:"white","text-color":"primary",icon:"fas fa-chevron-left",loading:e.submitting},on:{click:function(t){e.backAction()}}}):e._e(),i("q-btn",{attrs:{round:"",color:"white","text-color":"primary",icon:"fas fa-chevron-right",loading:e.submitting,type:"submit"}})],1)]),i("p",{staticClass:"text-center margin-size-3 q-mt-xl q-mb-lg"},[e._v("\n      "+e._s(e.$t("label.orSignInWith"))+"\n    ")]),i("div",{staticClass:"q-pl-md q-pr-md"},[i("q-btn",{staticClass:"full-width",attrs:{color:"facebook",icon:"fab fa-facebook",label:"Facebook"},on:{click:e.facebookLogin}})],1)])])},Yi=[];Vi._withStripped=!0;var Qi=function(e){return!1!==/[A-Z]/.test(e)&&!1!==/\d/.test(e)},Gi={data(){return{step:"email",form:{email:"",password:"",newPassword:"",code:""},serverUrl:"https://api.graaly.com",submitting:!1}},mounted(){st.clearAllRunningProcesses(),this.$route.query.email&&this.$route.query.code&&this.validateAccount(this.$route.query.email,this.$route.query.code),this.$route.query.email&&this.$route.query.invitation&&this.validateTeamInvitation(this.$route.query.email,this.$route.query.invitation)},methods:{async formSubmit(){switch(this.submitting=!0,this.step){case"email":if(!this.$v.form.email.$error){var e=await this.checkUserIsExisting(this.form.email);e&&e.status?"active"===e.status?this.step="password":"new"===e.status?this.$router.push("/user/createAccount/"+this.form.email+"/validation"):"blocked"===e.status?nt(this.$t("label.YourAccountIsBlocked"),"warning"):this.$router.push("/user/createAccount/"+this.form.email+"/generic"):nt(this.$t("label.ErrorStandardMessage"),"error")}break;case"password":var t=await this.signIn(this.form.email,this.form.password);if(t.status){if("success"===t.status){let e="/home";this.$route.query.hasOwnProperty("redirect")&&(e=this.$route.query.redirect),this.$router.push(e)}"failed"===t.status&&nt(this.$t("label.IncorrectLoginPleaseRetry"),"warning")}else nt(this.$t("label.ErrorStandardMessage"),"error");break;case"forgottenpassword":if(!this.$v.form.newPassword.$error){let e=await Re.changePassword(this.form.email,this.form.newPassword,this.form.code);if(e.status&&200===e.status){let e="/home";this.$route.query.hasOwnProperty("redirect")&&(e=this.$route.query.redirect),this.$router.push(e)}else e.data&&"You have tries too much codes"===e.data.message?nt(this.$t("label.YourAccountIsBlocked"),"warning"):nt(this.$t("label.IncorrectCodePleaseRetry"),"warning")}break}this.submitting=!1},async backAction(){switch(this.step){case"password":this.step="email";break;case"forgottenpassword":this.step="password";break}},async checkUserIsExisting(e){let t=await Re.checkEmail(e);return t&&t.data&&t.data.hasOwnProperty("existing")&&!0===t.data.existing?{status:t.data.status}:t&&t.data&&t.data.hasOwnProperty("existing")&&!1===t.data.existing?{status:"missing"}:{error:"technical issue"}},async signIn(e,t){let i=await Re.login(e,t);return 200===i.status?{status:"success"}:401===i.status?{status:"failed",error:"incorrect login"}:{error:"technical issue"}},async validateAccount(e,t){let i=await Re.validateAccount(e,t);i.status>=300&&i.data&&i.data.message?nt(i.data.message,"warning"):nt(this.$t("label.YourAccountIsNowValidated"),"positive")},googleLogin(){window.location=this.serverUrl+"/auth/google",localStorage.setItem("isLoggedIn",!0)},fbLoginSuccess(e){var t=this;facebookConnectPlugin.getAccessToken(function(i){Re.checkFacebookToken(e.authResponse.userID,i,function(e,i){if(e&&nt(t.$t("label.TechnicalIssue"),"error"),i&&("login successful"===i.message||i.data&&"login successful"===i.data.message))return t.$router.push("/map");nt(t.$t("label.TechnicalIssue"),"error")})})},facebookLogin(){facebookConnectPlugin?facebookConnectPlugin.login(["public_profile"],this.fbLoginSuccess,function(){nt(this.$t("label.TechnicalIssue"),"error")}):(window.location=this.serverUrl+"/auth/facebook",localStorage.setItem("isLoggedIn",!0))},async sendForgottenPasswordCode(){this.submitting=!0;let e=await Re.sendForgottenPasswordCode(this.form.email);200===e.status&&(this.step="forgottenpassword"),this.submitting=!1}},validations:{form:{email:{required:tt["required"],email:tt["email"]},newPassword:{required:tt["required"],minLength:Object(tt["minLength"])(6),checkPasswordComplexity:Qi}}}},Ki=Gi,Xi=Object(we["a"])(Ki,Vi,Yi,!1,null,null,null);Xi.options.__file="login.vue";var Ji=Xi.exports,Zi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("p",[e._v(e._s(e.$t("label.SignOutInProgress")))])])},er=[];Zi._withStripped=!0;var tr={async mounted(){await this.$store.dispatch("logout"),this.$router.push("/user/login")}},ir=tr,rr=Object(we["a"])(ir,Zi,er,!1,null,null,null);rr.options.__file="logout.vue";var ar=rr.exports,sr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper dark-background"},[i("div",{staticClass:"page-content top-padding-middle q-pa-lg"},[i("div",{staticClass:"centered"},[e._v("\n      "+e._s(e.$t("label.WeNeedMoreInformationAboutYou"))+"\n    ")]),i("div",{staticClass:"centered"},[i("div",{staticClass:"big-avatar"},[e.$store.state.user.picture&&-1!==e.$store.state.user.picture.indexOf("http")?i("div",{style:"background-image: url("+e.$store.state.user.picture+");"}):e._e(),e.$store.state.user.picture&&-1===e.$store.state.user.picture.indexOf("http")?i("div",{style:"background-image: url("+e.serverUrl+"/upload/profile/"+e.$store.state.user.picture+");"}):e._e(),e.$store.state.user.picture?e._e():i("div",{style:"background-image: url(statics/icons/game/profile-small.png); background-color: #fff;"}),i("label",{attrs:{for:"picturefile"}},[e._v(e._s(e.$t("label.Edit")))]),i("input",{staticStyle:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute","z-index":"-1"},attrs:{name:"picturefile",id:"picturefile",type:"file",accept:"image/*"},on:{change:e.uploadImage}})])]),i("form",{on:{submit:function(t){t.preventDefault(),e.submitProfileChanges()}}},[i("q-field",{attrs:{error:e.$v.profile.form.name.$error}},[i("q-input",{attrs:{"stack-label":e.$t("label.YourName"),placeholder:"John Doe"},on:{blur:e.$v.profile.form.name.$touch},model:{value:e.profile.form.name,callback:function(t){e.$set(e.profile.form,"name",t)},expression:"profile.form.name"}}),e.profile.form.name.$error?i("div",{staticClass:"q-field-bottom"},[e.profile.form.name.required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseEnterYourName")))])]):e._e()],1),e._v("\n      \n      "+e._s(e.$t("label.ToDisplayRelevantQuests"))+"\n      "),i("q-field",{attrs:{error:e.$v.profile.form.country.$error}},[i("q-select",{attrs:{"stack-label":e.$t("label.YourCountry"),options:e.countries},model:{value:e.profile.form.country,callback:function(t){e.$set(e.profile.form,"country",t)},expression:"profile.form.country"}}),e.profile.form.country.$error?i("div",{staticClass:"q-field-bottom"},[e.profile.form.country.required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseSelectYourCountry")))])]):e._e()],1),i("q-field",{attrs:{error:e.$v.profile.form.zipCode.$error}},[i("q-input",{attrs:{"stack-label":e.$t("label.YourZipCode"),placeholder:"38500"},model:{value:e.profile.form.zipCode,callback:function(t){e.$set(e.profile.form,"zipCode",t)},expression:"profile.form.zipCode"}}),e.profile.form.zipCode.$error?i("div",{staticClass:"q-field-bottom"},[e.profile.form.zipCode.required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseEnterYourZipCode")))])]):e._e()],1),i("q-field",[i("q-select",{attrs:{"stack-label":e.$t("label.YourLanguage"),options:e.languages},on:{input:e.changeLanguage},model:{value:e.profile.form.language,callback:function(t){e.$set(e.profile.form,"language",t)},expression:"profile.form.language"}})],1),e._v("\n      \n      "+e._s(e.$t("label.ToHelpYouFindYourFriends"))+"\n      "),i("q-field",[i("q-input",{attrs:{"stack-label":e.$t("label.YourPhoneNumber"),placeholder:e.$t("label.phoneExample")},model:{value:e.profile.form.phone,callback:function(t){e.$set(e.profile.form,"phone",t)},expression:"profile.form.phone"}})],1),e._v("\n      \n      "+e._s(e.$t("label.ToAvoidSendingYourToUnrelevantQuests"))+"\n      "),i("q-field",[i("q-select",{attrs:{dark:"","float-label":e.$t("label.YourSex"),options:e.sexes},model:{value:e.profile.form.sex,callback:function(t){e.$set(e.profile.form,"sex",t)},expression:"profile.form.sex"}})],1),i("q-field",[i("q-select",{attrs:{dark:"","float-label":e.$t("label.YourAge"),options:e.ages},model:{value:e.profile.form.age,callback:function(t){e.$set(e.profile.form,"age",t)},expression:"profile.form.age"}})],1),i("q-btn",{staticClass:"text-primary bg-white full-width",on:{click:function(t){e.submitProfileChanges()}}},[e._v(e._s(e.$t("label.Save")))])],1)])])},or=[];sr._withStripped=!0;var nr={data(){return{profile:{form:{name:"--",picture:"",phone:"",zipCode:"",country:"",language:"en",sex:"",age:""}},countries:"fr"===this.$i18n.locale?St:Et,sexes:[{label:this.$t("label.Male"),value:"male"},{label:this.$t("label.Female"),value:"female"}],ages:[{label:"13 - 25",value:"13-25"},{label:"26 - 39",value:"26-39"},{label:"40 - 49",value:"40-49"},{label:"50 - 64",value:"50-64"},{label:"65 +",value:"65+"}],languages:st.buildOptionsForSelect(Ct,{valueField:"code",labelField:"name"},this.$t),serverUrl:"https://api.graaly.com"}},mounted(){this.profile.form={name:this.$store.state.user.name?this.$store.state.user.name:"?",phone:this.$store.state.user.phone?this.$store.state.user.phone:"",picture:this.$store.state.user.picture?this.$store.state.user.picture:"",zipCode:this.$store.state.user.location.postalCode?this.$store.state.user.location.postalCode:"",country:this.$store.state.user.location.country?this.$store.state.user.location.country:"",sex:this.$store.state.user.sex?this.$store.state.user.sex:"",age:this.$store.state.user.age?this.$store.state.user.age:"",language:this.$store.state.user.language}},methods:{async submitProfileChanges(){if(!this.profile.form.$error){let e={name:this.profile.form.name,phone:this.profile.form.phone?this.profile.form.phone:"",zipCode:this.profile.form.zipCode,country:this.profile.form.country,language:this.profile.form.language,age:this.profile.form.age,sex:this.profile.form.sex};this.$q.loading.show();let t=await Re.modifyAccount(e);this.$q.loading.hide(),t.status>=300&&t.data&&t.data.message?nt(t.data.message,"warning"):this.backToMap()}},backToMap(){this.$router.push("/map")},changeLanguage(){this.$i18n.locale=this.profile.form.language},async uploadImage(e){var t=e.target.files;if(!t[0])return;var i=new FormData;i.append("image",t[0]),this.$q.loading.show();let r=await Re.uploadAccountPicture(i);r&&(this.$store.state.user.picture=r.data.file),this.$q.loading.hide()}},validations:{profile:{form:{name:{required:tt["required"]},country:{required:tt["required"]},zipCode:{required:tt["required"]}}}}},lr=nr,ur=Object(we["a"])(lr,sr,or,!1,null,null,null);ur.options.__file="updateprofile.vue";var cr=ur.exports,dr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper"},[i("div",{staticClass:"page-content top-padding-middle"},[i("a",{staticClass:"float-right no-underline",attrs:{color:"grey"},on:{click:function(t){e.$router.push("/map")}}},[i("q-icon",{staticClass:"medium-icon",attrs:{name:"close"}})],1),i("h1",{staticClass:"size-3"},[e._v("Administration")]),i("q-tabs",{attrs:{"two-lines":""}},[i("q-tab",{attrs:{slot:"title",name:"validation",icon:"check_box",label:"Quests validation",default:""},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"rejected",icon:"sentiment_very_dissatisfied",label:"Quests rejected"},slot:"title"}),i("q-tab",{attrs:{slot:"title",name:"minigames",icon:"child_friendly",label:"Mini games"},slot:"title"}),i("q-tab-pane",{attrs:{name:"validation"}},[i("q-list",{attrs:{highlight:""}},[e._l(e.questsToValidate.items,function(t){return i("q-item",{key:t._id,nativeOn:{click:function(i){e.$router.push("/quest/play/"+t._id)}}},[t.picture?i("q-item-side",{attrs:{avatar:e.serverUrl+"/upload/quest/"+t.picture}}):e._e(),t.picture?e._e():i("q-item-side",{attrs:{avatar:"statics/profiles/noprofile.png"}}),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.getQuestTitle(t,!1)))]),"published"===t.status?i("q-item-tile",{attrs:{sublabel:""}},[i("q-rating",{attrs:{readonly:"",value:t.rating&&t.rating.rounded?t.rating.rounded:null,color:"primary",max:5,size:"1rem"}}),e._v("\n                "+e._s(e.$t("label.PublishedSince"))+" "+e._s(e._f("formatDate")(t.dateCreated))+"\n              ")],1):e._e(),"unpublished"==t.status?i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n                "+e._s(e.$t("label.Unpublished"))+"\n              ")]):e._e()],1)],1)}),0===e.questsToValidate.items.length?i("q-item",[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v("No quest to validate")])],1)],1):e._e()],2)],1),i("q-tab-pane",{attrs:{name:"rejected"}},[i("q-list",{attrs:{highlight:""}},[e._l(e.questsRejected.items,function(t){return i("q-item",{key:t._id,nativeOn:{click:function(i){e.$router.push("/quest/play/"+t._id)}}},[t.picture?i("q-item-side",{attrs:{avatar:e.serverUrl+"/upload/quest/"+t.picture}}):e._e(),t.picture?e._e():i("q-item-side",{attrs:{avatar:"statics/profiles/noprofile.png"}}),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.getQuestTitle(t,!1)))]),"published"===t.status?i("q-item-tile",{attrs:{sublabel:""}},[i("q-rating",{attrs:{readonly:"",value:t.rating&&t.rating.rounded?t.rating.rounded:null,color:"primary",max:5,size:"1rem"}}),e._v("\n                "+e._s(e.$t("label.PublishedSince"))+" "+e._s(e._f("formatDate")(t.dateCreated))+"\n              ")],1):e._e(),"unpublished"==t.status?i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n                "+e._s(e.$t("label.Unpublished"))+"\n              ")]):e._e()],1)],1)}),0===e.questsRejected.items.length?i("q-item",[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v("No quest rejected")])],1)],1):e._e()],2)],1),i("q-tab-pane",{attrs:{name:"minigames"}},[i("q-btn",{staticClass:"full-width",attrs:{link:"",color:"tertiary"},on:{click:function(t){e.$router.push("/admin/minigames/builder")}}},[e._v(e._s(e.$t("label.AddATown")))]),i("q-list",{attrs:{highlight:""}},[e._l(e.towns.items,function(t){return i("q-item",{key:t._id},[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.name)+" ("+e._s(t.zipcode)+")")]),i("q-item-tile",{attrs:{sublabel:""}},[e._v("\n                "+e._s(t.country)+"\n              ")])],1),"new"===t.status?i("q-item-side",[i("q-btn",[e._v("Configure")])],1):e._e(),"configured"===t.status?i("q-item-side",[i("q-btn",[e._v("Update")])],1):e._e()],1)}),0===e.towns.items.length?i("q-item",[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v("No town configured yet")])],1)],1):e._e()],2)],1)],1)],1)])},fr=[];dr._withStripped=!0;var hr={ListQuestsToValidate:function(){return xe().get("admin/quests/tovalidate")},ListQuestsRejected:function(){return xe().get("admin/quests/rejected")},ListTowns:function(){return xe().get("admin/towns")},publish:function(e){return xe().get("admin/quests/publish/"+e)},CreateTown:function(e){return xe().post("admin/town/add/",e)},reject:function(e){return xe().get("admin/quests/reject/"+e)},uploadPlaceImage:function(e){return xe().post("/admin/town/place/picture/upload",e,{headers:{"Content-Type":"multipart/form-data"}})}},pr={data(){return{questsToValidate:{items:[]},questsRejected:{items:[]},towns:{items:[]},serverUrl:"https://api.graaly.com"}},mounted(){this.loadQuestsToValidate(),this.loadQuestsRejected(),this.loadTowns()},methods:{async loadQuestsToValidate(){let e=await hr.ListQuestsToValidate();this.questsToValidate.items=e.data.quests},async loadTowns(){let e=await hr.ListTowns();this.towns.items=e.data.towns},async loadQuestsRejected(){let e=await hr.ListQuestsRejected();this.questsRejected.items=e.data.quests},getQuestTitle(e,t){return e&&e.title?this.$store.state.user.language&&e.title[this.$store.state.user.language]?e.title[this.$store.state.user.language]:e.title[Object.keys(e.title)[0]]+(t?' <img class="image-and-text-aligned" src="statics/icons/game/flag-'+Object.keys(e.title)[0]+'.png" />':""):this.$t("label.NoTitle")}}},mr=pr,br=(i("f4ba"),Object(we["a"])(mr,dr,fr,!1,null,null,null));br.options.__file="admin.vue";var gr=br.exports,vr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper"},[i("div",{staticClass:"page-content top-padding-middle"},[i("p",[e._v("\n      Validation of the quest "),i("strong",[e._v(e._s(e.quest.title.fr)+" "+e._s(e.quest.title.en))])]),i("p",[i("q-btn",{staticClass:"full-width",attrs:{big:"",color:"positive",label:"Validate"},on:{click:function(t){e.publish()}}})],1),i("p",[i("q-btn",{staticClass:"full-width",attrs:{big:"",color:"negative",label:"Reject"},on:{click:function(t){e.reject()}}})],1),i("p",[e._v("\n      if you reject, do not forget to contact the owner to explain why the quest is rejected\n    ")])])])},wr=[];vr._withStripped=!0;var kr={data(){return{quest:{},serverUrl:"https://api.graaly.com"}},async mounted(){await this.getQuest(this.$route.params.questId)},methods:{async getQuest(e){let t=await We.getById(e);this.quest=t.data},async publish(){await hr.publish(this.$route.params.questId),this.$router.push("/admin")},async reject(){await hr.reject(this.$route.params.questId),this.$router.push("/admin")}}},yr=kr,_r=Object(we["a"])(yr,vr,wr,!1,null,null,null);_r.options.__file="validation.vue";var Sr=_r.exports,Er=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper"},[i("div",{staticClass:"page-content top-padding-middle"},[i("form",{on:{submit:function(t){t.preventDefault(),e.configureTown()}}},[i("q-field",{attrs:{error:e.$v.form.fields.name.$error}},[i("q-input",{attrs:{type:"text","float-label":"Name"},on:{blur:e.$v.form.fields.name.$touch},model:{value:e.form.fields.name,callback:function(t){e.$set(e.form.fields,"name",t)},expression:"form.fields.name"}}),e.$v.form.fields.name.$error?i("div",{staticClass:"q-field-bottom"},[e.$v.form.fields.name.required?e._e():i("div",{staticClass:"q-field-error"},[e._v("Please enter a name")])]):e._e()],1),i("q-field",{attrs:{error:e.$v.form.fields.zipcode.$error}},[i("q-input",{attrs:{type:"text","float-label":"Zip Code"},on:{blur:e.$v.form.fields.zipcode.$touch},model:{value:e.form.fields.zipcode,callback:function(t){e.$set(e.form.fields,"zipcode",t)},expression:"form.fields.zipcode"}}),e.$v.form.fields.zipcode.$error?i("div",{staticClass:"q-field-bottom"},[e.$v.form.fields.zipcode.required?e._e():i("div",{staticClass:"q-field-error"},[e._v("Please enter a zip code")])]):e._e()],1),i("q-field",[i("q-select",{attrs:{"float-label":"Country",options:[{label:"France",value:"fr"}]},model:{value:e.form.fields.country,callback:function(t){e.$set(e.form.fields,"country",t)},expression:"form.fields.country"}})],1),i("q-field",{attrs:{icon:"explore",label:"GPS location bottom left"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-6"},[i("q-input",{attrs:{type:"text","float-label":"Longitude"},model:{value:e.form.fields.location1.lng,callback:function(t){e.$set(e.form.fields.location1,"lng",t)},expression:"form.fields.location1.lng"}})],1),i("div",{staticClass:"col"},[i("q-input",{attrs:{type:"text","float-label":"Latitude"},model:{value:e.form.fields.location1.lat,callback:function(t){e.$set(e.form.fields.location1,"lat",t)},expression:"form.fields.location1.lat"}})],1)])]),i("q-field",{attrs:{icon:"explore",label:"GPS location top right"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-6"},[i("q-input",{attrs:{type:"text","float-label":"Longitude"},model:{value:e.form.fields.location2.lng,callback:function(t){e.$set(e.form.fields.location2,"lng",t)},expression:"form.fields.location2.lng"}})],1),i("div",{staticClass:"col"},[i("q-input",{attrs:{type:"text","float-label":"Latitude"},model:{value:e.form.fields.location2.lat,callback:function(t){e.$set(e.form.fields.location2,"lat",t)},expression:"form.fields.location2.lat"}})],1)])]),e._l(e.form.fields.places,function(t,r){return i("q-field",{key:r,attrs:{icon:"place",label:"Place"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-9"},[i("q-input",{attrs:{type:"text","float-label":"Name"},model:{value:t.name,callback:function(i){e.$set(t,"name",i)},expression:"place.name"}})],1),i("div",{staticClass:"col"},[""===t.picture?i("q-btn",{attrs:{type:"button"}},[i("label",{attrs:{for:"placepicture"+r}},[i("q-icon",{attrs:{name:"file upload"}})],1),i("input",{staticStyle:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute","z-index":"-1"},attrs:{name:"placepicture"+r,id:"placepicture"+r,type:"file",accept:"image/*"},on:{change:function(t){e.uploadPlacePicture(r,t)}}})]):e._e(),""!==t.picture?i("div",[i("img",{staticStyle:{width:"50px"},attrs:{src:e.serverUrl+"/upload/town/place/"+t.picture}})]):e._e()],1)]),i("q-select",{attrs:{"float-label":"Select",options:[{label:"Remarkable place",value:"remarkable"},{label:"Cimetery",value:"cimetary"},{label:"Shop",value:"shop"}]},model:{value:t.type,callback:function(i){e.$set(t,"type",i)},expression:"place.type"}}),i("div",{staticClass:"row"},[i("div",{staticClass:"col-6"},[i("q-input",{attrs:{type:"text","float-label":"Longitude"},model:{value:t.location.lng,callback:function(i){e.$set(t.location,"lng",i)},expression:"place.location.lng"}})],1),i("div",{staticClass:"col"},[i("q-input",{attrs:{type:"text","float-label":"Latitude"},model:{value:t.location.lat,callback:function(i){e.$set(t.location,"lat",i)},expression:"place.location.lat"}})],1)])],1)}),i("q-btn",{attrs:{clear:""},on:{click:e.addPlace}},[e._v("Add a place")]),i("q-btn",{staticClass:"full-width",attrs:{type:"submit",color:"primary"}},[e._v("Save")])],2)])])},Cr=[];Er._withStripped=!0;var Tr={data(){return{form:{fields:{name:"",zipcode:"",country:"fr",location1:{lat:"",lng:""},location2:{lat:"",lng:""},places:[]}},serverUrl:"https://api.graaly.com"}},async mounted(){this.addPlace()},methods:{async configureTown(){await hr.CreateTown(this.form.fields),this.$router.push("/admin")},addPlace(){this.form.fields.places.push({name:"",type:"",location:{lng:"",lat:""},picture:""})},async uploadPlacePicture(e,t){this.$q.loading.show();var i=t.target.files;if(!i[0])return;var r=new FormData;r.append("image",i[0]);let a=await hr.uploadPlaceImage(r);a&&a.hasOwnProperty("data")&&(this.form.fields.places[e].picture=a.data.file,this.$q.loading.hide())}},validations:{form:{fields:{name:{required:tt["required"]},zipcode:{required:tt["required"]}}}}},Ar=Tr,Mr=Object(we["a"])(Ar,Er,Cr,!1,null,null,null);Mr.options.__file="minigamebuilder.vue";var xr=Mr.exports,Rr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper dark-background"},[i("div",{staticClass:"page-content top-padding-middle q-pa-lg"},["firstusage"!==e.step?i("h1",{staticClass:"text-center size-3 q-mt-xl q-mb-lg"},[e._v(e._s(e.$t("label.tellUsAboutYou")))]):e._e(),"firstusage"===e.step?i("h1",{staticClass:"text-center size-3 q-mt-xl q-mb-lg"},[e._v(e._s(e.$t("label.IfYouUseGraalyForTheFirstTime")))]):e._e(),i("form",{on:{submit:function(t){t.preventDefault(),e.formSubmit()}}},["generic"===e.step?i("q-field",{attrs:{error:e.$v.form.name.$error}},[i("q-input",{attrs:{dark:"","float-label":e.$t("label.YourName")},on:{blur:e.$v.form.name.$touch},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e.$v.form.name.$error?i("div",{staticClass:"q-field-bottom"},[e.$v.form.name.required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseEnterYourName")))])]):e._e()],1):e._e(),"generic"===e.step?i("q-field",[i("q-select",{attrs:{dark:"","float-label":e.$t("label.YourSex"),options:e.sexes},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}})],1):e._e(),"generic"===e.step?i("q-field",[i("q-select",{attrs:{dark:"","float-label":e.$t("label.YourAge"),options:e.ages},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1):e._e(),"location"===e.step?i("q-field",{attrs:{error:e.$v.form.country.$error}},[i("q-select",{attrs:{dark:"","float-label":e.$t("label.YourCountry"),options:e.countries},on:{blur:e.$v.form.country.$touch},model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}}),e.$v.form.country.$error?i("div",{staticClass:"q-field-bottom"},[e.$v.form.country.required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseSelectYourCountry")))])]):e._e()],1):e._e(),"location"===e.step?i("q-field",{attrs:{error:e.$v.form.zipCode.$error}},[i("q-input",{attrs:{dark:"","float-label":e.$t("label.YourZipCode")},on:{blur:e.$v.form.zipCode.$touch},model:{value:e.form.zipCode,callback:function(t){e.$set(e.form,"zipCode",t)},expression:"form.zipCode"}}),e.$v.form.zipCode.$error?i("div",{staticClass:"q-field-bottom"},[e.$v.form.zipCode.required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseEnterYourZipCode")))])]):e._e()],1):e._e(),"password"===e.step?i("q-field",{attrs:{error:e.$v.form.password.$error}},[i("q-input",{attrs:{dark:"",type:"password","float-label":e.$t("label.YourPassword")},on:{blur:e.$v.form.password.$touch},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e.$v.form.password.$error?i("div",{staticClass:"q-field-bottom"},[e.$v.form.password.required?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PleaseEnterYourPassword")))]),e.$v.form.password.minLength?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.YourPasswordMustBe6digitsLength")))]),e.$v.form.password.checkPasswordComplexity?e._e():i("div",{staticClass:"q-field-error"},[e._v(e._s(e.$t("label.PasswordComplexityRule")))])]):e._e()],1):e._e(),"validation"===e.step?i("q-field",[e._v("\n        "+e._s(e.$t("label.EnterTheCodeYouReceivedByEmail"))+"\n        "),i("q-input",{attrs:{dark:"","float-label":e.$t("label.Code")},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1):e._e(),"validation"===e.step?i("p",{staticClass:"text-right q-mt-md q-mb-md"},[i("a",{on:{click:function(t){e.generateANewCode()}}},[e._v(e._s(e.$t("label.NewCode")))])]):e._e(),"firstusage"===e.step?i("p",{staticClass:"text-center q-mt-md q-mb-md"},[i("img",{attrs:{src:"statics/icons/game/discovery.png"}})]):e._e(),i("p",{staticClass:"text-center multiple-btn margin-size-3 q-mt-lg q-mb-xl"},["firstusage"!==e.step?i("q-btn",{attrs:{round:"",color:"white","text-color":"primary",icon:"fas fa-chevron-left",loading:e.submitting},on:{click:function(t){e.backAction()}}}):e._e(),i("q-btn",{attrs:{round:"",color:"white","text-color":"primary",icon:"fas fa-chevron-right",loading:e.submitting,type:"submit"}})],1)],1),"generic"===e.step?i("div",{staticClass:"link-below-button"},[i("a",{on:{click:function(t){e.showPrivateBox=!0}}},[e._v(e._s(e.$t("label.HowWeUseYourData")))])]):e._e(),e.showPrivateBox&&"generic"===e.step?i("div",[e._v("\n      TODO\n    ")]):e._e()])])},qr=[];Rr._withStripped=!0;var Pr={data(){return{form:{email:"",name:"",sex:"",age:"",country:"",zipCode:"",password:"",code:""},showPrivateBox:!1,submitting:!1,step:this.$route.params.step?this.$route.params.step:"generic",countries:"fr"===this.$i18n.locale?St:Et,sexes:[{label:this.$t("label.Male"),value:"male"},{label:this.$t("label.Female"),value:"female"}],ages:[{label:"13 - 25",value:"13-25"},{label:"26 - 39",value:"26-39"},{label:"40 - 49",value:"40-49"},{label:"50 - 64",value:"50-64"},{label:"65 +",value:"65+"}]}},mounted(){st.clearAllRunningProcesses(),this.$route.params.email?this.form.email=this.$route.params.email:this.$router.push("/user/login")},methods:{async formSubmit(){switch(this.step){case"generic":this.$v.form.name.$touch(),this.$v.form.name.$error||(this.step="location");break;case"location":this.$v.form.country.$touch(),this.$v.form.zipCode.$touch(),this.$v.form.country.$error||this.$v.form.zipCode.$error||(this.step="password");break;case"password":if(this.$v.form.password.$touch(),!this.$v.form.password.$error){let e={name:this.form.name,email:this.form.email,sex:this.form.sex,age:this.form.age,password:this.form.password,zipcode:this.form.zipCode,country:this.form.country,language:this.$i18n.locale};this.submitting=!0;let t=await Re.createAccount(e);t.status&&200===t.status?this.step="validation":nt(this.$t("label.ErrorStandardMessage"),"error"),this.submitting=!1}break;case"validation":let e=await Re.validateAccount(this.form.email,this.form.code);this.submitting=!0,e.status&&200===e.status?this.step="firstusage":e.data&&"You have tries too much codes"===e.data.message?nt(this.$t("label.YourAccountIsBlocked"),"warning"):nt(this.$t("label.IncorrectCodePleaseRetry"),"warning"),this.submitting=!1;break;case"firstusage":let t="/home";this.$route.query.hasOwnProperty("redirect")&&(t=this.$route.query.redirect),this.$router.push(t);break}},async backAction(){switch(this.step){case"generic":this.$router.push("/user/login");break;case"location":this.step="generic";break;case"password":this.step="location";break;case"validation":this.$router.push("/user/login");break}},async generateANewCode(){this.submitting=!0;let e=await Re.generateANewValidationCode(this.form.email);200===e.status&&nt(this.$t("label.ANewCodeHasBeenSent"),"info"),this.submitting=!1}},validations:{form:{name:{required:tt["required"]},country:{required:tt["required"]},zipCode:{required:tt["required"]},password:{required:tt["required"],minLength:Object(tt["minLength"])(8),checkPasswordComplexity:Qi}}}},Ir=Pr,Fr=(i("5a4a"),Object(we["a"])(Ir,Rr,qr,!1,null,null,null));Fr.options.__file="createAccount.vue";var Or=Fr.exports,Nr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper dark-background"},[i("div",{staticClass:"page-content top-padding-middle fit"},[i("q-carousel",{staticClass:"text-white fit",attrs:{"quick-nav":""},scopedSlots:e._u([{key:"control-nav",fn:function(t){return i("q-carousel-control",{staticClass:"fit",attrs:{offset:[0,0]}},[i("q-btn",{staticClass:"q-carousel-left-arrow absolute",attrs:{disable:!t.canGoToPrevious,color:"white","text-color":"primary",icon:"fas fa-chevron-left",round:"",size:"lg"},on:{click:t.previous}}),i("q-btn",{staticClass:"q-carousel-right-arrow absolute",attrs:{disable:e.hideRightButton,color:"white","text-color":"primary",icon:"fas fa-chevron-right",round:"",size:"lg"},on:{click:function(i){e.nextSlide(t)}}})],1)}}])},[i("q-carousel-slide",{staticClass:"bg-primary"},[i("div",{staticClass:"row fit"},[i("div",{staticClass:"col centered"},[i("h1",{staticClass:"vertical-middle size1"},[e._v(e._s(e.$t("label.WelcomeInGraalyWorld")))])])])]),i("q-carousel-slide",{staticClass:"bg-primary"},[i("div",{staticClass:"row fit"},[i("div",{staticClass:"col centered"},[i("h2",{staticClass:"vertical-middle"},[e._v(e._s(e.$t("label.DiscoverPlacesAroundYou")))]),i("img",{attrs:{src:"statics/images/firstusage1.png"}})])])]),i("q-carousel-slide",{staticClass:"bg-primary"},[i("div",{staticClass:"row fit"},[i("div",{staticClass:"col centered"},[i("h2",{staticClass:"vertical-middle"},[e._v(e._s(e.$t("label.WinPointsAndUnlockQuests")))]),i("img",{attrs:{src:"statics/images/firstusage2.png"}})])])]),i("q-carousel-slide",{staticClass:"bg-primary"},[i("div",{staticClass:"row fit"},[i("div",{staticClass:"col centered"},[i("h2",{staticClass:"vertical-middle"},[e._v(e._s(e.$t("label.CreateYourQuestsAndWinMoney")))]),i("img",{attrs:{src:"statics/images/firstusage3.png"}})])])])],1)],1)])},Dr=[];Nr._withStripped=!0;var $r={data(){return{hideRightButton:!1}},methods:{nextSlide(e){3===e.slide?this.$router.push("/user/login"):e.next()}}},Lr=$r,Hr=Object(we["a"])(Lr,Nr,Dr,!1,null,null,null);Hr.options.__file="firstusage.vue";var jr=Hr.exports,zr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h1",[e._v("Désolé, une erreur est survenue.")]),null!==e.errorMessage?i("p",[e._v("Message : "+e._s(e.errorMessage))]):e._e(),i("p",[e._v("Veuillez contacter le support.")])])},Br=[];zr._withStripped=!0;var Ur={data(){return{errorMessage:null}},mounted(){this.$store.state.hasOwnProperty("errorMessage")&&(this.errorMessage=this.$store.state.errorMessage)}},Wr=Ur,Vr=(i("801f"),Object(we["a"])(Wr,zr,Br,!1,null,"633cbb72",null));Vr.options.__file="errorMessage.vue";var Yr=Vr.exports,Qr=[{path:"/",component:ze,children:[{path:"",redirect:"/map",meta:{requiresAuth:!0}},{path:"home",redirect:"/map",meta:{requiresAuth:!0}},{path:"firstusage",component:jr,meta:{requiresAuth:!1}},{path:"map",component:xt,meta:{requiresAuth:!0}},{path:"quest/play/:id(\\w{24})",component:Nt,meta:{requiresAuth:!0}},{path:"quest/play/:questId(\\w{24})/step/:stepNumber/:lang",component:mi,meta:{requiresAuth:!0}},{path:"quest/:questId(\\w{24})/end",component:_i,meta:{requiresAuth:!0}},{path:"quest/create",redirect:"/quest/create/welcome",meta:{requiresAuth:!0}},{path:"quest/create/welcome",component:Mi,meta:{requiresAuth:!0}},{path:"quest/settings/:questId(\\w{24})",component:Wi,meta:{requiresAuth:!0}},{path:"user/createAccount/:email/:step",component:Or,meta:{requiresAuth:!1}},{path:"user/login",component:Ji,meta:{requiresAuth:!1}},{path:"user/logout",component:ar,meta:{requiresAuth:!0}},{path:"user/updateprofile",component:cr,meta:{requiresAuth:!0}},{path:"admin",component:gr,meta:{requiresAuth:!0}},{path:"admin/validate/:questId(\\w{24})",component:Sr,meta:{requiresAuth:!0}},{path:"admin/minigames/builder",component:xr,meta:{requiresAuth:!0}},{path:"error",component:Yr,meta:{requiresAuth:!1}}]},{path:"*",component:function(){return i.e("2d230c65").then(i.bind(null,"ee5d"))}}];r["a"].use(Ne["a"]);var Gr=new Ne["a"]({mode:"hash",base:"",scrollBehavior:function(){return{y:0}},routes:Qr}),Kr=Gr,Xr=function(){var e="function"===typeof Oe?Oe():Oe,t="function"===typeof Kr?Kr({store:e}):Kr;e.$router=t;var i={el:"#q-app",router:t,store:e,render:function(e){return e(ye)}};return{app:i,store:e,router:t}},Jr=i("9483");Object(Jr["a"])("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.")},cached(e){console.log("Content has been cached for offline use.")},updated(e){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var Zr=i("c1df"),ea=i.n(Zr),ta=function(e){var t=e.Vue;t.filter("formatDate",function(e){if(ea.a.locale("fr"),e)return ea()(String(e)).fromNow()})},ia=(i("7f7f"),function(e){e.app;var t=e.router;e.Vue;t.beforeEach(function(){var e=Se()(regeneratorRuntime.mark(function e(t,i,r){var a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.meta.hasOwnProperty("requiresAuth")&&!t.meta.requiresAuth){e.next=7;break}return e.next=3,Re.getAccount();case 3:a=e.sent,a.data&&a.data.name?(Oe.state.user=a.data,r()):(s=Te["get"]("firstusage"),s&&"ok"===s?r({path:"/user/login",query:"/"===i.path?null:{redirect:t.fullPath}}):(Te["set"]("firstusage","ok",{expires:432e6,secure:!0}),r({path:"/firstusage"}))),e.next=8;break;case 7:r();case 8:case"end":return e.stop()}},e,this)}));return function(t,i,r){return e.apply(this,arguments)}}())}),ra=function(e){var t=e.Vue;t.use(kt,{load:{key:"AIzaSyDPcuabMP6UutEiabzd_CYaozuV5__DJaA",libraries:"places"}})},aa=i("a925"),sa=i("3013"),oa=i.n(sa),na=function(e){var t=e.app,i=e.Vue;i.use(aa["a"]),t.i18n=new aa["a"]({locale:"fr",messages:oa.a})},la=i("1dce"),ua=i.n(la),ca=function(e){var t=e.Vue;t.use(ua.a)},da=i("fe3c"),fa=i.n(da),ha=Xr(),pa=ha.app,ma=ha.store,ba=ha.router;/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&document.addEventListener("DOMContentLoaded",function(){fa.a.attach(document.body)},!1),[ta,ia,ra,na,ca].forEach(function(e){e({app:pa,router:ba,store:ma,Vue:r["a"],ssrContext:null})}),new r["a"](pa)},3:function(e,t){},3013:function(e,t){e.exports={en:{challenge:{challengePlay10Quests:"Play 10 quests",challengePlay30Quests:"Play 30 quests",challengePlay100Quests:"Play 100 quests",challengePlay1000Quests:"Play 1000 quests",challengeBuild1Quests:"Create 1 quest",challengeBuild5Quests:"Create 5 quests",challengeBuild10Quests:"Create 10 quests",challengeBuild40Quests:"Create 40 quests",challengeHave2members:"Invite 2 members in your agency",challengeHave10members:"Invite 10 members in your agency",challengeHave20members:"Invite 20 members in your agency"},color:{red:"Red",green:"Green",blue:"Blue",black:"Black",white:"White"},news:{newQuestWon:"Has won the quest <a href='/#/quest/play/{questId}'>{quest}</a>",newQuest:"Has created the quest <a href='/#/quest/play/{questId}'>{quest}</a>",questUnderValidation:"Your quest <a href='/#/quest/play/{questId}'>{quest}</a> will be published soon",challenge:"You are challenged on quest <a href='/#/quest/play/{questId}'>{quest}</a>"},bonus:{scorex2:"Score x 2",scorex2Desc:"The score of the quests you run during the next 3 days is doubled",rewardx2:"Energy x 2",rewardx2Desc:"The energy you win during the next 3 days is doubled",infinitehint:"Unlimited hints",infinitehintDesc:"You have unlimited hints in quests during 1 day","100coins":"+100 energy","100coinsDesc":"You win +100 extra energy","10coins":"+10 energy","10coinsDesc":"You win +10 extra energy"},stepType:{ImageAndText:"Picture & text",ImageAndTextDesc:"A background image and some text",Video:"Video",VideoDesc:"A video",NewObject:"New object",NewObjectDesc:"Add a new object in the inventory",FindALocation:"Find a location",FindALocationDesc:"Head players to a location",ChoiceQuestion:"Multiple choice questions",ChoiceQuestionDesc:"Check the right answer in a texts or images list",TextQuestion:"Textual answer",TextQuestionDesc:"Question and request a textual answer",FindTheCode:"Keypad code",FindTheCodeDesc:"Player has to find a code",FindTheColorCode:"Color code",FindTheColorCodeDesc:"Player has to find the color code",FindTheImageCode:"Code with images",FindTheImageCodeDesc:"Player has to find the code based on images",PhotographAnObject:"Photograph an item",PhotographAnObjectDesc:"Compare your picture with a play camera picture",JigsawPuzzle:"Jigsaw Puzzle",JigsawPuzzleDesc:"Play a jigsaw puzzle based on your picture",Memory:"Memory",MemoryDesc:"Find the similar pictures",FindAnItem:"Search in a picture",FindAnItemDesc:"Player has to touch a part of your picture",UseAnItem:"Use an item",UseAnItemDesc:"Player use an item of his inventory on a part of a picture",LocateItemAR:"Locate item using augmented reality",LocateItemARDesc:"Player has to find an geolocated item, visible on his smartphone when he is near.",LocateMarker:"Locate a symbol",LocateMarkerDesc:"Player has to find a special symbol, printed or shown on a real screen.",GraalyCharacter:"Graaly character",GraalyCharacterDesc:"Make a Graaly character speak (Boss, indicator, ...)"},layersForMarkers:{Magnifier:"Magnifier",CodeScanner:"Code scanner"},language:{en:"English",fr:"French"},story:{Welcome:"Welcome <b>young detective</b>, you have just joined my team.<br />We have to deal with an increase in inquiries, and have chosen to call <b>someone like you</b>! ",FirstStep:"Please let me tell you that there will be a lot of work.<br />But if you're motivated and listen to my advice, you'll <b>quickly become a good detective</b>.",PresentTeam:"Let start to <b>present our team</b>",PresentSecretary1:"Hello, I am <b>Jane</b>, I will assist you in your missions.",PresentSecretary2:"I will give you the <b>more information I can before you start a quest</b>",PresentIndicator1:"Hi, I am <b>Mark</b> your informer",PresentIndicator2:"Do not hesitate <b>to ask me hints</b> during quests",MapExplaination1:"You will be able to start a quest. <br /> Quests are represented by <i aria-hidden='true' style='font-size: 1.5em' class='q-icon fas fa-map-marker'> </i> on the map below.",MapExplaination2:"To start a quest, you need <b>enough energy</b>.<br />Your energy is represented by <i aria-hidden='true' style='font-size: 1.5em' class='q-icon fas fa-bolt'> </i>, on the top left corner of your screen",MapExplaination3:"Each quest earns you <i aria-hidden='true' style='font-size: 1.5em' class='q-icon fas fa-trophy'> </ i> points.<br />Your <i aria- hidden='true' style='font-size: 1.5em' class='q-icon fas fa-trophy'> </ i> points are displayed on the top right corner of your screen",StartPlaying:"Don't waste more time, select a quest represented by the picture <img src='statics/icons/game/pointer-quest.png' /> on the map",WelcomeToQuest1:"Hello, nice to collaborate with you on this new quest",WelcomeToQuest2:"Please go to this place to start: <br /><b>{startingPlace}</b>",QuestParams:"You can win up to <b>{score}</b> <i aria-hidden='true' class='q-icon fas fa-trophy'> </i> on this quest.<br />This quest <b>difficulty level</b> is <img class='image-and-text-aligned' src='statics/icons/game/magnifying-red.png' /><img class='image-and-text-aligned' src='statics/icons/game/magnifying-{level2}.png' /><img class='image-and-text-aligned' src='statics/icons/game/magnifying-{level3}.png' />, and its <b>estimated duration</b> is {duration} minutes.",description:"{description}",QuestIsFarFromUser:"<b>You are far from this quest</b>.<br />By solving this quest afar, you will miss many clues and so many points",YouAlreadyDidThisQuest:"<b>You already completed this quest</b>. You can play it again, but <b>this will not give you points again</b>",YouAreQuestOwnerDesc:"You are the <b>owner of this quest</b>, you will not win any point",GeneralWarning:"<b>For your safety</b>, do not play Graaly driving or riding your bicycle, always be alert to what is happening around you, do not enter private property without permission, follow the safety rules when you move.",hint:"Hello, here is a hint: <br /><b>{hint}</b>",readMore:"<b>I can tell you more about this:</b><br />{readMore}",DiscoveryQuest1:"Before you start your first investigation, come with me, I'll show you the basics of the job <b>on a first quest</b>. It will not cost you any energy point <i aria-hidden='true' style='font-size: 1.5em' class='q-icon fas fa-bolt'> </i>",RankingDescription1:"The <b>Ranking</b> allows you to show off with other detectives!",RankingDescription2:"You can see your <b>worldwide ranking</b> <i aria-hidden='true' class='q-icon material-icons'>public</i>, and <b>your local ranking</b> <i aria-hidden='true' class='q-icon material-icons'>home</i>.",RankingDescription3:"<b>Territories</b> allow you to know your progress in resolving a city's quests.<br />When you have <b>solved all the investigations of a city</b>, you have conquered the territory!",RankingDescription4:"Return to the map by pressing the <i aria-hidden='true' class='q-icon medium-icon material-icons'>close</i> button",CompleteProfile1:"Do not forget to <b>complete your profile</b>, to help me contact you if I need.",CompleteProfile2:"When it is done, touch the button <img src='statics/icons/game/menu-main.png' style='width: 40px'>.",CreateQuest1:"If you create your own quest on a place you know well, you will win 600 <i aria-hidden='true' class='q-icon fas fa-bolt'> </i>",CreateQuest2:"You can also <b>win real money</b> if your quest is very popular",CreateQuest3:"But it is especially <b>the way to have fun to make cogitate all the other investigators</b> by creating them enigmas",AddFriends:"Do not forget to <b>add your friends</b>.<br />You will then follow their progression, play their quests and compare your results",DiscoveryQuest2:"Your quest is composed with <b>steps</b>, which can be either a descriptive page like this, or an enigma",DiscoveryQuest3:"The bottom menu is the <b>navigation menu</b> of your quest",DiscoveryQuest4:"The button <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>menu</i> allows you to look at the <b>description of the quest</b>, and quit to the map page",DiscoveryQuest5:"The button <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>arrow_back</i> allows you got <b>go back to the previous step</b>.<br />Meanwhile, you do not win extra points if you already answer to the enigma.",DiscoveryQuest6:"The button <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>arrow_forward</i> allows you to <b>pass current step</b>, and reach the next step.<br />If you do not answer the enigma, you move to next step without winning any point.",DiscoveryQuest7:"<b>It's your turn</b>, press the button <i aria-hidden='true' class='q-icon material-icons bg-primary text-white'>arrow_forward</i> to move to next step.",DiscoveryQuest8:"This step of the quest is <b>an enigma</b>.<br />You need to press the picture linked to the good answer",DiscoveryQuest9:"<b>A good answer gives you 10 </b> <i aria-hidden='true' class='q-icon fas fa-trophy'> </i> points, a wrong one does not bring you any point.",DiscoveryQuest10:"If you are unsure about the answer, press the button <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>lightbulb_outline</i> to <b>get a hint</b>.<br />A <b>hint cost you 5 points</b>, you will win 5 points instead of 10 by using a hint.",DiscoveryQuest10b:"<b>Let's go, please press</b> the <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>lightbulb_outline</i> button",DiscoveryQuest11:"Some steps allow you to <b> earn items </b>, like a magnifying glass here",DiscoveryQuest12:"It's your turn, press the <i aria-hidden='true' class='q-icon material-icons bg-primary text-white'>work</i> button to look at your items.",DiscoveryQuest13:"Some steps are <b>mini games</b>, like a jigsaw puzzle here.<br />Move the pieces with your finger. If you can not solve it, skip the puzzle by pressing the button <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>arrow_forward</i>",DiscoveryQuest14:"In this step, you are asked to <b>use an object</b>. For that, select the object by pressing the <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>work</i> button",DiscoveryQuest15:"Once the object is selected, apply it by pressing on the man's backpack on the picture",DiscoveryQuest16:"If you use the wrong object, or you press on the wrong area of the picture, you have an extra <b>answer</b>, but you can win only the half of the step points",EndQuest1:"Well done, you won <b>{score}</b> <i aria-hidden='true' class='q-icon fas fa-trophy'> </i> !",EndQuest1b:"Well done, even if you did not win any points, you have reached the end of the quest!",EndQuest2:"You start with <b>the level 1</b>, but you will soon move to the level 2 and <b>unlock new quests</b>!",EndQuest3:"You are not far from <b> reaching the next level</b>! Stay motivated!",EndQuest4:"<b>Challenge your friends</b> to win more points and have fun comparing your scores.<br />It also allows you to be notified if a friend creates a new quest.",EndQuest5:"By <b>rating this quest</b>, vous win 2 <i aria-hidden='true' class='q-icon fas fa-bolt'> </i>",EndQuest6:"Press the <b>Back to map</b> button, to go back to the quests map, and start a new quest",MapReturn:"Well done, you have completed your first quest! Press the <b>{score}</b> <i aria-hidden='true' class='q-icon fas fa-trophy'> </i> button to <b>look at your ranking</b>",MapDetail1:"When you are on the map page, press the <img src='statics/icons/game/menu-main.png' style='width: 30px'> button to <b>access to the map options</b>, and find quests.<br />The <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>fingerprint</i> button lists the quests you solved or you built.<br />The <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>group</i> button opens your profile page, with your friends news.",StartNewQuest1:"Ok, I think you are ready to <b>start a new quest</b> !<br />Do not forget to charge your mobile more than 50% before starting a quest.",StartNewQuest2:"I propose that we start the <strong>{quest}</strong> quest !",StartNewQuest3:"Select a new quest on the map when you are ready",help:"{help}",BuilderLanguage1:"A new quest? What a good idea! I can not wait to test it!",BuilderLanguage2:"The first step is to <b>choose a language for your quest</b>.<br />You can add easily other languages later.",BuilderLanguage3:"For example, if you create a quest only in french, all players can play it in french, whatever their language.<br />If you create your quest in english and french, the quest will be played in the the player language.",BuilderConfiguration1:"The next step is to <b>describe your quest</b>, in the language you have chosen, to make players want to try to solve it.",BuilderConfiguration2:"The <b>title is very important</b>, try to choose an engaging one !",BuilderConfiguration3:"The <b>subject of your quest</b> is often the most complicated task.<br />Start by finding out informations about the place, the events that took place, and when they were held. The story can be completely imaginary, or include real facts.",BuilderConfiguration4:"I advise you to <b>play a few quests</b> before you start creating yours, they can give you many ideas to start!",BuilderConfiguration5:"Do not hesitate, in the description, to give information about you, about the place, about organizations able to give more information about the place visited",BuilderConfiguration6:"Also indicate precisely the <b>starting place of the quest</b>, if necessary use the description to complete the address.<br /> A wrong start can jeopardize the success of a quest!",BuilderStep1:"You will now create the <b>steps of your quest</b>.",BuilderStep2:"A step can be either<b><i>a transition</i></b>, in which you give informations or objects to the player, or <b><i>an enigma</i></b>, where the player has to solve an enigma",BuilderStep3:"It is often convenient to <b>alternate the two</b>, a transition to describe a place, to provide the information needed to solve puzzles, to provide information after a player solve an enigma , or provide objects necessary for the resolution of an enigma.",BuilderStep4:"Once your steps are created, you can <b>move</ b>, <b>delete</ b>, or <b>add new ones</b>. <br /> A quest must contain between 6 and 40 steps.",BuilderStep5:"Start by creating a first <b>Image and text</b> step to introduce your quest!",BuilderStepOverview1:"<b>The overview</b> helps you check if your enigma is displayed as you want",BuilderStepOverview2:"If you want to modify your enigma, press the <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>arrow_back</i> button",BuilderStepOverview3:"If the display is ok, press the <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>arrow_forward</i> button",BuilderStepSettings1:"Type a description and upload a picture, which will be the background image and the text displayed for the player.<br />The title is only displayed to you, to help you find a step in the steps list.",BuilderStepSettings2:"Once this step is configured, press the <b>Save this step</b> button to open the overview page",BuilderPublishing1:"Once your quest is finished, you can <b>test it</b> in the <i>Publish tab</i> to check that it is clear and feasible for other players",BuilderPublishing2:"Do not hesitate to add <b>editors</b> who can test your quest without publishing it.<br />The editors can also, if you you want, modify your quest.",BuilderPublishing3:"Once your quest is ok for you, you can <b>ask for publishing</b>. The Graaly `Game masters` will review it, and give you clues to improve it.<br /><b>During this phase, you can not modify your quest!</b>. So take time to review it before publishing your quest.",BuilderPublishing4:"If your quest is validated, it will be published, so playable by other players!"},label:{shortLang:"en",letsGo:"Let's Go!",YourEmail:"Your email",PleaseEnterYourEmailAddress:"Please enter your email address",PleaseEnterAValidEmailAddress:"Please enter a valid email address",orSignInWith:"Or sign-in with",IncorrectLoginPleaseRetry:"Incorrect login or password, please try again!",ForgottenPassword:"Forgotten password?",YourPassword:"Your password",tellUsAboutYou:"Tell us about you!",HowWeUseYourData:"How we use your data",Male:"Man",Female:"Woman",YourName:"Your name",YourSex:"Sex",YourAge:"Age",PleaseEnterYourName:"Please enter your name",YourCountry:"Your country",PleaseSelectYourCountry:"Please select your country",YourZipCode:"Your zip code",PleaseEnterYourZipCode:"Please enter your zip code",PleaseEnterYourPassword:"Please enter your password",EnterTheCodeYouReceivedByEmail:"Enter the code you received by email",IncorrectCodePleaseRetry:"Incorrect code, please try again!",SignOutInProgress:"Sign-out in progress ...",ErrorStandardMessage:"An error occurs, please try again later!",YourAccountIsBlocked:"Your account is blocked. Please try again one hour later",YourNewPassword:"Your new password",NewCode:"Get a new code",ANewCodeHasBeenSent:"A new code has been sent",YourPasswordMustBe6digitsLength:"Your password must be 6 digits long",PasswordComplexityRule:"Your password must contain at least 1 Uppercase Letter and 1 number",YourAccountIsNowValidated:"Your account is now validated",IfYouUseGraalyForTheFirstTime:"If you use Graaly for the first time, we advise to start with the discovery quest",YourScore:"Your score",YourRevenues:"Your earnings",QuestsSuccessful:"Successful quests",QuestsCreated:"Created quests",CreateANewQuest:"Create a new quest",PublishedSince:"Publish",Unpublished:"Unpublished",NoQuestCreated:"No quest created",NoQuestPlayed:"No quet played",PlayedOn:"Played",Succeeded:"Succeeded!",ContinueThisQuest:"You have not finished it. Continue?",BackToMap:"Back to the map",MyProfile:"My profile",Friends:"Friends",News:"News",Edit:"Edit",EditYourInformations:"Edit my informations",emailExample:"your.name@mailbox.com",Save:"Save",ChangeYourPassword:"Change my password",CurrentPassword:"Current password",NewPassword:"New password",AccountModifiedLong:"Your account has been modified. If you have modified your email address, a new message has been sent to confirm this email address.",SignOut:"Sign-out",HowTo:"How to do ?",ReachScoreOf:"Reach a score of {score} to unlock new quests",MyLevel:"My level",Difficulty:"Difficulty",Normal:"Normal",Easy:"Easy",Hard:"Hard",Play:"Play",PleaseActivateGeolocation:"Please turn on location on your mobile device",HowToActivateGeolocationOnChrome:"Go to <strong>system settings</strong>, then in <strong>Security and Location</strong>, then <strong>Location</strong>, and activate the option <strong>Enabled</strong>. This may slightly change depending on your Android version.",HowToActivateGeolocationOnIOs:"Go to <strong>Settings</strong>, then in <strong>Privacy</strong>, then <strong>Location services</strong>, and activate the option <strong>Location services</strong> and check that location is enabled for the Graaly application in the list below. This may slightly change depending on your IOS version.",Author:"Author",nbPointsToWin:"Win {nb} points",SolveThisQuest:"Play this quest",Language:"Language",StartingPoint:"Location",Duration:"Duration",minutes:"minute(s)",Languages:"Languages",ScrollForMoreDetails:"Read more",BackToTheMap:"Back to the map",WelcomeInGraalyWorld:"Welcome in the Graaly world!",DiscoverPlacesAroundYou:"Play and discover places around you!",WinPointsAndUnlockQuests:"Win points and unlock quests!",CreateYourQuestsAndWinMoney:"Build your own quests and earn money!",CenterOnYourPosition:"Center map on your location",BuildAQuestHere:"Build a quest",BestQuests:"Best quests",OnlyEasy:"Easiest quests",SearchForAQuest:"Search for a quest",DisplayAllQuests:"Display all quests",km:"km",NoQuestForThisSearch:"No quest for this search",WhyDontYouCreateAQuest:"Why don't you create a quest?",Inventory:"Inventory",InventoryUsage:"Touch an object to use it",noItemInInventory:"No item yet in your inventory",ContinueThisStep:"Continue this quest",YouAlreadyStartThisQuest:"You have already played this quest, do you want to continue with the step you stopped?",Restart:"Restart",Continue:"Continue",NoHintForThisStep:"No hint for this step",Hint:"Hint",CreateYourQuest:"Create your quest!",andWin:"and win",Start:"Start",AcceptTheRules:"Accept the rules",SomeMoney:"Some money",BuilderWelcomeMessage:"<p>Graaly helps you create funny quest to challenge players and win points!</p><p>By pressing the Start button, you accept those rules, described in the XXXXX:<ul><li>This application can be used by young people, it must not contain reference to violence, sex, horror, nudity, drug, alcohol, smoking, ...</li><li>If you are not the owner of the place of the quest, do not ask players to touch, move, or degrade things.</p><p>The story of your quest must not undermine living or dead people</li><li>Your quest must concern a location where no quest has already be done, except if the content is enough different.</li><li>Your quest must have more than 6 steps and less than 50 steps</li><li>Our moderation team will check if your quest respects these rules, and if the quality level is enough. If not, you will be asked to improve your quest, or your quest will be rejected</li></ul></p>",HowToWinMoney:"How to win money?",HowToWinMoneyExplaination:"Graaly share with you 50% of the revenues of the ads displayed when a use play one of your quest. The revenues are payed when they reach $100.",NewQuest:"New quest",Intro:"Intro",Steps:"Steps",Publish:"Publish",Title:"Title",PleaseEnterATitle:"Please enter a title",Category:"Category",PleaseSelectACategory:"Please select a category",Description:"Description",StartingPointOfTheQuest:"Start location of the quest",MainLanguage:"Main language",UploadAPicture:"Upload a picture",YourPicture:"Your picture",Museum:"Museum",CityOrDistrict:"City or district",Countryside:"Country side",Other:"Other",French:"French",English:"English",QuestSaved:"Your modifications are saved",YourQuestIsPublished:"Your quest is published",YourQuestIsUnpublished:"Your quest is unpublished",DoYouWantToRemoveThisStep:"Do you really want to remove this step?",AddAStep:"Add a step",TestYourQuest:"Test your quest",PublishYourQuest:"Publish your quest",UnpublishYourQuest:"Unpublish your quest",SelectTheLanguageAndClickOnNextButton:"Select the language to define settings and steps in the next tabs",SelectedLanguage:"Type quest in:",Close:"Close",ChooseTheStepType:"Choose the step type",Transition:"Transition",Quest:"Quest",UseThisGame:"Use this template",NoneImmediate:"None (immediate)",NoneLocationAndDirection:"Location (and direction)",DateTime:"Date / time",NoneNextStep:"None (move to next step)",Medium:"Medium",Text:"Text",Level:"Level",AnswerNb:"Answer {nb}",YouCantAddMoreThanNbAnswers:"You can't add more than {nb} answers",YouMustDefineAtLeastNbAnswers:"You must add at least {nb} answers",KeepEnigmaQuestionsShort:"Please keep your text short to keep it simple to read. If you need more space for text, we advise you to add a step 'Image & Text' before this one.",CodeKeypadFormatError:"In this required field, please type between 2 to 6 characters (only digits and characters '*', '#').",StepSettingsFormError:"Please review form and try to submit again.",PleaseUploadAFile:"Please upload a file.",RequiredField:"This field is required.",Question:"Question",UploadABackgroundImage:"Upload a background image",WarningImageResize:"The image will be resized with a mobile size (portrait orientation)",UploadAVideo:"Upload a video",NoVideoUploaded:"No video video",Remove:"Remove",remove:"remove",DisplayDistanceBetweenUserAndLocation:"Display the distance between the player and the location",DisplayDirectionArrow:"Display the direction arrow",ResponseTypes:"Response types",PossibleAnswers:"Available answers",Texts:"Texts",Pictures:"Pictures",SelectTheGoodAnswer:"Select the good answer",NoPictureUploaded:"No picture uploaded",AddAnAnswer:"Add an answer",ExpectedAnswer:"Expected answer",Code:"Code",ExpectedColorCodeAnswer:"Expected color code:",ImagesUsedForCode:"Add the images used for the code",AddAnImage:"Add an image",ExpectedCode:"Expected code",UploadThePictureOfTheObjectToFind:"Upload the picture of the thing to find",UploadedPicture:"Uploaded picture",UploadThePuzzlePicture:"Upload the jigsaw puzzle picture",WarningImageSizeSquare:"Your picture will be cropped to have same height and width",YourPuzzlePicture:"Jigsaw picture",ClickOnTheLocationTheItemMustBeUsed:"Select the part of the picture where the item must be used",UploadTheItemPicture:"Upload your item picture",YourItemPicture:"Your item picture",ObjectName:"Item's name",ObjectToUse:"Object to use",SelectedObject:"Selected item",ClickOnTheItemThatIsToFind:"Select the part of the picture the player has to find",StepSaved:"Step saved",TechnicalIssue:"Technical issue, please try again later",SaveThisStep:"Save this step",GraalyIsOptimizedForSmallerScreens:"The application is optimized for mobile device. Please use your mobile vertically, or resize your screen",Overview:"Overview",Submit:"Submit",GoodAnswer:"Good answer!",WrongAnswer:"Wrong answer!",Next:"Next",SecondTry:"Try again (-5 points)",Clear:"Clear",Confirm:"Confirm",WrongGoodCodeWas:"Wrong! The right code was:",TheScreenCaptureWillAppearInThisBox:"The screen capture will appear in this box",Cancel:"Cancel",Check:"Check",TakeThePicture:"Take the picture",WellDone:"Well done!",PhotosDoesntMatch:"Unfortunately, the photos do not match.",DistanceInMeters:"Distance with the place to find: {distance} meters",YouHaveFoundThePlace:"Well done! You have found the place",points:"points",Pass:"Skip",YourAnswer:"Your answer",ConfirmTheAnswer:"Confirm the answer",PleaseSelectAnItemFirst:"Please select an item in your inventory (button in the bottom left), then press the image to use it.",UseItemNothingHappens:"Nothing happens, please try another location or use another object.",FindItemNothingHappens:"Nothing happens, please try another location.",NoTitle:"No title",AddYourSteps:"Add the pages of your quest, and order them",ActivateTheLanguageVisible:"Activate the languages playable for your quest",LanguagesPublished:"Languages published",ModifyThePicture:"Modify the picture",Picture:"Picture",LeaveQuest:"Leave quest",YouHaveWinANewItem:"You have found a new item",YouCanNotUseAnItemInThisStep:"You can not use an item here",Ok:"Ok",ConfirmHint:"The hint will cost you 5 points. Are you sure to use it?",YouWin:"You win",WhatCanYouDoWithThesePoints:"What can you do with these points?",ReviewThisQuest:"Review this quest",ShareYourSuccess:"Share your success!",YouAlreadyPlayThisQuestSoYouWinNoPoints:"You already won the points of this quest in the past",ResolveOtherQuestsToWinPoints:"Play new quests to win points",ChallengeYourFriends:"Challenge your friends!",ConfirmPass:"Are you sure to skip this step, and to not win any point?",TouchWhereYouUseThisItem:"Touch where you use this item",YourLanguage:"Your language",NoFriend:"You have not friend yet",YourRanking:"My ranking",Ranking:"Ranking",Like:"Like",NoNews:"No news yet",BuyCoinsToPlay:"Buy energy to play",YourRatingHasNotBeenSaved:"Your rating has not been saved. Maybe you have already rated this quest?",YourRatingHasBeenSaved:"Your rating has been saved",GetCloserToStartingPoint:"Get closer of starting point",OnceGeolocationEnabled:"Once location enabled,",PressHere:"press here",Map:"Quests map",AddressToFind:"Address of the location to find",Address:"Address",OrDefineGPSLocation:"Or define GPS location",Latitude:"Latitude",Longitude:"Longitude",PleaseUploadAFileInPNGFormat:"Please upload a file in PNG format with alpha transparency.",GPSCoordinates:"GPS coordinates",TerritoriesWon:"Conquest of territories",YourWorldRanking:"My global rank",YourCityRanking:"My rank in my city",PlayAllQuestsInACityToWin:"Play all the quests of a city to conquest the territory",NoRankingYet:"Your rank is not yet computed, please wait for tomorrow",Challenge:"Challenge",ChallengeAllFriends:"Challenge all your friends",TypeNameOrAddressOfYourFriends:"Type the email or the name of your friends",Or:"Or",Select:"Select",Add:"Add",Administrate:"Administration page",QuestUnderValidation:"Your quest is now read only. Your quest will be validated by our game master. This can take days. Please check your mailbox for more information",PublicationRequested:"Publication requested",PublicationRejected:"Publication rejected. You will receive an email to know why",QuestPublicationRejected:"Your quest has not been published. You will receive an email to explain you how to update it to have it published",TouchTheObject:"Find the object by looking around and touch it",ObjectSize:"Object size",YouWonABonus:"You won a bonus",AddATown:"Add a town",Shop:"Shop",Coins:"Energy",coins:"energy",Choose3DModel:"Choose a 3D model",ObjectIsTooFar:"The object is too far to be visible on screen. Try to get closer.",LastItemIsUniq:"Last picture is unique (no twin in the game)",YouMustDefineStartLocation:"You must define the location of the starting point of the quest",ClickOnArrowToMoveToNextStep:"Touch the right arrow to move to next step",YourQuestMustContainAtLeast6Steps:"Your quest is too short, you must create at least 6 steps",YourQuestMustContainLessThan50Steps:"Your quest is too long, you must create less than 50 steps",WarningNoLocation:"Searching your location...",WarningLowBattery:"Charge your phone before starting quest",WarningNoNetwork:"No network...",CouldNotDisplayObject:"The object to find cannot be displayed. To succeed finding the object, try to get very close using the distance indicator.",Step:"Step",EasyLongDesc:"Easy, for everyone, even a child",NormalLongDesc:"Normal, no huge difficulties",HardLongDesc:"Expert, for gamers",RemoveThisQuest:"Remove this quest",AreYouSureYouWantToRemoveThisQuest:"Are you sure to remove this quest? It will be remove permanently!",Modify:"Modify",Editors:"Editors",InviteEditors:"Invite an editor",InviteEditorsHelp:"Type email address of the editor you want to invite",UserIsNotAGraalyUser:"This email does not belong to a Graaly user. Ask this person to create a Graaly account.",OtherOptions:"Other options",SelectPictureInTheList:"Select the object is the list",HintText:"Hint text","2DPicture":"Flat picture","3DObject":"3D object",ObjectFormat:"Object format",ImagesUsedForCards:"Cards pictures",OkThanks:"Ok, thanks!",CreateAQuest:"Create a quest",NoThanks:"No thanks",Character:"Character",Rankings:"Rankings",UseMyCurrentGPSLocation:"Use my current GPS phone location",MarkersFile:"Symbols file",ChooseTheMarker:"Choose the symbol",Download:"Download",Marker:"Symbol",Choose:"Choose...",ExtraTextFieldLabel:"'Know more' description",ReadMore:"Read more",ClickHereToKnowMore:"Press here to know more",AddFriends:"Add friends",FriendsAdded:"Friend added",InvitationSent:"Invitation sent",Email:"Email",EmailIsNotValid:"Invalid email",PhoneNumber:"Phone number",InvalidPhoneNumber:"Invalid phone number",AreYouSureYouWantToRemoveThisFriend:"Are you sure you want to remove him/her from your friends list",Suggestions:"Suggestions",FindWithEmail:"Find friend with email",FindWithPhone:"Find friend with phone number",YourPhoneNumber:"Your phone number",phoneExample:"123 456 789",Pro:"Pro.",Storekeeper:"Storekeeper",StorekeeperDesc:"Attract a qualified clientele with a unique gaming experience",TourismProfessional:"Tourism professional",TourismProfessionalDesc:"Offer a unique visitor experience with a personalized game",TransparentImageAboveCameraStream:"Transparent image above camera stream",GeolocationFailed:"Geolocation failed",GeolocationFailedDesc:"We can not localize you, either you have no network, or you blocked the localization for this app",NumberOfColorsInTheCode:"Number of colors in the code",NumberOfImagesInTheCode:"Number of pictures in the code",FindMarkerHelp:"Target the correct marker with your phone camera. A marker is a symbol surrounded by a black frame. Good luck!",LocationSearching:"Looking for your position...",ConfirmSaveChanges:"Save changes?",Yes:"Yes",No:"No",WeNeedMoreInformationAboutYou:"We need more information about you",ToDisplayRelevantQuests:"To display the right quests...",ToHelpYouFindYourFriends:"To help you find your friends (optional)...",ToAvoidSendingYourToUnrelevantQuests:"To avoid to make you go to unsuitable quests...",RemoveYourAccountDesc:"By removing your account, you will loose your score, all the items you bought, and your progression, and you will not be able to log again to the application.",RemoveYourAccount:"Remove your account",IConfirmIWantToRemoveMyAccount:"I confirm I want to remove my account",AreYouSureYouWantToRemoveYourAccount:"Are you sure to remove your account, and not use LinkyLove any more? This actions can not be canceled!",YourAccountIsRemoved:"Your account has been removed",Reviews:"Reviews",CommentThisQuest:"Comments for quest author",Send:"Send",ReviewSent:"Review sent to the author. Thank you!",Optional:"optional",Colon:":",Rating:"Rating",PleaseRateTheQuest:"Please rate the quest before sending your review",QuestNotReviewed:"This quest has not been reviewed yet.",ClickHereToStartDiscoveryQuest:"Press here to start the discovery quest"}},fr:{challenge:{challengePlay10Quests:"Résoudre 10 enquêtes",challengePlay30Quests:"Résoudre 30 enquêtes",challengePlay100Quests:"Résoudre 100 enquêtes",challengePlay1000Quests:"Résoudre 1000 enquêtes",challengeBuild1Quests:"Créer 1 enquête",challengeBuild5Quests:"Créer 5 enquêtes",challengeBuild10Quests:"Créer 10 enquêtes",challengeBuild40Quests:"Créer 40 enquêtes",challengeHave2members:"Inviter 2 membres dans votre agence",challengeHave10members:"Inviter 10 membres dans votre agence",challengeHave20members:"Inviter 20 membres dans votre agence"},color:{red:"Rouge",green:"Vert",blue:"Bleu",black:"Noir",white:"Blanc"},news:{newQuestWon:"A réussi l'énigme <a href='/#/quest/play/{questId}'>{quest}</a>",newQuest:"A créé l'énigme <a href='/#/quest/play/{questId}'>{quest}</a>",questUnderValidation:"Votre enquête <a href='/#/quest/play/{questId}'>{quest}</a> est en cours de validation",challenge:"Vous défie sur l'énigme <a href='/#/quest/play/{questId}'>{quest}</a>"},bonus:{scorex2:"Score x 2",scorex2Desc:"Vous doublez le score de vos enquêtes durant 3 jours",rewardx2:"Energie x 2",rewardx2Desc:"L'energie que vous gagnez est doublée durant 3 jours",infinitehint:"Indices illimités",infinitehintDesc:"Vous bénéficiez d'indices infinis durant 1 jour","100coins":"+100 d'énergie","100coinsDesc":"Vous gagnez +100 en énergie","10coins":"+10 énergie","10coinsDesc":"Vous gagnez +10 en énergie"},stepType:{ImageAndText:"Image et Texte",ImageAndTextDesc:"Une image de fond et du texte",Video:"Vidéo",VideoDesc:"Vidéo d'explication, de présentation",NewObject:"Nouvel objet",NewObjectDesc:"Ajout d'un objet dans l'inventaire",FindALocation:"Trouver un lieu",FindALocationDesc:"Diriger vers un emplacement",ChoiceQuestion:"Question à choix multiples",ChoiceQuestionDesc:"Cocher la bonne réponse (texte ou image)",TextQuestion:"Réponse textuelle",TextQuestionDesc:"Taper un texte",FindTheCode:"Trouver un code numérique",FindTheCodeDesc:"Trouver et taper le code",FindTheColorCode:"Trouver un code couleur",FindTheColorCodeDesc:"Trouver une combinaison de couleurs",FindTheImageCode:"Code avec images",FindTheImageCodeDesc:"Trouver le code composé d'images",PhotographAnObject:"Photographier un objet",PhotographAnObjectDesc:"Retrouver et photographier un objet",JigsawPuzzle:"Puzzle",JigsawPuzzleDesc:"Remettre en place les pièces",Memory:"Memory",MemoryDesc:"Trouver les images similaires",FindAnItem:"Rechercher dans une image",FindAnItemDesc:"Le joueur doit toucher une zone de l'image",UseAnItem:"Utiliser objet",UseAnItemDesc:"Utiliser un objet de l'inventaire",LocateItemAR:"Trouver un objet en réalité augmentée",LocateItemARDesc:"Le joueur doit trouver un objet géolocalisé et visible sur l'écran de son smartphone lorsqu'il se trouve à proximité.",LocateMarker:"Trouver un symbole",LocateMarkerDesc:"Le joueur doit trouver un symbole spécial, imprimé ou affiché sur un écran.",GraalyCharacter:"Personnage Graaly",GraalyCharacterDesc:"Faire parler un personnage Graaly (commissaire, indic, ...)"},layersForMarkers:{Magnifier:"Loupe",CodeScanner:"Scanner"},language:{en:"Anglais",fr:"Français"},story:{Welcome:"Bienvenue <b>jeune détective</b>, vous venez de rejoindre mon équipe.<br />Nous devons faire face à une augmentation des enquêtes, et avons choisi de faire appel à <b>quelqu'un de prometteur comme vous</b> !",FirstStep:"Autant vous le dire tout de suite, il va y avoir du boulot.<br />Mais si vous êtes motivé et que vous écoutez mes conseils, vous allez <b>rapidement devenir un bon détective</b>.",PresentTeam:"Avant d'aller plus loin, je vais vous <b>présenter notre l'équipe</b>",PresentSecretary1:"Bonjour, je suis <b>Jeanne</b>, je vous assisterai dans vos missions.",PresentSecretary2:"Je vous ferais également un <b>briefing avant chaque enquête</b>.",PresentIndicator1:"Salut, je suis <b>Marc</b>, votre indic.",PresentIndicator2:"Si vous bloquez sur certaines enquêtes, <b>appelez moi</b> !",MapExplaination1:"Vous allez pouvoir commencer une enquête.<br />Les enquêtes sont représentées par les <i aria-hidden='true' style='font-size: 1.5em' class='q-icon fas fa-map-marker'> </i> sur la carte ci-dessous.",MapExplaination2:"Pour commencer une enquête, il vous faut <b>assez d'énergie</b>.<br />Votre énergie est représentée par <i aria-hidden='true' style='font-size: 1.5em' class='q-icon fas fa-bolt'> </i>, en haut à gauche",MapExplaination3:"Chaque enquête vous rapporte des points <i aria-hidden='true' style='font-size: 1.5em' class='q-icon fas fa-trophy'> </i><br />Vos <i aria-hidden='true' style='font-size: 1.5em' class='q-icon fas fa-trophy'> </i> sont affichés en haut à droite",StartPlaying:"Ne perdons pas plus de temps, Je vous emmène sur une enquête, appuyez sur votre position représentée sur la carte par <img src='statics/icons/game/pointer-me.png' />",WelcomeToQuest1:"Bonjour, ravie de collaborer avec vous sur cette nouvelle enquête",WelcomeToQuest2:"Rendez-vous à l'adresse suivante pour commencer : <br /><b>{startingPlace}</b>",QuestParams:"Cette enquête peut vous rapporter jusqu'à <b>{score}</b> <i aria-hidden='true' class='q-icon fas fa-trophy'> </i>.<br />Elle est de <b>difficulté</b> <img class='image-and-text-aligned' src='statics/icons/game/magnifying-red.png' /><img class='image-and-text-aligned' src='statics/icons/game/magnifying-{level2}.png' /><img class='image-and-text-aligned' src='statics/icons/game/magnifying-{level3}.png' />, la <b>durée</b> est estimée à {duration} minutes.",description:"{description}",QuestIsFarFromUser:"<b>Vous n'êtes pas sur le lieu de l'enquête</b>.<br />En résolvant cette enquête à distance, vous allez manquer plein d'indices et donc de points",YouAlreadyDidThisQuest:"<b>Vous avez déjà réussi cette enquête</b>. Vous pouvez la résoudre à nouveau, mais elle ne vous <b>rapportera aucun point</b>.",YouAreQuestOwnerDesc:"Vous êtes le <b>créateur de cette enquête</b>, elle ne vous rapportera aucun point",GeneralWarning:"<b>Pour votre sécurité</b>, ne jouez pas à Graaly en conduisant ou quand votre vélo est en mouvement, soyez toujours vigilant à ce qui se passe autour de vous, ne pénétrez pas dans des propriétés privées sans autorisation, respectez les règles de sécurité quand vous vous déplacez.",hint:"Salut, voici un indice :<br /><b>{hint}</b>",readMore:"<b>Je peux vous en dire un peu plus à ce sujet:</b><br />{readMore}",DiscoveryQuest1:"Tu veux que je t'apprenne les ficelles du métier ?<br />Vient avec moi, nous allons <b>résoudre la première enquête ensemble</b>. Elle ne te coûte aucun point d'énergie <i aria-hidden='true' style='font-size: 1.5em' class='q-icon fas fa-bolt'> </i>",RankingDescription1:"Le <b>Classement</b> vous permet de frimer auprès des autres détectives !",RankingDescription2:"Vous pouvez voir <b>votre classement mondial</b> <i aria-hidden='true' class='q-icon material-icons'>public</i>, et <b>votre classement local</b> <i aria-hidden='true' class='q-icon material-icons'>home</i>.",RankingDescription3:"<b>Les territoires</b> vous permettent de savoir votre progression dans la résolution des enquêtes d'une ville.<br />Quand vous avez <b>résolu toutes les enquêtes d'une ville</b>, vous avez conquis le territoire !",RankingDescription4:"Revenez à la carte en appuyant sur le bouton <i aria-hidden='true' class='q-icon medium-icon material-icons'>close</i>",CompleteProfile1:"N'oubliez pas de bien <b>compléter votre profil</b>, pour que je puisse vous contacter sans problème.",CompleteProfile2:"Dès que c'est bon, appuyez sur le bouton <img src='statics/icons/game/menu-main.png' style='width: 40px'>.",CreateQuest1:"Vous pouvez créer votre propre enquête, cela vous rapporte 600 <i aria-hidden='true' class='q-icon fas fa-bolt'> </i>",CreateQuest2:"Vous pouvez aussi <b>gagner de l'argent</b> si votre enquête est très populaire.",CreateQuest3:"Mais c'est surtout le moyen de <b>s'amuser à faire cogiter tous les autres enquêteurs</b> en leur créant des énigmes",AddFriends:"N'oubliez pas <b>d'ajouter vos amis</b>.<br />Cela permet de suivre leur évolution, de jouer à leur enquêtes et de comparer vos résultats",DiscoveryQuest2:"Votre enquête se décompose en <b>plusieurs étapes</b>, qui peuvent être soit une page descriptive comme ici, soit une énigme",DiscoveryQuest3:"La barre du bas est le <b>menu de navigation</b> de votre enquête.",DiscoveryQuest4:"Le bouton <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>menu</i> vous permet de revoir la <b>description de l'enquête</b>, et de quitter l'enquête en cours.",DiscoveryQuest5:"Le bouton <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>arrow_back</i> vous permet de <b>revenir à l'étape précédente</b>.<br />Par contre, vous ne gagnerez pas de point supplémentaire si vous avez déjà répondu à l'énigme.",DiscoveryQuest6:"Le bouton <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>arrow_forward</i> vous permet de <b>passer à l'étape suivante</b>.<br />Si vous ne répondez pas à l'énigme, vous passez à l'étape suivante sans gagner de points.",DiscoveryQuest7:"<b>A vous de jouer</b>, appuyez sur le bouton <i aria-hidden='true' class='q-icon material-icons bg-primary text-white'>arrow_forward</i> pour passer à l'énigme suivante.",DiscoveryQuest8:"Cette étape de l'enquête est <b>une énigme</b>.<br />Il vous faut appuyer sur l'image correspondant à la bonne réponse, sur 4 options possibles",DiscoveryQuest9:"<b>Une bonne réponse vous rapporte 10 points</b> <i aria-hidden='true' class='q-icon fas fa-trophy'> </i>, une mauvaise ne vous rapporte aucun point.",DiscoveryQuest10:"Si vous hésitez sur la réponse, appuyez sur le bouton <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>lightbulb_outline</i> pour <b>obtenir un indice</b>.<br />Un <b>indice vous coûte 5 points</b>, vous gagnerez 5 points au lieu de 10 en utilisant un indice.",DiscoveryQuest10b:"<b>Allez-y, appuyez sur le bouton</b> <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>lightbulb_outline</i>",DiscoveryQuest11:"Certaines étapes vous permettent de <b>gagner des objets</b>, comme une loupe ici",DiscoveryQuest12:"A vous de jouer, pressez le bouton <i aria-hidden='true' class='q-icon material-icons bg-primary text-white'>work</i> pour voir vos objets.",DiscoveryQuest13:"Certaines énigmes sont des <b>mini jeux</b>, comme un puzzle ici.<br />Déplacez les pièces avec le doigt. Si vous n'y arrivez pas, passez l'énigme en pressant le bouton <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>arrow_forward</i>",DiscoveryQuest14:"Dans cette énigme, on vous demande <b>d'utiliser un objet</b>. Pour cela, sélectionnez l'objet en appuyant sur le bouton <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>work</i>",DiscoveryQuest15:"Une fois l'objet sélectionné, appliquez en appuyant sur le sac à dos de l'homme sur l'image",DiscoveryQuest16:"Si vous vous trompez d'objet ou d'emplacement pour appliquer l'objet, vous avez une <b>chance supplémentaire</b>, mais vous ne gagnerez que la moitié des points de l'énigme",EndQuest1:"Bien joué, vous avez gagné <b>{score}</b> <i aria-hidden='true' class='q-icon fas fa-trophy'> </i> !",EndQuest1b:"Bravo, même si vous n'avez gagné aucun point, vous êtes arrivé au bout de cette enquête !",EndQuest2:"Vous <b>débutez au niveau 1</b>, mais rapidement vous pourrez passer au niveau 2 et <b>débloquer de nouvelles enquêtes</b> !",EndQuest3:"Vous n'êtes pas loin de <b>passer au niveau supérieur</b> ! Encore un petit effort !",EndQuest4:"<b>Défiez vos amis</b> enquêteurs pour gagner plus de points et s'amuser à comparer vos scores.<br />Cela vous permet aussi d'être averti si un ami crée une enquête.",EndQuest5:"En <b>notant cette enquête</b>, vous gagnez 2 <i aria-hidden='true' class='q-icon fas fa-bolt'> </i>",EndQuest6:"Appuyez sur le <b>bouton 'Retour à la carte'</b>, pour revenir à la carte des enquêtes, et démarrer une nouvelle enquête",MapReturn:"Bravo, vous avez réussi votre première enquête. Appuyez sur <b>{score}</b> <i aria-hidden='true' class='q-icon fas fa-trophy'> </i>, en haut à droite, <b>pour voir votre classement</b>.",MapDetail1:"Quand vous êtes sur la carte, appuyez sur le bouton <img src='statics/icons/game/menu-main.png' style='width: 30px'> pour <b>accéder aux options de la carte</b>, et trouver les enquêtes qui vous intéressent.<br />Le bouton <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>fingerprint</i> liste les enquêtes que vous avez résolue et que vous avez créées.<br />Le bouton <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>group</i> vous permet d'accéder à votre profil et aux infos de vos amis.",StartNewQuest1:"Bon, on s'est assez reposé, <b>démarrons une nouvelle enquête</b> !<br />N'oubliez pas de charger votre portable à plus de 50% avant une enquête.",StartNewQuest2:"Je vous propose qu'on s'occupe de l'enquête <strong>{quest}</strong> ! Beaucoup s'y sont cassé les dents, y arriverez-vous ?",StartNewQuest3:"Sélectionnez une nouvelle enquête sur la carte quand vous êtes prêt",help:"{help}",BuilderLanguage1:"Quelle bonne idée, une nouvelle enquête ! J'ai hâte de pouvoir la tester !",BuilderLanguage2:"La première étape est de <b>choisir une langue pour votre enquête</b>.<br />Vous pourrez ensuite rajouter très facilement d'autres langues.",BuilderLanguage3:"Par exemple, si vous créez votre enquête uniquement en français, elle sera jouable en français par tous les joueurs, quelle que soit leur langue.<br />Si vous la créez en anglais et en français, la langue s'adaptera à celle du joueur.",BuilderConfiguration1:"La deuxième étape est de <b>décrire votre enquête</b>, dans la langue que vous avez choisie, pour donner envie aux joueurs d'essayer de la résoudre.",BuilderConfiguration2:"Le <b>titre est très important</b>, essayez d'en choisir un motivant !",BuilderConfiguration3:"Le <b>thème de votre enquête</b> est souvent la chose la plus compliquée à trouver.<br />Commencez par bien vous renseigner sur le lieu, sur les événements qui s'y sont déroulés, et à quelle période ils se sont déroulés. L'histoire peut être complètement imaginaire, ou comporter des faits réels.",BuilderConfiguration4:"Je vous conseille de <b>jouer à quelques enquêtes</b> avant de vous lancer dans la création de la vôtre, cela permet d'avoir plus d'idées pour démarrer !",BuilderConfiguration5:"N'hésitez pas, dans la description, à donner des informations sur vous, sur le lieu, sur des organismes capables de donner plus d'informations sur le lieu visité",BuilderConfiguration6:"Indiquez également précisément le <b>lieu de départ de l'enquête</b>, utilisez si besoin la description pour compléter l'adresse.<br />Un mauvais départ peut compromettre la réussite d'une enquête !",BuilderStep1:"Vous allez maintenant créer <b>chaque étape de votre enquête</b>.",BuilderStep2:"Une étape peut être soit <b><i>une transition</i></b>, dans laquelle vous donnez au joueur des informations ou des objets, soit <b><i>une énigme</i></b>, où le joueur doit résoudre une énigme",BuilderStep3:"Il est souvent pratique d'<b>alterner les deux</b>, une transition permettant de présenter un lieu, d'apporter des informations nécessaires à la résolution des énigmes, d'apporter des informations suite à la résolution d'une énigme, ou de fournir des objets nécessaires à la résolution d'une énigme.",BuilderStep4:"Une fois vos étapes créées, vous pouvez les <b>déplacer</b>, les <b>supprimer</b>, ou <b>en rajouter de nouvelles</b>.<br />Une enquête doit contenir entre 6 et 40 étapes.",BuilderStep5:"Commencez par créer une première étape de type <b>Image et texte</b> pour introduire votre enquête !",BuilderStepOverview1:"<b>L'aperçu</b> vous permet de vérifier que votre énigme s'affiche bien comme vous le souhaitez",BuilderStepOverview2:"Si vous souhaitez modifier votre énigme, pressez le bouton <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>arrow_back</i>",BuilderStepOverview3:"Si tout est conforme, pressez le  bouton <i aria-hidden='true' style='font-size: 1.5em' class='q-icon material-icons bg-primary text-white'>arrow_forward</i>",BuilderStepSettings1:"Entrez une description et une image, qui correspondent à l'image de fond et au texte qui s'afficheront au joueur.<br />Le titre n'est affiché que pour vous, pour vous permettre de retrouver facilement vos étapes dans la liste des étapes.",BuilderStepSettings2:"Une fois que cette étape est configurée, pressez sur <b>Enregistrer cette étape</b> pour en avoir un aperçu, tel que le verra un joueur",BuilderPublishing1:"Dès que votre enquête est complète, vous pouvez <b>la tester</b> dans l'onglet <i>Mise en ligne</i> pour vérifier qu'elle vous convient et qu'elle est réalisable par d'autres joueurs",BuilderPublishing2:"N'hésitez pas à ajouter <b>un ou plusieurs éditeurs</b>, qui pourront tester votre enquête sans qu'elle soit visible par les autres joueurs.<br />Ils pourront aussi, si vous le souhaitez, modifier directement votre enquête.",BuilderPublishing3:"Dès que votre enquête vous convient, vous pouvez <b>proposer sa publication</b>. Les `Game masters` Graaly vont alors analyser votre enquête, et vous indiqueront s'il est nécessaire de modifier des choses pour sa publication.<br /><b>Durant cette phase, vous ne pourrez plus modifier votre enquête !</b>. Prenez donc bien le temps avant de la publier.",BuilderPublishing4:"Si votre enquête est conforme et de qualité, elle sera publiée, et donc jouable par tous !"},label:{shortLang:"fr",letsGo:"C'est parti !",YourEmail:"Votre email",PleaseEnterYourEmailAddress:"Veuillez saisir votre adresse email",PleaseEnterAValidEmailAddress:"Veuillez saisir une adresse email valide",orSignInWith:"Ou connectez-vous avec",IncorrectLoginPleaseRetry:"Identifiants incorrects, veuillez réessayer",ForgottenPassword:"Mot de passe oublié ?",YourPassword:"Votre mot de passe",tellUsAboutYou:"Faisons connaissance !",HowWeUseYourData:"Utilisation de vos données personnelles",Male:"Homme",Female:"Femme",YourName:"Votre nom",YourSex:"Sexe",YourAge:"Age",PleaseEnterYourName:"Veuillez saisir votre nom",YourCountry:"Votre pays",PleaseSelectYourCountry:"Veuillez sélectionner votre pays",YourZipCode:"Votre code postal",PleaseEnterYourZipCode:"Veuillez entrer un code postal",PleaseEnterYourPassword:"Veuillez saisir votre mot de passe",EnterTheCodeYouReceivedByEmail:"Entrez le code que vous avez reçu par email",IncorrectCodePleaseRetry:"Code incorrect, veuillez réessayer",SignOutInProgress:"Déconnexion en cours ...",ErrorStandardMessage:"Une erreur est survenue, veuillez contacter le support",YourAccountIsBlocked:"Votre compte est bloqué. Veuillez réessayer dans une heure",YourNewPassword:"Votre nouveau mot de passe",NewCode:"Générer un nouveau code",ANewCodeHasBeenSent:"Un nouveau code a été envoyé",YourPasswordMustBe6digitsLength:"Votre mot de passe doit faire 6 caractères min.",PasswordComplexityRule:"Votre mot de passe doit contenir au moins une majuscule et un nombre",YourAccountIsNowValidated:"Votre compte est maintenant validé",IfYouUseGraalyForTheFirstTime:"Si vous utilisez Graaly pour la première fois, nous vous conseillons de commencer par l'énigme de découverte",YourScore:"Votre score",YourRevenues:"Vos gains",QuestsSuccessful:"Enquêtes résolues",QuestsCreated:"Enquêtes créées",CreateANewQuest:"Créer une nouvelle enquête",PublishedSince:"Publié",Unpublished:"Non publié",NoQuestCreated:"Aucune enquête créée",NoQuestPlayed:"Aucune enquête résolue",PlayedOn:"Résolue",Succeeded:"Réussi !",ContinueThisQuest:"Vous n'êtes pas allé au bout. Continuer ?",BackToMap:"Retour",MyProfile:"Mon profil",Friends:"Amis",News:"Actus",Edit:"Modifier",EditYourInformations:"Modifier mes informations",emailExample:"votre.nom@mail.com",Save:"Enregistrer",ChangeYourPassword:"Modifier mon mot de passe",CurrentPassword:"Mot de passe actuel",NewPassword:"Nouveau mot de passe",AccountModifiedLong:"Votre compte a été modifié. Si vous avez modifié votre adresse email, un message vient de vous être envoyé sur cette adresse pour la confirmer.",SignOut:"Déconnexion",HowTo:"Comment faire ?",ReachScoreOf:"Atteignez une score de {score} pour débloquer de nouvelles énigmes",MyLevel:"Mon niveau",Difficulty:"Difficulté",Normal:"Normal",Easy:"Facile",Hard:"Difficile",Play:"Enquêter",PleaseActivateGeolocation:"Veuillez activer la localisation sur votre appareil mobile",HowToActivateGeolocationOnChrome:"Ouvrez les <strong>Paramètres Système</strong>, allez dans <strong>Sécurité et Position</strong>, puis <strong>Position</strong>, et activez l'option <strong>Activé</strong>. Ceci peut changer légèrement selon votre version d`Android.",HowToActivateGeolocationOnIOs:"Ouvrez les <strong>Réglages</strong>, allez dans <strong>Confidentialité</strong>, puis <strong>Service de localisation</strong>, et activez l'option <strong>Service de localisation</strong> et vérifiez que la localisation est activée pour l`application Graaly dans la liste du dessous. Ceci peut changer légèrement selon votre version d`IOS.",Author:"Auteur",nbPointsToWin:"{nb} points à gagner",SolveThisQuest:"Résoudre l'enquête",Language:"Langue",StartingPoint:"Lieu de départ",Duration:"Durée",minutes:"minute(s)",Languages:"Langues",ScrollForMoreDetails:"En savoir +",BackToTheMap:"Retour à la carte",WelcomeInGraalyWorld:"Bienvenue dans le monde de Graaly !",DiscoverPlacesAroundYou:"Découvrez les lieux autour de vous en jouant !",WinPointsAndUnlockQuests:"Gagnez des points et débloquez des enquêtes !",CreateYourQuestsAndWinMoney:"Créez vos enquêtes et gagnez de l'argent !",CenterOnYourPosition:"Centrer sur votre position",BuildAQuestHere:"Créer une enquête",BestQuests:"Les plus populaires",OnlyEasy:"Les plus faciles",SearchForAQuest:"Chercher des enquêtes",DisplayAllQuests:"Afficher toutes les enquêtes",km:"km",NoQuestForThisSearch:"Aucune enquête ne correspond à votre recherche",WhyDontYouCreateAQuest:"Pourquoi ne pas créer cette enquête ?",Inventory:"Inventaire",InventoryUsage:"Touchez un objet pour l'utiliser",noItemInInventory:"Encore aucun élément dans votre inventaire",ContinueThisStep:"Continuer cette enquête",YouAlreadyStartThisQuest:"Vous avez déjà commencé cette enquête, voulez vous continuer à l'étape où vous vous étiez arrété ?",Restart:"Recommencer",Continue:"Continuer",NoHintForThisStep:"Aucun indice pour cette énigme",Hint:"Indice",CreateYourQuest:"Créez votre enquête !",andWin:"et gagnez",Start:"Commencer",AcceptTheRules:"Accepter les règles",SomeMoney:"De l'argent",BuilderWelcomeMessage:"<p>Graaly vous permet de créer très simplement, et pas à pas, des enquêtes ludiques pour les autres joueurs.</p><p>En appuyant sur le bouton Démarrer, vous acceptez les règles suivantes :<ul><li>Cette application peut être utilisée par un jeune public, votre enquête ne doit pas contenir de la violence, des images effrayantes, ou des références au sexe, aux drogues, à l'alcool, au tabac, etc.</li><li>Si le lieu ne vous appartient pas, ne demandez pas aux joueurs de toucher, déplacer, dégrader les lieux visités</li><li>L'histoire de votre enquête ne doit pas porter atteinte à des personnes vivantes ou ayant existé</li><li>Votre enquête ne doit pas concerner un lieu pour lequel une enquête existe déjà, sauf si le thême est suffisamment différent</li><li>Votre enquête doit faire plus de 6 étapes et moins de 50</li><li>Notre équipe de modérateurs validera si votre enquête respecte ces règles et atteint un niveau de qualité suffisant. Dans le cas contraire, il vous sera demandé d'améliorer votre enquête, ou elle sera refusée</li></ul></p>",HowToWinMoney:"Comment gagner de l'argent",HowToWinMoneyExplaination:"Graaly partage avec vous 50% des revenus des publicités affichées quand un utilisateur joue à votre enquête. Les revenus sont payés à partir du moment où ils atteignent 100 euros.",NewQuest:"Nouvelle enquête",Intro:"Intro",Steps:"Etapes",Publish:"Mise en ligne",Title:"Titre",PleaseEnterATitle:"Veuillez entrer un titre",Category:"Catégorie",PleaseSelectACategory:"Veuillez sélectionner une catégorie",Description:"Description",StartingPointOfTheQuest:"Adresse de départ de l'enquête",MainLanguage:"Langue principale",UploadAPicture:"Télécharger une photo",YourPicture:"Votre photo",Museum:"Musée",CityOrDistrict:"Ville ou quartier",Countryside:"Sortie nature",Other:"Autre",French:"Français",English:"Anglais",QuestSaved:"Vos modifications sont enregistrées",YourQuestIsPublished:"Votre enquête est publiée",YourQuestIsUnpublished:"Votre enquête est repassé en brouillon",DoYouWantToRemoveThisStep:"Souhaitez-vous vraiment supprimer cette étape ?",AddAStep:"Ajouter une étape",TestYourQuest:"Tester votre enquête",PublishYourQuest:"Publier votre enquête",UnpublishYourQuest:"Dépublier votre enquête",SelectTheLanguageAndClickOnNextButton:"Selectionner la langue et définissez les paramètres et étapes dans les onglets",SelectedLanguage:"Saisir l'enquête en :",Close:"Fermer",ChooseTheStepType:"Choisir le type d'étape",Transition:"Transition",Quest:"Enigme",UseThisGame:"Utiliser ce modèle",NoneImmediate:"Aucun (immédiat)",NoneLocationAndDirection:"Lieu (et direction)",DateTime:"Date / heure",NoneNextStep:"Aucune (passer à l'étape suivante)",Medium:"Moyen",Text:"Texte",Level:"Niveau",AnswerNb:"Réponse {nb}",YouCantAddMoreThanNbAnswers:"Vous ne pouvez ajouter plus de {nb} réponse(s)",YouMustDefineAtLeastNbAnswers:"Vous devez ajouter au moins {nb} réponses",KeepEnigmaQuestionsShort:"Le texte doit être court pour être facile à lire. Si vous avez besoin de plus de texte, nous vous conseillons d'ajouter une étape 'Image & Texte' avant celle-ci.",CodeKeypadFormatError:"Pour ce champ (requis), saisissez de 2 à 6 caractères (seulement des chiffres, ou '*', ou '#').",StepSettingsFormError:"Vérifiez SVP le formulaire et essayez à nouveau.",PleaseUploadAFile:"Veuillez télécharger un fichier.",RequiredField:"Ce champ est requis.",Question:"Question",UploadABackgroundImage:"Télécharger une image de fond",WarningImageResize:"L'image sera redimensionnée au format d'un téléphone (format portrait)",UploadAVideo:"Télécharger une vidéo",NoVideoUploaded:"Aucune vidéo téléchargée",Remove:"Supprimer",remove:"supprimer",DisplayDistanceBetweenUserAndLocation:"Afficher la distance entre la personne et le lieu",DisplayDirectionArrow:"Afficher les flèches de direction",ResponseTypes:"Types de réponse",PossibleAnswers:"Réponses possibles",Texts:"Textes",Pictures:"Photos",SelectTheGoodAnswer:"Select the good answer",NoPictureUploaded:"Aucune image téléchargée",AddAnAnswer:"Ajouter une réponse",ExpectedAnswer:"Réponse attendue",Code:"Code",ExpectedColorCodeAnswer:"Combinaison de couleurs attendue :",ImagesUsedForCode:"Ajouter les images pour le code",AddAnImage:"Ajouter une image",ExpectedCode:"Code attendu",UploadThePictureOfTheObjectToFind:"Téléchargez l'image de la chose à trouver",UploadedPicture:"Image téléchargée",UploadThePuzzlePicture:"Télécharger l'image du puzzle",WarningImageSizeSquare:"Votre image sera recadrée pour être carrée",YourPuzzlePicture:"Image de votre puzzle",ClickOnTheLocationTheItemMustBeUsed:"Sélectionnez la partie de l'image où l'objet doit être utilisé",UploadTheItemPicture:"Télécharger l'image de votre objet",YourItemPicture:"Image de votre objet",ObjectName:"Nom de l'objet",ObjectToUse:"Objet à utiliser",SelectedObject:"Objet sélectionné",ClickOnTheItemThatIsToFind:"Sélectionnez la zone de l'image que le joueur doit trouver",StepSaved:"Etape enregistrée",TechnicalIssue:"Problème technique, veuillez nous excuser et ré-essayer plus tard",SaveThisStep:"Enregistrer cette étape",GraalyIsOptimizedForSmallerScreens:"L'application est optimisée pour des appareils mobiles. Veuillez tenir votre mobile verticalement ou redimensionner votre page",Overview:"Aperçu",Submit:"Valider",GoodAnswer:"Bonne réponse !",WrongAnswer:"Mauvaise réponse !",Next:"Suivant",SecondTry:"Essaye à nouveau (-5 points)",Clear:"Effacer",Confirm:"Valider",WrongGoodCodeWas:"Raté ! Le bon code était :",TheScreenCaptureWillAppearInThisBox:"La capture photo apparaîtra dans cette case",Cancel:"Annuler",Check:"Vérifier",TakeThePicture:"Prendre la photo",WellDone:"Bien joué !",PhotosDoesntMatch:"Malheureusement, cette photo ne correspond pas.",DistanceInMeters:"Distance du lieu à trouver : {distance} mètres",YouHaveFoundThePlace:"Bravo ! Vous avez trouvé le lieu",points:"points",Pass:"Passer",YourAnswer:"Votre réponse",ConfirmTheAnswer:"Valider la réponse",PleaseSelectAnItemFirst:"Sélectionnez un objet dans votre inventaire d'abord (bouton en bas à gauche), puis touchez l'image pour l'utiliser.",UseItemNothingHappens:"Rien ne se produit. Essayez un autre endroit, ou utilisez un autre objet.",FindItemNothingHappens:"Rien ne se produit. Essayez un autre endroit.",NoTitle:"Aucun titre",AddYourSteps:"Ajoutez les pages de votre énigme, et placez-les dans l'ordre",ActivateTheLanguageVisible:"Activez les langues jouables pour votre enquête",LanguagesPublished:"Langues publiées",ModifyThePicture:"Modifier l'image",Picture:"Photo",LeaveQuest:"Quitter l'enquête",YouHaveWinANewItem:"Vous avez trouvé un nouvel objet",YouCanNotUseAnItemInThisStep:"Vous ne pouvez utiliser d'objet dans cette énigme",Ok:"Ok",ConfirmHint:"L'indice va vous coûter 5 points, êtes-vous sûr(e) de vouloir l'utiliser ?",YouWin:"Vous gagnez",WhatCanYouDoWithThesePoints:"Que faire avec ces points ?",ReviewThisQuest:"Votre avis sur cette enquête",ShareYourSuccess:"Partagez votre réussite !",YouAlreadyPlayThisQuestSoYouWinNoPoints:"Vous avez déjà gagné précedemment les points de cette enquête",ResolveOtherQuestsToWinPoints:"Résolvez de nouvelles enquêtes pour gagner des points",ChallengeYourFriends:"Défiez vos amis !",ConfirmPass:"Etes-vous certain de passer cette étape, vous ne gagnerez pas de point ?",TouchWhereYouUseThisItem:"Touchez l'endroit où vous utilisez cet objet",YourLanguage:"Votre langue",NoFriend:"Vous n'avez encore aucun ami",YourRanking:"Mon classement",Ranking:"Classement",Like:"J'aime",NoNews:"Aucune actualité pour le moment",BuyCoinsToPlay:"Acheter de l'énergie pour jouer",YourRatingHasNotBeenSaved:"Votre vote n'a pu être pris en compte. Peut-être avez vous déjà noté cette enquête",YourRatingHasBeenSaved:"Votre vote a été pris en compte",GetCloserToStartingPoint:"Rapprochez-vous du lieu de départ",OnceGeolocationEnabled:"Une fois la localisation activée,",PressHere:"appuyez ici",Map:"Carte",AddressToFind:"Adresse du lieu à trouver",Address:"Adresse",OrDefineGPSLocation:"Ou tapez les coordonnées GPS",Latitude:"Latitude",Longitude:"Longitude",PleaseUploadAFileInPNGFormat:"Veuillez télécharger une image avec transparence au format PNG",GPSCoordinates:"Coordonnées GPS",TerritoriesWon:"Conquête de territoires",YourWorldRanking:"Mon classement mondial",YourCityRanking:"Mon classement dans ma ville",PlayAllQuestsInACityToWin:"Jouez à toutes les enquêtes d'une ville pour conquérir le territoire",NoRankingYet:"Votre classement n'est pas encore calculé, veuillez attendre demain",Challenge:"Défier",ChallengeAllFriends:"Défier tous vos amis",TypeNameOrAddressOfYourFriends:"Taper le nom ou l'email de vos amis",Or:"Ou",Select:"Selectionner",Add:"Ajouter",Administrate:"Administrer l'app",QuestUnderValidation:"Votre enquête n'est plus modifiable. Votre enquête va être validée par nos game masters. Cela peut prendre quelques jours. Veuillez vérifier votre boîte mail pour plus d'information",PublicationRequested:"En cours de validation",PublicationRejected:"Publication rejectée. Appuyez ici pour savoir pourquoi",QuestPublicationRejected:"Votre enquête n'a pas été publiée. Vous allez recevoir un email vous expliquant comment l'améliorer pour permettre sa publication",TouchTheObject:"Recherchez l'object en regardant autour de vous et touchez le",ObjectSize:"Taille de l'objet",YouWonABonus:"Vous avez gagné un bonus",AddATown:"Ajouter une ville",Shop:"Boutique",Coins:"Energie",coins:"energie",Choose3DModel:"Choisissez un modèle 3D",ObjectIsTooFar:"L'objet est trop éloigné pour être visible à l'écran. Essayez de vous rapprocher.",LastItemIsUniq:"La dernière image sera unique dans le jeu",YouMustDefineStartLocation:"Vous devez définir l'adresse du point de départ de l'enquête",ClickOnArrowToMoveToNextStep:"Appuyez sur la flèche en bas à droite pour passer à l'étape suivante",YourQuestMustContainAtLeast6Steps:"Votre enquête est trop courte, vous devez créer au moins 6 étapes",YourQuestMustContainLessThan50Steps:"Votre enquête est trop longue, vous devez créer moins de 50 étapes",WarningNoLocation:"Recherche de votre localisation ...",WarningLowBattery:"Pensez à charger votre mobile",WarningNoNetwork:"Aucun réseau ...",CouldNotDisplayObject:"L'objet à trouver ne peut pas être affiché. Pour réussir, essayez de vous approcher le plus possible à l'aide de l'indicateur de distance.",Step:"Etape",EasyLongDesc:"Facile, tout public même jeune (> 6 ans)",NormalLongDesc:"Normal, sans grosses difficultés",HardLongDesc:"Expert, pour les fans d'énigmes",RemoveThisQuest:"Supprimer cette enquête",AreYouSureYouWantToRemoveThisQuest:"Etes-vous sûr(e) de supprimer cette enquête ? Elle sera définivement supprimée.",Modify:"Modifier",Editors:"Editeurs",InviteEditors:"Inviter un éditeur",InviteEditorsHelp:"Tapez l'adresse email de l'éditeur que vous invitez",UserIsNotAGraalyUser:"Cet email n'appartient pas à un utilisateur Graaly. Demandez à cette personne de créer un compte Graaly.",OtherOptions:"Autres options",SelectPictureInTheList:"Sélectionner l'objet dans la liste",HintText:"Texte de l'indice","2DPicture":"Image à plat","3DObject":"Objet en 3D",ObjectFormat:"Format de l'objet",ImagesUsedForCards:"Images des cartes",OkThanks:"Ok, merci !",CreateAQuest:"Créer une enquête",NoThanks:"Non merci",Character:"Personnage",Rankings:"Classements",UseMyCurrentGPSLocation:"Utiliser mes coordonnées GPS actuelles",MarkersFile:"Fichier de symboles",ChooseTheMarker:"Choisissez le symbole",Download:"Télécharger",Marker:"Symbole",Choose:"Choisir...",ExtraTextFieldLabel:"Texte complémentaire 'En savoir plus'",ReadMore:"En savoir +",ClickHereToKnowMore:"Appuyer ici pour en savoir plus",AddFriends:"Ajouter des amis",FriendsAdded:"Ami ajouté",InvitationSent:"Invitation envoyée",Email:"Email",EmailIsNotValid:"Adresse email invalide",PhoneNumber:"Numéro de téléphone",InvalidPhoneNumber:"Numéro invalide",AreYouSureYouWantToRemoveThisFriend:"Êtes-vous certain(e) de vouloir le/la supprimer de votre liste d'amis",Suggestions:"Suggestions",FindWithEmail:"Trouver un ami avec son email",FindWithPhone:"Trouver un ami avec son num. de télephone",YourPhoneNumber:"Votre numéro de téléphone",phoneExample:"06 12 34 56 78",Pro:"Pro.",Storekeeper:"Commerçant",StorekeeperDesc:"Attirez une clientèle qualifiée avec une expérience unique de jeu",TourismProfessional:"Professionnel du tourisme",TourismProfessionalDesc:"Offrez une expérience de visite unique avec une enquête personnalisée",TransparentImageAboveCameraStream:"Image transparente sur le flux caméra",GeolocationFailed:"Impossible de vous géolocaliser",GeolocationFailedDesc:"Nous n'avons pas réussi à vous géolocaliser, soit vous n'avez pas de réseau, soit vous avez bloqué la géolocalisation pour cette app",NumberOfColorsInTheCode:"Nombre de couleurs dans le code",NumberOfImagesInTheCode:"Nombre d'images dans le code",FindMarkerHelp:"Visez le bon marqueur avec la caméra de votre téléphone. Un marqueur est un signe entouré d'un cadre noir. Bonne chance !",LocationSearching:"Recherche de votre position ...",ConfirmSaveChanges:"Enregistrer les modifications ?",Yes:"Oui",No:"Non",WeNeedMoreInformationAboutYou:"Nous avons besoin de quelques informations complémentaires",ToDisplayRelevantQuests:"Pour vous afficher les bonnes enquêtes ...",ToHelpYouFindYourFriends:"Pour vous aider à trouver vos amis (optionnel) ...",ToAvoidSendingYourToUnrelevantQuests:"Pour ne pas vous faire aller vers des enquêtes inadaptées ...",RemoveYourAccountDesc:"En supprimant votre compte, vous allez perdre votre score, vos achats, votre progression et toutes autres données, et vous ne pourrez plus vous connecter à l'application",RemoveYourAccount:"Supprimer mon compte",IConfirmIWantToRemoveMyAccount:"Je confirme que je veux supprimer mon compte",AreYouSureYouWantToRemoveYourAccount:"Êtes-vous sûrs de supprimer votre compte, et de ne plus pouvoir vous connecter ? Vous ne pourrez pas annuler cette action !",YourAccountIsRemoved:"Votre compte est supprimé",Reviews:"Avis",CommentThisQuest:"Commentaires pour l'auteur",Send:"Envoyer",ReviewSent:"Avis envoyé à l'auteur. Merci !",Optional:"facultatif",Colon:" :",Rating:"Note",PleaseRateTheQuest:"Veuillez mettre une note à l'enquête avant d'envoyer votre avis.",QuestNotReviewed:"Cette enquête n'a pas encore reçu d'avis.",ClickHereToStartDiscoveryQuest:"Appuyez ici pour démarrer l'enquête de découverte"}}}},"3ba6":function(e){e.exports={backpack:{name:{fr:"Sac à dos",en:"Backpack"},author:"Alex “SAFFY” Safayan",url:"https://poly.google.com/view/5UQVd1Agl11",scale:.4,rotation:{y:-45}},book:{name:{fr:"Livre",en:"Book"},author:"Anastasiia Ku",url:"https://poly.google.com/view/0-_UGETLPsX",rotation:{x:-15,y:90,z:55}},candelabra:{name:{fr:"Candélabre",en:"Candelabra"},author:"BitGem",url:"https://sketchfab.com/models/89f71a03a338491c92ada680e6f51749",scale:.005},chest:{name:{fr:"Coffre",en:"Chest"},author:"Alex “SAFFY” Safayan",url:"https://poly.google.com/view/3SGvQIwe214",rotation:{y:225},scale:.2},ghost:{name:{fr:"Fantôme",en:"Ghost"},url:"https://sketchfab.com/models/ea591844b42d459e86d0e7c9ab4cc43c",license:"Sketchfab standard, see https://sketchfab.com/licenses",scale:100,translation:{z:1}},griffin:{name:{fr:"Griffon",en:"Griffin"},author:"VitSh",url:"https://sketchfab.com/models/a8852f113416426bb06e6bba49a525a9",rotation:{y:45},scale:.3},gun:{name:{fr:"Pistolet",en:"Gun"},author:"legoingr",url:"https://sketchfab.com/models/bcf398f3109a4d0ea384dcd3196a695e",rotation:{y:-135,z:90},scale:.02},key:{name:{fr:"Clé",en:"Key"},author:"Jerad Bitner",url:"https://poly.google.com/view/dR-kItm5ihP",rotation:{x:180,z:45},scale:.05},knife:{name:{fr:"Couteau",en:"Knife"},author:"vepr",url:"https://sketchfab.com/models/555a53a177314b789d31e49d731c2184",scale:4,rotation:{y:225,z:90}},lamp:{name:{fr:"Lampe à pétrole",en:"Kerosene lamp"},author:"Bruno Oliveira",url:"https://poly.google.com/view/3wJ6loGTYJj",rotation:{y:135}},"phone-booth":{name:{fr:"Cabine téléphonique",en:"Phone booth"},author:"Mountrise",url:"https://sketchfab.com/models/94fca8c5ac9f4974bd4a02e8f571f493",scale:.2},"phone-rotary":{name:{fr:"Téléphone à cadran",en:"Phone (rotary)"},author:"Zell-Wu",url:"https://sketchfab.com/models/eb42c07e79764c74aa5377e092f783ce",scale:.015}}},4:function(e,t){},4262:function(e,t,i){},4678:function(e,t,i){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=s(e);return i(t)}function s(e){var t=r[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id="4678"},"4c18":function(e){e.exports=[{label:"Afghanistan",value:"AFG"},{label:"Afrique du sud",value:"ZAF"},{label:"Albanie",value:"ALB"},{label:"Algerie",value:"DZA"},{label:"Allemagne",value:"DEU"},{label:"Andorre",value:"AND"},{label:"Angola",value:"AGO"},{label:"Anguilla",value:"AIA"},{label:"Antarctique",value:"ATA"},{label:"Antigua et Barbuda",value:"ATG"},{label:"Arabie Saoudite",value:"SAU"},{label:"Argentine",value:"ARG"},{label:"Armenie",value:"ARM"},{label:"Aruba",value:"ABW"},{label:"Australie",value:"AUS"},{label:"Autriche",value:"AUT"},{label:"Azerbaïdjan",value:"AZE"},{label:"Bahamas",value:"BHS"},{label:"Bahreïn",value:"BHR"},{label:"Barbades",value:"BRB"},{label:"Belgique",value:"BEL"},{label:"Belize",value:"BLZ"},{label:"Bengladesh",value:"BGD"},{label:"Bermudes",value:"BMU"},{label:"Bhoutan",value:"BTN"},{label:"Bolivie",value:"BOL"},{label:"Bonaire, Saint-Eustache et Saba",value:"BES"},{label:"Bosnie Herzégovine",value:"BIH"},{label:"Botswana",value:"BWA"},{label:"Brunei Darussalam",value:"BRN"},{label:"Brésil",value:"BRA"},{label:"Bulgarie",value:"BGR"},{label:"Burkina Faso",value:"BFA"},{label:"Burundi",value:"BDI"},{label:"Bélarus",value:"BLR"},{label:"Bénin",value:"BEN"},{label:"Cabo Verde",value:"CPV"},{label:"Cambodge",value:"KHM"},{label:"Cameroun",value:"CMR"},{label:"Canada",value:"CAN"},{label:"Chad",value:"TCD"},{label:"Chili",value:"CHL"},{label:"Chine",value:"CHN"},{label:"Chypre",value:"CYP"},{label:"Colombie",value:"COL"},{label:"Comores",value:"COM"},{label:"Congo (République démocratique)",value:"COD"},{label:"Congo",value:"COG"},{label:"Costa Rica",value:"CRI"},{label:"Croatie",value:"HRV"},{label:"Cuba",value:"CUB"},{label:"Curacao",value:"CUW"},{label:"Côte d'Ivoire",value:"CIV"},{label:"Danemark",value:"DNK"},{label:"Djibouti",value:"DJI"},{label:"Dominique",value:"DMA"},{label:"Egypte",value:"EGY"},{label:"Emirats Arabes Unis",value:"ARE"},{label:"Equateur",value:"ECU"},{label:"Erythrée",value:"ERI"},{label:"Espagne",value:"ESP"},{label:"Estonie",value:"EST"},{label:"Ethiopie",value:"ETH"},{label:"Fidji",value:"FJI"},{label:"Finlande",value:"FIN"},{label:"France",value:"FRA"},{label:"Fédération Russe",value:"RUS"},{label:"Gabon",value:"GAB"},{label:"Gambie",value:"GMB"},{label:"Georgie",value:"GEO"},{label:"Ghana",value:"GHA"},{label:"Gibraltar",value:"GIB"},{label:"Grenade",value:"GRD"},{label:"Groenland",value:"GRL"},{label:"Grèce",value:"GRC"},{label:"Guadeloupe",value:"GLP"},{label:"Guam",value:"GUM"},{label:"Guatemala",value:"GTM"},{label:"Guernsey",value:"GGY"},{label:"Guinée Française",value:"GUF"},{label:"Guinée Équatoriale",value:"GNQ"},{label:"Guinée",value:"GIN"},{label:"Guinée-Bissau",value:"GNB"},{label:"Guyane",value:"GUY"},{label:"Géorgie du Sud et les îles Sandwich du Sud",value:"SGS"},{label:"Haiti",value:"HTI"},{label:"Honduras",value:"HND"},{label:"Hong Kong",value:"HKG"},{label:"Hongrie",value:"HUN"},{label:"Ile Bouvet",value:"BVT"},{label:"Ile Heard et îles McDonald",value:"HMD"},{label:"Ile de Man",value:"IMN"},{label:"Iles Aland",value:"ALA"},{label:"Iles Caïmans",value:"CYM"},{label:"Iles Cocos (Keeling)",value:"CCK"},{label:"Iles Falkland (Malvinas)",value:"FLK"},{label:"Iles Féroé",value:"FRO"},{label:"Iles Mariannes du Nord",value:"MNP"},{label:"Iles Marshall",value:"MHL"},{label:"Iles Turques-et-Caïques",value:"TCA"},{label:"Iles Vierges (États-Unis)",value:"VIR"},{label:"Iles Vierges britanniques",value:"VGB"},{label:"Iles mineures éloignées des États-Unis",value:"UMI"},{label:"Indie",value:"IND"},{label:"Indonesie",value:"IDN"},{label:"Irak",value:"IRQ"},{label:"Iran",value:"IRN"},{label:"Irlande",value:"IRL"},{label:"Islande",value:"ISL"},{label:"Israel",value:"ISR"},{label:"Italie",value:"ITA"},{label:"Jamaïque",value:"JAM"},{label:"Japon",value:"JPN"},{label:"Jersey",value:"JEY"},{label:"Jordanie",value:"JOR"},{label:"Kazakhstan",value:"KAZ"},{label:"Kenya",value:"KEN"},{label:"Kirghizistan",value:"KGZ"},{label:"Kiribati",value:"KIR"},{label:"Koweit",value:"KWT"},{label:"L'ile de Norfolk",value:"NFK"},{label:"L'île de noël",value:"CXR"},{label:"Laos",value:"LAO"},{label:"Latvie",value:"LVA"},{label:"Le Salvador",value:"SLV"},{label:"Les Îles Cook",value:"COK"},{label:"Les îles Salomon",value:"SLB"},{label:"Lesotho",value:"LSO"},{label:"Liban",value:"LBN"},{label:"Liberia",value:"LBR"},{label:"Libye",value:"LBY"},{label:"Liechtenstein",value:"LIE"},{label:"Lituanie",value:"LTU"},{label:"Luxembourg",value:"LUX"},{label:"Macao",value:"MAC"},{label:"Macedonie",value:"MKD"},{label:"Madagascar",value:"MDG"},{label:"Malawi",value:"MWI"},{label:"Malaysie",value:"MYS"},{label:"Maldives",value:"MDV"},{label:"Mali",value:"MLI"},{label:"Malte",value:"MLT"},{label:"Maroc",value:"MAR"},{label:"Martinique",value:"MTQ"},{label:"Maurice",value:"MUS"},{label:"Mauritanie",value:"MRT"},{label:"Mayotte",value:"MYT"},{label:"Mexique",value:"MEX"},{label:"Micronésie",value:"FSM"},{label:"Moldavie",value:"MDA"},{label:"Monaco",value:"MCO"},{label:"Mongolie",value:"MNG"},{label:"Montenegro",value:"MNE"},{label:"Montserrat",value:"MSR"},{label:"Mozambique",value:"MOZ"},{label:"Myanmar",value:"MMR"},{label:"Namibie",value:"NAM"},{label:"Nauru",value:"NRU"},{label:"Nicaragua",value:"NIC"},{label:"Niger",value:"NER"},{label:"Nigeria",value:"NGA"},{label:"Nioué",value:"NIU"},{label:"Norvège",value:"NOR"},{label:"Nouvelle Caledonie",value:"NCL"},{label:"Nouvelle Zélande",value:"NZL"},{label:"Népal",value:"NPL"},{label:"Oman",value:"OMN"},{label:"Ouganda",value:"UGA"},{label:"Ouzbékistan",value:"UZB"},{label:"Pakistan",value:"PAK"},{label:"Palau",value:"PLW"},{label:"Palestine (état de)",value:"PSE"},{label:"Panama",value:"PAN"},{label:"Papouasie Nouvelle Guinée",value:"PNG"},{label:"Paraguay",value:"PRY"},{label:"Pays-Bas",value:"NLD"},{label:"Philippines",value:"PHL"},{label:"Pitcairn",value:"PCN"},{label:"Pologne",value:"POL"},{label:"Polynesie Française",value:"PYF"},{label:"Portugal",value:"PRT"},{label:"Puerto Rico",value:"PRI"},{label:"Pérou",value:"PER"},{label:"Qatar",value:"QAT"},{label:"Romanie",value:"ROU"},{label:"Royaume-Uni de Grande-Bretagne et d'Irlande du Nord",value:"GBR"},{label:"Rwanda",value:"RWA"},{label:"République Dominicaine",value:"DOM"},{label:"République Tchèque",value:"CZE"},{label:"République arabe syrienne",value:"SYR"},{label:"République centrafricaine",value:"CAF"},{label:"République de Corée",value:"KOR"},{label:"République populaire démocratique de Corée",value:"PRK"},{label:"Réunion",value:"REU"},{label:"Sahara occidental",value:"ESH"},{label:"Saint Barthélemy",value:"BLM"},{label:"Saint Marin",value:"SMR"},{label:"Saint Martin",value:"MAF"},{label:"Saint Pierre et Miquelon",value:"SPM"},{label:"Saint-Christophe-et-Niévès",value:"KNA"},{label:"Saint-Siège",value:"VAT"},{label:"Saint-Vincent-et-les-Grenadines",value:"VCT"},{label:"Sainte-Hélène, Ascension et Tristan da Cunha",value:"SHN"},{label:"Sainte-Lucie",value:"LCA"},{label:"Samoa américaines",value:"ASM"},{label:"Samoa",value:"WSM"},{label:"Sao Tomé et Principe",value:"STP"},{label:"Serbie",value:"SRB"},{label:"Seychelles",value:"SYC"},{label:"Sierra Leone",value:"SLE"},{label:"Singapour",value:"SGP"},{label:"Sint Maarten",value:"SXM"},{label:"Slovaquie",value:"SVK"},{label:"Slovénie",value:"SVN"},{label:"Somalie",value:"SOM"},{label:"Soudan du sud",value:"SSD"},{label:"Soudan",value:"SDN"},{label:"Sri Lanka",value:"LKA"},{label:"Suisse",value:"CHE"},{label:"Suriname",value:"SUR"},{label:"Suède",value:"SWE"},{label:"Svalbard et Jan Mayen",value:"SJM"},{label:"Swaziland",value:"SWZ"},{label:"Sénégal",value:"SEN"},{label:"Tadjikistan",value:"TJK"},{label:"Taiwan, Province de Chine",value:"TWN"},{label:"Tanzanie, United Republic of",value:"TZA"},{label:"Terres australes françaises",value:"ATF"},{label:"Territoire britannique de l'océan Indien",value:"IOT"},{label:"Thaïlande",value:"THA"},{label:"Timor-Leste",value:"TLS"},{label:"Togo",value:"TGO"},{label:"Tokelau",value:"TKL"},{label:"Tonga",value:"TON"},{label:"Trinité-et-Tobago",value:"TTO"},{label:"Tunisie",value:"TUN"},{label:"Turkménistan",value:"TKM"},{label:"Turquie",value:"TUR"},{label:"Tuvalu",value:"TUV"},{label:"USA",value:"USA"},{label:"Ukraine",value:"UKR"},{label:"Uruguay",value:"URY"},{label:"Vanuatu",value:"VUT"},{label:"Venezuela",value:"VEN"},{label:"VietNam",value:"VNM"},{label:"Wallis et Futuna",value:"WLF"},{label:"Yemen",value:"YEM"},{label:"Zambie",value:"ZMB"},{label:"Zimbabwe",value:"ZWE"}]},"534a":function(e){e.exports=[{id:1,name:"EasyLongDesc"},{id:2,name:"NormalLongDesc"},{id:3,name:"HardLongDesc"}]},"547f":function(e){e.exports=[{id:"coins",file:"coins-big.png",thumb:"coins-medium.png",name:{fr:"Pièces",en:"Coins"},author:"Flaticons.com",url:""},{id:"chest",file:"chest-big.png",thumb:"chest-medium.png",name:{fr:"Coffre",en:"Chest"},author:"Flaticons.com",url:""},{id:"goldbag",file:"goldbag-big.png",thumb:"goldbag-medium.png",name:{fr:"Sac d'or",en:"Gold bag"},author:"Flaticons.com",url:""},{id:"rope",file:"rope-big.png",thumb:"rope-medium.png",name:{fr:"Corde",en:"Rope"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/military-11"},{id:"key",file:"key-big.png",thumb:"key-medium.png",name:{fr:"Clé",en:"Key"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/miscellaneous"},{id:"airplane",file:"airplane-big.png",thumb:"airplane-medium.png",name:{fr:"Avion",en:"Airplane"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/miscellaneous"},{id:"backpack",file:"backpack-big.png",thumb:"backpack-medium.png",name:{fr:"Sac à dos",en:"Backpack"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/miscellaneous"},{id:"briefcase",file:"briefcase-big.png",thumb:"briefcase-medium.png",name:{fr:"Valise",en:"Briefcase"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/miscellaneous"},{id:"car",file:"car-big.png",thumb:"car-medium.png",name:{fr:"Voiture",en:"Car"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"clock",file:"clock-big.png",thumb:"clock-medium.png",name:{fr:"Horloge",en:"Clock"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"compass",file:"compass-big.png",thumb:"compass-medium.png",name:{fr:"Boussole",en:"Compass"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"diamond",file:"diamond-big.png",thumb:"diamond-medium.png",name:{fr:"Diamand",en:"Diamond"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"eyeglasses",file:"eyeglasses-big.png",thumb:"eyeglasses-medium.png",name:{fr:"Lunettes",en:"Glasses"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"gift",file:"gift-big.png",thumb:"gift-medium.png",name:{fr:"Cadeau",en:"Gift"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"lifebuoy",file:"help-big.png",thumb:"help-medium.png",name:{fr:"Bouée de sauvetage",en:"Life buoy"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"letter",file:"letter-big.png",thumb:"letter-medium.png",name:{fr:"Lettre",en:"Letter"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"map",file:"map-big.png",thumb:"map-medium.png",name:{fr:"Carte",en:"Map"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"medal",file:"medal-big.png",thumb:"medal-medium.png",name:{fr:"Medaille",en:"Medal"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"newspaper",file:"newspaper-big.png",thumb:"newspaper-medium.png",name:{fr:"Journal",en:"Newspaper"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"paintbrush",file:"paintbrush-big.png",thumb:"paintbrush-medium.png",name:{fr:"Pinceau",en:"Paint brush"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"pencil",file:"pencil-big.png",thumb:"pencil-medium.png",name:{fr:"Crayon",en:"Pencil"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"camera",file:"camera-big.png",thumb:"camera-medium.png",name:{fr:"Appareil photo",en:"Camera"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"pictures",file:"pictures-big.png",thumb:"pictures-medium.png",name:{fr:"Photos",en:"Pictures"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"rocket",file:"rocket-big.png",thumb:"rocket-medium.png",name:{fr:"Fusée",en:"Rocket"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"scissors",file:"scissors-big.png",thumb:"scissors-medium.png",name:{fr:"Ciseaux",en:"Scissors"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"search",file:"search-big.png",thumb:"search-medium.png",name:{fr:"Loupe",en:"Magnifier"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"bag",file:"bag-big.png",thumb:"bag-medium.png",name:{fr:"Sac",en:"Bag"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"smartphone",file:"smartphone-big.png",thumb:"smartphone-medium.png",name:{fr:"Téléphone",en:"Smartphone"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"swissknife",file:"swissknife-big.png",thumb:"swissknife-medium.png",name:{fr:"Couteau",en:"Knife"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"television",file:"television-big.png",thumb:"television-medium.png",name:{fr:"Télévision",en:"Television"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"trash",file:"trash-big.png",thumb:"trash-medium.png",name:{fr:"Poubelle",en:"Trash"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"umbrella",file:"umbrella-big.png",thumb:"umbrella-medium.png",name:{fr:"Parapluie",en:"Umbrella"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"vest",file:"vest-big.png",thumb:"vest-medium.png",name:{fr:"Veste",en:"Vest"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"wallet",file:"wallet-big.png",thumb:"wallet-medium.png",name:{fr:"Portefeuille",en:"Wallet"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"watch",file:"watch-big.png",thumb:"watch-medium.png",name:{fr:"Montre",en:"Watch"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"meal",file:"meal-big.png",thumb:"meal-medium.png",name:{fr:"Repas",en:"Meal"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"fruit",file:"fruit-big.png",thumb:"fruit-medium.png",name:{fr:"Fruit",en:"Fruit"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"chicken",file:"chicken-big.png",thumb:"chicken-medium.png",name:{fr:"Repas",en:"Meal"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/fast-food-43"},{id:"worker",file:"worker-big.png",thumb:"worker-medium.png",name:{fr:"Casque",en:"Helmet"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/basic-flat-icons"},{id:"oldkey",file:"oldkey-big.png",thumb:"oldkey-medium.png",name:{fr:"Vielle clé",en:"Old key"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/real-assets-3"},{id:"hammer",file:"hammer-big.png",thumb:"hammer-medium.png",name:{fr:"Marteau",en:"Hammer"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/real-assets-3"},{id:"tools",file:"tools-big.png",thumb:"tools-medium.png",name:{fr:"Outils",en:"Tools"},author:"Flaticons.com",url:"https://www.flaticon.com/packs/real-assets-3"}]},"57e4":function(e){e.exports=["001","002","003","004","005","006","007","008","009","010"]},"5a4a":function(e,t,i){"use strict";var r=i("b62b"),a=i.n(r);a.a},"6dff":function(e,t,i){"use strict";var r=i("2cfd"),a=i.n(r);a.a},7386:function(e,t,i){"use strict";var r=i("987a"),a=i.n(r);a.a},"74f2":function(e,t,i){"use strict";var r=i("4262"),a=i.n(r);a.a},"759b":function(e,t,i){},"78d7":function(e,t,i){"use strict";var r=i("ffe0"),a=i.n(r);a.a},"7e6d":function(e,t,i){},"801f":function(e,t,i){"use strict";var r=i("ffa8"),a=i.n(r);a.a},"8c64":function(module,exports,__webpack_require__){(function(process,__dirname,Buffer){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,Module;(function(){"use strict";var e=function(e,i,r){var a=e,s=i;if(this.orientation="landscape",this.listeners={},"number"!==typeof e){var o=e;r=i,a=o.videoWidth||o.width,s=o.videoHeight||o.height,this.image=o}if(this.defaultMarkerWidth=1,this.patternMarkers={},this.barcodeMarkers={},this.transform_mat=new Float32Array(16),this.canvas=document.createElement("canvas"),this.canvas.width=a,this.canvas.height=s,this.ctx=this.canvas.getContext("2d"),this.videoWidth=a,this.videoHeight=s,"string"===typeof r){var n=this;this.cameraParam=new t(r,function(){n._initialize()},function(e){console.error("ARController: Failed to load ARCameraParam",e)})}else this.cameraParam=r,this._initialize()};e.prototype.dispose=function(){for(var e in i.teardown(this.id),this)this[e]=null},e.prototype.process=function(e){this.detectMarker(e);var t,r,a=this.getMarkerNum();for(t in this.patternMarkers)r=this.patternMarkers[t],r.inPrevious=r.inCurrent,r.inCurrent=!1;for(t in this.barcodeMarkers)r=this.barcodeMarkers[t],r.inPrevious=r.inCurrent,r.inCurrent=!1;for(var s=0;s<a;s++){var o=this.getMarker(s),n=i.UNKNOWN_MARKER,l=this.trackPatternMarkerId(-1);o.idPatt>-1&&(o.id===o.idPatt||-1===o.idMatrix)?(l=this.trackPatternMarkerId(o.idPatt),n=i.PATTERN_MARKER,o.dir!==o.dirPatt&&this.setMarkerInfoDir(s,o.dirPatt)):o.idMatrix>-1&&(l=this.trackBarcodeMarkerId(o.idMatrix),n=i.BARCODE_MARKER,o.dir!==o.dirMatrix&&this.setMarkerInfoDir(s,o.dirMatrix)),n!==i.UNKNOWN_MARKER&&l.inPrevious?this.getTransMatSquareCont(s,l.markerWidth,l.matrix,l.matrix):this.getTransMatSquare(s,l.markerWidth,l.matrix),l.inCurrent=!0,this.transMatToGLMat(l.matrix,this.transform_mat),this.dispatchEvent({name:"getMarker",target:this,data:{index:s,type:n,marker:o,matrix:this.transform_mat}})}var u=this.getMultiMarkerCount();for(s=0;s<u;s++){var c=this.getMultiMarkerPatternCount(s);l=!1;i.getTransMatMultiSquareRobust(this.id,s),this.transMatToGLMat(this.marker_transform_mat,this.transform_mat);for(var d=0;d<c;d++){var f=this.getMultiEachMarker(s,d);if(f.visible>=0){l=!0,this.dispatchEvent({name:"getMultiMarker",target:this,data:{multiMarkerId:s,matrix:this.transform_mat}});break}}if(l)for(d=0;d<c;d++){f=this.getMultiEachMarker(s,d);this.transMatToGLMat(this.marker_transform_mat,this.transform_mat),this.dispatchEvent({name:"getMultiMarkerSub",target:this,data:{multiMarkerId:s,markerIndex:d,marker:f,matrix:this.transform_mat}})}}this._bwpointer&&this.debugDraw()},e.prototype.trackPatternMarkerId=function(e,t){var i=this.patternMarkers[e];return i||(this.patternMarkers[e]=i={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:t||this.defaultMarkerWidth}),t&&(i.markerWidth=t),i},e.prototype.trackBarcodeMarkerId=function(e,t){var i=this.barcodeMarkers[e];return i||(this.barcodeMarkers[e]=i={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:t||this.defaultMarkerWidth}),t&&(i.markerWidth=t),i},e.prototype.getMultiMarkerCount=function(){return i.getMultiMarkerCount(this.id)},e.prototype.getMultiMarkerPatternCount=function(e){return i.getMultiMarkerNum(this.id,e)},e.prototype.addEventListener=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(this.listeners[e]){var i=this.listeners[e].indexOf(t);i>-1&&this.listeners[e].splice(i,1)}},e.prototype.dispatchEvent=function(e){var t=this.listeners[e.name];if(t)for(var i=0;i<t.length;i++)t[i].call(this,e)},e.prototype.debugSetup=function(){document.body.appendChild(this.canvas),this.setDebugMode(1),this._bwpointer=this.getProcessingImage()},e.prototype.loadMarker=function(e,t,r){return i.addMarker(this.id,e,t,r)},e.prototype.loadMultiMarker=function(e,t,r){return i.addMultiMarker(this.id,e,t,r)},e.prototype.getTransMatSquare=function(e,t,r){return i.getTransMatSquare(this.id,e,t),r.set(this.marker_transform_mat),r},e.prototype.getTransMatSquareCont=function(e,t,r,a){return this.marker_transform_mat.set(r),i.getTransMatSquareCont(this.id,e,t),a.set(this.marker_transform_mat),a},e.prototype.getTransMatMultiSquare=function(e,t){return i.getTransMatMultiSquare(this.id,e),t.set(this.marker_transform_mat),t},e.prototype.getTransMatMultiSquareRobust=function(e,t){return i.getTransMatMultiSquare(this.id,e),t.set(this.marker_transform_mat),t},e.prototype.transMatToGLMat=function(e,t,i){return t[0]=e[0],t[4]=e[1],t[8]=e[2],t[12]=e[3],t[1]=e[4],t[5]=e[5],t[9]=e[6],t[13]=e[7],t[2]=e[8],t[6]=e[9],t[10]=e[10],t[14]=e[11],t[3]=0,t[7]=0,t[11]=0,t[15]=1,void 0!=i&&0!==i&&(t[12]*=i,t[13]*=i,t[14]*=i),t},e.prototype.detectMarker=function(e){return this._copyImageToHeap(e)?i.detectMarker(this.id):-99},e.prototype.getMarkerNum=function(){return i.getMarkerNum(this.id)},e.prototype.getMarker=function(e){if(0===i.getMarker(this.id,e))return i.markerInfo},e.prototype.setMarkerInfoVertex=function(e,t){for(var r=0;r<t.length;r++)this.marker_transform_mat[2*r+0]=t[r][0],this.marker_transform_mat[2*r+1]=t[r][1];return i.setMarkerInfoVertex(this.id,e)},e.prototype.cloneMarkerInfo=function(e){return JSON.parse(JSON.stringify(e))},e.prototype.getMultiEachMarker=function(e,t){if(0===i.getMultiEachMarker(this.id,e,t))return i.multiEachMarkerInfo},e.prototype.getTransformationMatrix=function(){return this.transform_mat},e.prototype.getCameraMatrix=function(){return this.camera_mat},e.prototype.getMarkerTransformationMatrix=function(){return this.marker_transform_mat},e.prototype.setDebugMode=function(e){return i.setDebugMode(this.id,e)},e.prototype.getDebugMode=function(){return i.getDebugMode(this.id)},e.prototype.getProcessingImage=function(){return i.getProcessingImage(this.id)},e.prototype.setLogLevel=function(e){return i.setLogLevel(e)},e.prototype.getLogLevel=function(){return i.getLogLevel()},e.prototype.setMarkerInfoDir=function(e,t){return i.setMarkerInfoDir(this.id,e,t)},e.prototype.setProjectionNearPlane=function(e){return i.setProjectionNearPlane(this.id,e)},e.prototype.getProjectionNearPlane=function(){return i.getProjectionNearPlane(this.id)},e.prototype.setProjectionFarPlane=function(e){return i.setProjectionFarPlane(this.id,e)},e.prototype.getProjectionFarPlane=function(){return i.getProjectionFarPlane(this.id)},e.prototype.setThresholdMode=function(e){return i.setThresholdMode(this.id,e)},e.prototype.getThresholdMode=function(){return i.getThresholdMode(this.id)},e.prototype.setThreshold=function(e){return i.setThreshold(this.id,e)},e.prototype.getThreshold=function(){return i.getThreshold(this.id)},e.prototype.setPatternDetectionMode=function(e){return i.setPatternDetectionMode(this.id,e)},e.prototype.getPatternDetectionMode=function(){return i.getPatternDetectionMode(this.id)},e.prototype.setMatrixCodeType=function(e){return i.setMatrixCodeType(this.id,e)},e.prototype.getMatrixCodeType=function(){return i.getMatrixCodeType(this.id)},e.prototype.setLabelingMode=function(e){return i.setLabelingMode(this.id,e)},e.prototype.getLabelingMode=function(){return i.getLabelingMode(this.id)},e.prototype.setPattRatio=function(e){return i.setPattRatio(this.id,e)},e.prototype.getPattRatio=function(){return i.getPattRatio(this.id)},e.prototype.setImageProcMode=function(e){return i.setImageProcMode(this.id,e)},e.prototype.getImageProcMode=function(){return i.getImageProcMode(this.id)},e.prototype.debugDraw=function(){var e=new Uint8ClampedArray(Module.HEAPU8.buffer,this._bwpointer,this.framesize),t=new ImageData(e,this.canvas.width,this.canvas.height);this.ctx.putImageData(t,0,0);for(var i=this.getMarkerNum(),r=0;r<i;r++)this._debugMarker(this.getMarker(r))},e.prototype._initialize=function(){this.id=i.setup(this.canvas.width,this.canvas.height,this.cameraParam.id);var e=i.frameMalloc;this.framepointer=e.framepointer,this.framesize=e.framesize,this.dataHeap=new Uint8Array(Module.HEAPU8.buffer,this.framepointer,this.framesize),this.camera_mat=new Float64Array(Module.HEAPU8.buffer,e.camera,16),this.marker_transform_mat=new Float64Array(Module.HEAPU8.buffer,e.transform,12),this.setProjectionNearPlane(.1),this.setProjectionFarPlane(1e3);var t=this;setTimeout(function(){t.onload&&t.onload(),t.dispatchEvent({name:"load",target:t})},1)},e.prototype._copyImageToHeap=function(e){e||(e=this.image),this.ctx.save(),"portrait"===this.orientation?(this.ctx.translate(this.canvas.width,0),this.ctx.rotate(Math.PI/2),this.ctx.drawImage(e,0,0,this.canvas.height,this.canvas.width)):this.ctx.drawImage(e,0,0,this.canvas.width,this.canvas.height),this.ctx.restore();var t=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),i=t.data;return!!this.dataHeap&&(this.dataHeap.set(i),!0)},e.prototype._debugMarker=function(e){var t,i;t=e.vertex;var r=this.ctx;r.strokeStyle="red",r.beginPath(),r.moveTo(t[0][0],t[0][1]),r.lineTo(t[1][0],t[1][1]),r.stroke(),r.beginPath(),r.moveTo(t[2][0],t[2][1]),r.lineTo(t[3][0],t[3][1]),r.stroke(),r.strokeStyle="green",r.beginPath(),r.lineTo(t[1][0],t[1][1]),r.lineTo(t[2][0],t[2][1]),r.stroke(),r.beginPath(),r.moveTo(t[3][0],t[3][1]),r.lineTo(t[0][0],t[0][1]),r.stroke(),i=e.pos,r.beginPath(),r.arc(i[0],i[1],8,0,2*Math.PI),r.fillStyle="red",r.fill()},e.getUserMedia=function(e){var t=e.facingMode||"environment",i=e.onSuccess,r=e.onError||function(e){console.error("ARController.getUserMedia",e)},a=document.createElement("video"),s=function(){0!==this.videoWidth&&i(a)},o=!1,n=["touchstart","touchend","touchmove","touchcancel","click","mousedown","mouseup","mousemove","keydown","keyup","keypress","scroll"],l=function(e){o&&(a.play(),a.paused||n.forEach(function(e){window.removeEventListener(e,l,!0)}))};n.forEach(function(e){window.addEventListener(e,l,!0)});var u=function(e){a.addEventListener("loadedmetadata",s,!1),a.src=window.URL.createObjectURL(e),o=!0,l()},c={},d={};e.width&&(d.width=e.width,"object"===typeof e.width?(e.width.max&&(c.maxWidth=e.width.max),e.width.min&&(c.minWidth=e.width.max)):c.maxWidth=e.width),e.height&&(d.height=e.height,"object"===typeof e.height?(e.height.max&&(c.maxHeight=e.height.max),e.height.min&&(c.minHeight=e.height.max)):c.maxHeight=e.height),d.facingMode=t,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var f={audio:!1,video:{mandatory:c}};return navigator.getUserMedia?navigator.getUserMedia(f,u,r):r("navigator.getUserMedia is not supported on your browser"),a},e.getUserMediaARController=function(i){var r={};for(var a in i)r[a]=i[a];var s=i.onSuccess,o=i.cameraParam;r.onSuccess=function(){new t(o,function(){var t=this,r=i.maxARVideoSize||Math.max(n.videoWidth,n.videoHeight),a=r/Math.max(n.videoWidth,n.videoHeight),o=a*n.videoWidth,l=a*n.videoHeight;if(n.videoWidth<n.videoHeight){var u=o;o=l,l=u}var c=new e(o,l,t);c.image=n,n.videoWidth<n.videoHeight?(c.orientation="portrait",c.videoWidth=n.videoHeight,c.videoHeight=n.videoWidth):(c.orientation="landscape",c.videoWidth=n.videoWidth,c.videoHeight=n.videoHeight),s(c,t)},function(e){console.error("ARController: Failed to load ARCameraParam",e)})};var n=this.getUserMedia(r);return n};var t=function(e,t,i){this.id=-1,this._src="",this.complete=!1,this.onload=t,this.onerror=i,e&&this.load(e)};t.prototype.load=function(e){if(""!==this._src)throw"ARCameraParam: Trying to load camera parameters twice.";if(this._src=e,e){var t=this;i.loadCamera(e,function(e){t.id=e,t.complete=!0,t.onload()},function(e){t.onerror(e)})}},Object.defineProperty(t.prototype,"src",{set:function(e){this.load(e)},get:function(){return this._src}}),t.prototype.dispose=function(){-1!==this.id&&i.deleteCamera(this.id),this.id=-1,this._src="",this.complete=!1};var i={UNKNOWN_MARKER:-1,PATTERN_MARKER:0,BARCODE_MARKER:1,loadCamera:f,addMarker:o,addMultiMarker:c},r=["setup","teardown","setLogLevel","getLogLevel","setDebugMode","getDebugMode","getProcessingImage","setMarkerInfoDir","setMarkerInfoVertex","getTransMatSquare","getTransMatSquareCont","getTransMatMultiSquare","getTransMatMultiSquareRobust","getMultiMarkerNum","getMultiMarkerCount","detectMarker","getMarkerNum","getMarker","getMultiEachMarker","setProjectionNearPlane","getProjectionNearPlane","setProjectionFarPlane","getProjectionFarPlane","setThresholdMode","getThresholdMode","setThreshold","getThreshold","setPatternDetectionMode","getPatternDetectionMode","setMatrixCodeType","getMatrixCodeType","setLabelingMode","getLabelingMode","setPattRatio","getPattRatio","setImageProcMode","getImageProcMode"];function a(){for(var e in r.forEach(function(e){i[e]=Module[e]}),Module)e.match(/^AR/)&&(i[e]=Module[e])}var s=0;function o(e,t,i){var r="/marker_"+s++;m(t,r,function(){var t=Module._addMarker(e,r);i&&i(t)})}function n(e){return String.fromCharCode.apply(String,e)}function l(e){var t=n(e),i=t.split("\n"),r=[],a=0;return i.forEach(function(e){if(e=e.trim(),e&&!e.startsWith("#"))switch(a){case 0:return+e,void(a=1);case 1:e.match(/^\d+$/)||r.push(e);case 2:case 3:case 4:return void a++;case 5:return void(a=1)}}),r}var u=0;function c(e,t,i){var r="/multi_marker_"+u++;m(t,r,function(a){var s=l(a);function o(){var t=Module._addMultiMarker(e,r),a=Module.getMultiMarkerNum(e,t);i&&i(t,a)}if(!s.length)return o();var n=t.split("/").slice(0,-1).join("/");s=s.map(function(e){return[n+"/"+e,e]}),b(s,o)})}var d=0;function f(e,t){var i="/camera_param_"+d++,r=function(){var e=Module._loadCamera(i);t&&t(e)};"object"===typeof e?p(i,e,r):e.indexOf("\n")>-1?h(i,e,r):m(e,i,r)}function h(e,t,i){for(var r=new Uint8Array(t.length),a=0;a<r.length;a++)r[a]=255&t.charCodeAt(a);p(e,r,i)}function p(e,t,i){FS.writeFile(e,t,{encoding:"binary"}),i(t)}function m(e,t,i){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(e){var a=r.response,s=new Uint8Array(a);p(t,s,i)},r.send()}function b(e,t){var i=e.pop();i?m(i[0],i[1],function(){b(e,t)}):t()}window.artoolkit=i,window.ARController=e,window.ARCameraParam=t,window.Module?a():window.Module={onRuntimeInitialized:function(){a()}}})(),Module||(Module=("undefined"!==typeof Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB="object"===typeof window,ENVIRONMENT_IS_WORKER="function"===typeof importScripts,ENVIRONMENT_IS_NODE="object"===typeof process&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module["print"]||(Module["print"]=function(e){process["stdout"].write(e+"\n")}),Module["printErr"]||(Module["printErr"]=function(e){process["stderr"].write(e+"\n")});var nodeFS=__webpack_require__("3e8f"),nodePath=__webpack_require__("df7c");Module["read"]=function(e,t){e=nodePath["normalize"](e);var i=nodeFS["readFileSync"](e);return i||e==nodePath["resolve"](e)||(e=path.join(__dirname,"..","src",e),i=nodeFS["readFileSync"](e)),i&&!t&&(i=i.toString()),i},Module["readBinary"]=function(e){var t=Module["read"](e,!0);return t.buffer||(t=new Uint8Array(t)),assert(t.buffer),t},Module["load"]=function(e){globalEval(read(e))},Module["thisProgram"]||(process["argv"].length>1?Module["thisProgram"]=process["argv"][1].replace(/\\/g,"/"):Module["thisProgram"]="unknown-program"),Module["arguments"]=process["argv"].slice(2),module["exports"]=Module,process["on"]("uncaughtException",function(e){if(!(e instanceof ExitStatus))throw e}),Module["inspect"]=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module["print"]||(Module["print"]=print),"undefined"!=typeof printErr&&(Module["printErr"]=printErr),"undefined"!=typeof read?Module["read"]=read:Module["read"]=function(){throw"no read() available (jsc?)"},Module["readBinary"]=function(e){if("function"===typeof readbuffer)return new Uint8Array(readbuffer(e));var t=read(e,"binary");return assert("object"===typeof t),t},"undefined"!=typeof scriptArgs?Module["arguments"]=scriptArgs:"undefined"!=typeof arguments&&(Module["arguments"]=arguments);else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module["read"]=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"undefined"!=typeof arguments&&(Module["arguments"]=arguments),"undefined"!==typeof console)Module["print"]||(Module["print"]=function(e){console.log(e)}),Module["printErr"]||(Module["printErr"]=function(e){console.log(e)});else{var TRY_USE_DUMP=!1;Module["print"]||(Module["print"]=TRY_USE_DUMP&&"undefined"!==typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WORKER&&(Module["load"]=importScripts),"undefined"===typeof Module["setWindowTitle"]&&(Module["setWindowTitle"]=function(e){document.title=e})}function globalEval(e){eval.call(null,e)}for(var key in!Module["load"]&&Module["read"]&&(Module["load"]=function(e){globalEval(Module["read"](e))}),Module["print"]||(Module["print"]=function(){}),Module["printErr"]||(Module["printErr"]=Module["print"]),Module["arguments"]||(Module["arguments"]=[]),Module["thisProgram"]||(Module["thisProgram"]="./this.program"),Module.print=Module["print"],Module.printErr=Module["printErr"],Module["preRun"]=[],Module["postRun"]=[],moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(e){tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var t=parseInt(e.substr(1));return assert(t%8===0),t/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,t){return"double"===t||"i64"===t?7&e&&(assert(4===(7&e)),e+=4):assert(0===(3&e)),e},getAlignSize:function(e,t,i){return i||"i64"!=e&&"double"!=e?e?Math.min(t||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(t,8):8},dynCall:function(e,t,i){return i&&i.length?(i.splice||(i=Array.prototype.slice.call(i)),i.splice(0,0,t),Module["dynCall_"+e].apply(null,i)):Module["dynCall_"+e].call(null,t)},functionPointers:[],addFunction:function(e){for(var t=0;t<Runtime.functionPointers.length;t++)if(!Runtime.functionPointers[t])return Runtime.functionPointers[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,t){assert(t),Runtime.funcWrappers[t]||(Runtime.funcWrappers[t]={});var i=Runtime.funcWrappers[t];return i[e]||(i[e]=function(){return Runtime.dynCall(t,e,arguments)}),i[e]},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var t=STACKTOP;return STACKTOP=STACKTOP+e|0,STACKTOP=STACKTOP+15&-16,t},staticAlloc:function(e){var t=STATICTOP;return STATICTOP=STATICTOP+e|0,STATICTOP=STATICTOP+15&-16,t},dynamicAlloc:function(e){var t=DYNAMICTOP;if(DYNAMICTOP=DYNAMICTOP+e|0,DYNAMICTOP=DYNAMICTOP+15&-16,DYNAMICTOP>=TOTAL_MEMORY){var i=enlargeMemory();if(!i)return DYNAMICTOP=t,0}return t},alignMemory:function(e,t){var i=e=Math.ceil(e/(t||16))*(t||16);return i},makeBigInt:function(e,t,i){var r=i?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t);return r},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module["Runtime"]=Runtime;var __THREW__=0,ABORT=!1,EXITSTATUS=0,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat,tempI64,tempI64b,tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9;function assert(e,t){e||abort("Assertion failed: "+t)}var globalScope=this,cwrap,ccall;function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}function setValue(e,t,i,r){switch(i=i||"i8","*"===i.charAt(i.length-1)&&(i="i32"),i){case"i1":HEAP8[e>>0]=t;break;case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: "+i)}}function getValue(e,t,i){switch(t=t||"i8","*"===t.charAt(t.length-1)&&(t="i32"),t){case"i1":return HEAP8[e>>0];case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":return HEAP32[e>>2];case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+t)}return null}(function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var t=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,t),t},stringToC:function(e){var t=0;return null!==e&&void 0!==e&&0!==e&&(t=Runtime.stackAlloc(1+(e.length<<2)),writeStringToMemory(e,t)),t}},toC={string:JSfuncs["stringToC"],array:JSfuncs["arrayToC"]};ccall=function(e,t,i,r,a){var s=getCFunc(e),o=[],n=0;if(r)for(var l=0;l<r.length;l++){var u=toC[i[l]];u?(0===n&&(n=Runtime.stackSave()),o[l]=u(r[l])):o[l]=r[l]}var c=s.apply(null,o);if("string"===t&&(c=Pointer_stringify(c)),0!==n){if(a&&a.async)return void EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(n)});Runtime.stackRestore(n)}return c};var sourceRegex=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(e){var t=e.toString().match(sourceRegex).slice(1);return{arguments:t[0],body:t[1],returnValue:t[2]}}var JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(e){return"number"===e}),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(e,t){return"$"+t}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){funcstr+="var stack = "+JSsource["stackSave"].body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"="+convertCode.returnValue+";"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(funcstr+=JSsource["stackRestore"].body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}})(),Module["ccall"]=ccall,Module["cwrap"]=cwrap,Module["setValue"]=setValue,Module["getValue"]=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;function allocate(e,t,i,r){var a,s;"number"===typeof e?(a=!0,s=e):(a=!1,s=e.length);var o,n="string"===typeof t?t:null;if(o=i==ALLOC_NONE?r:[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===i?ALLOC_STATIC:i](Math.max(s,n?1:t.length)),a){var l;r=o;for(assert(0==(3&o)),l=o+(-4&s);r<l;r+=4)HEAP32[r>>2]=0;l=o+s;while(r<l)HEAP8[r++>>0]=0;return o}if("i8"===n)return e.subarray||e.slice?HEAPU8.set(e,o):HEAPU8.set(new Uint8Array(e),o),o;var u,c,d,f=0;while(f<s){var h=e[f];"function"===typeof h&&(h=Runtime.getFunctionIndex(h)),u=n||t[f],0!==u?("i64"==u&&(u="i32"),setValue(o+f,h,u),d!==u&&(c=Runtime.getNativeTypeSize(u),d=u),f+=c):f++}return o}function getMemory(e){return staticSealed?"undefined"!==typeof _sbrk&&!_sbrk.called||!runtimeInitialized?Runtime.dynamicAlloc(e):_malloc(e):Runtime.staticAlloc(e)}function Pointer_stringify(e,t){if(0===t||!e)return"";var i,r=0,a=0;while(1){if(i=HEAPU8[e+a>>0],r|=i,0==i&&!t)break;if(a++,t&&a==t)break}t||(t=a);var s="";if(r<128){var o,n=1024;while(t>0)o=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,n))),s=s?s+o:o,e+=n,t-=n;return s}return Module["UTF8ToString"](e)}function AsciiToString(e){var t="";while(1){var i=HEAP8[e++>>0];if(!i)return t;t+=String.fromCharCode(i)}}function stringToAscii(e,t){return writeAsciiToMemory(e,t,!1)}function UTF8ArrayToString(e,t){var i,r,a,s,o,n,l="";while(1){if(i=e[t++],!i)return l;if(128&i)if(r=63&e[t++],192!=(224&i))if(a=63&e[t++],224==(240&i)?i=(15&i)<<12|r<<6|a:(s=63&e[t++],240==(248&i)?i=(7&i)<<18|r<<12|a<<6|s:(o=63&e[t++],248==(252&i)?i=(3&i)<<24|r<<18|a<<12|s<<6|o:(n=63&e[t++],i=(1&i)<<30|r<<24|a<<18|s<<12|o<<6|n))),i<65536)l+=String.fromCharCode(i);else{var u=i-65536;l+=String.fromCharCode(55296|u>>10,56320|1023&u)}else l+=String.fromCharCode((31&i)<<6|r);else l+=String.fromCharCode(i)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,t,i,r){if(!(r>0))return 0;for(var a=i,s=i+r-1,o=0;o<e.length;++o){var n=e.charCodeAt(o);if(n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++o)),n<=127){if(i>=s)break;t[i++]=n}else if(n<=2047){if(i+1>=s)break;t[i++]=192|n>>6,t[i++]=128|63&n}else if(n<=65535){if(i+2>=s)break;t[i++]=224|n>>12,t[i++]=128|n>>6&63,t[i++]=128|63&n}else if(n<=2097151){if(i+3>=s)break;t[i++]=240|n>>18,t[i++]=128|n>>12&63,t[i++]=128|n>>6&63,t[i++]=128|63&n}else if(n<=67108863){if(i+4>=s)break;t[i++]=248|n>>24,t[i++]=128|n>>18&63,t[i++]=128|n>>12&63,t[i++]=128|n>>6&63,t[i++]=128|63&n}else{if(i+5>=s)break;t[i++]=252|n>>30,t[i++]=128|n>>24&63,t[i++]=128|n>>18&63,t[i++]=128|n>>12&63,t[i++]=128|n>>6&63,t[i++]=128|63&n}}return t[i]=0,i-a}function stringToUTF8(e,t,i){return stringToUTF8Array(e,HEAPU8,t,i)}function lengthBytesUTF8(e){for(var t=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++i)),r<=127?++t:t+=r<=2047?2:r<=65535?3:r<=2097151?4:r<=67108863?5:6}return t}function UTF16ToString(e){var t=0,i="";while(1){var r=HEAP16[e+2*t>>1];if(0==r)return i;++t,i+=String.fromCharCode(r)}}function stringToUTF16(e,t,i){if(void 0===i&&(i=2147483647),i<2)return 0;i-=2;for(var r=t,a=i<2*e.length?i/2:e.length,s=0;s<a;++s){var o=e.charCodeAt(s);HEAP16[t>>1]=o,t+=2}return HEAP16[t>>1]=0,t-r}function lengthBytesUTF16(e){return 2*e.length}function UTF32ToString(e){var t=0,i="";while(1){var r=HEAP32[e+4*t>>2];if(0==r)return i;if(++t,r>=65536){var a=r-65536;i+=String.fromCharCode(55296|a>>10,56320|1023&a)}else i+=String.fromCharCode(r)}}function stringToUTF32(e,t,i){if(void 0===i&&(i=2147483647),i<4)return 0;for(var r=t,a=r+i-4,s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o>=55296&&o<=57343){var n=e.charCodeAt(++s);o=65536+((1023&o)<<10)|1023&n}if(HEAP32[t>>2]=o,t+=4,t+4>a)break}return HEAP32[t>>2]=0,t-r}function lengthBytesUTF32(e){for(var t=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=55296&&r<=57343&&++i,t+=4}return t}function demangle(e){var t=!!Module["___cxa_demangle"];if(t)try{var i=_malloc(e.length);writeStringToMemory(e.substr(1),i);var r=_malloc(4),a=Module["___cxa_demangle"](i,0,0,r);if(0===getValue(r,"i32")&&a)return Pointer_stringify(a)}catch(e){}finally{i&&_free(i),r&&_free(r),a&&_free(a)}var s=3,o={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},n=[],l=!0;function u(){s++,"K"===e[s]&&s++;var t=[];while("E"!==e[s])if("S"!==e[s])if("C"!==e[s]){var i=parseInt(e.substr(s)),r=i.toString().length;if(!i||!r){s--;break}var a=e.substr(s+r,i);t.push(a),n.push(a),s+=r+i}else t.push(t[t.length-1]),s+=2;else{s++;var o=e.indexOf("_",s),l=e.substring(s,o)||0;t.push(n[l]||"?"),s=o+1}return s++,t}function c(t,i,r){i=i||1/0;var a,n="",d=[];function f(){return"("+d.join(", ")+")"}if("N"===e[s]){if(a=u().join("::"),i--,0===i)return t?[a]:a}else{("K"===e[s]||l&&"L"===e[s])&&s++;var h=parseInt(e.substr(s));if(h){var p=h.toString().length;a=e.substr(s+p,h),s+=p+h}}if(l=!1,"I"===e[s]){s++;var m=c(!0),b=c(!0,1,!0);n+=b[0]+" "+a+"<"+m.join(", ")+">"}else n=a;e:while(s<e.length&&i-- >0){var g=e[s++];if(g in o)d.push(o[g]);else switch(g){case"P":d.push(c(!0,1,!0)[0]+"*");break;case"R":d.push(c(!0,1,!0)[0]+"&");break;case"L":s++;var v=e.indexOf("E",s);h=v-s;d.push(e.substr(s,h)),s+=h+2;break;case"A":h=parseInt(e.substr(s));if(s+=h.toString().length,"_"!==e[s])throw"?";s++,d.push(c(!0,1,!0)[0]+" ["+h+"]");break;case"E":break e;default:n+="?"+g;break e}}return r||1!==d.length||"void"!==d[0]||(d=[]),t?(n&&d.push(n+"?"),d):n+f()}var d=e;try{if("Object._main"==e||"_main"==e)return"main()";if("number"===typeof e&&(e=Pointer_stringify(e)),"_"!==e[0])return e;if("_"!==e[1])return e;if("Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}d=c()}catch(e){d+="?"}return d.indexOf("?")>=0&&!t&&Runtime.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),d}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var t=demangle(e);return e===t?e:e+" ["+t+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){return demangleAll(jsStackTrace())}Module["ALLOC_NORMAL"]=ALLOC_NORMAL,Module["ALLOC_STACK"]=ALLOC_STACK,Module["ALLOC_STATIC"]=ALLOC_STATIC,Module["ALLOC_DYNAMIC"]=ALLOC_DYNAMIC,Module["ALLOC_NONE"]=ALLOC_NONE,Module["allocate"]=allocate,Module["getMemory"]=getMemory,Module["Pointer_stringify"]=Pointer_stringify,Module["AsciiToString"]=AsciiToString,Module["stringToAscii"]=stringToAscii,Module["UTF8ArrayToString"]=UTF8ArrayToString,Module["UTF8ToString"]=UTF8ToString,Module["stringToUTF8Array"]=stringToUTF8Array,Module["stringToUTF8"]=stringToUTF8,Module["lengthBytesUTF8"]=lengthBytesUTF8,Module["UTF16ToString"]=UTF16ToString,Module["stringToUTF16"]=stringToUTF16,Module["lengthBytesUTF16"]=lengthBytesUTF16,Module["UTF32ToString"]=UTF32ToString,Module["stringToUTF32"]=stringToUTF32,Module["lengthBytesUTF32"]=lengthBytesUTF32,Module["stackTrace"]=stackTrace;var PAGE_SIZE=4096,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function alignMemoryPage(e){return e%4096>0&&(e+=4096-e%4096),e}var STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}var TOTAL_STACK=Module["TOTAL_STACK"]||5242880,TOTAL_MEMORY=Module["TOTAL_MEMORY"]||268435456,totalMemory=65536,buffer;while(totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK)totalMemory<16777216?totalMemory*=2:totalMemory+=16777216;function callRuntimeCallbacks(e){while(e.length>0){var t=e.shift();if("function"!=typeof t){var i=t.func;"number"===typeof i?void 0===t.arg?Runtime.dynCall("v",i):Runtime.dynCall("vi",i,[t.arg]):i(void 0===t.arg?null:t.arg)}else t()}}totalMemory!==TOTAL_MEMORY&&(TOTAL_MEMORY=totalMemory),assert("undefined"!==typeof Int32Array&&"undefined"!==typeof Float64Array&&!!new Int32Array(1)["subarray"]&&!!new Int32Array(1)["set"],"JS engine does not provide full typed array support"),buffer=new ArrayBuffer(TOTAL_MEMORY),HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(255===HEAPU8[0]&&0===HEAPU8[3],"Typed arrays 2 must be run on a little-endian system"),Module["HEAP"]=HEAP,Module["buffer"]=buffer,Module["HEAP8"]=HEAP8,Module["HEAP16"]=HEAP16,Module["HEAP32"]=HEAP32,Module["HEAPU8"]=HEAPU8,Module["HEAPU16"]=HEAPU16,Module["HEAPU32"]=HEAPU32,Module["HEAPF32"]=HEAPF32,Module["HEAPF64"]=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module["preRun"]){"function"==typeof Module["preRun"]&&(Module["preRun"]=[Module["preRun"]]);while(Module["preRun"].length)addOnPreRun(Module["preRun"].shift())}callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module["postRun"]){"function"==typeof Module["postRun"]&&(Module["postRun"]=[Module["postRun"]]);while(Module["postRun"].length)addOnPostRun(Module["postRun"].shift())}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,t,i){var r=i>0?i:lengthBytesUTF8(e)+1,a=new Array(r),s=stringToUTF8Array(e,a,0,a.length);return t&&(a.length=s),a}function intArrayToString(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];r>255&&(r&=255),t.push(String.fromCharCode(r))}return t.join("")}function writeStringToMemory(e,t,i){var r=intArrayFromString(e,i),a=0;while(a<r.length){var s=r[a];HEAP8[t+a>>0]=s,a+=1}}function writeArrayToMemory(e,t){for(var i=0;i<e.length;i++)HEAP8[t++>>0]=e[i]}function writeAsciiToMemory(e,t,i){for(var r=0;r<e.length;++r)HEAP8[t++>>0]=e.charCodeAt(r);i||(HEAP8[t>>0]=0)}function unSign(e,t,i){return e>=0?e:t<=32?2*Math.abs(1<<t-1)+e:Math.pow(2,t)+e}function reSign(e,t,i){if(e<=0)return e;var r=t<=32?Math.abs(1<<t-1):Math.pow(2,t-1);return e>=r&&(t<=32||e>r)&&(e=-2*r+e),e}Module["addOnPreRun"]=addOnPreRun,Module["addOnInit"]=addOnInit,Module["addOnPreMain"]=addOnPreMain,Module["addOnExit"]=addOnExit,Module["addOnPostRun"]=addOnPostRun,Module["intArrayFromString"]=intArrayFromString,Module["intArrayToString"]=intArrayToString,Module["writeStringToMemory"]=writeStringToMemory,Module["writeArrayToMemory"]=writeArrayToMemory,Module["writeAsciiToMemory"]=writeAsciiToMemory,Math["imul"]&&-5===Math["imul"](4294967295,5)||(Math["imul"]=function(e,t){var i=e>>>16,r=65535&e,a=t>>>16,s=65535&t;return r*s+(i*s+r*a<<16)|0}),Math.imul=Math["imul"],Math["clz32"]||(Math["clz32"]=function(e){e>>>=0;for(var t=0;t<32;t++)if(e&1<<31-t)return t;return 32}),Math.clz32=Math["clz32"];var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_min=Math.min,Math_clz32=Math.clz32,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module["monitorRunDependencies"]&&Module["monitorRunDependencies"](runDependencies)}function removeRunDependency(e){if(runDependencies--,Module["monitorRunDependencies"]&&Module["monitorRunDependencies"](runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}Module["addRunDependency"]=addRunDependency,Module["removeRunDependency"]=removeRunDependency,Module["preloadedImages"]={},Module["preloadedAudios"]={};var memoryInitializer=null,ASM_CONSTS=[function(e,t,i,r){artoolkit["multiEachMarkerInfo"]||(artoolkit["multiEachMarkerInfo"]={});var a=artoolkit["multiEachMarkerInfo"];a["visible"]=e,a["pattId"]=t,a["pattType"]=i,a["width"]=r},function(e,t,i,r,a,s,o,n,l,u,c,d,f,h,p,m,b,g,v,w,k,y,_,S,E,C,T,A,M,x,R,q,P){var I=arguments,F=12;artoolkit["markerInfo"]||(artoolkit["markerInfo"]={pos:[0,0],line:[[0,0,0],[0,0,0],[0,0,0],[0,0,0]],vertex:[[0,0],[0,0],[0,0],[0,0]]});var O=artoolkit["markerInfo"];O["area"]=e,O["id"]=t,O["idPatt"]=i,O["idMatrix"]=r,O["dir"]=a,O["dirPatt"]=s,O["dirMatrix"]=o,O["cf"]=n,O["cfPatt"]=l,O["cfMatrix"]=u,O["pos"][0]=c,O["pos"][1]=d,O["line"][0][0]=I[F++],O["line"][0][1]=I[F++],O["line"][0][2]=I[F++],O["line"][1][0]=I[F++],O["line"][1][1]=I[F++],O["line"][1][2]=I[F++],O["line"][2][0]=I[F++],O["line"][2][1]=I[F++],O["line"][2][2]=I[F++],O["line"][3][0]=I[F++],O["line"][3][1]=I[F++],O["line"][3][2]=I[F++],O["vertex"][0][0]=I[F++],O["vertex"][0][1]=I[F++],O["vertex"][1][0]=I[F++],O["vertex"][1][1]=I[F++],O["vertex"][2][0]=I[F++],O["vertex"][2][1]=I[F++],O["vertex"][3][0]=I[F++],O["vertex"][3][1]=I[F++],O["errorCorrected"]=I[F++]},function(e,t,i,r,a){artoolkit["frameMalloc"]||(artoolkit["frameMalloc"]={});var s=artoolkit["frameMalloc"];s["framepointer"]=t,s["framesize"]=i,s["camera"]=r,s["transform"]=a}];function _emscripten_asm_const_33(e,t,i,r,a,s,o,n,l,u,c,d,f,h,p,m,b,g,v,w,k,y,_,S,E,C,T,A,M,x,R,q,P,I){return ASM_CONSTS[e](t,i,r,a,s,o,n,l,u,c,d,f,h,p,m,b,g,v,w,k,y,_,S,E,C,T,A,M,x,R,q,P,I)}function _emscripten_asm_const_4(e,t,i,r,a){return ASM_CONSTS[e](t,i,r,a)}function _emscripten_asm_const_5(e,t,i,r,a,s){return ASM_CONSTS[e](t,i,r,a,s)}STATIC_BASE=8,STATICTOP=STATIC_BASE+16496,__ATINIT__.push({func:function(){__GLOBAL__sub_I_ARToolKitJS_cpp()}},{func:function(){__GLOBAL__sub_I_bind_cpp()}}),allocate([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,52,9,0,0,53,42,0,0,0,0,0,0,1,0,0,0,128,1,0,0,0,0,0,0,228,8,0,0,116,42,0,0,52,9,0,0,136,47,0,0,0,0,0,0,1,0,0,0,128,1,0,0,0,0,0,0,52,9,0,0,73,47,0,0,0,0,0,0,1,0,0,0,128,1,0,0,0,0,0,0,228,8,0,0,54,47,0,0,228,8,0,0,23,47,0,0,228,8,0,0,62,46,0,0,228,8,0,0,31,46,0,0,228,8,0,0,0,46,0,0,228,8,0,0,225,45,0,0,228,8,0,0,194,45,0,0,228,8,0,0,93,46,0,0,228,8,0,0,124,46,0,0,228,8,0,0,155,46,0,0,228,8,0,0,186,46,0,0,228,8,0,0,217,46,0,0,228,8,0,0,248,46,0,0,12,9,0,0,199,47,0,0,48,2,0,0,0,0,0,0,228,8,0,0,212,47,0,0,228,8,0,0,225,47,0,0,12,9,0,0,238,47,0,0,56,2,0,0,0,0,0,0,12,9,0,0,15,48,0,0,64,2,0,0,0,0,0,0,12,9,0,0,49,48,0,0,64,2,0,0,0,0,0,0,200,8,0,0,89,48,0,0,200,8,0,0,91,48,0,0,200,8,0,0,93,48,0,0,200,8,0,0,95,48,0,0,200,8,0,0,97,48,0,0,200,8,0,0,99,48,0,0,200,8,0,0,101,48,0,0,200,8,0,0,103,48,0,0,200,8,0,0,105,48,0,0,200,8,0,0,107,48,0,0,200,8,0,0,109,48,0,0,200,8,0,0,111,48,0,0,200,8,0,0,113,48,0,0,12,9,0,0,115,48,0,0,80,2,0,0,0,0,0,0,12,9,0,0,152,48,0,0,80,2,0,0,0,0,0,0,255,15,0,0,6,16,0,0,18,16,0,0,28,16,0,0,255,255,255,255,255,255,255,255,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,1,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,3,0,0,0,6,0,0,0,12,0,0,0,11,0,0,0,5,0,0,0,10,0,0,0,7,0,0,0,14,0,0,0,15,0,0,0,13,0,0,0,9,0,0,0,1,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,16,0,0,0,32,0,0,0,64,0,0,0,3,0,0,0,6,0,0,0,12,0,0,0,24,0,0,0,48,0,0,0,96,0,0,0,67,0,0,0,5,0,0,0,10,0,0,0,20,0,0,0,40,0,0,0,80,0,0,0,35,0,0,0,70,0,0,0,15,0,0,0,30,0,0,0,60,0,0,0,120,0,0,0,115,0,0,0,101,0,0,0,73,0,0,0,17,0,0,0,34,0,0,0,68,0,0,0,11,0,0,0,22,0,0,0,44,0,0,0,88,0,0,0,51,0,0,0,102,0,0,0,79,0,0,0,29,0,0,0,58,0,0,0,116,0,0,0,107,0,0,0,85,0,0,0,41,0,0,0,82,0,0,0,39,0,0,0,78,0,0,0,31,0,0,0,62,0,0,0,124,0,0,0,123,0,0,0,117,0,0,0,105,0,0,0,81,0,0,0,33,0,0,0,66,0,0,0,7,0,0,0,14,0,0,0,28,0,0,0,56,0,0,0,112,0,0,0,99,0,0,0,69,0,0,0,9,0,0,0,18,0,0,0,36,0,0,0,72,0,0,0,19,0,0,0,38,0,0,0,76,0,0,0,27,0,0,0,54,0,0,0,108,0,0,0,91,0,0,0,53,0,0,0,106,0,0,0,87,0,0,0,45,0,0,0,90,0,0,0,55,0,0,0,110,0,0,0,95,0,0,0,61,0,0,0,122,0,0,0,119,0,0,0,109,0,0,0,89,0,0,0,49,0,0,0,98,0,0,0,71,0,0,0,13,0,0,0,26,0,0,0,52,0,0,0,104,0,0,0,83,0,0,0,37,0,0,0,74,0,0,0,23,0,0,0,46,0,0,0,92,0,0,0,59,0,0,0,118,0,0,0,111,0,0,0,93,0,0,0,57,0,0,0,114,0,0,0,103,0,0,0,77,0,0,0,25,0,0,0,50,0,0,0,100,0,0,0,75,0,0,0,21,0,0,0,42,0,0,0,84,0,0,0,43,0,0,0,86,0,0,0,47,0,0,0,94,0,0,0,63,0,0,0,126,0,0,0,127,0,0,0,125,0,0,0,121,0,0,0,113,0,0,0,97,0,0,0,65,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,4,0,0,0,2,0,0,0,8,0,0,0,5,0,0,0,10,0,0,0,3,0,0,0,14,0,0,0,9,0,0,0,7,0,0,0,6,0,0,0,13,0,0,0,11,0,0,0,12,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,7,0,0,0,2,0,0,0,14,0,0,0,8,0,0,0,56,0,0,0,3,0,0,0,63,0,0,0,15,0,0,0,31,0,0,0,9,0,0,0,90,0,0,0,57,0,0,0,21,0,0,0,4,0,0,0,28,0,0,0,64,0,0,0,67,0,0,0,16,0,0,0,112,0,0,0,32,0,0,0,97,0,0,0,10,0,0,0,108,0,0,0,91,0,0,0,70,0,0,0,58,0,0,0,38,0,0,0,22,0,0,0,47,0,0,0,5,0,0,0,54,0,0,0,29,0,0,0,19,0,0,0,65,0,0,0,95,0,0,0,68,0,0,0,45,0,0,0,17,0,0,0,43,0,0,0,113,0,0,0,115,0,0,0,33,0,0,0,77,0,0,0,98,0,0,0,117,0,0,0,11,0,0,0,87,0,0,0,109,0,0,0,35,0,0,0,92,0,0,0,74,0,0,0,71,0,0,0,79,0,0,0,59,0,0,0,104,0,0,0,39,0,0,0,100,0,0,0,23,0,0,0,82,0,0,0,48,0,0,0,119,0,0,0,6,0,0,0,126,0,0,0,55,0,0,0,13,0,0,0,30,0,0,0,62,0,0,0,20,0,0,0,89,0,0,0,66,0,0,0,27,0,0,0,96,0,0,0,111,0,0,0,69,0,0,0,107,0,0,0,46,0,0,0,37,0,0,0,18,0,0,0,53,0,0,0,44,0,0,0,94,0,0,0,114,0,0,0,42,0,0,0,116,0,0,0,76,0,0,0,34,0,0,0,86,0,0,0,78,0,0,0,73,0,0,0,99,0,0,0,103,0,0,0,118,0,0,0,81,0,0,0,12,0,0,0,125,0,0,0,88,0,0,0,61,0,0,0,110,0,0,0,26,0,0,0,36,0,0,0,106,0,0,0,93,0,0,0,52,0,0,0,75,0,0,0,41,0,0,0,72,0,0,0,85,0,0,0,80,0,0,0,102,0,0,0,60,0,0,0,124,0,0,0,105,0,0,0,25,0,0,0,40,0,0,0,51,0,0,0,101,0,0,0,84,0,0,0,24,0,0,0,123,0,0,0,83,0,0,0,50,0,0,0,49,0,0,0,122,0,0,0,120,0,0,0,121,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,136,0,0,0,5,0,0,0,144,0,0,0,6,0,0,0,152,0,0,0,9,0,0,0,176,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,253,255,255,255,254,255,255,255,0,0,0,0,112,2,0,0,168,2,0,0,200,2,0,0,112,2,0,0,168,2,0,0,168,2,0,0,208,2,0,0,168,2,0,0,112,2,0,0,168,2,0,0,208,2,0,0,168,2,0,0,112,2,0,0,168,2,0,0,168,2,0,0,104,1,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,104,1,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,0,0,0,0,32,2,0,0,1,0,0,0,2,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,96,2,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,0,0,0,0,80,2,0,0,3,0,0,0,7,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,216,2,0,0,3,0,0,0,8,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,232,2,0,0,3,0,0,0,9,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,192,3,0,0,192,4,0,0,192,5,0,0,192,6,0,0,192,7,0,0,192,8,0,0,192,9,0,0,192,10,0,0,192,11,0,0,192,12,0,0,192,13,0,0,192,14,0,0,192,15,0,0,192,16,0,0,192,17,0,0,192,18,0,0,192,19,0,0,192,20,0,0,192,21,0,0,192,22,0,0,192,23,0,0,192,24,0,0,192,25,0,0,192,26,0,0,192,27,0,0,192,28,0,0,192,29,0,0,192,30,0,0,192,31,0,0,192,0,0,0,179,1,0,0,195,2,0,0,195,3,0,0,195,4,0,0,195,5,0,0,195,6,0,0,195,7,0,0,195,8,0,0,195,9,0,0,195,10,0,0,195,11,0,0,195,12,0,0,195,13,0,0,211,14,0,0,195,15,0,0,195,0,0,12,187,1,0,12,195,2,0,12,195,3,0,12,195,4,0,12,211,240,10,0,0,96,11,0,0,0,0,0,0,10,0,0,0,100,0,0,0,232,3,0,0,16,39,0,0,160,134,1,0,64,66,15,0,128,150,152,0,0,225,245,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,5,0,0,0,81,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,5,0,0,0,73,58,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,5,0,0,0,7,0,0,0,11,0,0,0,13,0,0,0,17,0,0,0,19,0,0,0,23,0,0,0,29,0,0,0,31,0,0,0,37,0,0,0,41,0,0,0,43,0,0,0,47,0,0,0,53,0,0,0,59,0,0,0,61,0,0,0,67,0,0,0,71,0,0,0,73,0,0,0,79,0,0,0,83,0,0,0,89,0,0,0,97,0,0,0,101,0,0,0,103,0,0,0,107,0,0,0,109,0,0,0,113,0,0,0,127,0,0,0,131,0,0,0,137,0,0,0,139,0,0,0,149,0,0,0,151,0,0,0,157,0,0,0,163,0,0,0,167,0,0,0,173,0,0,0,179,0,0,0,181,0,0,0,191,0,0,0,193,0,0,0,197,0,0,0,199,0,0,0,211,0,0,0,1,0,0,0,11,0,0,0,13,0,0,0,17,0,0,0,19,0,0,0,23,0,0,0,29,0,0,0,31,0,0,0,37,0,0,0,41,0,0,0,43,0,0,0,47,0,0,0,53,0,0,0,59,0,0,0,61,0,0,0,67,0,0,0,71,0,0,0,73,0,0,0,79,0,0,0,83,0,0,0,89,0,0,0,97,0,0,0,101,0,0,0,103,0,0,0,107,0,0,0,109,0,0,0,113,0,0,0,121,0,0,0,127,0,0,0,131,0,0,0,137,0,0,0,139,0,0,0,143,0,0,0,149,0,0,0,151,0,0,0,157,0,0,0,163,0,0,0,167,0,0,0,169,0,0,0,173,0,0,0,179,0,0,0,181,0,0,0,187,0,0,0,191,0,0,0,193,0,0,0,197,0,0,0,199,0,0,0,209,0,0,0,69,114,114,111,114,58,32,108,97,98,101,108,105,110,103,32,119,111,114,107,32,111,118,101,114,102,108,111,119,46,10,0,69,114,114,111,114,58,32,85,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,32,40,37,100,41,32,114,101,113,117,101,115,116,101,100,46,10,0,85,110,107,110,111,119,110,32,111,114,32,117,110,115,117,112,112,111,114,116,101,100,32,108,97,98,101,108,105,110,103,32,116,104,114,101,115,104,111,108,100,32,109,111,100,101,32,114,101,113,117,101,115,116,101,100,46,32,83,101,116,32,116,111,32,109,97,110,117,97,108,46,10,0,76,97,98,101,108,105,110,103,32,116,104,114,101,115,104,111,108,100,32,109,111,100,101,32,115,101,116,32,116,111,32,37,115,46,10,0,77,65,78,85,65,76,0,65,85,84,79,95,77,69,68,73,65,78,0,65,85,84,79,95,79,84,83,85,0,65,85,84,79,95,65,68,65,80,84,73,86,69,65,85,84,79,95,66,82,65,67,75,69,84,73,78,71,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,98,114,97,99,107,101,116,41,32,109,97,114,107,101,114,32,99,111,117,110,116,115,32,45,91,37,51,100,58,32,37,51,100,93,32,91,37,51,100,58,32,37,51,100,93,32,91,37,51,100,58,32,37,51,100,93,43,46,10,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,98,114,97,99,107,101,116,41,32,97,100,106,117,115,116,101,100,32,116,104,114,101,115,104,111,108,100,32,116,111,32,37,100,46,10,0,109,101,100,105,97,110,0,79,116,115,117,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,37,115,41,32,97,100,106,117,115,116,101,100,32,116,104,114,101,115,104,111,108,100,32,116,111,32,37,100,46,10,0,63,63,63,32,49,10,0,63,63,63,32,50,10,0,63,63,63,32,51,10,0,69,114,114,111,114,58,32,85,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,32,112,97,115,115,101,100,32,116,111,32,97,114,73,109,97,103,101,80,114,111,99,72,105,115,116,40,41,46,10,0,0,0,0,1,0,1,1,1,0,2,4,255,255,5,3,1,0,2,255,6,7,255,3,1,2,2,3,2,3,2,3,3,0,255,4,6,7,5,255,1,4,5,4,4,5,5,4,5,7,6,6,6,7,7,7,6,255,2,4,6,7,5,3,255,0,1,1,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,0,1,1,0,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,0,1,1,0,1,1,1,1,1,0,0,1,1,1,0,1,1,1,1,1,1,0,0,255,255,3,255,5,6,255,255,9,10,255,12,255,255,15,255,17,18,255,20,255,255,23,24,255,255,27,255,29,30,255,255,1,2,255,4,255,255,7,8,255,255,11,255,13,14,255,16,255,255,19,255,21,22,255,255,25,26,255,28,255,255,31,69,114,114,111,114,58,32,117,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,46,10,0,69,114,114,111,114,58,32,78,85,76,76,32,112,97,116,116,72,97,110,100,108,101,46,10,0,69,114,114,111,114,58,32,99,97,110,39,116,32,108,111,97,100,32,112,97,116,116,101,114,110,32,102,114,111,109,32,78,85,76,76,32,98,117,102,102,101,114,46,10,0,69,114,114,111,114,58,32,111,117,116,32,111,102,32,109,101,109,111,114,121,46,10,0,32,9,10,13,0,80,97,116,116,101,114,110,32,68,97,116,97,32,114,101,97,100,32,101,114,114,111,114,33,33,10,0,69,114,114,111,114,32,111,112,101,110,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,39,37,115,39,32,102,111,114,32,114,101,97,100,105,110,103,46,10,0,69,114,114,111,114,32,114,101,97,100,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,39,37,115,39,46,10,0,114,98,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,111,112,101,110,32,99,97,109,101,114,97,32,112,97,114,97,109,101,116,101,114,115,32,102,105,108,101,32,34,37,115,34,32,102,111,114,32,114,101,97,100,105,110,103,46,10,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,100,101,116,101,114,109,105,110,101,32,102,105,108,101,32,108,101,110,103,116,104,46,0,69,114,114,111,114,58,32,115,117,112,112,108,105,101,100,32,102,105,108,101,32,100,111,101,115,32,110,111,116,32,97,112,112,101,97,114,32,116,111,32,98,101,32,97,110,32,65,82,84,111,111,108,75,105,116,32,99,97,109,101,114,97,32,112,97,114,97,109,101,116,101,114,32,102,105,108,101,46,10,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,114,101,97,100,32,102,114,111,109,32,102,105,108,101,46,0,69,114,114,111,114,58,32,105,99,112,71,101,116,74,95,85,95,88,99,0,69,114,114,111,114,58,32,109,97,108,108,111,99,10,0,69,114,114,111,114,32,49,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,50,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,51,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,52,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,53,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,54,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,55,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,114,0,69,114,114,111,114,58,32,117,110,97,98,108,101,32,116,111,32,111,112,101,110,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,46,10,0,37,115,37,115,10,0,0,37,100,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,70,105,114,115,116,32,108,105,110,101,32,109,117,115,116,32,98,101,32,110,117,109,98,101,114,32,111,102,32,109,97,114,107,101,114,32,99,111,110,102,105,103,115,32,116,111,32,114,101,97,100,46,10,0,79,117,116,32,111,102,32,109,101,109,111,114,121,33,33,10,0,37,108,108,117,37,99,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,112,97,116,116,101,114,110,32,39,37,115,39,32,115,112,101,99,105,102,105,101,100,32,105,110,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,117,114,97,116,105,111,110,32,119,104,105,108,101,32,105,110,32,98,97,114,99,111,100,101,45,111,110,108,121,32,109,111,100,101,46,10,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,85,110,97,98,108,101,32,116,111,32,100,101,116,101,114,109,105,110,101,32,100,105,114,101,99,116,111,114,121,32,110,97,109,101,46,10,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,85,110,97,98,108,101,32,116,111,32,108,111,97,100,32,112,97,116,116,101,114,110,32,39,37,115,39,46,10,0,37,108,102,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,44,32,109,97,114,107,101,114,32,100,101,102,105,110,105,116,105,111,110,32,37,51,100,58,32,70,105,114,115,116,32,108,105,110,101,32,109,117,115,116,32,98,101,32,112,97,116,116,101,114,110,32,119,105,100,116,104,46,10,0,37,108,102,32,37,108,102,32,37,108,102,32,37,108,102,0,37,102,32,37,102,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,44,32,109,97,114,107,101,114,32,100,101,102,105,110,105,116,105,111,110,32,37,51,100,58,32,76,105,110,101,115,32,50,32,45,32,52,32,109,117,115,116,32,98,101,32,109,97,114,107,101,114,32,116,114,97,110,115,102,111,114,109,46,10,0,97,114,103,108,67,97,109,101,114,97,70,114,117,115,116,117,109,40,41,58,32,97,114,80,97,114,97,109,68,101,99,111,109,112,77,97,116,40,41,32,105,110,100,105,99,97,116,101,100,32,112,97,114,97,109,101,116,101,114,32,101,114,114,111,114,46,10,0,108,111,97,100,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,32,108,111,97,100,105,110,103,32,112,97,114,97,109,101,116,101,114,32,102,105,108,101,32,37,115,32,102,111,114,32,99,97,109,101,114,97,46,10,0,42,42,42,32,67,97,109,101,114,97,32,80,97,114,97,109,101,116,101,114,32,114,101,115,105,122,101,100,32,102,114,111,109,32,37,100,44,32,37,100,46,32,42,42,42,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,58,32,97,114,80,97,114,97,109,76,84,67,114,101,97,116,101,46,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,58,32,97,114,67,114,101,97,116,101,72,97,110,100,108,101,46,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,32,99,114,101,97,116,105,110,103,32,51,68,32,104,97,110,100,108,101,0,108,111,97,100,77,97,114,107,101,114,40,41,58,32,69,114,114,111,114,32,108,111,97,100,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,37,115,46,10,0,65,82,84,111,111,108,75,105,116,74,83,40,41,58,32,85,110,97,98,108,101,32,116,111,32,115,101,116,32,117,112,32,65,82,32,109,97,114,107,101,114,46,10,0,99,111,110,102,105,103,32,100,97,116,97,32,108,111,97,100,32,101,114,114,111,114,32,33,33,10,0,65,82,84,111,111,108,75,105,116,74,83,40,41,58,32,85,110,97,98,108,101,32,116,111,32,115,101,116,32,117,112,32,65,82,32,109,117,108,116,105,109,97,114,107,101,114,46,10,0,80,97,116,116,101,114,110,32,100,101,116,101,99,116,105,111,110,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,46,10,0,80,97,116,116,101,114,110,32,114,97,116,105,111,32,115,105,122,101,32,115,101,116,32,116,111,32,37,102,46,10,0,76,97,98,101,108,105,110,103,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,10,0,84,104,114,101,115,104,111,108,100,32,115,101,116,32,116,111,32,37,100,10,0,84,104,114,101,115,104,111,108,100,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,10,0,111,110,46,0,111,102,102,46,0,68,101,98,117,103,32,109,111,100,101,32,115,101,116,32,116,111,32,37,115,10,0,73,109,97,103,101,32,112,114,111,99,46,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,46,10,0,123,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,32,61,32,40,123,125,41,59,32,125,32,118,97,114,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,32,61,32,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,118,105,115,105,98,108,101,39,93,32,61,32,36,48,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,112,97,116,116,73,100,39,93,32,61,32,36,49,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,112,97,116,116,84,121,112,101,39,93,32,61,32,36,50,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,119,105,100,116,104,39,93,32,61,32,36,51,59,32,125,0,123,32,118,97,114,32,36,97,32,61,32,97,114,103,117,109,101,110,116,115,59,32,118,97,114,32,105,32,61,32,49,50,59,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,32,61,32,40,123,32,112,111,115,58,32,91,48,44,48,93,44,32,108,105,110,101,58,32,91,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,93,44,32,118,101,114,116,101,120,58,32,91,91,48,44,48,93,44,32,91,48,44,48,93,44,32,91,48,44,48,93,44,32,91,48,44,48,93,93,32,125,41,59,32,125,32,118,97,114,32,109,97,114,107,101,114,73,110,102,111,32,61,32,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,97,114,101,97,34,93,32,61,32,36,48,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,34,93,32,61,32,36,49,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,80,97,116,116,34,93,32,61,32,36,50,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,77,97,116,114,105,120,34,93,32,61,32,36,51,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,34,93,32,61,32,36,52,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,80,97,116,116,34,93,32,61,32,36,53,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,77,97,116,114,105,120,34,93,32,61,32,36,54,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,34,93,32,61,32,36,55,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,80,97,116,116,34,93,32,61,32,36,56,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,77,97,116,114,105,120,34,93,32,61,32,36,57,59,32,109,97,114,107,101,114,73,110,102,111,91,34,112,111,115,34,93,91,48,93,32,61,32,36,49,48,59,32,109,97,114,107,101,114,73,110,102,111,91,34,112,111,115,34,93,91,49,93,32,61,32,36,49,49,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,48,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,48,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,49,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,49,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,50,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,50,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,51,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,51,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,101,114,114,111,114,67,111,114,114,101,99,116,101,100,34,93,32,61,32,36,97,91,105,43,43,93,59,32,125,0,115,101,116,117,112,40,41,58,32,69,114,114,111,114,58,32,97,114,80,97,116,116,67,114,101,97,116,101,72,97,110,100,108,101,46,10,0,65,108,108,111,99,97,116,101,100,32,118,105,100,101,111,70,114,97,109,101,83,105,122,101,32,37,100,10,0,123,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,32,61,32,40,123,125,41,59,32,125,32,118,97,114,32,102,114,97,109,101,77,97,108,108,111,99,32,61,32,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,102,114,97,109,101,112,111,105,110,116,101,114,34,93,32,61,32,36,49,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,102,114,97,109,101,115,105,122,101,34,93,32,61,32,36,50,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,99,97,109,101,114,97,34,93,32,61,32,36,51,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,116,114,97,110,115,102,111,114,109,34,93,32,61,32,36,52,59,32,125,0,115,101,116,117,112,0,116,101,97,114,100,111,119,110,0,95,97,100,100,77,97,114,107,101,114,0,95,97,100,100,77,117,108,116,105,77,97,114,107,101,114,0,103,101,116,77,117,108,116,105,77,97,114,107,101,114,78,117,109,0,103,101,116,77,117,108,116,105,77,97,114,107,101,114,67,111,117,110,116,0,95,108,111,97,100,67,97,109,101,114,97,0,115,101,116,77,97,114,107,101,114,73,110,102,111,68,105,114,0,115,101,116,77,97,114,107,101,114,73,110,102,111,86,101,114,116,101,120,0,103,101,116,84,114,97,110,115,77,97,116,83,113,117,97,114,101,0,103,101,116,84,114,97,110,115,77,97,116,83,113,117,97,114,101,67,111,110,116,0,103,101,116,84,114,97,110,115,77,97,116,77,117,108,116,105,83,113,117,97,114,101,0,103,101,116,84,114,97,110,115,77,97,116,77,117,108,116,105,83,113,117,97,114,101,82,111,98,117,115,116,0,100,101,116,101,99,116,77,97,114,107,101,114,0,103,101,116,77,97,114,107,101,114,78,117,109,0,103,101,116,77,117,108,116,105,69,97,99,104,77,97,114,107,101,114,0,103,101,116,77,97,114,107,101,114,0,115,101,116,68,101,98,117,103,77,111,100,101,0,103,101,116,68,101,98,117,103,77,111,100,101,0,103,101,116,80,114,111,99,101,115,115,105,110,103,73,109,97,103,101,0,115,101,116,76,111,103,76,101,118,101,108,0,103,101,116,76,111,103,76,101,118,101,108,0,115,101,116,80,114,111,106,101,99,116,105,111,110,78,101,97,114,80,108,97,110,101,0,103,101,116,80,114,111,106,101,99,116,105,111,110,78,101,97,114,80,108,97,110,101,0,115,101,116,80,114,111,106,101,99,116,105,111,110,70,97,114,80,108,97,110,101,0,103,101,116,80,114,111,106,101,99,116,105,111,110,70,97,114,80,108,97,110,101,0,115,101,116,84,104,114,101,115,104,111,108,100,77,111,100,101,0,103,101,116,84,104,114,101,115,104,111,108,100,77,111,100,101,0,115,101,116,84,104,114,101,115,104,111,108,100,0,103,101,116,84,104,114,101,115,104,111,108,100,0,115,101,116,80,97,116,116,101,114,110,68,101,116,101,99,116,105,111,110,77,111,100,101,0,103,101,116,80,97,116,116,101,114,110,68,101,116,101,99,116,105,111,110,77,111,100,101,0,115,101,116,80,97,116,116,82,97,116,105,111,0,103,101,116,80,97,116,116,82,97,116,105,111,0,115,101,116,77,97,116,114,105,120,67,111,100,101,84,121,112,101,0,103,101,116,77,97,116,114,105,120,67,111,100,101,84,121,112,101,0,115,101,116,76,97,98,101,108,105,110,103,77,111,100,101,0,103,101,116,76,97,98,101,108,105,110,103,77,111,100,101,0,115,101,116,73,109,97,103,101,80,114,111,99,77,111,100,101,0,103,101,116,73,109,97,103,101,80,114,111,99,77,111,100,101,0,69,82,82,79,82,95,65,82,67,79,78,84,82,79,76,76,69,82,95,78,79,84,95,70,79,85,78,68,0,69,82,82,79,82,95,77,85,76,84,73,77,65,82,75,69,82,95,78,79,84,95,70,79,85,78,68,0,69,82,82,79,82,95,77,65,82,75,69,82,95,73,78,68,69,88,95,79,85,84,95,79,70,95,66,79,85,78,68,83,0,65,82,95,68,69,66,85,71,95,68,73,83,65,66,76,69,0,65,82,95,68,69,66,85,71,95,69,78,65,66,76,69,0,65,82,95,68,69,70,65,85,76,84,95,68,69,66,85,71,95,77,79,68,69,0,65,82,95,76,65,66,69,76,73,78,71,95,87,72,73,84,69,95,82,69,71,73,79,78,0,65,82,95,76,65,66,69,76,73,78,71,95,66,76,65,67,75,95,82,69,71,73,79,78,0,65,82,95,68,69,70,65,85,76,84,95,76,65,66,69,76,73,78,71,95,77,79,68,69,0,65,82,95,68,69,70,65,85,76,84,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,0,65,82,95,73,77,65,71,69,95,80,82,79,67,95,70,82,65,77,69,95,73,77,65,71,69,0,65,82,95,73,77,65,71,69,95,80,82,79,67,95,70,73,69,76,68,95,73,77,65,71,69,0,65,82,95,68,69,70,65,85,76,84,95,73,77,65,71,69,95,80,82,79,67,95,77,79,68,69,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,67,79,76,79,82,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,77,79,78,79,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,68,69,84,69,67,84,73,79,78,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,67,79,76,79,82,95,65,78,68,95,77,65,84,82,73,88,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,77,79,78,79,95,65,78,68,95,77,65,84,82,73,88,0,65,82,95,68,69,70,65,85,76,84,95,80,65,84,84,69,82,78,95,68,69,84,69,67,84,73,79,78,95,77,79,68,69,0,65,82,95,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,0,65,82,95,78,79,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,0,65,82,95,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,95,86,50,0,65,82,95,68,69,70,65,85,76,84,95,77,65,82,75,69,82,95,69,88,84,82,65,67,84,73,79,78,95,77,79,68,69,0,65,82,95,77,65,88,95,76,79,79,80,95,67,79,85,78,84,0,65,82,95,76,79,79,80,95,66,82,69,65,75,95,84,72,82,69,83,72,0,65,82,95,76,79,71,95,76,69,86,69,76,95,68,69,66,85,71,0,65,82,95,76,79,71,95,76,69,86,69,76,95,73,78,70,79,0,65,82,95,76,79,71,95,76,69,86,69,76,95,87,65,82,78,0,65,82,95,76,79,71,95,76,69,86,69,76,95,69,82,82,79,82,0,65,82,95,76,79,71,95,76,69,86,69,76,95,82,69,76,95,73,78,70,79,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,95,72,65,77,77,73,78,71,54,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,95,80,65,82,73,84,89,54,53,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,95,66,67,72,95,49,51,95,57,95,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,95,66,67,72,95,49,51,95,53,95,53,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,77,65,78,85,65,76,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,77,69,68,73,65,78,0,65,82,95,76,65],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE),allocate([66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,79,84,83,85,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,65,68,65,80,84,73,86,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,78,79,78,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,65,84,84,69,82,78,95,69,88,84,82,65,67,84,73,79,78,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,71,69,78,69,82,73,67,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,67,79,78,84,82,65,83,84,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,66,65,82,67,79,68,69,95,78,79,84,95,70,79,85,78,68,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,66,65,82,67,79,68,69,95,69,68,67,95,70,65,73,76,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,67,79,78,70,73,68,69,78,67,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,79,83,69,95,69,82,82,79,82,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,79,83,69,95,69,82,82,79,82,95,77,85,76,84,73,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,72,69,85,82,73,83,84,73,67,95,84,82,79,85,66,76,69,83,79,77,69,95,77,65,84,82,73,88,95,67,79,68,69,83,0,118,105,105,102,0,118,105,105,105,0,100,105,105,0,118,105,105,100,0,105,105,0,118,105,105,0,105,105,105,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,99,69,69,69,69,0,78,83,116,51,95,95,49,50,49,95,95,98,97,115,105,99,95,115,116,114,105,110,103,95,99,111,109,109,111,110,73,76,98,49,69,69,69,0,105,105,105,105,0,105,105,105,105,105,0,118,111,105,100,0,98,111,111,108,0,99,104,97,114,0,115,105,103,110,101,100,32,99,104,97,114,0,117,110,115,105,103,110,101,100,32,99,104,97,114,0,115,104,111,114,116,0,117,110,115,105,103,110,101,100,32,115,104,111,114,116,0,105,110,116,0,117,110,115,105,103,110,101,100,32,105,110,116,0,108,111,110,103,0,117,110,115,105,103,110,101,100,32,108,111,110,103,0,102,108,111,97,116,0,100,111,117,98,108,101,0,115,116,100,58,58,115,116,114,105,110,103,0,115,116,100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,115,116,100,58,58,119,115,116,114,105,110,103,0,101,109,115,99,114,105,112,116,101,110,58,58,118,97,108,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,108,111,110,103,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,102,108,111,97,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,100,111,117,98,108,101,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,32,100,111,117,98,108,101,62,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,101,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,100,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,102,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,109,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,108,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,106,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,105,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,116,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,115,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,104,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,97,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,99,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,51,118,97,108,69,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,119,69,69,69,69,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,104,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,104,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,104,69,69,69,69,0,83,116,57,98,97,100,95,97,108,108,111,99,0,83,116,57,101,120,99,101,112,116,105,111,110,0,83,116,57,116,121,112,101,95,105,110,102,111,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,51,95,95,102,117,110,100,97,109,101,110,116,97,108,95,116,121,112,101,95,105,110,102,111,69,0,118,0,98,0,99,0,104,0,97,0,115,0,116,0,105,0,106,0,108,0,109,0,102,0,100,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,33,34,118,101,99,116,111,114,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,106,101,114,111,109,101,101,116,105,101,110,110,101,47,119,111,114,107,47,101,109,115,100,107,95,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,53,46,48,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,118,101,99,116,111,114,0,95,95,116,104,114,111,119,95,108,101,110,103,116,104,95,101,114,114,111,114,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,33,34,98,97,115,105,99,95,115,116,114,105,110,103,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,106,101,114,111,109,101,101,116,105,101,110,110,101,47,119,111,114,107,47,101,109,115,100,107,95,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,53,46,48,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,115,116,114,105,110,103,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0,105,110,102,105,110,105,116,121,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,7,3,6,5,0,114,119,97],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+10240),allocate([17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,46,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+15945);var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}function _atexit(e,t){__ATEXIT__.unshift({func:e,arg:t})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function ___assert_fail(e,t,i,r){throw ABORT=!0,"Assertion failed: "+Pointer_stringify(e)+", at: "+[t?Pointer_stringify(t):"unknown filename",i,r?Pointer_stringify(r):"unknown function"]+" at "+stackTrace()}function embind_init_charCodes(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);embind_charCodes=e}assert(tempDoublePtr%8==0),Module["_i64Subtract"]=_i64Subtract;var embind_charCodes=void 0;function readLatin1String(e){var t="",i=e;while(HEAPU8[i])t+=embind_charCodes[HEAPU8[i++]];return t}var awaitingDependencies={},registeredTypes={},typeDependencies={},char_0=48,char_9=57;function makeLegalFunctionName(e){if(void 0===e)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=char_0&&t<=char_9?"_"+e:e}function createNamedFunction(e,t){return e=makeLegalFunctionName(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function extendError(e,t){var i=createNamedFunction(t,function(e){this.name=t,this.message=e;var i=new Error(e).stack;void 0!==i&&(this.stack=this.toString()+"\n"+i.replace(/^Error(:[^\n]*)?\n/,""))});return i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},i}var BindingError=void 0;function throwBindingError(e){throw new BindingError(e)}var InternalError=void 0;function throwInternalError(e){throw new InternalError(e)}function whenDependentTypesAreResolved(e,t,i){function r(t){var r=i(t);r.length!==e.length&&throwInternalError("Mismatched type converter count");for(var a=0;a<e.length;++a)registerType(e[a],r[a])}e.forEach(function(e){typeDependencies[e]=t});var a=new Array(t.length),s=[],o=0;t.forEach(function(e,t){registeredTypes.hasOwnProperty(e)?a[t]=registeredTypes[e]:(s.push(e),awaitingDependencies.hasOwnProperty(e)||(awaitingDependencies[e]=[]),awaitingDependencies[e].push(function(){a[t]=registeredTypes[e],++o,o===s.length&&r(a)}))}),0===s.length&&r(a)}function registerType(e,t,i){if(i=i||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||throwBindingError('type "'+r+'" must have a positive integer typeid pointer'),registeredTypes.hasOwnProperty(e)){if(i.ignoreDuplicateRegistrations)return;throwBindingError("Cannot register type '"+r+"' twice")}if(registeredTypes[e]=t,delete typeDependencies[e],awaitingDependencies.hasOwnProperty(e)){var a=awaitingDependencies[e];delete awaitingDependencies[e],a.forEach(function(e){e()})}}function __embind_register_void(e,t){t=readLatin1String(t),registerType(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||EXCEPTIONS.infos[e])return e;for(var t in EXCEPTIONS.infos){var i=EXCEPTIONS.infos[t];if(i.adjusted===e)return t}return e},addRef:function(e){if(e){var t=EXCEPTIONS.infos[e];t.refcount++}},decRef:function(e){if(e){var t=EXCEPTIONS.infos[e];assert(t.refcount>0),t.refcount--,0===t.refcount&&(t.destructor&&Runtime.dynCall("vi",t.destructor,[e]),delete EXCEPTIONS.infos[e],___cxa_free_exception(e))}},clearRef:function(e){if(e){var t=EXCEPTIONS.infos[e];t.refcount=0}}};function ___resumeException(e){throw EXCEPTIONS.last||(EXCEPTIONS.last=e),EXCEPTIONS.clearRef(EXCEPTIONS.deAdjust(e)),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(){var e=EXCEPTIONS.last;if(!e)return 0|(asm["setTempRet0"](0),0);var t=EXCEPTIONS.infos[e],i=t.type;if(!i)return 0|(asm["setTempRet0"](0),e);var r=Array.prototype.slice.call(arguments);Module["___cxa_is_pointer_type"](i);___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=_malloc(4)),HEAP32[___cxa_find_matching_catch.buffer>>2]=e,e=___cxa_find_matching_catch.buffer;for(var a=0;a<r.length;a++)if(r[a]&&Module["___cxa_can_catch"](r[a],i,e))return e=HEAP32[e>>2],t.adjusted=e,0|(asm["setTempRet0"](r[a]),e);return e=HEAP32[e>>2],0|(asm["setTempRet0"](i),e)}function ___cxa_throw(e,t,i){throw EXCEPTIONS.infos[e]={ptr:e,adjusted:e,type:t,destructor:i,refcount:0},EXCEPTIONS.last=e,"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}Module["_memset"]=_memset;var _BDtoILow=!0;function getShiftFromSize(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function __embind_register_bool(e,t,i,r,a){var s=getShiftFromSize(i);t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:a},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===i)r=HEAP8;else if(2===i)r=HEAP16;else{if(4!==i)throw new TypeError("Unknown boolean type size: "+t);r=HEAP32}return this["fromWireType"](r[e>>s])},destructorFunction:null})}function _abort(){Module["abort"]()}function _free(){}function _malloc(e){var t=Runtime.dynamicAlloc(e+8);return t+8&4294967288}function simpleReadValueFromPointer(e){return this["fromWireType"](HEAPU32[e>>2])}function __embind_register_std_string(e,t){t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){for(var t=HEAPU32[e>>2],i=new Array(t),r=0;r<t;++r)i[r]=String.fromCharCode(HEAPU8[e+4+r]);return _free(e),i.join("")},toWireType:function(e,t){function i(e,t){return e[t]}function r(e,t){return e.charCodeAt(t)}var a;t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array?a=i:t instanceof Int8Array?a=i:"string"===typeof t?a=r:throwBindingError("Cannot pass non-string to std::string");var s=t.length,o=_malloc(4+s);HEAPU32[o>>2]=s;for(var n=0;n<s;++n){var l=a(t,n);l>255&&(_free(o),throwBindingError("String has UTF-16 code units that do not fit in 8 bits")),HEAPU8[o+4+n]=l}return null!==e&&e.push(_free,o),o},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function __embind_register_std_wstring(e,t,i){var r,a;i=readLatin1String(i),2===t?(r=function(){return HEAPU16},a=1):4===t&&(r=function(){return HEAPU32},a=2),registerType(e,{name:i,fromWireType:function(e){for(var t=r(),i=HEAPU32[e>>2],s=new Array(i),o=e+4>>a,n=0;n<i;++n)s[n]=String.fromCharCode(t[o+n]);return _free(e),s.join("")},toWireType:function(e,i){var s=r(),o=i.length,n=_malloc(4+o*t);HEAPU32[n>>2]=o;for(var l=n+4>>a,u=0;u<o;++u)s[l+u]=i.charCodeAt(u);return null!==e&&e.push(_free,n),n},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function ___lock(){}function ___unlock(){}Module["_bitshift64Shl"]=_bitshift64Shl,Module["_free"]=_free,Module["_malloc"]=_malloc;var _emscripten_asm_const_int=!0;Module["_i64Add"]=_i64Add;var _fabs=Math_abs,_sqrt=Math_sqrt;function _embind_repr(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function integerReadValueFromPointer(e,t,i){switch(t){case 0:return i?function(e){return HEAP8[e]}:function(e){return HEAPU8[e]};case 1:return i?function(e){return HEAP16[e>>1]}:function(e){return HEAPU16[e>>1]};case 2:return i?function(e){return HEAP32[e>>2]}:function(e){return HEAPU32[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function __embind_register_integer(e,t,i,r,a){t=readLatin1String(t),-1===a&&(a=4294967295);var s=getShiftFromSize(i),o=function(e){return e};if(0===r){var n=32-8*i;o=function(e){return e<<n>>>n}}registerType(e,{name:t,fromWireType:o,toWireType:function(e,i){if("number"!==typeof i&&"boolean"!==typeof i)throw new TypeError('Cannot convert "'+_embind_repr(i)+'" to '+this.name);if(i<r||i>a)throw new TypeError('Passing a number "'+_embind_repr(i)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+r+", "+a+"]!");return 0|i},argPackAdvance:8,readValueFromPointer:integerReadValueFromPointer(t,s,0!==r),destructorFunction:null})}var emval_free_list=[],emval_handle_array=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function __emval_decref(e){e>4&&0===--emval_handle_array[e].refcount&&(emval_handle_array[e]=void 0,emval_free_list.push(e))}function count_emval_handles(){for(var e=0,t=5;t<emval_handle_array.length;++t)void 0!==emval_handle_array[t]&&++e;return e}function get_first_emval(){for(var e=5;e<emval_handle_array.length;++e)if(void 0!==emval_handle_array[e])return emval_handle_array[e];return null}function init_emval(){Module["count_emval_handles"]=count_emval_handles,Module["get_first_emval"]=get_first_emval}function __emval_register(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;return emval_handle_array[t]={refcount:1,value:e},t}}function __embind_register_emval(e,t){t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){var t=emval_handle_array[e].value;return __emval_decref(e),t},toWireType:function(e,t){return __emval_register(t)},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:null})}function ___cxa_allocate_exception(e){return _malloc(e)}var _sin=Math_sin;function ___setErrNo(e){return Module["___errno_location"]&&(HEAP32[Module["___errno_location"]()>>2]=e),e}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:return totalMemory/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"===typeof navigator&&navigator["hardwareConcurrency"]||1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}function __exit(e){Module["exit"](e)}function _exit(e){__exit(e)}Module["_bitshift64Lshr"]=_bitshift64Lshr;var _llvm_ctlz_i32=!0;function floatReadValueFromPointer(e,t){switch(t){case 2:return function(e){return this["fromWireType"](HEAPF32[e>>2])};case 3:return function(e){return this["fromWireType"](HEAPF64[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function __embind_register_float(e,t,i){var r=getShiftFromSize(i);t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){return e},toWireType:function(e,t){if("number"!==typeof t&&"boolean"!==typeof t)throw new TypeError('Cannot convert "'+_embind_repr(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:floatReadValueFromPointer(t,r),destructorFunction:null})}var _BDtoIHigh=!0;function _pthread_cleanup_push(e,t){__ATEXIT__.push(function(){Runtime.dynCall("vi",e,[t])}),_pthread_cleanup_push.level=__ATEXIT__.length}function new_(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var i=createNamedFunction(e.name||"unknownFunctionName",function(){});i.prototype=e.prototype;var r=new i,a=e.apply(r,t);return a instanceof Object?a:r}function runDestructors(e){while(e.length){var t=e.pop(),i=e.pop();i(t)}}function craftInvokerFunction(e,t,i,r,a){var s=t.length;s<2&&throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=null!==t[1]&&null!==i,n="",l="",u=0;u<s-2;++u)n+=(0!==u?", ":"")+"arg"+u,l+=(0!==u?", ":"")+"arg"+u+"Wired";var c="return function "+makeLegalFunctionName(e)+"("+n+") {\nif (arguments.length !== "+(s-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(s-2)+" args!');\n}\n",d=!1;for(u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){d=!0;break}d&&(c+="var destructors = [];\n");var f=d?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],p=[throwBindingError,r,a,runDestructors,t[0],t[1]];o&&(c+="var thisWired = classParam.toWireType("+f+", this);\n");for(u=0;u<s-2;++u)c+="var arg"+u+"Wired = argType"+u+".toWireType("+f+", arg"+u+"); // "+t[u+2].name+"\n",h.push("argType"+u),p.push(t[u+2]);o&&(l="thisWired"+(l.length>0?", ":"")+l);var m="void"!==t[0].name;if(c+=(m?"var rv = ":"")+"invoker(fn"+(l.length>0?", ":"")+l+");\n",d)c+="runDestructors(destructors);\n";else for(u=o?1:2;u<t.length;++u){var b=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(c+=b+"_dtor("+b+"); // "+t[u].name+"\n",h.push(b+"_dtor"),p.push(t[u].destructorFunction))}m&&(c+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),c+="}\n",h.push(c);var g=new_(Function,h).apply(null,p);return g}function ensureOverloadTable(e,t,i){if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||throwBindingError("Function '"+i+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}function exposePublicSymbol(e,t,i){Module.hasOwnProperty(e)?((void 0===i||void 0!==Module[e].overloadTable&&void 0!==Module[e].overloadTable[i])&&throwBindingError("Cannot register public name '"+e+"' twice"),ensureOverloadTable(Module,e,e),Module.hasOwnProperty(i)&&throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+i+")!"),Module[e].overloadTable[i]=t):(Module[e]=t,void 0!==i&&(Module[e].numArguments=i))}function heap32VectorToArray(e,t){for(var i=[],r=0;r<e;r++)i.push(HEAP32[(t>>2)+r]);return i}function replacePublicSymbol(e,t,i){Module.hasOwnProperty(e)||throwInternalError("Replacing nonexistant public symbol"),void 0!==Module[e].overloadTable&&void 0!==i?Module[e].overloadTable[i]=t:Module[e]=t}function requireFunction(e,t){function i(i){for(var r=[],a=1;a<e.length;++a)r.push("a"+a);var s="dynCall_"+e+"_"+t,o="return function "+s+"("+r.join(", ")+") {\n";return o+="    return dynCall(rawFunction"+(r.length?", ":"")+r.join(", ")+");\n",o+="};\n",new Function("dynCall","rawFunction",o)(i,t)}var r;if(e=readLatin1String(e),void 0!==Module["FUNCTION_TABLE_"+e])r=Module["FUNCTION_TABLE_"+e][t];else if("undefined"!==typeof FUNCTION_TABLE)r=FUNCTION_TABLE[t];else{var a=asm["dynCall_"+e];void 0===a&&(a=asm["dynCall_"+e.replace(/f/g,"d")],void 0===a&&throwBindingError("No dynCall invoker for signature: "+e)),r=i(a)}return"function"!==typeof r&&throwBindingError("unknown function pointer with signature "+e+": "+t),r}var UnboundTypeError=void 0;function getTypeName(e){var t=___getTypeName(e),i=readLatin1String(t);return _free(t),i}function throwUnboundTypeError(e,t){var i=[],r={};function a(e){r[e]||registeredTypes[e]||(typeDependencies[e]?typeDependencies[e].forEach(a):(i.push(e),r[e]=!0))}throw t.forEach(a),new UnboundTypeError(e+": "+i.map(getTypeName).join([", "]))}function __embind_register_function(e,t,i,r,a,s){var o=heap32VectorToArray(t,i);e=readLatin1String(e),a=requireFunction(r,a),exposePublicSymbol(e,function(){throwUnboundTypeError("Cannot call "+e+" due to unbound types",o)},t-1),whenDependentTypesAreResolved([],o,function(i){var r=[i[0],null].concat(i.slice(1));return replacePublicSymbol(e,craftInvokerFunction(e,r,null,a,s),t-1),[]})}function __embind_register_constant(e,t,i){e=readLatin1String(e),whenDependentTypesAreResolved([],[t],function(t){return t=t[0],Module[e]=t["fromWireType"](i),[]})}function _pthread_cleanup_pop(){assert(_pthread_cleanup_push.level==__ATEXIT__.length,"cannot pop if something else added meanwhile!"),__ATEXIT__.pop(),_pthread_cleanup_push.level=__ATEXIT__.length}var ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},PATH={splitPath:function(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(e).slice(1)},normalizeArray:function(e,t){for(var i=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i--;i)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),i="/"===e.substr(-1);return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),e||t||(e="."),e&&i&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=PATH.splitPath(e),i=t[0],r=t[1];return i||r?(r&&(r=r.substr(0,r.length-1)),i+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,t){return PATH.normalize(e+"/"+t)},resolve:function(){for(var e="",t=!1,i=arguments.length-1;i>=-1&&!t;i--){var r=i>=0?arguments[i]:FS.cwd();if("string"!==typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},relative:function(e,t){function i(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var i=e.length-1;i>=0;i--)if(""!==e[i])break;return t>i?[]:e.slice(t,i-t+1)}e=PATH.resolve(e).substr(1),t=PATH.resolve(t).substr(1);for(var r=i(e.split("/")),a=i(t.split("/")),s=Math.min(r.length,a.length),o=s,n=0;n<s;n++)if(r[n]!==a[n]){o=n;break}var l=[];for(n=o;n<r.length;n++)l.push("..");return l=l.concat(a.slice(o)),l.join("/")}},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){TTY.ttys[e]={input:[],output:[],ops:t},FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var t=TTY.ttys[e.node.rdev];if(!t)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,i,r,a){if(!e.tty||!e.tty.ops.get_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var s=0,o=0;o<r;o++){var n;try{n=e.tty.ops.get_char(e.tty)}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===n&&0===s)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===n||void 0===n)break;s++,t[i+o]=n}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,i,r,a){if(!e.tty||!e.tty.ops.put_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var s=0;s<r;s++)try{e.tty.ops.put_char(e.tty,t[i+s])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return r&&(e.node.timestamp=Date.now()),s}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(ENVIRONMENT_IS_NODE){var i=256,r=new Buffer(i),a=0,s=process.stdin.fd,o=!1;try{s=fs.openSync("/dev/stdin","r"),o=!0}catch(e){}a=fs.readSync(s,r,0,i,null),o&&fs.closeSync(s),t=a>0?r.slice(0,a).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?(t=window.prompt("Input: "),null!==t&&(t+="\n")):"function"==typeof readline&&(t=readline(),null!==t&&(t+="\n"));if(!t)return null;e.input=intArrayFromString(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(Module["print"](UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Module["print"](UTF8ArrayToString(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(Module["printErr"](UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Module["printErr"](UTF8ArrayToString(e.output,0)),e.output=[])}}},MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16895,0)},createNode:function(e,t,i,r){if(FS.isBlkdev(i)||FS.isFIFO(i))throw new FS.ErrnoError(ERRNO_CODES.EPERM);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var a=FS.createNode(e,t,i,r);return FS.isDir(a.mode)?(a.node_ops=MEMFS.ops_table.dir.node,a.stream_ops=MEMFS.ops_table.dir.stream,a.contents={}):FS.isFile(a.mode)?(a.node_ops=MEMFS.ops_table.file.node,a.stream_ops=MEMFS.ops_table.file.stream,a.usedBytes=0,a.contents=null):FS.isLink(a.mode)?(a.node_ops=MEMFS.ops_table.link.node,a.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(a.mode)&&(a.node_ops=MEMFS.ops_table.chrdev.node,a.stream_ops=MEMFS.ops_table.chrdev.stream),a.timestamp=Date.now(),e&&(e.contents[t]=a),a},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],i=0;i<e.usedBytes;++i)t.push(e.contents[i]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=MEMFS.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var i=e.contents?e.contents.buffer.byteLength:0;if(i>=t)return;var r=1048576;t=Math.max(t,i*(i<r?2:1.125)|0),0!=i&&(t=Math.max(t,256));var a=e.contents;return e.contents=new Uint8Array(t),void(e.usedBytes>0&&e.contents.set(a.subarray(0,e.usedBytes),0))}!e.contents&&t>0&&(e.contents=[]);while(e.contents.length<t)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var i=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),i&&e.contents.set(i.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else while(e.contents.length<t)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=FS.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,FS.isDir(e.mode)?t.size=4096:FS.isFile(e.mode)?t.size=e.usedBytes:FS.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&MEMFS.resizeFileStorage(e,t.size)},lookup:function(e,t){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,t,i,r){return MEMFS.createNode(e,t,i,r)},rename:function(e,t,i){if(FS.isDir(e.mode)){var r;try{r=FS.lookupNode(t,i)}catch(e){}if(r)for(var a in r.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=i,t.contents[i]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var i=FS.lookupNode(e,t);for(var r in i.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var i in e.contents)e.contents.hasOwnProperty(i)&&t.push(i);return t},symlink:function(e,t,i){var r=MEMFS.createNode(e,t,41471,0);return r.link=i,r},readlink:function(e){if(!FS.isLink(e.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.link}},stream_ops:{read:function(e,t,i,r,a){var s=e.node.contents;if(a>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-a,r);if(assert(o>=0),o>8&&s.subarray)t.set(s.subarray(a,a+o),i);else for(var n=0;n<o;n++)t[i+n]=s[a+n];return o},write:function(e,t,i,r,a,s){if(!r)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(s)return o.contents=t.subarray(i,i+r),o.usedBytes=r,r;if(0===o.usedBytes&&0===a)return o.contents=new Uint8Array(t.subarray(i,i+r)),o.usedBytes=r,r;if(a+r<=o.usedBytes)return o.contents.set(t.subarray(i,i+r),a),r}if(MEMFS.expandFileStorage(o,a+r),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(i,i+r),a);else for(var n=0;n<r;n++)o.contents[a+n]=t[i+n];return o.usedBytes=Math.max(o.usedBytes,a+r),r},llseek:function(e,t,i){var r=t;if(1===i?r+=e.position:2===i&&FS.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return r},allocate:function(e,t,i){MEMFS.expandFileStorage(e.node,t+i),e.node.usedBytes=Math.max(e.node.usedBytes,t+i)},mmap:function(e,t,i,r,a,s,o){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);var n,l,u=e.node.contents;if(2&o||u.buffer!==t&&u.buffer!==t.buffer){if((a>0||a+r<e.node.usedBytes)&&(u=u.subarray?u.subarray(a,a+r):Array.prototype.slice.call(u,a,a+r)),l=!0,n=_malloc(r),!n)throw new FS.ErrnoError(ERRNO_CODES.ENOMEM);t.set(u,n)}else l=!1,n=u.byteOffset;return{ptr:n,allocated:l}},msync:function(e,t,i,r,a){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(2&a)return 0;MEMFS.stream_ops.write(e,t,0,r,i,!1);return 0}}},IDBFS={dbs:{},indexedDB:function(){if("undefined"!==typeof indexedDB)return indexedDB;var e=null;return"object"===typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),assert(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,t,i){IDBFS.getLocalSet(e,function(r,a){if(r)return i(r);IDBFS.getRemoteSet(e,function(e,r){if(e)return i(e);var s=t?r:a,o=t?a:r;IDBFS.reconcile(s,o,i)})})},getDB:function(e,t){var i,r=IDBFS.dbs[e];if(r)return t(null,r);try{i=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(e){return t(e)}i.onupgradeneeded=function(e){var t,i=e.target.result,r=e.target.transaction;t=i.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?r.objectStore(IDBFS.DB_STORE_NAME):i.createObjectStore(IDBFS.DB_STORE_NAME),t.indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},i.onsuccess=function(){r=i.result,IDBFS.dbs[e]=r,t(null,r)},i.onerror=function(e){t(this.error),e.preventDefault()}},getLocalSet:function(e,t){var i={};function r(e){return"."!==e&&".."!==e}function a(e){return function(t){return PATH.join2(e,t)}}var s=FS.readdir(e.mountpoint).filter(r).map(a(e.mountpoint));while(s.length){var o,n=s.pop();try{o=FS.stat(n)}catch(e){return t(e)}FS.isDir(o.mode)&&s.push.apply(s,FS.readdir(n).filter(r).map(a(n))),i[n]={timestamp:o.mtime}}return t(null,{type:"local",entries:i})},getRemoteSet:function(e,t){var i={};IDBFS.getDB(e.mountpoint,function(e,r){if(e)return t(e);var a=r.transaction([IDBFS.DB_STORE_NAME],"readonly");a.onerror=function(e){t(this.error),e.preventDefault()};var s=a.objectStore(IDBFS.DB_STORE_NAME),o=s.index("timestamp");o.openKeyCursor().onsuccess=function(e){var a=e.target.result;if(!a)return t(null,{type:"remote",db:r,entries:i});i[a.primaryKey]={timestamp:a.key},a.continue()}})},loadLocalEntry:function(e,t){var i,r;try{var a=FS.lookupPath(e);r=a.node,i=FS.stat(e)}catch(e){return t(e)}return FS.isDir(i.mode)?t(null,{timestamp:i.mtime,mode:i.mode}):FS.isFile(i.mode)?(r.contents=MEMFS.getFileDataAsTypedArray(r),t(null,{timestamp:i.mtime,mode:i.mode,contents:r.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,i){try{if(FS.isDir(t.mode))FS.mkdir(e,t.mode);else{if(!FS.isFile(t.mode))return i(new Error("node type not supported"));FS.writeFile(e,t.contents,{encoding:"binary",canOwn:!0})}FS.chmod(e,t.mode),FS.utime(e,t.timestamp,t.timestamp)}catch(e){return i(e)}i(null)},removeLocalEntry:function(e,t){try{FS.lookupPath(e);var i=FS.stat(e);FS.isDir(i.mode)?FS.rmdir(e):FS.isFile(i.mode)&&FS.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,i){var r=e.get(t);r.onsuccess=function(e){i(null,e.target.result)},r.onerror=function(e){i(this.error),e.preventDefault()}},storeRemoteEntry:function(e,t,i,r){var a=e.put(i,t);a.onsuccess=function(){r(null)},a.onerror=function(e){r(this.error),e.preventDefault()}},removeRemoteEntry:function(e,t,i){var r=e.delete(t);r.onsuccess=function(){i(null)},r.onerror=function(e){i(this.error),e.preventDefault()}},reconcile:function(e,t,i){var r=0,a=[];Object.keys(e.entries).forEach(function(i){var s=e.entries[i],o=t.entries[i];(!o||s.timestamp>o.timestamp)&&(a.push(i),r++)});var s=[];if(Object.keys(t.entries).forEach(function(i){t.entries[i];var a=e.entries[i];a||(s.push(i),r++)}),!r)return i(null);var o=0,n="remote"===e.type?e.db:t.db,l=n.transaction([IDBFS.DB_STORE_NAME],"readwrite"),u=l.objectStore(IDBFS.DB_STORE_NAME);function c(e){return e?c.errored?void 0:(c.errored=!0,i(e)):++o>=r?i(null):void 0}l.onerror=function(e){c(this.error),e.preventDefault()},a.sort().forEach(function(e){"local"===t.type?IDBFS.loadRemoteEntry(u,e,function(t,i){if(t)return c(t);IDBFS.storeLocalEntry(e,i,c)}):IDBFS.loadLocalEntry(e,function(t,i){if(t)return c(t);IDBFS.storeRemoteEntry(u,e,i,c)})}),s.sort().reverse().forEach(function(e){"local"===t.type?IDBFS.removeLocalEntry(e,c):IDBFS.removeRemoteEntry(u,e,c)})}},NODEFS={isWindows:!1,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/)},mount:function(e){return assert(ENVIRONMENT_IS_NODE),NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode:function(e,t,i,r){if(!FS.isDir(i)&&!FS.isFile(i)&&!FS.isLink(i))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var a=FS.createNode(e,t,i);return a.node_ops=NODEFS.node_ops,a.stream_ops=NODEFS.stream_ops,a},getMode:function(e){var t;try{t=fs.lstatSync(e),NODEFS.isWindows&&(t.mode=t.mode|(146&t.mode)>>1)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return t.mode},realPath:function(e){var t=[];while(e.parent!==e)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),PATH.join.apply(null,t)},flagsToPermissionStringMap:{0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},flagsToPermissionString:function(e){if(e&=-32769,e in NODEFS.flagsToPermissionStringMap)return NODEFS.flagsToPermissionStringMap[e];throw new FS.ErrnoError(ERRNO_CODES.EINVAL)},node_ops:{getattr:function(e){var t,i=NODEFS.realPath(e);try{t=fs.lstatSync(i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return NODEFS.isWindows&&!t.blksize&&(t.blksize=4096),NODEFS.isWindows&&!t.blocks&&(t.blocks=(t.size+t.blksize-1)/t.blksize|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,blksize:t.blksize,blocks:t.blocks}},setattr:function(e,t){var i=NODEFS.realPath(e);try{if(void 0!==t.mode&&(fs.chmodSync(i,t.mode),e.mode=t.mode),void 0!==t.timestamp){var r=new Date(t.timestamp);fs.utimesSync(i,r,r)}void 0!==t.size&&fs.truncateSync(i,t.size)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},lookup:function(e,t){var i=PATH.join2(NODEFS.realPath(e),t),r=NODEFS.getMode(i);return NODEFS.createNode(e,t,r)},mknod:function(e,t,i,r){var a=NODEFS.createNode(e,t,i,r),s=NODEFS.realPath(a);try{FS.isDir(a.mode)?fs.mkdirSync(s,a.mode):fs.writeFileSync(s,"",{mode:a.mode})}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return a},rename:function(e,t,i){var r=NODEFS.realPath(e),a=PATH.join2(NODEFS.realPath(t),i);try{fs.renameSync(r,a)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},unlink:function(e,t){var i=PATH.join2(NODEFS.realPath(e),t);try{fs.unlinkSync(i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},rmdir:function(e,t){var i=PATH.join2(NODEFS.realPath(e),t);try{fs.rmdirSync(i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readdir:function(e){var t=NODEFS.realPath(e);try{return fs.readdirSync(t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},symlink:function(e,t,i){var r=PATH.join2(NODEFS.realPath(e),t);try{fs.symlinkSync(i,r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readlink:function(e){var t=NODEFS.realPath(e);try{return t=fs.readlinkSync(t),t=NODEJS_PATH.relative(NODEJS_PATH.resolve(e.mount.opts.root),t),t}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}},stream_ops:{open:function(e){var t=NODEFS.realPath(e.node);try{FS.isFile(e.node.mode)&&(e.nfd=fs.openSync(t,NODEFS.flagsToPermissionString(e.flags)))}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},close:function(e){try{FS.isFile(e.node.mode)&&e.nfd&&fs.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},read:function(e,t,i,r,a){if(0===r)return 0;var s,o=new Buffer(r);try{s=fs.readSync(e.nfd,o,0,r,a)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(s>0)for(var n=0;n<s;n++)t[i+n]=o[n];return s},write:function(e,t,i,r,a){var s,o=new Buffer(t.subarray(i,i+r));try{s=fs.writeSync(e.nfd,o,0,r,a)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}return s},llseek:function(e,t,i){var r=t;if(1===i)r+=e.position;else if(2===i&&FS.isFile(e.node.mode))try{var a=fs.fstatSync(e.nfd);r+=a.size}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return r}}},WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){assert(ENVIRONMENT_IS_WORKER),WORKERFS.reader||(WORKERFS.reader=new FileReaderSync);var t=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0),i={};function r(e){for(var r=e.split("/"),a=t,s=0;s<r.length-1;s++){var o=r.slice(0,s+1).join("/");i[o]||(i[o]=WORKERFS.createNode(a,o,WORKERFS.DIR_MODE,0)),a=i[o]}return a}function a(e){var t=e.split("/");return t[t.length-1]}return Array.prototype.forEach.call(e.opts["files"]||[],function(e){WORKERFS.createNode(r(e.name),a(e.name),WORKERFS.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts["blobs"]||[]).forEach(function(e){WORKERFS.createNode(r(e["name"]),a(e["name"]),WORKERFS.FILE_MODE,0,e["data"])}),(e.opts["packages"]||[]).forEach(function(e){e["metadata"].files.forEach(function(t){var i=t.filename.substr(1);WORKERFS.createNode(r(i),a(i),WORKERFS.FILE_MODE,0,e["blob"].slice(t.start,t.end))})}),t},createNode:function(e,t,i,r,a,s){var o=FS.createNode(e,t,i);return o.mode=i,o.node_ops=WORKERFS.node_ops,o.stream_ops=WORKERFS.stream_ops,o.timestamp=(s||new Date).getTime(),assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE),i===WORKERFS.FILE_MODE?(o.size=a.size,o.contents=a):(o.size=4096,o.contents={}),e&&(e.contents[t]=o),o},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(e,t,i,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(e,t,i){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},symlink:function(e,t,i){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{read:function(e,t,i,r,a){if(a>=e.node.size)return 0;var s=e.node.contents.slice(a,a+r),o=WORKERFS.reader.readAsArrayBuffer(s);return t.set(new Uint8Array(o),i),s.size},write:function(e,t,i,r,a){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(e,t,i){var r=t;if(1===i?r+=e.position:2===i&&FS.isFile(e.node.mode)&&(r+=e.node.size),r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return r}}},_stdin=allocate(1,"i32*",ALLOC_STATIC),_stdout=allocate(1,"i32*",ALLOC_STATIC),_stderr=allocate(1,"i32*",ALLOC_STATIC),FS={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,t){if(e=PATH.resolve(FS.cwd(),e),t=t||{},!e)return{path:"",node:null};var i={follow_mount:!0,recurse_count:0};for(var r in i)void 0===t[r]&&(t[r]=i[r]);if(t.recurse_count>8)throw new FS.ErrnoError(ERRNO_CODES.ELOOP);for(var a=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),s=FS.root,o="/",n=0;n<a.length;n++){var l=n===a.length-1;if(l&&t.parent)break;if(s=FS.lookupNode(s,a[n]),o=PATH.join2(o,a[n]),FS.isMountpoint(s)&&(!l||l&&t.follow_mount)&&(s=s.mounted.root),!l||t.follow){var u=0;while(FS.isLink(s.mode)){var c=FS.readlink(o);o=PATH.resolve(PATH.dirname(o),c);var d=FS.lookupPath(o,{recurse_count:t.recurse_count});if(s=d.node,u++>40)throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}}return{path:o,node:s}},getPath:function(e){var t;while(1){if(FS.isRoot(e)){var i=e.mount.mountpoint;return t?"/"!==i[i.length-1]?i+"/"+t:i+t:i}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var i=0,r=0;r<t.length;r++)i=(i<<5)-i+t.charCodeAt(r)|0;return(e+i>>>0)%FS.nameTable.length},hashAddNode:function(e){var t=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[t],FS.nameTable[t]=e},hashRemoveNode:function(e){var t=FS.hashName(e.parent.id,e.name);if(FS.nameTable[t]===e)FS.nameTable[t]=e.name_next;else{var i=FS.nameTable[t];while(i){if(i.name_next===e){i.name_next=e.name_next;break}i=i.name_next}}},lookupNode:function(e,t){var i=FS.mayLookup(e);if(i)throw new FS.ErrnoError(i,e);for(var r=FS.hashName(e.id,t),a=FS.nameTable[r];a;a=a.name_next){var s=a.name;if(a.parent.id===e.id&&s===t)return a}return FS.lookup(e,t)},createNode:function(e,t,i,r){if(!FS.FSNode){FS.FSNode=function(e,t,i,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=FS.nextInode++,this.name=t,this.mode=i,this.node_ops={},this.stream_ops={},this.rdev=r},FS.FSNode.prototype={};var a=365,s=146;Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return(this.mode&a)===a},set:function(e){e?this.mode|=a:this.mode&=~a}},write:{get:function(){return(this.mode&s)===s},set:function(e){e?this.mode|=s:this.mode&=~s}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var o=new FS.FSNode(e,t,i,r);return FS.hashAddNode(o),o},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=FS.flagModes[e];if("undefined"===typeof t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return FS.ignorePermissions?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:ERRNO_CODES.EACCES},mayLookup:function(e){var t=FS.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:ERRNO_CODES.EACCES)},mayCreate:function(e,t){try{FS.lookupNode(e,t);return ERRNO_CODES.EEXIST}catch(e){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,t,i){var r;try{r=FS.lookupNode(e,t)}catch(e){return e.errno}var a=FS.nodePermissions(e,"wx");if(a)return a;if(i){if(!FS.isDir(r.mode))return ERRNO_CODES.ENOTDIR;if(FS.isRoot(r)||FS.getPath(r)===FS.cwd())return ERRNO_CODES.EBUSY}else if(FS.isDir(r.mode))return ERRNO_CODES.EISDIR;return 0},mayOpen:function(e,t){return e?FS.isLink(e.mode)?ERRNO_CODES.ELOOP:FS.isDir(e.mode)&&(0!==(2097155&t)||512&t)?ERRNO_CODES.EISDIR:FS.nodePermissions(e,FS.flagsToPermissionString(t)):ERRNO_CODES.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||FS.MAX_OPEN_FDS;for(var i=e;i<=t;i++)if(!FS.streams[i])return i;throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,t,i){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new FS.FSStream;for(var a in e)r[a]=e[a];e=r;var s=FS.nextfd(t,i);return e.fd=s,FS.streams[s]=e,e},closeStream:function(e){FS.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=FS.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){FS.devices[e]={stream_ops:t}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){var t=[],i=[e];while(i.length){var r=i.pop();t.push(r),i.push.apply(i,r.mounts)}return t},syncfs:function(e,t){"function"===typeof e&&(t=e,e=!1);var i=FS.getMounts(FS.root.mount),r=0;function a(e){if(e)return a.errored?void 0:(a.errored=!0,t(e));++r>=i.length&&t(null)}i.forEach(function(t){if(!t.type.syncfs)return a(null);t.type.syncfs(t,e,a)})},mount:function(e,t,i){var r,a="/"===i,s=!i;if(a&&FS.root)throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!a&&!s){var o=FS.lookupPath(i,{follow_mount:!1});if(i=o.path,r=o.node,FS.isMountpoint(r))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!FS.isDir(r.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var n={type:e,opts:t,mountpoint:i,mounts:[]},l=e.mount(n);return l.mount=n,n.root=l,a?FS.root=l:r&&(r.mounted=n,r.mount&&r.mount.mounts.push(n)),l},unmount:function(e){var t=FS.lookupPath(e,{follow_mount:!1});if(!FS.isMountpoint(t.node))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var i=t.node,r=i.mounted,a=FS.getMounts(r);Object.keys(FS.nameTable).forEach(function(e){var t=FS.nameTable[e];while(t){var i=t.name_next;-1!==a.indexOf(t.mount)&&FS.destroyNode(t),t=i}}),i.mounted=null;var s=i.mount.mounts.indexOf(r);assert(-1!==s),i.mount.mounts.splice(s,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,i){var r=FS.lookupPath(e,{parent:!0}),a=r.node,s=PATH.basename(e);if(!s||"."===s||".."===s)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var o=FS.mayCreate(a,s);if(o)throw new FS.ErrnoError(o);if(!a.node_ops.mknod)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return a.node_ops.mknod(a,s,t,i)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,FS.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,FS.mknod(e,t,0)},mkdev:function(e,t,i){return"undefined"===typeof i&&(i=t,t=438),t|=8192,FS.mknod(e,t,i)},symlink:function(e,t){if(!PATH.resolve(e))throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var i=FS.lookupPath(t,{parent:!0}),r=i.node;if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var a=PATH.basename(t),s=FS.mayCreate(r,a);if(s)throw new FS.ErrnoError(s);if(!r.node_ops.symlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.symlink(r,a,e)},rename:function(e,t){var i,r,a,s=PATH.dirname(e),o=PATH.dirname(t),n=PATH.basename(e),l=PATH.basename(t);try{i=FS.lookupPath(e,{parent:!0}),r=i.node,i=FS.lookupPath(t,{parent:!0}),a=i.node}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!r||!a)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(r.mount!==a.mount)throw new FS.ErrnoError(ERRNO_CODES.EXDEV);var u,c=FS.lookupNode(r,n),d=PATH.relative(e,o);if("."!==d.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(d=PATH.relative(t,s),"."!==d.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);try{u=FS.lookupNode(a,l)}catch(e){}if(c!==u){var f=FS.isDir(c.mode),h=FS.mayDelete(r,n,f);if(h)throw new FS.ErrnoError(h);if(h=u?FS.mayDelete(a,l,f):FS.mayCreate(a,l),h)throw new FS.ErrnoError(h);if(!r.node_ops.rename)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(c)||u&&FS.isMountpoint(u))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(a!==r&&(h=FS.nodePermissions(r,"w"),h))throw new FS.ErrnoError(h);try{FS.trackingDelegate["willMovePath"]&&FS.trackingDelegate["willMovePath"](e,t)}catch(i){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+i.message)}FS.hashRemoveNode(c);try{r.node_ops.rename(c,a,l)}catch(e){throw e}finally{FS.hashAddNode(c)}try{FS.trackingDelegate["onMovePath"]&&FS.trackingDelegate["onMovePath"](e,t)}catch(i){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+i.message)}}},rmdir:function(e){var t=FS.lookupPath(e,{parent:!0}),i=t.node,r=PATH.basename(e),a=FS.lookupNode(i,r),s=FS.mayDelete(i,r,!0);if(s)throw new FS.ErrnoError(s);if(!i.node_ops.rmdir)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(a))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate["willDeletePath"]&&FS.trackingDelegate["willDeletePath"](e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}i.node_ops.rmdir(i,r),FS.destroyNode(a);try{FS.trackingDelegate["onDeletePath"]&&FS.trackingDelegate["onDeletePath"](e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=FS.lookupPath(e,{follow:!0}),i=t.node;if(!i.node_ops.readdir)throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);return i.node_ops.readdir(i)},unlink:function(e){var t=FS.lookupPath(e,{parent:!0}),i=t.node,r=PATH.basename(e),a=FS.lookupNode(i,r),s=FS.mayDelete(i,r,!1);if(s)throw s===ERRNO_CODES.EISDIR&&(s=ERRNO_CODES.EPERM),new FS.ErrnoError(s);if(!i.node_ops.unlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(a))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate["willDeletePath"]&&FS.trackingDelegate["willDeletePath"](e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}i.node_ops.unlink(i,r),FS.destroyNode(a);try{FS.trackingDelegate["onDeletePath"]&&FS.trackingDelegate["onDeletePath"](e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=FS.lookupPath(e),i=t.node;if(!i)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!i.node_ops.readlink)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return PATH.resolve(FS.getPath(i.parent),i.node_ops.readlink(i))},stat:function(e,t){var i=FS.lookupPath(e,{follow:!t}),r=i.node;if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!r.node_ops.getattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.getattr(r)},lstat:function(e){return FS.stat(e,!0)},chmod:function(e,t,i){var r;if("string"===typeof e){var a=FS.lookupPath(e,{follow:!i});r=a.node}else r=e;if(!r.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){FS.chmod(e,t,!0)},fchmod:function(e,t){var i=FS.getStream(e);if(!i)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chmod(i.node,t)},chown:function(e,t,i,r){var a;if("string"===typeof e){var s=FS.lookupPath(e,{follow:!r});a=s.node}else a=e;if(!a.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown:function(e,t,i){FS.chown(e,t,i,!0)},fchown:function(e,t,i){var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chown(r.node,t,i)},truncate:function(e,t){if(t<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var i;if("string"===typeof e){var r=FS.lookupPath(e,{follow:!0});i=r.node}else i=e;if(!i.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isDir(i.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!FS.isFile(i.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var a=FS.nodePermissions(i,"w");if(a)throw new FS.ErrnoError(a);i.node_ops.setattr(i,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var i=FS.getStream(e);if(!i)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0===(2097155&i.flags))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);FS.truncate(i.node,t)},utime:function(e,t,i){var r=FS.lookupPath(e,{follow:!0}),a=r.node;a.node_ops.setattr(a,{timestamp:Math.max(t,i)})},open:function(e,t,i,r,a){if(""===e)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var s;if(t="string"===typeof t?FS.modeStringToFlags(t):t,i="undefined"===typeof i?438:i,i=64&t?4095&i|32768:0,"object"===typeof e)s=e;else{e=PATH.normalize(e);try{var o=FS.lookupPath(e,{follow:!(131072&t)});s=o.node}catch(e){}}var n=!1;if(64&t)if(s){if(128&t)throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}else s=FS.mknod(e,i,0),n=!0;if(!s)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(FS.isChrdev(s.mode)&&(t&=-513),65536&t&&!FS.isDir(s.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);if(!n){var l=FS.mayOpen(s,t);if(l)throw new FS.ErrnoError(l)}512&t&&FS.truncate(s,0),t&=-641;var u=FS.createStream({node:s,path:FS.getPath(s),flags:t,seekable:!0,position:0,stream_ops:s.stream_ops,ungotten:[],error:!1},r,a);u.stream_ops.open&&u.stream_ops.open(u),!Module["logReadFiles"]||1&t||(FS.readFiles||(FS.readFiles={}),e in FS.readFiles||(FS.readFiles[e]=1,Module["printErr"]("read file: "+e)));try{if(FS.trackingDelegate["onOpenFile"]){var c=0;1!==(2097155&t)&&(c|=FS.tracking.openFlags.READ),0!==(2097155&t)&&(c|=FS.tracking.openFlags.WRITE),FS.trackingDelegate["onOpenFile"](e,c)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return u},close:function(e){e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{FS.closeStream(e.fd)}},llseek:function(e,t,i){if(!e.seekable||!e.stream_ops.llseek)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);return e.position=e.stream_ops.llseek(e,t,i),e.ungotten=[],e.position},read:function(e,t,i,r,a){if(r<0||a<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(1===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.read)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var s=!0;if("undefined"===typeof a)a=e.position,s=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var o=e.stream_ops.read(e,t,i,r,a);return s||(e.position+=o),o},write:function(e,t,i,r,a,s){if(r<0||a<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.write)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);1024&e.flags&&FS.llseek(e,0,2);var o=!0;if("undefined"===typeof a)a=e.position,o=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var n=e.stream_ops.write(e,t,i,r,a,s);o||(e.position+=n);try{e.path&&FS.trackingDelegate["onWriteToFile"]&&FS.trackingDelegate["onWriteToFile"](e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return n},allocate:function(e,t,i){if(t<0||i<=0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!FS.isFile(e.node.mode)&&!FS.isDir(node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(!e.stream_ops.allocate)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);e.stream_ops.allocate(e,t,i)},mmap:function(e,t,i,r,a,s,o){if(1===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EACCES);if(!e.stream_ops.mmap)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return e.stream_ops.mmap(e,t,i,r,a,s,o)},msync:function(e,t,i,r,a){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,i,r,a):0},munmap:function(e){return 0},ioctl:function(e,t,i){if(!e.stream_ops.ioctl)throw new FS.ErrnoError(ERRNO_CODES.ENOTTY);return e.stream_ops.ioctl(e,t,i)},readFile:function(e,t){if(t=t||{},t.flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var i,r=FS.open(e,t.flags),a=FS.stat(e),s=a.size,o=new Uint8Array(s);return FS.read(r,o,0,s,0),"utf8"===t.encoding?i=UTF8ArrayToString(o,0):"binary"===t.encoding&&(i=o),FS.close(r),i},writeFile:function(e,t,i){if(i=i||{},i.flags=i.flags||"w",i.encoding=i.encoding||"utf8","utf8"!==i.encoding&&"binary"!==i.encoding)throw new Error('Invalid encoding type "'+i.encoding+'"');var r=FS.open(e,i.flags,i.mode);if("utf8"===i.encoding){var a=new Uint8Array(lengthBytesUTF8(t)+1),s=stringToUTF8Array(t,a,0,a.length);FS.write(r,a,0,s,0,i.canOwn)}else"binary"===i.encoding&&FS.write(r,t,0,t.length,0,i.canOwn);FS.close(r)},cwd:function(){return FS.currentPath},chdir:function(e){var t=FS.lookupPath(e,{follow:!0});if(!FS.isDir(t.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);var i=FS.nodePermissions(t.node,"x");if(i)throw new FS.ErrnoError(i);FS.currentPath=t.path},createDefaultDirectories:function(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(e,t,i,r,a){return r}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0)),"undefined"!==typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else e=ENVIRONMENT_IS_NODE?function(){return __webpack_require__("1c46").randomBytes(1)[0]}:function(){return 256*Math.random()|0};FS.createDevice("/dev","random",e),FS.createDevice("/dev","urandom",e),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc"),FS.mkdir("/proc/self"),FS.mkdir("/proc/self/fd"),FS.mount({mount:function(){var e=FS.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var i=+t,r=FS.getStream(i);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var a={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return a.parent=a,a}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Module["stdin"]?FS.createDevice("/dev","stdin",Module["stdin"]):FS.symlink("/dev/tty","/dev/stdin"),Module["stdout"]?FS.createDevice("/dev","stdout",null,Module["stdout"]):FS.symlink("/dev/tty","/dev/stdout"),Module["stderr"]?FS.createDevice("/dev","stderr",null,Module["stderr"]):FS.symlink("/dev/tty1","/dev/stderr");var e=FS.open("/dev/stdin","r");assert(0===e.fd,"invalid handle for stdin ("+e.fd+")");var t=FS.open("/dev/stdout","w");assert(1===t.fd,"invalid handle for stdout ("+t.fd+")");var i=FS.open("/dev/stderr","w");assert(2===i.fd,"invalid handle for stderr ("+i.fd+")")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){for(var t in this.errno=e,ERRNO_CODES)if(ERRNO_CODES[t]===e){this.code=t;break}},this.setErrno(e),this.message=ERRNO_MESSAGES[e]},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e),FS.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(e,t,i){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module["stdin"]=e||Module["stdin"],Module["stdout"]=t||Module["stdout"],Module["stderr"]=i||Module["stderr"],FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;var e=Module["_fflush"];e&&e(0);for(var t=0;t<FS.streams.length;t++){var i=FS.streams[t];i&&FS.close(i)}},getMode:function(e,t){var i=0;return e&&(i|=365),t&&(i|=146),i},joinPath:function(e,t){var i=PATH.join.apply(null,e);return t&&"/"==i[0]&&(i=i.substr(1)),i},absolutePath:function(e,t){return PATH.resolve(t,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,t){var i=FS.analyzePath(e,t);return i.exists?i.object:(___setErrNo(i.error),null)},analyzePath:function(e,t){try{var i=FS.lookupPath(e,{follow:!t});e=i.path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{i=FS.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=i.path,r.parentObject=i.node,r.name=PATH.basename(e),i=FS.lookupPath(e,{follow:!t}),r.exists=!0,r.path=i.path,r.object=i.node,r.name=i.node.name,r.isRoot="/"===i.path}catch(e){r.error=e.errno}return r},createFolder:function(e,t,i,r){var a=PATH.join2("string"===typeof e?e:FS.getPath(e),t),s=FS.getMode(i,r);return FS.mkdir(a,s)},createPath:function(e,t,i,r){e="string"===typeof e?e:FS.getPath(e);var a=t.split("/").reverse();while(a.length){var s=a.pop();if(s){var o=PATH.join2(e,s);try{FS.mkdir(o)}catch(e){}e=o}}return o},createFile:function(e,t,i,r,a){var s=PATH.join2("string"===typeof e?e:FS.getPath(e),t),o=FS.getMode(r,a);return FS.create(s,o)},createDataFile:function(e,t,i,r,a,s){var o=t?PATH.join2("string"===typeof e?e:FS.getPath(e),t):e,n=FS.getMode(r,a),l=FS.create(o,n);if(i){if("string"===typeof i){for(var u=new Array(i.length),c=0,d=i.length;c<d;++c)u[c]=i.charCodeAt(c);i=u}FS.chmod(l,146|n);var f=FS.open(l,"w");FS.write(f,i,0,i.length,0,s),FS.close(f),FS.chmod(l,n)}return l},createDevice:function(e,t,i,r){var a=PATH.join2("string"===typeof e?e:FS.getPath(e),t),s=FS.getMode(!!i,!!r);FS.createDevice.major||(FS.createDevice.major=64);var o=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,a,s){for(var o=0,n=0;n<a;n++){var l;try{l=i()}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===l&&0===o)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===l||void 0===l)break;o++,t[r+n]=l}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,i,a,s){for(var o=0;o<a;o++)try{r(t[i+o])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return a&&(e.node.timestamp=Date.now()),o}}),FS.mkdev(a,s,o)},createLink:function(e,t,i,r,a){var s=PATH.join2("string"===typeof e?e:FS.getPath(e),t);return FS.symlink(i,s)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!==typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module["read"])throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=intArrayFromString(Module["read"](e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||___setErrNo(ERRNO_CODES.EIO),t},createLazyFile:function(e,t,i,r,a){function s(){this.lengthKnown=!1,this.chunks=[]}if(s.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,i=e/this.chunkSize|0;return this.getter(i)[t]}},s.prototype.setDataGetter=function(e){this.getter=e},s.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",i,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+i+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),a=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,s=1048576;a||(s=r);var o=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var a=new XMLHttpRequest;if(a.open("GET",i,!1),r!==s&&a.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(a.responseType="arraybuffer"),a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined"),a.send(null),!(a.status>=200&&a.status<300||304===a.status))throw new Error("Couldn't load "+i+". Status: "+a.status);return void 0!==a.response?new Uint8Array(a.response||[]):intArrayFromString(a.responseText||"",!0)},n=this;n.setDataGetter(function(e){var t=e*s,i=(e+1)*s-1;if(i=Math.min(i,r-1),"undefined"===typeof n.chunks[e]&&(n.chunks[e]=o(t,i)),"undefined"===typeof n.chunks[e])throw new Error("doXHR failed!");return n.chunks[e]}),this._length=r,this._chunkSize=s,this.lengthKnown=!0},"undefined"!==typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o=new s;Object.defineProperty(o,"length",{get:function(){return this.lengthKnown||this.cacheLength(),this._length}}),Object.defineProperty(o,"chunkSize",{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}});var n={isDevice:!1,contents:o}}else n={isDevice:!1,url:i};var l=FS.createFile(e,t,n,r,a);n.contents?l.contents=n.contents:n.url&&(l.contents=null,l.url=n.url),Object.defineProperty(l,"usedBytes",{get:function(){return this.contents.length}});var u={},c=Object.keys(l.stream_ops);return c.forEach(function(e){var t=l.stream_ops[e];u[e]=function(){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);return t.apply(null,arguments)}}),u.read=function(e,t,i,r,a){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);var s=e.node.contents;if(a>=s.length)return 0;var o=Math.min(s.length-a,r);if(assert(o>=0),s.slice)for(var n=0;n<o;n++)t[i+n]=s[a+n];else for(n=0;n<o;n++)t[i+n]=s.get(a+n);return o},l.stream_ops=u,l},createPreloadedFile:function(e,t,i,r,a,s,o,n,l,u){Browser.init();var c=t?PATH.resolve(PATH.join2(e,t)):e,d=getUniqueRunDependency("cp "+c);function f(i){function f(i){u&&u(),n||FS.createDataFile(e,t,i,r,a,l),s&&s(),removeRunDependency(d)}var h=!1;Module["preloadPlugins"].forEach(function(e){h||e["canHandle"](c)&&(e["handle"](i,c,f,function(){o&&o(),removeRunDependency(d)}),h=!0)}),h||f(i)}addRunDependency(d),"string"==typeof i?Browser.asyncLoad(i,function(e){f(e)},o):f(i)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,i){t=t||function(){},i=i||function(){};var r=FS.indexedDB();try{var a=r.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return i(e)}a.onupgradeneeded=function(){console.log("creating db");var e=a.result;e.createObjectStore(FS.DB_STORE_NAME)},a.onsuccess=function(){var r=a.result,s=r.transaction([FS.DB_STORE_NAME],"readwrite"),o=s.objectStore(FS.DB_STORE_NAME),n=0,l=0,u=e.length;function c(){0==l?t():i()}e.forEach(function(e){var t=o.put(FS.analyzePath(e).object.contents,e);t.onsuccess=function(){n++,n+l==u&&c()},t.onerror=function(){l++,n+l==u&&c()}}),s.onerror=i},a.onerror=i},loadFilesFromDB:function(e,t,i){t=t||function(){},i=i||function(){};var r=FS.indexedDB();try{var a=r.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return i(e)}a.onupgradeneeded=i,a.onsuccess=function(){var r=a.result;try{var s=r.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){return void i(e)}var o=s.objectStore(FS.DB_STORE_NAME),n=0,l=0,u=e.length;function c(){0==l?t():i()}e.forEach(function(e){var t=o.get(e);t.onsuccess=function(){FS.analyzePath(e).exists&&FS.unlink(e),FS.createDataFile(PATH.dirname(e),PATH.basename(e),t.result,!0,!0,!0),n++,n+l==u&&c()},t.onerror=function(){l++,n+l==u&&c()}}),s.onerror=i},a.onerror=i}},SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var i;if(-100===e)i=FS.cwd();else{var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);i=r.path}t=PATH.join2(i,t)}return t},doStat:function(e,t,i){try{var r=e(t)}catch(e){if(e&&e.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(e.node)))return-ERRNO_CODES.ENOTDIR;throw e}return HEAP32[i>>2]=r.dev,HEAP32[i+4>>2]=0,HEAP32[i+8>>2]=r.ino,HEAP32[i+12>>2]=r.mode,HEAP32[i+16>>2]=r.nlink,HEAP32[i+20>>2]=r.uid,HEAP32[i+24>>2]=r.gid,HEAP32[i+28>>2]=r.rdev,HEAP32[i+32>>2]=0,HEAP32[i+36>>2]=r.size,HEAP32[i+40>>2]=4096,HEAP32[i+44>>2]=r.blocks,HEAP32[i+48>>2]=r.atime.getTime()/1e3|0,HEAP32[i+52>>2]=0,HEAP32[i+56>>2]=r.mtime.getTime()/1e3|0,HEAP32[i+60>>2]=0,HEAP32[i+64>>2]=r.ctime.getTime()/1e3|0,HEAP32[i+68>>2]=0,HEAP32[i+72>>2]=r.ino,0},doMsync:function(e,t,i,r){var a=new Uint8Array(HEAPU8.subarray(e,e+i));FS.msync(t,a,0,i,r)},doMkdir:function(e,t){return e=PATH.normalize(e),"/"===e[e.length-1]&&(e=e.substr(0,e.length-1)),FS.mkdir(e,t,0),0},doMknod:function(e,t,i){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}return FS.mknod(e,t,i),0},doReadlink:function(e,t,i){if(i<=0)return-ERRNO_CODES.EINVAL;var r=FS.readlink(e);return r=r.slice(0,Math.max(0,i)),writeStringToMemory(r,t,!0),r.length},doAccess:function(e,t){if(-8&t)return-ERRNO_CODES.EINVAL;var i,r=FS.lookupPath(e,{follow:!0});i=r.node;var a="";return 4&t&&(a+="r"),2&t&&(a+="w"),1&t&&(a+="x"),a&&FS.nodePermissions(i,a)?-ERRNO_CODES.EACCES:0},doDup:function(e,t,i){var r=FS.getStream(i);return r&&FS.close(r),FS.open(e,t,0,i,i).fd},doReadv:function(e,t,i,r){for(var a=0,s=0;s<i;s++){var o=HEAP32[t+8*s>>2],n=HEAP32[t+(8*s+4)>>2],l=FS.read(e,HEAP8,o,n,r);if(l<0)return-1;if(a+=l,l<n)break}return a},doWritev:function(e,t,i,r){for(var a=0,s=0;s<i;s++){var o=HEAP32[t+8*s>>2],n=HEAP32[t+(8*s+4)>>2],l=FS.write(e,HEAP8,o,n,r);if(l<0)return-1;a+=l}return a},varargs:0,get:function(e){SYSCALLS.varargs+=4;var t=HEAP32[SYSCALLS.varargs-4>>2];return t},getStr:function(){var e=Pointer_stringify(SYSCALLS.get());return e},getStreamFromFD:function(){var e=FS.getStream(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketAddress:function(e){var t=SYSCALLS.get(),i=SYSCALLS.get();if(e&&0===t)return null;var r=__read_sockaddr(t,i);if(r.errno)throw new FS.ErrnoError(r.errno);return r.addr=DNS.lookup_addr(r.addr)||r.addr,r},get64:function(){var e=SYSCALLS.get(),t=SYSCALLS.get();return assert(e>=0?0===t:-1===t),e},getZero:function(){assert(0===SYSCALLS.get())}};function ___syscall5(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStr(),r=SYSCALLS.get(),a=SYSCALLS.get(),s=FS.open(i,r,a);return s.fd}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function _emscripten_memcpy_big(e,t,i){return HEAPU8.set(HEAPU8.subarray(t,t+i),e),e}function ___syscall6(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStreamFromFD();return FS.close(i),0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}Module["_memcpy"]=_memcpy;var _cos=Math_cos;function _sbrk(e){var t=_sbrk;t.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),t.called=!0,assert(Runtime.dynamicAlloc),t.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var i=DYNAMICTOP;if(0!=e){var r=t.alloc(e);if(!r)return-1>>>0}return i}var _BItoD=!0;function ___syscall54(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get();switch(r){case 21505:return i.tty?0:-ERRNO_CODES.ENOTTY;case 21506:return i.tty?0:-ERRNO_CODES.ENOTTY;case 21519:if(!i.tty)return-ERRNO_CODES.ENOTTY;var a=SYSCALLS.get();return HEAP32[a>>2]=0,0;case 21520:return i.tty?-ERRNO_CODES.EINVAL:-ERRNO_CODES.ENOTTY;case 21531:a=SYSCALLS.get();return FS.ioctl(i,r,a);default:abort("bad ioctl syscall "+r)}}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}var _ceilf=Math_ceil;function __embind_register_memory_view(e,t,i){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=r[t];function s(e){e>>=2;var t=HEAPU32,i=t[e],r=t[e+1];return new a(t["buffer"],r,i)}i=readLatin1String(i),registerType(e,{name:i,fromWireType:s,argPackAdvance:8,readValueFromPointer:s},{ignoreDuplicateRegistrations:!0})}function _time(e){var t=Date.now()/1e3|0;return e&&(HEAP32[e>>2]=t),t}function _pthread_self(){return 0}function ___syscall140(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get(),a=SYSCALLS.get(),s=SYSCALLS.get(),o=SYSCALLS.get(),n=a;return assert(0===r),FS.llseek(i,n,o),HEAP32[s>>2]=i.position,i.getdents&&0===n&&0===o&&(i.getdents=null),0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall146(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get(),a=SYSCALLS.get();return SYSCALLS.doWritev(i,r,a)}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall221(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get();switch(r){case 0:var a,s=SYSCALLS.get();return s<0?-ERRNO_CODES.EINVAL:(a=FS.open(i.path,i.flags,0,s),a.fd);case 1:case 2:return 0;case 3:return i.flags;case 4:s=SYSCALLS.get();return i.flags|=s,0;case 12:case 12:s=SYSCALLS.get();var o=0;return HEAP16[s+o>>1]=2,0;case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-ERRNO_CODES.EINVAL;case 9:return ___setErrNo(ERRNO_CODES.EINVAL),-1;default:return-ERRNO_CODES.EINVAL}}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall145(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get(),a=SYSCALLS.get();return SYSCALLS.doReadv(i,r,a)}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}var ___dso_handle=allocate(1,"i32*",ALLOC_STATIC);if(embind_init_charCodes(),BindingError=Module["BindingError"]=extendError(Error,"BindingError"),InternalError=Module["InternalError"]=extendError(Error,"InternalError"),init_emval(),UnboundTypeError=Module["UnboundTypeError"]=extendError(Error,"UnboundTypeError"),FS.staticInit(),__ATINIT__.unshift(function(){Module["noFSInit"]||FS.init.initialized||FS.init()}),__ATMAIN__.push(function(){FS.ignorePermissions=!1}),__ATEXIT__.push(function(){FS.quit()}),Module["FS_createFolder"]=FS.createFolder,Module["FS_createPath"]=FS.createPath,Module["FS_createDataFile"]=FS.createDataFile,Module["FS_createPreloadedFile"]=FS.createPreloadedFile,Module["FS_createLazyFile"]=FS.createLazyFile,Module["FS_createLink"]=FS.createLink,Module["FS_createDevice"]=FS.createDevice,Module["FS_unlink"]=FS.unlink,__ATINIT__.unshift(function(){TTY.init()}),__ATEXIT__.push(function(){TTY.shutdown()}),ENVIRONMENT_IS_NODE){var fs=__webpack_require__("3e8f"),NODEJS_PATH=__webpack_require__("df7c");NODEFS.staticInit()}STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(DYNAMIC_BASE<TOTAL_MEMORY,"TOTAL_MEMORY not big enough for stack");var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_DYNAMIC);function invoke_iiii(e,t,i,r){try{return Module["dynCall_iiii"](e,t,i,r)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}function invoke_viiiii(e,t,i,r,a,s){try{Module["dynCall_viiiii"](e,t,i,r,a,s)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}function invoke_dii(e,t,i){try{return Module["dynCall_dii"](e,t,i)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}function invoke_vid(e,t,i){try{Module["dynCall_vid"](e,t,i)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}function invoke_di(e,t){try{return Module["dynCall_di"](e,t)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}function invoke_i(e){try{return Module["dynCall_i"](e)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}function invoke_vi(e,t){try{Module["dynCall_vi"](e,t)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}function invoke_vii(e,t,i){try{Module["dynCall_vii"](e,t,i)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}function invoke_ii(e,t){try{return Module["dynCall_ii"](e,t)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}function invoke_viii(e,t,i,r){try{Module["dynCall_viii"](e,t,i,r)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}function invoke_v(e){try{Module["dynCall_v"](e)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}function invoke_viid(e,t,i,r){try{Module["dynCall_viid"](e,t,i,r)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}function invoke_iiiii(e,t,i,r,a){try{return Module["dynCall_iiiii"](e,t,i,r,a)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}function invoke_viiiiii(e,t,i,r,a,s,o){try{Module["dynCall_viiiiii"](e,t,i,r,a,s,o)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}function invoke_iii(e,t,i){try{return Module["dynCall_iii"](e,t,i)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}function invoke_viiii(e,t,i,r,a){try{Module["dynCall_viiii"](e,t,i,r,a)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm["setThrew"](1,0)}}Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort:abort,assert:assert,invoke_iiii:invoke_iiii,invoke_viiiii:invoke_viiiii,invoke_dii:invoke_dii,invoke_vid:invoke_vid,invoke_di:invoke_di,invoke_i:invoke_i,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_ii:invoke_ii,invoke_viii:invoke_viii,invoke_v:invoke_v,invoke_viid:invoke_viid,invoke_iiiii:invoke_iiiii,invoke_viiiiii:invoke_viiiiii,invoke_iii:invoke_iii,invoke_viiii:invoke_viiii,_fabs:_fabs,___syscall221:___syscall221,_sin:_sin,floatReadValueFromPointer:floatReadValueFromPointer,simpleReadValueFromPointer:simpleReadValueFromPointer,integerReadValueFromPointer:integerReadValueFromPointer,__embind_register_memory_view:__embind_register_memory_view,throwInternalError:throwInternalError,get_first_emval:get_first_emval,_abort:_abort,count_emval_handles:count_emval_handles,_pthread_cleanup_push:_pthread_cleanup_push,__embind_register_integer:__embind_register_integer,extendError:extendError,___assert_fail:___assert_fail,init_emval:init_emval,__embind_register_void:__embind_register_void,___cxa_find_matching_catch:___cxa_find_matching_catch,_ceilf:_ceilf,getShiftFromSize:getShiftFromSize,__embind_register_function:__embind_register_function,embind_init_charCodes:embind_init_charCodes,_emscripten_asm_const_33:_emscripten_asm_const_33,throwBindingError:throwBindingError,___setErrNo:___setErrNo,__emval_register:__emval_register,_sbrk:_sbrk,readLatin1String:readLatin1String,___cxa_allocate_exception:___cxa_allocate_exception,_emscripten_memcpy_big:_emscripten_memcpy_big,__embind_register_bool:__embind_register_bool,___resumeException:___resumeException,__ZSt18uncaught_exceptionv:__ZSt18uncaught_exceptionv,_sysconf:_sysconf,_embind_repr:_embind_repr,__embind_register_std_wstring:__embind_register_std_wstring,createNamedFunction:createNamedFunction,__embind_register_emval:__embind_register_emval,_cos:_cos,throwUnboundTypeError:throwUnboundTypeError,_pthread_self:_pthread_self,craftInvokerFunction:craftInvokerFunction,__emval_decref:__emval_decref,_sqrt:_sqrt,__embind_register_float:__embind_register_float,makeLegalFunctionName:makeLegalFunctionName,___syscall54:___syscall54,___unlock:___unlock,heap32VectorToArray:heap32VectorToArray,_pthread_cleanup_pop:_pthread_cleanup_pop,whenDependentTypesAreResolved:whenDependentTypesAreResolved,_exit:_exit,__embind_register_std_string:__embind_register_std_string,new_:new_,___cxa_atexit:___cxa_atexit,registerType:registerType,___cxa_throw:___cxa_throw,__exit:__exit,___lock:___lock,___syscall6:___syscall6,___syscall5:___syscall5,ensureOverloadTable:ensureOverloadTable,__embind_register_constant:__embind_register_constant,_time:_time,requireFunction:requireFunction,runDestructors:runDestructors,getTypeName:getTypeName,_atexit:_atexit,___syscall140:___syscall140,exposePublicSymbol:exposePublicSymbol,_emscripten_asm_const_5:_emscripten_asm_const_5,_emscripten_asm_const_4:_emscripten_asm_const_4,replacePublicSymbol:replacePublicSymbol,___syscall145:___syscall145,___syscall146:___syscall146,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,tempDoublePtr:tempDoublePtr,ABORT:ABORT,cttz_i8:cttz_i8,___dso_handle:___dso_handle};var asm=function(e,t,i){"use asm";var r=new e.Int8Array(i);var a=new e.Int16Array(i);var s=new e.Int32Array(i);var o=new e.Uint8Array(i);var n=new e.Uint16Array(i);var l=new e.Uint32Array(i);var u=new e.Float32Array(i);var c=new e.Float64Array(i);var d=t.STACKTOP|0;var f=t.STACK_MAX|0;var h=t.tempDoublePtr|0;var p=t.ABORT|0;var m=t.cttz_i8|0;var b=t.___dso_handle|0;var g=0;var v=0;var w=0;var k=0;var y=e.NaN,_=e.Infinity;var S=0,E=0,C=0,T=0,A=0.0,M=0,x=0,R=0,q=0.0;var P=0;var I=0;var F=0;var O=0;var N=0;var D=0;var $=0;var L=0;var H=0;var j=0;var z=e.Math.floor;var B=e.Math.abs;var U=e.Math.sqrt;var W=e.Math.pow;var V=e.Math.cos;var Y=e.Math.sin;var Q=e.Math.tan;var G=e.Math.acos;var K=e.Math.asin;var X=e.Math.atan;var J=e.Math.atan2;var Z=e.Math.exp;var ee=e.Math.log;var te=e.Math.ceil;var ie=e.Math.imul;var re=e.Math.min;var ae=e.Math.clz32;var se=t.abort;var oe=t.assert;var ne=t.invoke_iiii;var le=t.invoke_viiiii;var ue=t.invoke_dii;var ce=t.invoke_vid;var de=t.invoke_di;var fe=t.invoke_i;var he=t.invoke_vi;var pe=t.invoke_vii;var me=t.invoke_ii;var be=t.invoke_viii;var ge=t.invoke_v;var ve=t.invoke_viid;var we=t.invoke_iiiii;var ke=t.invoke_viiiiii;var ye=t.invoke_iii;var _e=t.invoke_viiii;var Se=t._fabs;var Ee=t.___syscall221;var Ce=t._sin;var Te=t.floatReadValueFromPointer;var Ae=t.simpleReadValueFromPointer;var Me=t.integerReadValueFromPointer;var xe=t.__embind_register_memory_view;var Re=t.throwInternalError;var qe=t.get_first_emval;var Pe=t._abort;var Ie=t.count_emval_handles;var Fe=t._pthread_cleanup_push;var Oe=t.__embind_register_integer;var Ne=t.extendError;var De=t.___assert_fail;var $e=t.init_emval;var Le=t.__embind_register_void;var He=t.___cxa_find_matching_catch;var je=t._ceilf;var ze=t.getShiftFromSize;var Be=t.__embind_register_function;var Ue=t.embind_init_charCodes;var We=t._emscripten_asm_const_33;var Ve=t.throwBindingError;var Ye=t.___setErrNo;var Qe=t.__emval_register;var Ge=t._sbrk;var Ke=t.readLatin1String;var Xe=t.___cxa_allocate_exception;var Je=t._emscripten_memcpy_big;var Ze=t.__embind_register_bool;var et=t.___resumeException;var tt=t.__ZSt18uncaught_exceptionv;var it=t._sysconf;var rt=t._embind_repr;var at=t.__embind_register_std_wstring;var st=t.createNamedFunction;var ot=t.__embind_register_emval;var nt=t._cos;var lt=t.throwUnboundTypeError;var ut=t._pthread_self;var ct=t.craftInvokerFunction;var dt=t.__emval_decref;var ft=t._sqrt;var ht=t.__embind_register_float;var pt=t.makeLegalFunctionName;var mt=t.___syscall54;var bt=t.___unlock;var gt=t.heap32VectorToArray;var vt=t._pthread_cleanup_pop;var wt=t.whenDependentTypesAreResolved;var kt=t._exit;var yt=t.__embind_register_std_string;var _t=t.new_;var St=t.___cxa_atexit;var Et=t.registerType;var Ct=t.___cxa_throw;var Tt=t.__exit;var At=t.___lock;var Mt=t.___syscall6;var xt=t.___syscall5;var Rt=t.ensureOverloadTable;var qt=t.__embind_register_constant;var Pt=t._time;var It=t.requireFunction;var Ft=t.runDestructors;var Ot=t.getTypeName;var Nt=t._atexit;var Dt=t.___syscall140;var $t=t.exposePublicSymbol;var Lt=t._emscripten_asm_const_5;var Ht=t._emscripten_asm_const_4;var jt=t.replacePublicSymbol;var zt=t.___syscall145;var Bt=t.___syscall146;var Ut=0.0;function Wt(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}C=x+-1|0;if((i|0)>1){u=0;f=p;h=p+(C<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{f=f+(x<<1)|0;h=h+(x<<1)|0}}}h=l+1179664|0;f=x+1|0;_=0-x|0;k=1-x|0;y=~x;w=t+4|0;e:do{if((T|0)>1){S=(C|0)>1;u=(s[l+4>>2]|0)+f|0;E=1;i=e+((t<<1)+2)|0;e=p+(f<<1)|0;f=0;t:while(1){if(S){v=1;g=i;b=f;while(1){do{if((o[g>>0]|0|0)>(n|0)){a[e>>1]=0;r[u>>0]=0;f=b}else{r[u>>0]=-1;f=a[e+(_<<1)>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}t=a[e+(k<<1)>>1]|0;p=t<<16>>16;f=a[e+(y<<1)>>1]|0;m=f<<16>>16;i=f<<16>>16>0;if(t<<16>>16<=0){if(i){a[e>>1]=f;f=m*7|0;i=l+1310736+(f+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=l+1310736+(f+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+v;i=l+1310736+(f+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+E;i=l+1310736+(f+-3<<2)|0;if((s[i>>2]|0)<(v|0))s[i>>2]=v;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}f=a[e+-2>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;f=l+1310736+(f+-3<<2)|0;if((s[f>>2]|0)>=(v|0)){f=b;break}s[f>>2]=v;f=b;break}else{f=b+1|0;if((b|0)>32767)break t;a[e>>1]=f;s[l+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;s[l+1310736+(b<<2)>>2]=1;s[l+1310736+(b+1<<2)>>2]=v;s[l+1310736+(b+2<<2)>>2]=E;s[l+1310736+(b+3<<2)>>2]=v;s[l+1310736+(b+4<<2)>>2]=v;s[l+1310736+(b+5<<2)>>2]=E;s[l+1310736+(b+6<<2)>>2]=E;break}}if(i){f=s[l+1179664+(p+-1<<2)>>2]|0;p=s[l+1179664+(m+-1<<2)>>2]|0;if((f|0)>(p|0)){a[e>>1]=p;if((b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(f|0))s[t>>2]=p;i=i+1|0;if((i|0)>=(b|0)){f=p;break}else t=t+4|0}}else f=p}else{a[e>>1]=f;if((f|0)<(p|0)&(b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(p|0))s[t>>2]=f;i=i+1|0;if((i|0)>=(b|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}i=a[e+-2>>1]|0;if(i<<16>>16<=0){a[e>>1]=t;f=p*7|0;i=l+1310736+(f+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=l+1310736+(f+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+v;i=l+1310736+(f+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+E;i=l+1310736+(f+-4<<2)|0;if((s[i>>2]|0)>(v|0))s[i>>2]=v;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}f=s[l+1179664+(p+-1<<2)>>2]|0;p=s[l+1179664+((i<<16>>16)+-1<<2)>>2]|0;if((f|0)>(p|0)){a[e>>1]=p;if((b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(f|0))s[t>>2]=p;i=i+1|0;if((i|0)>=(b|0)){f=p;break}else t=t+4|0}}else f=p}else{a[e>>1]=f;if((f|0)<(p|0)&(b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(p|0))s[t>>2]=f;i=i+1|0;if((i|0)>=(b|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;f=l+1310736+(f+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+E;f=b}}while(0);v=v+1|0;i=g+2|0;e=e+2|0;u=u+1|0;if((v|0)>=(C|0))break;else{g=i;b=f}}}E=E+1|0;if((E|0)>=(T|0)){p=f;M=52;break e}else{u=u+2|0;i=i+w|0;e=e+4|0}}eo(3,3904,A);u=-1}else{p=0;M=52}}while(0);if((M|0)==52){e=l+12|0;if((p|0)<1)f=1;else{i=1;f=1;while(1){u=s[h>>2]|0;if((u|0)==(i|0)){u=f;f=f+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[h>>2]=u;if((i|0)<(p|0)){i=i+1|0;h=h+4|0}else break}}t=l+8|0;u=f+-1|0;s[t>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((f|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[t>>2]|0))}if((p|0)>0){e=0;do{h=(s[l+1179664+(e<<2)>>2]|0)+-1|0;i=e*7|0;u=l+12+(h<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(i<<2)>>2]|0);u=h<<1;f=l+655376+(u<<3)|0;c[f>>3]=+c[f>>3]+ +(s[l+1310736+(i+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(i+2<<2)>>2]|0);h=h<<2;u=l+131084+(h<<2)|0;f=s[l+1310736+(i+3<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;u=l+131084+((h|1)<<2)|0;f=s[l+1310736+(i+4<<2)>>2]|0;if((s[u>>2]|0)<(f|0))s[u>>2]=f;u=l+131084+((h|2)<<2)|0;f=s[l+1310736+(i+5<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;f=l+131084+((h|3)<<2)|0;u=s[l+1310736+(i+6<<2)>>2]|0;if((s[f>>2]|0)<(u|0))s[f>>2]=u;e=e+1|0}while((e|0)<(p|0))}if((s[t>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[t>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function Vt(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}C=x+-1|0;if((i|0)>1){u=0;f=p;h=p+(C<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{f=f+(x<<1)|0;h=h+(x<<1)|0}}}h=l+1179664|0;f=x+1|0;_=0-x|0;k=1-x|0;y=~x;w=(t<<1)+8|0;e:do{if((T|0)>1){S=(C|0)>1;u=(s[l+4>>2]|0)+f|0;E=1;i=e+((t<<2)+4)|0;e=p+(f<<1)|0;f=0;t:while(1){if(S){v=1;g=i;b=f;while(1){do{if((o[g+1>>0]|0|0)>(n|0)){a[e>>1]=0;r[u>>0]=0;f=b}else{r[u>>0]=-1;f=a[e+(_<<1)>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}t=a[e+(k<<1)>>1]|0;p=t<<16>>16;f=a[e+(y<<1)>>1]|0;m=f<<16>>16;i=f<<16>>16>0;if(t<<16>>16<=0){if(i){a[e>>1]=f;f=m*7|0;i=l+1310736+(f+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=l+1310736+(f+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+v;i=l+1310736+(f+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+E;i=l+1310736+(f+-3<<2)|0;if((s[i>>2]|0)<(v|0))s[i>>2]=v;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}f=a[e+-2>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;f=l+1310736+(f+-3<<2)|0;if((s[f>>2]|0)>=(v|0)){f=b;break}s[f>>2]=v;f=b;break}else{f=b+1|0;if((b|0)>32767)break t;a[e>>1]=f;s[l+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;s[l+1310736+(b<<2)>>2]=1;s[l+1310736+(b+1<<2)>>2]=v;s[l+1310736+(b+2<<2)>>2]=E;s[l+1310736+(b+3<<2)>>2]=v;s[l+1310736+(b+4<<2)>>2]=v;s[l+1310736+(b+5<<2)>>2]=E;s[l+1310736+(b+6<<2)>>2]=E;break}}if(i){f=s[l+1179664+(p+-1<<2)>>2]|0;p=s[l+1179664+(m+-1<<2)>>2]|0;if((f|0)>(p|0)){a[e>>1]=p;if((b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(f|0))s[t>>2]=p;i=i+1|0;if((i|0)>=(b|0)){f=p;break}else t=t+4|0}}else f=p}else{a[e>>1]=f;if((f|0)<(p|0)&(b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(p|0))s[t>>2]=f;i=i+1|0;if((i|0)>=(b|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}i=a[e+-2>>1]|0;if(i<<16>>16<=0){a[e>>1]=t;f=p*7|0;i=l+1310736+(f+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=l+1310736+(f+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+v;i=l+1310736+(f+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+E;i=l+1310736+(f+-4<<2)|0;if((s[i>>2]|0)>(v|0))s[i>>2]=v;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}f=s[l+1179664+(p+-1<<2)>>2]|0;p=s[l+1179664+((i<<16>>16)+-1<<2)>>2]|0;if((f|0)>(p|0)){a[e>>1]=p;if((b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(f|0))s[t>>2]=p;i=i+1|0;if((i|0)>=(b|0)){f=p;break}else t=t+4|0}}else f=p}else{a[e>>1]=f;if((f|0)<(p|0)&(b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(p|0))s[t>>2]=f;i=i+1|0;if((i|0)>=(b|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;f=l+1310736+(f+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+E;f=b}}while(0);v=v+1|0;i=g+4|0;e=e+2|0;u=u+1|0;if((v|0)>=(C|0))break;else{g=i;b=f}}}E=E+1|0;if((E|0)>=(T|0)){p=f;M=52;break e}else{u=u+2|0;i=i+w|0;e=e+4|0}}eo(3,3904,A);u=-1}else{p=0;M=52}}while(0);if((M|0)==52){e=l+12|0;if((p|0)<1)f=1;else{i=1;f=1;while(1){u=s[h>>2]|0;if((u|0)==(i|0)){u=f;f=f+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[h>>2]=u;if((i|0)<(p|0)){i=i+1|0;h=h+4|0}else break}}t=l+8|0;u=f+-1|0;s[t>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((f|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[t>>2]|0))}if((p|0)>0){e=0;do{h=(s[l+1179664+(e<<2)>>2]|0)+-1|0;i=e*7|0;u=l+12+(h<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(i<<2)>>2]|0);u=h<<1;f=l+655376+(u<<3)|0;c[f>>3]=+c[f>>3]+ +(s[l+1310736+(i+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(i+2<<2)>>2]|0);h=h<<2;u=l+131084+(h<<2)|0;f=s[l+1310736+(i+3<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;u=l+131084+((h|1)<<2)|0;f=s[l+1310736+(i+4<<2)>>2]|0;if((s[u>>2]|0)<(f|0))s[u>>2]=f;u=l+131084+((h|2)<<2)|0;f=s[l+1310736+(i+5<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;f=l+131084+((h|3)<<2)|0;u=s[l+1310736+(i+6<<2)>>2]|0;if((s[f>>2]|0)<(u|0))s[f>>2]=u;e=e+1|0}while((e|0)<(p|0))}if((s[t>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[t>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function Yt(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}C=x+-1|0;if((i|0)>1){u=0;f=p;h=p+(C<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{f=f+(x<<1)|0;h=h+(x<<1)|0}}}h=l+1179664|0;f=x+1|0;_=0-x|0;k=1-x|0;y=~x;w=(t<<1)+8|0;e:do{if((T|0)>1){S=(C|0)>1;u=(s[l+4>>2]|0)+f|0;E=1;i=e+((t<<2)+4)|0;e=p+(f<<1)|0;f=0;t:while(1){if(S){v=1;g=i;b=f;while(1){do{if((o[g>>0]|0|0)>(n|0)){a[e>>1]=0;r[u>>0]=0;f=b}else{r[u>>0]=-1;f=a[e+(_<<1)>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}t=a[e+(k<<1)>>1]|0;p=t<<16>>16;f=a[e+(y<<1)>>1]|0;m=f<<16>>16;i=f<<16>>16>0;if(t<<16>>16<=0){if(i){a[e>>1]=f;f=m*7|0;i=l+1310736+(f+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=l+1310736+(f+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+v;i=l+1310736+(f+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+E;i=l+1310736+(f+-3<<2)|0;if((s[i>>2]|0)<(v|0))s[i>>2]=v;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}f=a[e+-2>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;f=l+1310736+(f+-3<<2)|0;if((s[f>>2]|0)>=(v|0)){f=b;break}s[f>>2]=v;f=b;break}else{f=b+1|0;if((b|0)>32767)break t;a[e>>1]=f;s[l+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;s[l+1310736+(b<<2)>>2]=1;s[l+1310736+(b+1<<2)>>2]=v;s[l+1310736+(b+2<<2)>>2]=E;s[l+1310736+(b+3<<2)>>2]=v;s[l+1310736+(b+4<<2)>>2]=v;s[l+1310736+(b+5<<2)>>2]=E;s[l+1310736+(b+6<<2)>>2]=E;break}}if(i){f=s[l+1179664+(p+-1<<2)>>2]|0;p=s[l+1179664+(m+-1<<2)>>2]|0;if((f|0)>(p|0)){a[e>>1]=p;if((b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(f|0))s[t>>2]=p;i=i+1|0;if((i|0)>=(b|0)){f=p;break}else t=t+4|0}}else f=p}else{a[e>>1]=f;if((f|0)<(p|0)&(b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(p|0))s[t>>2]=f;i=i+1|0;if((i|0)>=(b|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}i=a[e+-2>>1]|0;if(i<<16>>16<=0){a[e>>1]=t;f=p*7|0;i=l+1310736+(f+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=l+1310736+(f+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+v;i=l+1310736+(f+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+E;i=l+1310736+(f+-4<<2)|0;if((s[i>>2]|0)>(v|0))s[i>>2]=v;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}f=s[l+1179664+(p+-1<<2)>>2]|0;p=s[l+1179664+((i<<16>>16)+-1<<2)>>2]|0;if((f|0)>(p|0)){a[e>>1]=p;if((b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(f|0))s[t>>2]=p;i=i+1|0;if((i|0)>=(b|0)){f=p;break}else t=t+4|0}}else f=p}else{a[e>>1]=f;if((f|0)<(p|0)&(b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(p|0))s[t>>2]=f;i=i+1|0;if((i|0)>=(b|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;f=l+1310736+(f+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+E;f=b}}while(0);v=v+1|0;i=g+4|0;e=e+2|0;u=u+1|0;if((v|0)>=(C|0))break;else{g=i;b=f}}}E=E+1|0;if((E|0)>=(T|0)){p=f;M=52;break e}else{u=u+2|0;i=i+w|0;e=e+4|0}}eo(3,3904,A);u=-1}else{p=0;M=52}}while(0);if((M|0)==52){e=l+12|0;if((p|0)<1)f=1;else{i=1;f=1;while(1){u=s[h>>2]|0;if((u|0)==(i|0)){u=f;f=f+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[h>>2]=u;if((i|0)<(p|0)){i=i+1|0;h=h+4|0}else break}}t=l+8|0;u=f+-1|0;s[t>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((f|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[t>>2]|0))}if((p|0)>0){e=0;do{h=(s[l+1179664+(e<<2)>>2]|0)+-1|0;i=e*7|0;u=l+12+(h<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(i<<2)>>2]|0);u=h<<1;f=l+655376+(u<<3)|0;c[f>>3]=+c[f>>3]+ +(s[l+1310736+(i+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(i+2<<2)>>2]|0);h=h<<2;u=l+131084+(h<<2)|0;f=s[l+1310736+(i+3<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;u=l+131084+((h|1)<<2)|0;f=s[l+1310736+(i+4<<2)>>2]|0;if((s[u>>2]|0)<(f|0))s[u>>2]=f;u=l+131084+((h|2)<<2)|0;f=s[l+1310736+(i+5<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;f=l+131084+((h|3)<<2)|0;u=s[l+1310736+(i+6<<2)>>2]|0;if((s[f>>2]|0)<(u|0))s[f>>2]=u;e=e+1|0}while((e|0)<(p|0))}if((s[t>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[t>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function Qt(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;m=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=m;h=m+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=n*3|0;C=t+-1|0;if((i|0)>0){u=0;n=m;f=m+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{n=n+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;u=t+1|0;_=0-t|0;k=1-t|0;y=~t;e:do{if((A|0)>1){S=(C|0)>1;p=(s[l+4>>2]|0)+u|0;E=1;h=e+(u*3|0)|0;e=m+(u<<1)|0;n=0;t:while(1){if(S){u=p;w=1;v=h;g=n;while(1){do{if(((o[v+1>>0]|0)+(o[v>>0]|0)+(o[v+2>>0]|0)|0)>(T|0)){a[e>>1]=0;r[u>>0]=0;n=g}else{r[u>>0]=-1;n=a[e+(_<<1)>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}p=a[e+(k<<1)>>1]|0;m=p<<16>>16;n=a[e+(y<<1)>>1]|0;b=n<<16>>16;h=n<<16>>16>0;if(p<<16>>16<=0){if(h){a[e>>1]=n;n=b*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=a[e+-2>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(w|0)){n=g;break}s[n>>2]=w;n=g;break}else{n=g+1|0;if((g|0)>32767)break t;a[e>>1]=n;s[l+1179664+(g<<2)>>2]=n<<16>>16;g=g*7|0;s[l+1310736+(g<<2)>>2]=1;s[l+1310736+(g+1<<2)>>2]=w;s[l+1310736+(g+2<<2)>>2]=E;s[l+1310736+(g+3<<2)>>2]=w;s[l+1310736+(g+4<<2)>>2]=w;s[l+1310736+(g+5<<2)>>2]=E;s[l+1310736+(g+6<<2)>>2]=E;break}}if(h){n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+(b+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=p;n=m*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+E;n=g}}while(0);w=w+1|0;h=v+3|0;e=e+2|0;u=u+1|0;if((w|0)>=(C|0))break;else{v=h;g=n}}}else u=p;E=E+1|0;if((E|0)>=(A|0)){m=n;x=52;break e}else{p=u+2|0;h=h+6|0;e=e+4|0}}eo(3,3904,M);u=-1}else{m=0;x=52}}while(0);if((x|0)==52){e=l+12|0;if((m|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(m|0)){h=h+1|0;f=f+4|0}else break}}p=l+8|0;u=n+-1|0;s[p>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[p>>2]|0))}if((m|0)>0){e=0;do{f=(s[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;e=e+1|0}while((e|0)<(m|0))}if((s[p>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[p>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function Gt(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;m=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=m;h=m+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=n*3|0;C=t+-1|0;if((i|0)>0){u=0;n=m;f=m+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{n=n+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;u=t+1|0;_=0-t|0;k=1-t|0;y=~t;e:do{if((A|0)>1){S=(C|0)>1;p=(s[l+4>>2]|0)+u|0;E=1;h=e+(u<<1)|0;e=m+(u<<1)|0;n=0;t:while(1){if(S){u=p;w=1;v=h;g=n;while(1){m=o[v>>0]|0;b=o[v+1>>0]|0;do{if(((m&248)+10+(m<<5&224)+(b>>>3&28)+(b<<3&248)|0)>(T|0)){a[e>>1]=0;r[u>>0]=0;n=g}else{r[u>>0]=-1;n=a[e+(_<<1)>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}p=a[e+(k<<1)>>1]|0;m=p<<16>>16;n=a[e+(y<<1)>>1]|0;b=n<<16>>16;h=n<<16>>16>0;if(p<<16>>16<=0){if(h){a[e>>1]=n;n=b*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=a[e+-2>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(w|0)){n=g;break}s[n>>2]=w;n=g;break}else{n=g+1|0;if((g|0)>32767)break t;a[e>>1]=n;s[l+1179664+(g<<2)>>2]=n<<16>>16;g=g*7|0;s[l+1310736+(g<<2)>>2]=1;s[l+1310736+(g+1<<2)>>2]=w;s[l+1310736+(g+2<<2)>>2]=E;s[l+1310736+(g+3<<2)>>2]=w;s[l+1310736+(g+4<<2)>>2]=w;s[l+1310736+(g+5<<2)>>2]=E;s[l+1310736+(g+6<<2)>>2]=E;break}}if(h){n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+(b+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=p;n=m*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+E;n=g}}while(0);w=w+1|0;h=v+2|0;e=e+2|0;u=u+1|0;if((w|0)>=(C|0))break;else{v=h;g=n}}}else u=p;E=E+1|0;if((E|0)>=(A|0)){m=n;x=52;break e}else{p=u+2|0;h=h+4|0;e=e+4|0}}eo(3,3904,M);u=-1}else{m=0;x=52}}while(0);if((x|0)==52){e=l+12|0;if((m|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(m|0)){h=h+1|0;f=f+4|0}else break}}p=l+8|0;u=n+-1|0;s[p>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[p>>2]|0))}if((m|0)>0){e=0;do{f=(s[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;e=e+1|0}while((e|0)<(m|0))}if((s[p>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[p>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function Kt(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;m=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=m;h=m+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=n*3|0;C=t+-1|0;if((i|0)>0){u=0;n=m;f=m+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{n=n+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;u=t+1|0;_=0-t|0;k=1-t|0;y=~t;e:do{if((A|0)>1){S=(C|0)>1;p=(s[l+4>>2]|0)+u|0;E=1;h=e+(u<<2)|0;e=m+(u<<1)|0;n=0;t:while(1){if(S){u=p;w=1;v=h;g=n;while(1){do{if(((o[v+1>>0]|0)+(o[v>>0]|0)+(o[v+2>>0]|0)|0)>(T|0)){a[e>>1]=0;r[u>>0]=0;n=g}else{r[u>>0]=-1;n=a[e+(_<<1)>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}p=a[e+(k<<1)>>1]|0;m=p<<16>>16;n=a[e+(y<<1)>>1]|0;b=n<<16>>16;h=n<<16>>16>0;if(p<<16>>16<=0){if(h){a[e>>1]=n;n=b*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=a[e+-2>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(w|0)){n=g;break}s[n>>2]=w;n=g;break}else{n=g+1|0;if((g|0)>32767)break t;a[e>>1]=n;s[l+1179664+(g<<2)>>2]=n<<16>>16;g=g*7|0;s[l+1310736+(g<<2)>>2]=1;s[l+1310736+(g+1<<2)>>2]=w;s[l+1310736+(g+2<<2)>>2]=E;s[l+1310736+(g+3<<2)>>2]=w;s[l+1310736+(g+4<<2)>>2]=w;s[l+1310736+(g+5<<2)>>2]=E;s[l+1310736+(g+6<<2)>>2]=E;break}}if(h){n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+(b+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=p;n=m*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+E;n=g}}while(0);w=w+1|0;h=v+4|0;e=e+2|0;u=u+1|0;if((w|0)>=(C|0))break;else{v=h;g=n}}}else u=p;E=E+1|0;if((E|0)>=(A|0)){m=n;x=52;break e}else{p=u+2|0;h=h+8|0;e=e+4|0}}eo(3,3904,M);u=-1}else{m=0;x=52}}while(0);if((x|0)==52){e=l+12|0;if((m|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(m|0)){h=h+1|0;f=f+4|0}else break}}p=l+8|0;u=n+-1|0;s[p>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[p>>2]|0))}if((m|0)>0){e=0;do{f=(s[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;e=e+1|0}while((e|0)<(m|0))}if((s[p>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[p>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function Xt(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;m=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=m;h=m+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=n*3|0;C=t+-1|0;if((i|0)>0){u=0;n=m;f=m+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{n=n+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;u=t+1|0;_=0-t|0;k=1-t|0;y=~t;e:do{if((A|0)>1){S=(C|0)>1;p=(s[l+4>>2]|0)+u|0;E=1;h=e+(u<<1)|0;e=m+(u<<1)|0;n=0;t:while(1){if(S){u=p;w=1;v=h;g=n;while(1){b=o[v>>0]|0;do{if(((b&240)+24+(b<<4&240)+((o[v+1>>0]|0)&240)|0)>(T|0)){a[e>>1]=0;r[u>>0]=0;n=g}else{r[u>>0]=-1;n=a[e+(_<<1)>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}p=a[e+(k<<1)>>1]|0;m=p<<16>>16;n=a[e+(y<<1)>>1]|0;b=n<<16>>16;h=n<<16>>16>0;if(p<<16>>16<=0){if(h){a[e>>1]=n;n=b*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=a[e+-2>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(w|0)){n=g;break}s[n>>2]=w;n=g;break}else{n=g+1|0;if((g|0)>32767)break t;a[e>>1]=n;s[l+1179664+(g<<2)>>2]=n<<16>>16;g=g*7|0;s[l+1310736+(g<<2)>>2]=1;s[l+1310736+(g+1<<2)>>2]=w;s[l+1310736+(g+2<<2)>>2]=E;s[l+1310736+(g+3<<2)>>2]=w;s[l+1310736+(g+4<<2)>>2]=w;s[l+1310736+(g+5<<2)>>2]=E;s[l+1310736+(g+6<<2)>>2]=E;break}}if(h){n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+(b+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=p;n=m*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+E;n=g}}while(0);w=w+1|0;h=v+2|0;e=e+2|0;u=u+1|0;if((w|0)>=(C|0))break;else{v=h;g=n}}}else u=p;E=E+1|0;if((E|0)>=(A|0)){m=n;x=52;break e}else{p=u+2|0;h=h+4|0;e=e+4|0}}eo(3,3904,M);u=-1}else{m=0;x=52}}while(0);if((x|0)==52){e=l+12|0;if((m|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(m|0)){h=h+1|0;f=f+4|0}else break}}p=l+8|0;u=n+-1|0;s[p>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[p>>2]|0))}if((m|0)>0){e=0;do{f=(s[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;e=e+1|0}while((e|0)<(m|0))}if((s[p>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[p>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function Jt(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;m=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=m;h=m+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=n*3|0;C=t+-1|0;if((i|0)>0){u=0;n=m;f=m+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{n=n+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;u=t+1|0;_=0-t|0;k=1-t|0;y=~t;e:do{if((A|0)>1){S=(C|0)>1;p=(s[l+4>>2]|0)+u|0;E=1;h=e+(u<<1)|0;e=m+(u<<1)|0;n=0;t:while(1){if(S){u=p;w=1;v=h;g=n;while(1){m=o[v>>0]|0;b=o[v+1>>0]|0;do{if(((m&248)+12+(m<<5&224)+(b>>>3&24)+(b<<2&248)|0)>(T|0)){a[e>>1]=0;r[u>>0]=0;n=g}else{r[u>>0]=-1;n=a[e+(_<<1)>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}p=a[e+(k<<1)>>1]|0;m=p<<16>>16;n=a[e+(y<<1)>>1]|0;b=n<<16>>16;h=n<<16>>16>0;if(p<<16>>16<=0){if(h){a[e>>1]=n;n=b*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=a[e+-2>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(w|0)){n=g;break}s[n>>2]=w;n=g;break}else{n=g+1|0;if((g|0)>32767)break t;a[e>>1]=n;s[l+1179664+(g<<2)>>2]=n<<16>>16;g=g*7|0;s[l+1310736+(g<<2)>>2]=1;s[l+1310736+(g+1<<2)>>2]=w;s[l+1310736+(g+2<<2)>>2]=E;s[l+1310736+(g+3<<2)>>2]=w;s[l+1310736+(g+4<<2)>>2]=w;s[l+1310736+(g+5<<2)>>2]=E;s[l+1310736+(g+6<<2)>>2]=E;break}}if(h){n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+(b+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=p;n=m*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+E;n=g}}while(0);w=w+1|0;h=v+2|0;e=e+2|0;u=u+1|0;if((w|0)>=(C|0))break;else{v=h;g=n}}}else u=p;E=E+1|0;if((E|0)>=(A|0)){m=n;x=52;break e}else{p=u+2|0;h=h+4|0;e=e+4|0}}eo(3,3904,M);u=-1}else{m=0;x=52}}while(0);if((x|0)==52){e=l+12|0;if((m|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(m|0)){h=h+1|0;f=f+4|0}else break}}p=l+8|0;u=n+-1|0;s[p>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[p>>2]|0))}if((m|0)>0){e=0;do{f=(s[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;e=e+1|0}while((e|0)<(m|0))}if((s[p>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[p>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function Zt(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;m=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=m;h=m+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=n*3|0;C=t+-1|0;if((i|0)>0){u=0;n=m;f=m+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{n=n+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;u=t+1|0;_=0-t|0;k=1-t|0;y=~t;e:do{if((A|0)>1){S=(C|0)>1;p=(s[l+4>>2]|0)+u|0;E=1;h=e+(u<<2)|0;e=m+(u<<1)|0;n=0;t:while(1){if(S){u=p;w=1;v=h;g=n;while(1){do{if(((o[v+2>>0]|0)+(o[v+1>>0]|0)+(o[v+3>>0]|0)|0)>(T|0)){a[e>>1]=0;r[u>>0]=0;n=g}else{r[u>>0]=-1;n=a[e+(_<<1)>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}p=a[e+(k<<1)>>1]|0;m=p<<16>>16;n=a[e+(y<<1)>>1]|0;b=n<<16>>16;h=n<<16>>16>0;if(p<<16>>16<=0){if(h){a[e>>1]=n;n=b*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=a[e+-2>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(w|0)){n=g;break}s[n>>2]=w;n=g;break}else{n=g+1|0;if((g|0)>32767)break t;a[e>>1]=n;s[l+1179664+(g<<2)>>2]=n<<16>>16;g=g*7|0;s[l+1310736+(g<<2)>>2]=1;s[l+1310736+(g+1<<2)>>2]=w;s[l+1310736+(g+2<<2)>>2]=E;s[l+1310736+(g+3<<2)>>2]=w;s[l+1310736+(g+4<<2)>>2]=w;s[l+1310736+(g+5<<2)>>2]=E;s[l+1310736+(g+6<<2)>>2]=E;break}}if(h){n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+(b+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=p;n=m*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+E;n=g}}while(0);w=w+1|0;h=v+4|0;e=e+2|0;u=u+1|0;if((w|0)>=(C|0))break;else{v=h;g=n}}}else u=p;E=E+1|0;if((E|0)>=(A|0)){m=n;x=52;break e}else{p=u+2|0;h=h+8|0;e=e+4|0}}eo(3,3904,M);u=-1}else{m=0;x=52}}while(0);if((x|0)==52){e=l+12|0;if((m|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(m|0)){h=h+1|0;f=f+4|0}else break}}p=l+8|0;u=n+-1|0;s[p>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[p>>2]|0))}if((m|0)>0){e=0;do{f=(s[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;e=e+1|0}while((e|0)<(m|0))}if((s[p>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[p>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function ei(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;p=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=p;h=p+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((i|0)>0){u=0;f=p;h=p+(T<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;u=t+1|0;S=0-t|0;y=1-t|0;_=~t;e:do{if((A|0)>1){E=(T|0)>1;m=(s[l+4>>2]|0)+u|0;C=1;e=e+u|0;p=p+(u<<1)|0;f=0;t:while(1){if(E){u=m;k=1;w=e;v=f;while(1){do{if((o[w>>0]|0|0)>(n|0)){a[p>>1]=0;r[u>>0]=0;f=v}else{r[u>>0]=-1;f=a[p+(S<<1)>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}m=a[p+(y<<1)>>1]|0;b=m<<16>>16;f=a[p+(_<<1)>>1]|0;g=f<<16>>16;e=f<<16>>16>0;if(m<<16>>16<=0){if(e){a[p>>1]=f;f=g*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-3<<2)|0;if((s[e>>2]|0)<(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=a[p+-2>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;f=l+1310736+(f+-3<<2)|0;if((s[f>>2]|0)>=(k|0)){f=v;break}s[f>>2]=k;f=v;break}else{f=v+1|0;if((v|0)>32767)break t;a[p>>1]=f;s[l+1179664+(v<<2)>>2]=f<<16>>16;v=v*7|0;s[l+1310736+(v<<2)>>2]=1;s[l+1310736+(v+1<<2)>>2]=k;s[l+1310736+(v+2<<2)>>2]=C;s[l+1310736+(v+3<<2)>>2]=k;s[l+1310736+(v+4<<2)>>2]=k;s[l+1310736+(v+5<<2)>>2]=C;s[l+1310736+(v+6<<2)>>2]=C;break}}if(e){f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+(g+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}e=a[p+-2>>1]|0;if(e<<16>>16<=0){a[p>>1]=m;f=b*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-4<<2)|0;if((s[e>>2]|0)>(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;f=l+1310736+(f+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+C;f=v}}while(0);k=k+1|0;e=w+1|0;p=p+2|0;u=u+1|0;if((k|0)>=(T|0))break;else{w=e;v=f}}}else u=m;C=C+1|0;if((C|0)>=(A|0)){b=f;x=52;break e}else{m=u+2|0;e=e+2|0;p=p+4|0}}eo(3,3904,M);u=-1}else{b=0;x=52}}while(0);if((x|0)==52){p=l+12|0;if((b|0)<1)f=1;else{e=1;f=1;while(1){u=s[h>>2]|0;if((u|0)==(e|0)){u=f;f=f+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[h>>2]=u;if((e|0)<(b|0)){e=e+1|0;h=h+4|0}else break}}m=l+8|0;u=f+-1|0;s[m>>2]=u;if(u){Vu(p|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((f|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[m>>2]|0))}if((b|0)>0){p=0;do{h=(s[l+1179664+(p<<2)>>2]|0)+-1|0;e=p*7|0;u=l+12+(h<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(e<<2)>>2]|0);u=h<<1;f=l+655376+(u<<3)|0;c[f>>3]=+c[f>>3]+ +(s[l+1310736+(e+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(e+2<<2)>>2]|0);h=h<<2;u=l+131084+(h<<2)|0;f=s[l+1310736+(e+3<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;u=l+131084+((h|1)<<2)|0;f=s[l+1310736+(e+4<<2)>>2]|0;if((s[u>>2]|0)<(f|0))s[u>>2]=f;u=l+131084+((h|2)<<2)|0;f=s[l+1310736+(e+5<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;f=l+131084+((h|3)<<2)|0;u=s[l+1310736+(e+6<<2)>>2]|0;if((s[f>>2]|0)<(u|0))s[f>>2]=u;p=p+1|0}while((p|0)<(b|0))}if((s[m>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[m>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function ti(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;p=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=p;h=p+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((i|0)>0){u=0;f=p;h=p+(T<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;u=t+1|0;S=0-t|0;y=1-t|0;_=~t;e:do{if((A|0)>1){E=(T|0)>1;m=(s[l+4>>2]|0)+u|0;C=1;e=e+(u<<1)|0;p=p+(u<<1)|0;f=0;t:while(1){if(E){u=m;k=1;w=e;v=f;while(1){do{if((o[w+1>>0]|0|0)>(n|0)){a[p>>1]=0;r[u>>0]=0;f=v}else{r[u>>0]=-1;f=a[p+(S<<1)>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}m=a[p+(y<<1)>>1]|0;b=m<<16>>16;f=a[p+(_<<1)>>1]|0;g=f<<16>>16;e=f<<16>>16>0;if(m<<16>>16<=0){if(e){a[p>>1]=f;f=g*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-3<<2)|0;if((s[e>>2]|0)<(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=a[p+-2>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;f=l+1310736+(f+-3<<2)|0;if((s[f>>2]|0)>=(k|0)){f=v;break}s[f>>2]=k;f=v;break}else{f=v+1|0;if((v|0)>32767)break t;a[p>>1]=f;s[l+1179664+(v<<2)>>2]=f<<16>>16;v=v*7|0;s[l+1310736+(v<<2)>>2]=1;s[l+1310736+(v+1<<2)>>2]=k;s[l+1310736+(v+2<<2)>>2]=C;s[l+1310736+(v+3<<2)>>2]=k;s[l+1310736+(v+4<<2)>>2]=k;s[l+1310736+(v+5<<2)>>2]=C;s[l+1310736+(v+6<<2)>>2]=C;break}}if(e){f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+(g+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}e=a[p+-2>>1]|0;if(e<<16>>16<=0){a[p>>1]=m;f=b*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-4<<2)|0;if((s[e>>2]|0)>(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;f=l+1310736+(f+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+C;f=v}}while(0);k=k+1|0;e=w+2|0;p=p+2|0;u=u+1|0;if((k|0)>=(T|0))break;else{w=e;v=f}}}else u=m;C=C+1|0;if((C|0)>=(A|0)){b=f;x=52;break e}else{m=u+2|0;e=e+4|0;p=p+4|0}}eo(3,3904,M);u=-1}else{b=0;x=52}}while(0);if((x|0)==52){p=l+12|0;if((b|0)<1)f=1;else{e=1;f=1;while(1){u=s[h>>2]|0;if((u|0)==(e|0)){u=f;f=f+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[h>>2]=u;if((e|0)<(b|0)){e=e+1|0;h=h+4|0}else break}}m=l+8|0;u=f+-1|0;s[m>>2]=u;if(u){Vu(p|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((f|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[m>>2]|0))}if((b|0)>0){p=0;do{h=(s[l+1179664+(p<<2)>>2]|0)+-1|0;e=p*7|0;u=l+12+(h<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(e<<2)>>2]|0);u=h<<1;f=l+655376+(u<<3)|0;c[f>>3]=+c[f>>3]+ +(s[l+1310736+(e+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(e+2<<2)>>2]|0);h=h<<2;u=l+131084+(h<<2)|0;f=s[l+1310736+(e+3<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;u=l+131084+((h|1)<<2)|0;f=s[l+1310736+(e+4<<2)>>2]|0;if((s[u>>2]|0)<(f|0))s[u>>2]=f;u=l+131084+((h|2)<<2)|0;f=s[l+1310736+(e+5<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;f=l+131084+((h|3)<<2)|0;u=s[l+1310736+(e+6<<2)>>2]|0;if((s[f>>2]|0)<(u|0))s[f>>2]=u;p=p+1|0}while((p|0)<(b|0))}if((s[m>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[m>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function ii(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;p=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=p;h=p+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((i|0)>0){u=0;f=p;h=p+(T<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;u=t+1|0;S=0-t|0;y=1-t|0;_=~t;e:do{if((A|0)>1){E=(T|0)>1;m=(s[l+4>>2]|0)+u|0;C=1;e=e+(u<<1)|0;p=p+(u<<1)|0;f=0;t:while(1){if(E){u=m;k=1;w=e;v=f;while(1){do{if((o[w>>0]|0|0)>(n|0)){a[p>>1]=0;r[u>>0]=0;f=v}else{r[u>>0]=-1;f=a[p+(S<<1)>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}m=a[p+(y<<1)>>1]|0;b=m<<16>>16;f=a[p+(_<<1)>>1]|0;g=f<<16>>16;e=f<<16>>16>0;if(m<<16>>16<=0){if(e){a[p>>1]=f;f=g*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-3<<2)|0;if((s[e>>2]|0)<(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=a[p+-2>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;f=l+1310736+(f+-3<<2)|0;if((s[f>>2]|0)>=(k|0)){f=v;break}s[f>>2]=k;f=v;break}else{f=v+1|0;if((v|0)>32767)break t;a[p>>1]=f;s[l+1179664+(v<<2)>>2]=f<<16>>16;v=v*7|0;s[l+1310736+(v<<2)>>2]=1;s[l+1310736+(v+1<<2)>>2]=k;s[l+1310736+(v+2<<2)>>2]=C;s[l+1310736+(v+3<<2)>>2]=k;s[l+1310736+(v+4<<2)>>2]=k;s[l+1310736+(v+5<<2)>>2]=C;s[l+1310736+(v+6<<2)>>2]=C;break}}if(e){f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+(g+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}e=a[p+-2>>1]|0;if(e<<16>>16<=0){a[p>>1]=m;f=b*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-4<<2)|0;if((s[e>>2]|0)>(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;f=l+1310736+(f+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+C;f=v}}while(0);k=k+1|0;e=w+2|0;p=p+2|0;u=u+1|0;if((k|0)>=(T|0))break;else{w=e;v=f}}}else u=m;C=C+1|0;if((C|0)>=(A|0)){b=f;x=52;break e}else{m=u+2|0;e=e+4|0;p=p+4|0}}eo(3,3904,M);u=-1}else{b=0;x=52}}while(0);if((x|0)==52){p=l+12|0;if((b|0)<1)f=1;else{e=1;f=1;while(1){u=s[h>>2]|0;if((u|0)==(e|0)){u=f;f=f+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[h>>2]=u;if((e|0)<(b|0)){e=e+1|0;h=h+4|0}else break}}m=l+8|0;u=f+-1|0;s[m>>2]=u;if(u){Vu(p|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((f|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[m>>2]|0))}if((b|0)>0){p=0;do{h=(s[l+1179664+(p<<2)>>2]|0)+-1|0;e=p*7|0;u=l+12+(h<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(e<<2)>>2]|0);u=h<<1;f=l+655376+(u<<3)|0;c[f>>3]=+c[f>>3]+ +(s[l+1310736+(e+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(e+2<<2)>>2]|0);h=h<<2;u=l+131084+(h<<2)|0;f=s[l+1310736+(e+3<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;u=l+131084+((h|1)<<2)|0;f=s[l+1310736+(e+4<<2)>>2]|0;if((s[u>>2]|0)<(f|0))s[u>>2]=f;u=l+131084+((h|2)<<2)|0;f=s[l+1310736+(e+5<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;f=l+131084+((h|3)<<2)|0;u=s[l+1310736+(e+6<<2)>>2]|0;if((s[f>>2]|0)<(u|0))s[f>>2]=u;p=p+1|0}while((p|0)<(b|0))}if((s[m>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[m>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function ri(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;p=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=p;h=p+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((i|0)>0){u=0;f=p;h=p+(T<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;f=t+1|0;S=0-t|0;y=1-t|0;_=~t;e:do{if((A|0)>1){E=(T|0)>1;u=(s[l+4>>2]|0)+f|0;C=1;e=e+f|0;p=p+(f<<1)|0;n=n+f|0;f=0;t:while(1){if(E){k=1;w=e;v=f;while(1){do{if((o[w>>0]|0)>(o[n>>0]|0)){a[p>>1]=0;r[u>>0]=0;f=v}else{r[u>>0]=-1;f=a[p+(S<<1)>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}m=a[p+(y<<1)>>1]|0;b=m<<16>>16;f=a[p+(_<<1)>>1]|0;g=f<<16>>16;e=f<<16>>16>0;if(m<<16>>16<=0){if(e){a[p>>1]=f;f=g*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-3<<2)|0;if((s[e>>2]|0)<(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=a[p+-2>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;f=l+1310736+(f+-3<<2)|0;if((s[f>>2]|0)>=(k|0)){f=v;break}s[f>>2]=k;f=v;break}else{f=v+1|0;if((v|0)>32767)break t;a[p>>1]=f;s[l+1179664+(v<<2)>>2]=f<<16>>16;v=v*7|0;s[l+1310736+(v<<2)>>2]=1;s[l+1310736+(v+1<<2)>>2]=k;s[l+1310736+(v+2<<2)>>2]=C;s[l+1310736+(v+3<<2)>>2]=k;s[l+1310736+(v+4<<2)>>2]=k;s[l+1310736+(v+5<<2)>>2]=C;s[l+1310736+(v+6<<2)>>2]=C;break}}if(e){f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+(g+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}e=a[p+-2>>1]|0;if(e<<16>>16<=0){a[p>>1]=m;f=b*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-4<<2)|0;if((s[e>>2]|0)>(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;f=l+1310736+(f+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+C;f=v}}while(0);k=k+1|0;e=w+1|0;n=n+1|0;p=p+2|0;u=u+1|0;if((k|0)>=(T|0))break;else{w=e;v=f}}}C=C+1|0;if((C|0)>=(A|0)){m=f;x=52;break e}else{u=u+2|0;e=e+2|0;p=p+4|0;n=n+2|0}}eo(3,3904,M);u=-1}else{m=0;x=52}}while(0);if((x|0)==52){p=l+12|0;if((m|0)<1)f=1;else{e=1;f=1;while(1){u=s[h>>2]|0;if((u|0)==(e|0)){u=f;f=f+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[h>>2]=u;if((e|0)<(m|0)){e=e+1|0;h=h+4|0}else break}}n=l+8|0;u=f+-1|0;s[n>>2]=u;if(u){Vu(p|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((f|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[n>>2]|0))}if((m|0)>0){p=0;do{h=(s[l+1179664+(p<<2)>>2]|0)+-1|0;e=p*7|0;u=l+12+(h<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(e<<2)>>2]|0);u=h<<1;f=l+655376+(u<<3)|0;c[f>>3]=+c[f>>3]+ +(s[l+1310736+(e+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(e+2<<2)>>2]|0);h=h<<2;u=l+131084+(h<<2)|0;f=s[l+1310736+(e+3<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;u=l+131084+((h|1)<<2)|0;f=s[l+1310736+(e+4<<2)>>2]|0;if((s[u>>2]|0)<(f|0))s[u>>2]=f;u=l+131084+((h|2)<<2)|0;f=s[l+1310736+(e+5<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;f=l+131084+((h|3)<<2)|0;u=s[l+1310736+(e+6<<2)>>2]|0;if((s[f>>2]|0)<(u|0))s[f>>2]=u;p=p+1|0}while((p|0)<(m|0))}if((s[n>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[n>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function ai(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}E=n*3|0;C=x+-1|0;if((i|0)>1){u=0;n=p;f=p+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{n=n+(x<<1)|0;f=f+(x<<1)|0}}}f=l+1179664|0;n=x+1|0;y=0-x|0;w=1-x|0;k=~x;v=(t*3|0)+12|0;e:do{if((T|0)>1){_=(C|0)>1;u=(s[l+4>>2]|0)+n|0;S=1;h=e+((t*6|0)+6)|0;i=p+(n<<1)|0;n=0;t:while(1){if(_){g=1;b=h;m=n;while(1){do{if(((o[b+1>>0]|0)+(o[b>>0]|0)+(o[b+2>>0]|0)|0)>(E|0)){r[u>>0]=-1;n=a[i+(y<<1)>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}e=a[i+(w<<1)>>1]|0;t=e<<16>>16;n=a[i+(k<<1)>>1]|0;p=n<<16>>16;h=n<<16>>16>0;if(e<<16>>16<=0){if(h){a[i>>1]=n;n=p*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=a[i+-2>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(g|0)){n=m;break}s[n>>2]=g;n=m;break}else{n=m+1|0;if((m|0)>32767)break t;a[i>>1]=n;s[l+1179664+(m<<2)>>2]=n<<16>>16;m=m*7|0;s[l+1310736+(m<<2)>>2]=1;s[l+1310736+(m+1<<2)>>2]=g;s[l+1310736+(m+2<<2)>>2]=S;s[l+1310736+(m+3<<2)>>2]=g;s[l+1310736+(m+4<<2)>>2]=g;s[l+1310736+(m+5<<2)>>2]=S;s[l+1310736+(m+6<<2)>>2]=S;break}}if(h){n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+(p+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}h=a[i+-2>>1]|0;if(h<<16>>16<=0){a[i>>1]=e;n=t*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+S;n=m}else{a[i>>1]=0;r[u>>0]=0;n=m}}while(0);g=g+1|0;h=b+6|0;i=i+2|0;u=u+1|0;if((g|0)>=(C|0))break;else{b=h;m=n}}}S=S+1|0;if((S|0)>=(T|0)){t=n;M=52;break e}else{u=u+2|0;h=h+v|0;i=i+4|0}}eo(3,3904,A);u=-1}else{t=0;M=52}}while(0);if((M|0)==52){i=l+12|0;if((t|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;u=n+-1|0;s[e>>2]=u;if(u){Vu(i|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{f=(s[l+1179664+(i<<2)>>2]|0)+-1|0;h=i*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[e>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function si(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}E=n*3|0;C=x+-1|0;if((i|0)>1){u=0;n=p;f=p+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{n=n+(x<<1)|0;f=f+(x<<1)|0}}}f=l+1179664|0;n=x+1|0;y=0-x|0;w=1-x|0;k=~x;v=(t<<1)+8|0;e:do{if((T|0)>1){_=(C|0)>1;u=(s[l+4>>2]|0)+n|0;S=1;h=e+((t<<2)+4)|0;i=p+(n<<1)|0;n=0;t:while(1){if(_){g=1;b=h;m=n;while(1){t=o[b>>0]|0;p=o[b+1>>0]|0;do{if(((t&248)+10+(t<<5&224)+(p>>>3&28)+(p<<3&248)|0)>(E|0)){r[u>>0]=-1;n=a[i+(y<<1)>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}e=a[i+(w<<1)>>1]|0;t=e<<16>>16;n=a[i+(k<<1)>>1]|0;p=n<<16>>16;h=n<<16>>16>0;if(e<<16>>16<=0){if(h){a[i>>1]=n;n=p*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=a[i+-2>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(g|0)){n=m;break}s[n>>2]=g;n=m;break}else{n=m+1|0;if((m|0)>32767)break t;a[i>>1]=n;s[l+1179664+(m<<2)>>2]=n<<16>>16;m=m*7|0;s[l+1310736+(m<<2)>>2]=1;s[l+1310736+(m+1<<2)>>2]=g;s[l+1310736+(m+2<<2)>>2]=S;s[l+1310736+(m+3<<2)>>2]=g;s[l+1310736+(m+4<<2)>>2]=g;s[l+1310736+(m+5<<2)>>2]=S;s[l+1310736+(m+6<<2)>>2]=S;break}}if(h){n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+(p+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}h=a[i+-2>>1]|0;if(h<<16>>16<=0){a[i>>1]=e;n=t*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+S;n=m}else{a[i>>1]=0;r[u>>0]=0;n=m}}while(0);g=g+1|0;h=b+4|0;i=i+2|0;u=u+1|0;if((g|0)>=(C|0))break;else{b=h;m=n}}}S=S+1|0;if((S|0)>=(T|0)){t=n;M=52;break e}else{u=u+2|0;h=h+v|0;i=i+4|0}}eo(3,3904,A);u=-1}else{t=0;M=52}}while(0);if((M|0)==52){i=l+12|0;if((t|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;u=n+-1|0;s[e>>2]=u;if(u){Vu(i|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{f=(s[l+1179664+(i<<2)>>2]|0)+-1|0;h=i*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[e>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function oi(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}E=n*3|0;C=x+-1|0;if((i|0)>1){u=0;n=p;f=p+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{n=n+(x<<1)|0;f=f+(x<<1)|0}}}f=l+1179664|0;n=x+1|0;y=0-x|0;w=1-x|0;k=~x;v=(t<<2)+16|0;e:do{if((T|0)>1){_=(C|0)>1;u=(s[l+4>>2]|0)+n|0;S=1;h=e+((t<<3)+8)|0;i=p+(n<<1)|0;n=0;t:while(1){if(_){g=1;b=h;m=n;while(1){do{if(((o[b+1>>0]|0)+(o[b>>0]|0)+(o[b+2>>0]|0)|0)>(E|0)){r[u>>0]=-1;n=a[i+(y<<1)>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}e=a[i+(w<<1)>>1]|0;t=e<<16>>16;n=a[i+(k<<1)>>1]|0;p=n<<16>>16;h=n<<16>>16>0;if(e<<16>>16<=0){if(h){a[i>>1]=n;n=p*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=a[i+-2>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(g|0)){n=m;break}s[n>>2]=g;n=m;break}else{n=m+1|0;if((m|0)>32767)break t;a[i>>1]=n;s[l+1179664+(m<<2)>>2]=n<<16>>16;m=m*7|0;s[l+1310736+(m<<2)>>2]=1;s[l+1310736+(m+1<<2)>>2]=g;s[l+1310736+(m+2<<2)>>2]=S;s[l+1310736+(m+3<<2)>>2]=g;s[l+1310736+(m+4<<2)>>2]=g;s[l+1310736+(m+5<<2)>>2]=S;s[l+1310736+(m+6<<2)>>2]=S;break}}if(h){n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+(p+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}h=a[i+-2>>1]|0;if(h<<16>>16<=0){a[i>>1]=e;n=t*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+S;n=m}else{a[i>>1]=0;r[u>>0]=0;n=m}}while(0);g=g+1|0;h=b+8|0;i=i+2|0;u=u+1|0;if((g|0)>=(C|0))break;else{b=h;m=n}}}S=S+1|0;if((S|0)>=(T|0)){t=n;M=52;break e}else{u=u+2|0;h=h+v|0;i=i+4|0}}eo(3,3904,A);u=-1}else{t=0;M=52}}while(0);if((M|0)==52){i=l+12|0;if((t|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;u=n+-1|0;s[e>>2]=u;if(u){Vu(i|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{f=(s[l+1179664+(i<<2)>>2]|0)+-1|0;h=i*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[e>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function ni(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}E=n*3|0;C=x+-1|0;if((i|0)>1){u=0;n=p;f=p+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{n=n+(x<<1)|0;f=f+(x<<1)|0}}}f=l+1179664|0;n=x+1|0;y=0-x|0;w=1-x|0;k=~x;v=(t<<1)+8|0;e:do{if((T|0)>1){_=(C|0)>1;u=(s[l+4>>2]|0)+n|0;S=1;h=e+((t<<2)+4)|0;i=p+(n<<1)|0;n=0;t:while(1){if(_){g=1;b=h;m=n;while(1){p=o[b>>0]|0;do{if(((p&240)+24+(p<<4&240)+((o[b+1>>0]|0)&240)|0)>(E|0)){r[u>>0]=-1;n=a[i+(y<<1)>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}e=a[i+(w<<1)>>1]|0;t=e<<16>>16;n=a[i+(k<<1)>>1]|0;p=n<<16>>16;h=n<<16>>16>0;if(e<<16>>16<=0){if(h){a[i>>1]=n;n=p*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=a[i+-2>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(g|0)){n=m;break}s[n>>2]=g;n=m;break}else{n=m+1|0;if((m|0)>32767)break t;a[i>>1]=n;s[l+1179664+(m<<2)>>2]=n<<16>>16;m=m*7|0;s[l+1310736+(m<<2)>>2]=1;s[l+1310736+(m+1<<2)>>2]=g;s[l+1310736+(m+2<<2)>>2]=S;s[l+1310736+(m+3<<2)>>2]=g;s[l+1310736+(m+4<<2)>>2]=g;s[l+1310736+(m+5<<2)>>2]=S;s[l+1310736+(m+6<<2)>>2]=S;break}}if(h){n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+(p+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}h=a[i+-2>>1]|0;if(h<<16>>16<=0){a[i>>1]=e;n=t*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+S;n=m}else{a[i>>1]=0;r[u>>0]=0;n=m}}while(0);g=g+1|0;h=b+4|0;i=i+2|0;u=u+1|0;if((g|0)>=(C|0))break;else{b=h;m=n}}}S=S+1|0;if((S|0)>=(T|0)){t=n;M=52;break e}else{u=u+2|0;h=h+v|0;i=i+4|0}}eo(3,3904,A);u=-1}else{t=0;M=52}}while(0);if((M|0)==52){i=l+12|0;if((t|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;u=n+-1|0;s[e>>2]=u;if(u){Vu(i|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{f=(s[l+1179664+(i<<2)>>2]|0)+-1|0;h=i*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[e>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function li(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}E=n*3|0;C=x+-1|0;if((i|0)>1){u=0;n=p;f=p+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{n=n+(x<<1)|0;f=f+(x<<1)|0}}}f=l+1179664|0;n=x+1|0;y=0-x|0;w=1-x|0;k=~x;v=(t<<1)+8|0;e:do{if((T|0)>1){_=(C|0)>1;u=(s[l+4>>2]|0)+n|0;S=1;h=e+((t<<2)+4)|0;i=p+(n<<1)|0;n=0;t:while(1){if(_){g=1;b=h;m=n;while(1){t=o[b>>0]|0;p=o[b+1>>0]|0;do{if(((t&248)+12+(t<<5&224)+(p>>>3&24)+(p<<2&248)|0)>(E|0)){r[u>>0]=-1;n=a[i+(y<<1)>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}e=a[i+(w<<1)>>1]|0;t=e<<16>>16;n=a[i+(k<<1)>>1]|0;p=n<<16>>16;h=n<<16>>16>0;if(e<<16>>16<=0){if(h){a[i>>1]=n;n=p*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=a[i+-2>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(g|0)){n=m;break}s[n>>2]=g;n=m;break}else{n=m+1|0;if((m|0)>32767)break t;a[i>>1]=n;s[l+1179664+(m<<2)>>2]=n<<16>>16;m=m*7|0;s[l+1310736+(m<<2)>>2]=1;s[l+1310736+(m+1<<2)>>2]=g;s[l+1310736+(m+2<<2)>>2]=S;s[l+1310736+(m+3<<2)>>2]=g;s[l+1310736+(m+4<<2)>>2]=g;s[l+1310736+(m+5<<2)>>2]=S;s[l+1310736+(m+6<<2)>>2]=S;break}}if(h){n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+(p+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}h=a[i+-2>>1]|0;if(h<<16>>16<=0){a[i>>1]=e;n=t*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+S;n=m}else{a[i>>1]=0;r[u>>0]=0;n=m}}while(0);g=g+1|0;h=b+4|0;i=i+2|0;u=u+1|0;if((g|0)>=(C|0))break;else{b=h;m=n}}}S=S+1|0;if((S|0)>=(T|0)){t=n;M=52;break e}else{u=u+2|0;h=h+v|0;i=i+4|0}}eo(3,3904,A);u=-1}else{t=0;M=52}}while(0);if((M|0)==52){i=l+12|0;if((t|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;u=n+-1|0;s[e>>2]=u;if(u){Vu(i|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{f=(s[l+1179664+(i<<2)>>2]|0)+-1|0;h=i*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[e>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function ui(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}E=n*3|0;C=x+-1|0;if((i|0)>1){u=0;n=p;f=p+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{n=n+(x<<1)|0;f=f+(x<<1)|0}}}f=l+1179664|0;n=x+1|0;y=0-x|0;w=1-x|0;k=~x;v=(t<<2)+16|0;e:do{if((T|0)>1){_=(C|0)>1;u=(s[l+4>>2]|0)+n|0;S=1;h=e+((t<<3)+8)|0;i=p+(n<<1)|0;n=0;t:while(1){if(_){g=1;b=h;m=n;while(1){do{if(((o[b+2>>0]|0)+(o[b+1>>0]|0)+(o[b+3>>0]|0)|0)>(E|0)){r[u>>0]=-1;n=a[i+(y<<1)>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}e=a[i+(w<<1)>>1]|0;t=e<<16>>16;n=a[i+(k<<1)>>1]|0;p=n<<16>>16;h=n<<16>>16>0;if(e<<16>>16<=0){if(h){a[i>>1]=n;n=p*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=a[i+-2>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(g|0)){n=m;break}s[n>>2]=g;n=m;break}else{n=m+1|0;if((m|0)>32767)break t;a[i>>1]=n;s[l+1179664+(m<<2)>>2]=n<<16>>16;m=m*7|0;s[l+1310736+(m<<2)>>2]=1;s[l+1310736+(m+1<<2)>>2]=g;s[l+1310736+(m+2<<2)>>2]=S;s[l+1310736+(m+3<<2)>>2]=g;s[l+1310736+(m+4<<2)>>2]=g;s[l+1310736+(m+5<<2)>>2]=S;s[l+1310736+(m+6<<2)>>2]=S;break}}if(h){n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+(p+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}h=a[i+-2>>1]|0;if(h<<16>>16<=0){a[i>>1]=e;n=t*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+S;n=m}else{a[i>>1]=0;r[u>>0]=0;n=m}}while(0);g=g+1|0;h=b+8|0;i=i+2|0;u=u+1|0;if((g|0)>=(C|0))break;else{b=h;m=n}}}S=S+1|0;if((S|0)>=(T|0)){t=n;M=52;break e}else{u=u+2|0;h=h+v|0;i=i+4|0}}eo(3,3904,A);u=-1}else{t=0;M=52}}while(0);if((M|0)==52){i=l+12|0;if((t|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;u=n+-1|0;s[e>>2]=u;if(u){Vu(i|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{f=(s[l+1179664+(i<<2)>>2]|0)+-1|0;h=i*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[e>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function ci(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}C=x+-1|0;if((i|0)>1){u=0;f=p;h=p+(C<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{f=f+(x<<1)|0;h=h+(x<<1)|0}}}h=l+1179664|0;f=x+1|0;_=0-x|0;k=1-x|0;y=~x;w=t+4|0;e:do{if((T|0)>1){S=(C|0)>1;u=(s[l+4>>2]|0)+f|0;E=1;i=e+((t<<1)+2)|0;e=p+(f<<1)|0;f=0;t:while(1){if(S){v=1;g=i;b=f;while(1){do{if((o[g>>0]|0|0)>(n|0)){r[u>>0]=-1;f=a[e+(_<<1)>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}t=a[e+(k<<1)>>1]|0;p=t<<16>>16;f=a[e+(y<<1)>>1]|0;m=f<<16>>16;i=f<<16>>16>0;if(t<<16>>16<=0){if(i){a[e>>1]=f;f=m*7|0;i=l+1310736+(f+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=l+1310736+(f+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+v;i=l+1310736+(f+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+E;i=l+1310736+(f+-3<<2)|0;if((s[i>>2]|0)<(v|0))s[i>>2]=v;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}f=a[e+-2>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;f=l+1310736+(f+-3<<2)|0;if((s[f>>2]|0)>=(v|0)){f=b;break}s[f>>2]=v;f=b;break}else{f=b+1|0;if((b|0)>32767)break t;a[e>>1]=f;s[l+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;s[l+1310736+(b<<2)>>2]=1;s[l+1310736+(b+1<<2)>>2]=v;s[l+1310736+(b+2<<2)>>2]=E;s[l+1310736+(b+3<<2)>>2]=v;s[l+1310736+(b+4<<2)>>2]=v;s[l+1310736+(b+5<<2)>>2]=E;s[l+1310736+(b+6<<2)>>2]=E;break}}if(i){f=s[l+1179664+(p+-1<<2)>>2]|0;p=s[l+1179664+(m+-1<<2)>>2]|0;if((f|0)>(p|0)){a[e>>1]=p;if((b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(f|0))s[t>>2]=p;i=i+1|0;if((i|0)>=(b|0)){f=p;break}else t=t+4|0}}else f=p}else{a[e>>1]=f;if((f|0)<(p|0)&(b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(p|0))s[t>>2]=f;i=i+1|0;if((i|0)>=(b|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}i=a[e+-2>>1]|0;if(i<<16>>16<=0){a[e>>1]=t;f=p*7|0;i=l+1310736+(f+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=l+1310736+(f+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+v;i=l+1310736+(f+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+E;i=l+1310736+(f+-4<<2)|0;if((s[i>>2]|0)>(v|0))s[i>>2]=v;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}f=s[l+1179664+(p+-1<<2)>>2]|0;p=s[l+1179664+((i<<16>>16)+-1<<2)>>2]|0;if((f|0)>(p|0)){a[e>>1]=p;if((b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(f|0))s[t>>2]=p;i=i+1|0;if((i|0)>=(b|0)){f=p;break}else t=t+4|0}}else f=p}else{a[e>>1]=f;if((f|0)<(p|0)&(b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(p|0))s[t>>2]=f;i=i+1|0;if((i|0)>=(b|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;f=l+1310736+(f+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+E;f=b}else{a[e>>1]=0;r[u>>0]=0;f=b}}while(0);v=v+1|0;i=g+2|0;e=e+2|0;u=u+1|0;if((v|0)>=(C|0))break;else{g=i;b=f}}}E=E+1|0;if((E|0)>=(T|0)){p=f;M=52;break e}else{u=u+2|0;i=i+w|0;e=e+4|0}}eo(3,3904,A);u=-1}else{p=0;M=52}}while(0);if((M|0)==52){e=l+12|0;if((p|0)<1)f=1;else{i=1;f=1;while(1){u=s[h>>2]|0;if((u|0)==(i|0)){u=f;f=f+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[h>>2]=u;if((i|0)<(p|0)){i=i+1|0;h=h+4|0}else break}}t=l+8|0;u=f+-1|0;s[t>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((f|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[t>>2]|0))}if((p|0)>0){e=0;do{h=(s[l+1179664+(e<<2)>>2]|0)+-1|0;i=e*7|0;u=l+12+(h<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(i<<2)>>2]|0);u=h<<1;f=l+655376+(u<<3)|0;c[f>>3]=+c[f>>3]+ +(s[l+1310736+(i+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(i+2<<2)>>2]|0);h=h<<2;u=l+131084+(h<<2)|0;f=s[l+1310736+(i+3<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;u=l+131084+((h|1)<<2)|0;f=s[l+1310736+(i+4<<2)>>2]|0;if((s[u>>2]|0)<(f|0))s[u>>2]=f;u=l+131084+((h|2)<<2)|0;f=s[l+1310736+(i+5<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;f=l+131084+((h|3)<<2)|0;u=s[l+1310736+(i+6<<2)>>2]|0;if((s[f>>2]|0)<(u|0))s[f>>2]=u;e=e+1|0}while((e|0)<(p|0))}if((s[t>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[t>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function di(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}C=x+-1|0;if((i|0)>1){u=0;f=p;h=p+(C<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{f=f+(x<<1)|0;h=h+(x<<1)|0}}}h=l+1179664|0;f=x+1|0;_=0-x|0;k=1-x|0;y=~x;w=(t<<1)+8|0;e:do{if((T|0)>1){S=(C|0)>1;u=(s[l+4>>2]|0)+f|0;E=1;i=e+((t<<2)+4)|0;e=p+(f<<1)|0;f=0;t:while(1){if(S){v=1;g=i;b=f;while(1){do{if((o[g+1>>0]|0|0)>(n|0)){r[u>>0]=-1;f=a[e+(_<<1)>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}t=a[e+(k<<1)>>1]|0;p=t<<16>>16;f=a[e+(y<<1)>>1]|0;m=f<<16>>16;i=f<<16>>16>0;if(t<<16>>16<=0){if(i){a[e>>1]=f;f=m*7|0;i=l+1310736+(f+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=l+1310736+(f+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+v;i=l+1310736+(f+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+E;i=l+1310736+(f+-3<<2)|0;if((s[i>>2]|0)<(v|0))s[i>>2]=v;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}f=a[e+-2>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;f=l+1310736+(f+-3<<2)|0;if((s[f>>2]|0)>=(v|0)){f=b;break}s[f>>2]=v;f=b;break}else{f=b+1|0;if((b|0)>32767)break t;a[e>>1]=f;s[l+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;s[l+1310736+(b<<2)>>2]=1;s[l+1310736+(b+1<<2)>>2]=v;s[l+1310736+(b+2<<2)>>2]=E;s[l+1310736+(b+3<<2)>>2]=v;s[l+1310736+(b+4<<2)>>2]=v;s[l+1310736+(b+5<<2)>>2]=E;s[l+1310736+(b+6<<2)>>2]=E;break}}if(i){f=s[l+1179664+(p+-1<<2)>>2]|0;p=s[l+1179664+(m+-1<<2)>>2]|0;if((f|0)>(p|0)){a[e>>1]=p;if((b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(f|0))s[t>>2]=p;i=i+1|0;if((i|0)>=(b|0)){f=p;break}else t=t+4|0}}else f=p}else{a[e>>1]=f;if((f|0)<(p|0)&(b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(p|0))s[t>>2]=f;i=i+1|0;if((i|0)>=(b|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}i=a[e+-2>>1]|0;if(i<<16>>16<=0){a[e>>1]=t;f=p*7|0;i=l+1310736+(f+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=l+1310736+(f+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+v;i=l+1310736+(f+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+E;i=l+1310736+(f+-4<<2)|0;if((s[i>>2]|0)>(v|0))s[i>>2]=v;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}f=s[l+1179664+(p+-1<<2)>>2]|0;p=s[l+1179664+((i<<16>>16)+-1<<2)>>2]|0;if((f|0)>(p|0)){a[e>>1]=p;if((b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(f|0))s[t>>2]=p;i=i+1|0;if((i|0)>=(b|0)){f=p;break}else t=t+4|0}}else f=p}else{a[e>>1]=f;if((f|0)<(p|0)&(b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(p|0))s[t>>2]=f;i=i+1|0;if((i|0)>=(b|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;f=l+1310736+(f+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+E;f=b}else{a[e>>1]=0;r[u>>0]=0;f=b}}while(0);v=v+1|0;i=g+4|0;e=e+2|0;u=u+1|0;if((v|0)>=(C|0))break;else{g=i;b=f}}}E=E+1|0;if((E|0)>=(T|0)){p=f;M=52;break e}else{u=u+2|0;i=i+w|0;e=e+4|0}}eo(3,3904,A);u=-1}else{p=0;M=52}}while(0);if((M|0)==52){e=l+12|0;if((p|0)<1)f=1;else{i=1;f=1;while(1){u=s[h>>2]|0;if((u|0)==(i|0)){u=f;f=f+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[h>>2]=u;if((i|0)<(p|0)){i=i+1|0;h=h+4|0}else break}}t=l+8|0;u=f+-1|0;s[t>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((f|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[t>>2]|0))}if((p|0)>0){e=0;do{h=(s[l+1179664+(e<<2)>>2]|0)+-1|0;i=e*7|0;u=l+12+(h<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(i<<2)>>2]|0);u=h<<1;f=l+655376+(u<<3)|0;c[f>>3]=+c[f>>3]+ +(s[l+1310736+(i+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(i+2<<2)>>2]|0);h=h<<2;u=l+131084+(h<<2)|0;f=s[l+1310736+(i+3<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;u=l+131084+((h|1)<<2)|0;f=s[l+1310736+(i+4<<2)>>2]|0;if((s[u>>2]|0)<(f|0))s[u>>2]=f;u=l+131084+((h|2)<<2)|0;f=s[l+1310736+(i+5<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;f=l+131084+((h|3)<<2)|0;u=s[l+1310736+(i+6<<2)>>2]|0;if((s[f>>2]|0)<(u|0))s[f>>2]=u;e=e+1|0}while((e|0)<(p|0))}if((s[t>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[t>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function fi(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}C=x+-1|0;if((i|0)>1){u=0;f=p;h=p+(C<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{f=f+(x<<1)|0;h=h+(x<<1)|0}}}h=l+1179664|0;f=x+1|0;_=0-x|0;k=1-x|0;y=~x;w=(t<<1)+8|0;e:do{if((T|0)>1){S=(C|0)>1;u=(s[l+4>>2]|0)+f|0;E=1;i=e+((t<<2)+4)|0;e=p+(f<<1)|0;f=0;t:while(1){if(S){v=1;g=i;b=f;while(1){do{if((o[g>>0]|0|0)>(n|0)){r[u>>0]=-1;f=a[e+(_<<1)>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}t=a[e+(k<<1)>>1]|0;p=t<<16>>16;f=a[e+(y<<1)>>1]|0;m=f<<16>>16;i=f<<16>>16>0;if(t<<16>>16<=0){if(i){a[e>>1]=f;f=m*7|0;i=l+1310736+(f+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=l+1310736+(f+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+v;i=l+1310736+(f+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+E;i=l+1310736+(f+-3<<2)|0;if((s[i>>2]|0)<(v|0))s[i>>2]=v;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}f=a[e+-2>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;f=l+1310736+(f+-3<<2)|0;if((s[f>>2]|0)>=(v|0)){f=b;break}s[f>>2]=v;f=b;break}else{f=b+1|0;if((b|0)>32767)break t;a[e>>1]=f;s[l+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;s[l+1310736+(b<<2)>>2]=1;s[l+1310736+(b+1<<2)>>2]=v;s[l+1310736+(b+2<<2)>>2]=E;s[l+1310736+(b+3<<2)>>2]=v;s[l+1310736+(b+4<<2)>>2]=v;s[l+1310736+(b+5<<2)>>2]=E;s[l+1310736+(b+6<<2)>>2]=E;break}}if(i){f=s[l+1179664+(p+-1<<2)>>2]|0;p=s[l+1179664+(m+-1<<2)>>2]|0;if((f|0)>(p|0)){a[e>>1]=p;if((b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(f|0))s[t>>2]=p;i=i+1|0;if((i|0)>=(b|0)){f=p;break}else t=t+4|0}}else f=p}else{a[e>>1]=f;if((f|0)<(p|0)&(b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(p|0))s[t>>2]=f;i=i+1|0;if((i|0)>=(b|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=l+1310736+(f+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+E;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}i=a[e+-2>>1]|0;if(i<<16>>16<=0){a[e>>1]=t;f=p*7|0;i=l+1310736+(f+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=l+1310736+(f+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+v;i=l+1310736+(f+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+E;i=l+1310736+(f+-4<<2)|0;if((s[i>>2]|0)>(v|0))s[i>>2]=v;s[l+1310736+(f+-1<<2)>>2]=E;f=b;break}f=s[l+1179664+(p+-1<<2)>>2]|0;p=s[l+1179664+((i<<16>>16)+-1<<2)>>2]|0;if((f|0)>(p|0)){a[e>>1]=p;if((b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(f|0))s[t>>2]=p;i=i+1|0;if((i|0)>=(b|0)){f=p;break}else t=t+4|0}}else f=p}else{a[e>>1]=f;if((f|0)<(p|0)&(b|0)>0){i=0;t=h;while(1){if((s[t>>2]|0)==(p|0))s[t>>2]=f;i=i+1|0;if((i|0)>=(b|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;m=l+1310736+(f+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=l+1310736+(f+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;f=l+1310736+(f+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+E;f=b}else{a[e>>1]=0;r[u>>0]=0;f=b}}while(0);v=v+1|0;i=g+4|0;e=e+2|0;u=u+1|0;if((v|0)>=(C|0))break;else{g=i;b=f}}}E=E+1|0;if((E|0)>=(T|0)){p=f;M=52;break e}else{u=u+2|0;i=i+w|0;e=e+4|0}}eo(3,3904,A);u=-1}else{p=0;M=52}}while(0);if((M|0)==52){e=l+12|0;if((p|0)<1)f=1;else{i=1;f=1;while(1){u=s[h>>2]|0;if((u|0)==(i|0)){u=f;f=f+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[h>>2]=u;if((i|0)<(p|0)){i=i+1|0;h=h+4|0}else break}}t=l+8|0;u=f+-1|0;s[t>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((f|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[t>>2]|0))}if((p|0)>0){e=0;do{h=(s[l+1179664+(e<<2)>>2]|0)+-1|0;i=e*7|0;u=l+12+(h<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(i<<2)>>2]|0);u=h<<1;f=l+655376+(u<<3)|0;c[f>>3]=+c[f>>3]+ +(s[l+1310736+(i+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(i+2<<2)>>2]|0);h=h<<2;u=l+131084+(h<<2)|0;f=s[l+1310736+(i+3<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;u=l+131084+((h|1)<<2)|0;f=s[l+1310736+(i+4<<2)>>2]|0;if((s[u>>2]|0)<(f|0))s[u>>2]=f;u=l+131084+((h|2)<<2)|0;f=s[l+1310736+(i+5<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;f=l+131084+((h|3)<<2)|0;u=s[l+1310736+(i+6<<2)>>2]|0;if((s[f>>2]|0)<(u|0))s[f>>2]=u;e=e+1|0}while((e|0)<(p|0))}if((s[t>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[t>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function hi(e){e=e|0;var t=0;t=d;d=d+e|0;d=d+15&-16;return t|0}function pi(){return d|0}function mi(e){e=e|0;d=e}function bi(e,t){e=e|0;t=t|0;d=e;f=t}function gi(e,t){e=e|0;t=t|0;if(!g){g=e;v=t}}function vi(e){e=e|0;r[h>>0]=r[e>>0];r[h+1>>0]=r[e+1>>0];r[h+2>>0]=r[e+2>>0];r[h+3>>0]=r[e+3>>0]}function wi(e){e=e|0;r[h>>0]=r[e>>0];r[h+1>>0]=r[e+1>>0];r[h+2>>0]=r[e+2>>0];r[h+3>>0]=r[e+3>>0];r[h+4>>0]=r[e+4>>0];r[h+5>>0]=r[e+5>>0];r[h+6>>0]=r[e+6>>0];r[h+7>>0]=r[e+7>>0]}function ki(e){e=e|0;P=e}function yi(){return P|0}function _i(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}_=r*3|0;S=A+-1|0;if((i|0)>1){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{r=r+(A<<1)|0;u=u+(A<<1)|0}}}u=n+1179664|0;w=0-A|0;g=1-A|0;v=~A;b=(t*3|0)+12|0;e:do{if((E|0)>1){k=(S|0)>1;y=1;r=e+((t*6|0)+6)|0;f=h+(A+1<<1)|0;l=0;t:while(1){if(k){m=1;p=f;h=l;while(1){do{if(((o[r+1>>0]|0)+(o[r>>0]|0)+(o[r+2>>0]|0)|0)>(_|0)){a[p>>1]=0;l=h}else{l=a[p+(w<<1)>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}i=a[p+(g<<1)>>1]|0;e=i<<16>>16;l=a[p+(v<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(i<<16>>16<=0){if(f){a[p>>1]=l;l=t*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=a[p+-2>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(m|0)){l=h;break}s[l>>2]=m;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;a[p>>1]=l;s[n+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;s[n+1310736+(h<<2)>>2]=1;s[n+1310736+(h+1<<2)>>2]=m;s[n+1310736+(h+2<<2)>>2]=y;s[n+1310736+(h+3<<2)>>2]=m;s[n+1310736+(h+4<<2)>>2]=m;s[n+1310736+(h+5<<2)>>2]=y;s[n+1310736+(h+6<<2)>>2]=y;break}}if(f){l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}f=a[p+-2>>1]|0;if(f<<16>>16<=0){a[p>>1]=i;l=e*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+y;l=h}}while(0);m=m+1|0;r=r+6|0;f=p+2|0;if((m|0)>=(S|0))break;else{p=f;h=l}}}y=y+1|0;if((y|0)>=(E|0)){t=l;T=52;break e}else{r=r+b|0;f=f+4|0}}eo(3,3904,C);l=-1}else{t=0;T=52}}while(0);if((T|0)==52){i=n+12|0;if((t|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(t|0)){f=f+1|0;u=u+4|0}else break}}e=n+8|0;l=r+-1|0;s[e>>2]=l;if(l){Vu(i|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{u=(s[n+1179664+(i<<2)>>2]|0)+-1|0;f=i*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[e>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function Si(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}_=r*3|0;S=A+-1|0;if((i|0)>1){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{r=r+(A<<1)|0;u=u+(A<<1)|0}}}u=n+1179664|0;w=0-A|0;g=1-A|0;v=~A;b=(t<<1)+8|0;e:do{if((E|0)>1){k=(S|0)>1;y=1;r=e+((t<<2)+4)|0;f=h+(A+1<<1)|0;l=0;t:while(1){if(k){m=1;p=f;h=l;while(1){e=o[r>>0]|0;t=o[r+1>>0]|0;do{if(((e&248)+10+(e<<5&224)+(t>>>3&28)+(t<<3&248)|0)>(_|0)){a[p>>1]=0;l=h}else{l=a[p+(w<<1)>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}i=a[p+(g<<1)>>1]|0;e=i<<16>>16;l=a[p+(v<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(i<<16>>16<=0){if(f){a[p>>1]=l;l=t*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=a[p+-2>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(m|0)){l=h;break}s[l>>2]=m;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;a[p>>1]=l;s[n+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;s[n+1310736+(h<<2)>>2]=1;s[n+1310736+(h+1<<2)>>2]=m;s[n+1310736+(h+2<<2)>>2]=y;s[n+1310736+(h+3<<2)>>2]=m;s[n+1310736+(h+4<<2)>>2]=m;s[n+1310736+(h+5<<2)>>2]=y;s[n+1310736+(h+6<<2)>>2]=y;break}}if(f){l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}f=a[p+-2>>1]|0;if(f<<16>>16<=0){a[p>>1]=i;l=e*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+y;l=h}}while(0);m=m+1|0;r=r+4|0;f=p+2|0;if((m|0)>=(S|0))break;else{p=f;h=l}}}y=y+1|0;if((y|0)>=(E|0)){t=l;T=52;break e}else{r=r+b|0;f=f+4|0}}eo(3,3904,C);l=-1}else{t=0;T=52}}while(0);if((T|0)==52){i=n+12|0;if((t|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(t|0)){f=f+1|0;u=u+4|0}else break}}e=n+8|0;l=r+-1|0;s[e>>2]=l;if(l){Vu(i|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{u=(s[n+1179664+(i<<2)>>2]|0)+-1|0;f=i*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[e>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function Ei(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}_=r*3|0;S=A+-1|0;if((i|0)>1){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{r=r+(A<<1)|0;u=u+(A<<1)|0}}}u=n+1179664|0;w=0-A|0;g=1-A|0;v=~A;b=(t<<2)+16|0;e:do{if((E|0)>1){k=(S|0)>1;y=1;r=e+((t<<3)+8)|0;f=h+(A+1<<1)|0;l=0;t:while(1){if(k){m=1;p=f;h=l;while(1){do{if(((o[r+1>>0]|0)+(o[r>>0]|0)+(o[r+2>>0]|0)|0)>(_|0)){a[p>>1]=0;l=h}else{l=a[p+(w<<1)>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}i=a[p+(g<<1)>>1]|0;e=i<<16>>16;l=a[p+(v<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(i<<16>>16<=0){if(f){a[p>>1]=l;l=t*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=a[p+-2>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(m|0)){l=h;break}s[l>>2]=m;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;a[p>>1]=l;s[n+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;s[n+1310736+(h<<2)>>2]=1;s[n+1310736+(h+1<<2)>>2]=m;s[n+1310736+(h+2<<2)>>2]=y;s[n+1310736+(h+3<<2)>>2]=m;s[n+1310736+(h+4<<2)>>2]=m;s[n+1310736+(h+5<<2)>>2]=y;s[n+1310736+(h+6<<2)>>2]=y;break}}if(f){l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}f=a[p+-2>>1]|0;if(f<<16>>16<=0){a[p>>1]=i;l=e*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+y;l=h}}while(0);m=m+1|0;r=r+8|0;f=p+2|0;if((m|0)>=(S|0))break;else{p=f;h=l}}}y=y+1|0;if((y|0)>=(E|0)){t=l;T=52;break e}else{r=r+b|0;f=f+4|0}}eo(3,3904,C);l=-1}else{t=0;T=52}}while(0);if((T|0)==52){i=n+12|0;if((t|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(t|0)){f=f+1|0;u=u+4|0}else break}}e=n+8|0;l=r+-1|0;s[e>>2]=l;if(l){Vu(i|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{u=(s[n+1179664+(i<<2)>>2]|0)+-1|0;f=i*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[e>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function Ci(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}_=r*3|0;S=A+-1|0;if((i|0)>1){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{r=r+(A<<1)|0;u=u+(A<<1)|0}}}u=n+1179664|0;w=0-A|0;g=1-A|0;v=~A;b=(t<<1)+8|0;e:do{if((E|0)>1){k=(S|0)>1;y=1;r=e+((t<<2)+4)|0;f=h+(A+1<<1)|0;l=0;t:while(1){if(k){m=1;p=f;h=l;while(1){t=o[r>>0]|0;do{if(((t&240)+24+(t<<4&240)+((o[r+1>>0]|0)&240)|0)>(_|0)){a[p>>1]=0;l=h}else{l=a[p+(w<<1)>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}i=a[p+(g<<1)>>1]|0;e=i<<16>>16;l=a[p+(v<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(i<<16>>16<=0){if(f){a[p>>1]=l;l=t*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=a[p+-2>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(m|0)){l=h;break}s[l>>2]=m;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;a[p>>1]=l;s[n+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;s[n+1310736+(h<<2)>>2]=1;s[n+1310736+(h+1<<2)>>2]=m;s[n+1310736+(h+2<<2)>>2]=y;s[n+1310736+(h+3<<2)>>2]=m;s[n+1310736+(h+4<<2)>>2]=m;s[n+1310736+(h+5<<2)>>2]=y;s[n+1310736+(h+6<<2)>>2]=y;break}}if(f){l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}f=a[p+-2>>1]|0;if(f<<16>>16<=0){a[p>>1]=i;l=e*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+y;l=h}}while(0);m=m+1|0;r=r+4|0;f=p+2|0;if((m|0)>=(S|0))break;else{p=f;h=l}}}y=y+1|0;if((y|0)>=(E|0)){t=l;T=52;break e}else{r=r+b|0;f=f+4|0}}eo(3,3904,C);l=-1}else{t=0;T=52}}while(0);if((T|0)==52){i=n+12|0;if((t|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(t|0)){f=f+1|0;u=u+4|0}else break}}e=n+8|0;l=r+-1|0;s[e>>2]=l;if(l){Vu(i|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{u=(s[n+1179664+(i<<2)>>2]|0)+-1|0;f=i*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[e>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function Ti(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}_=r*3|0;S=A+-1|0;if((i|0)>1){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{r=r+(A<<1)|0;u=u+(A<<1)|0}}}u=n+1179664|0;w=0-A|0;g=1-A|0;v=~A;b=(t<<1)+8|0;e:do{if((E|0)>1){k=(S|0)>1;y=1;r=e+((t<<2)+4)|0;f=h+(A+1<<1)|0;l=0;t:while(1){if(k){m=1;p=f;h=l;while(1){e=o[r>>0]|0;t=o[r+1>>0]|0;do{if(((e&248)+12+(e<<5&224)+(t>>>3&24)+(t<<2&248)|0)>(_|0)){a[p>>1]=0;l=h}else{l=a[p+(w<<1)>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}i=a[p+(g<<1)>>1]|0;e=i<<16>>16;l=a[p+(v<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(i<<16>>16<=0){if(f){a[p>>1]=l;l=t*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=a[p+-2>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(m|0)){l=h;break}s[l>>2]=m;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;a[p>>1]=l;s[n+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;s[n+1310736+(h<<2)>>2]=1;s[n+1310736+(h+1<<2)>>2]=m;s[n+1310736+(h+2<<2)>>2]=y;s[n+1310736+(h+3<<2)>>2]=m;s[n+1310736+(h+4<<2)>>2]=m;s[n+1310736+(h+5<<2)>>2]=y;s[n+1310736+(h+6<<2)>>2]=y;break}}if(f){l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}f=a[p+-2>>1]|0;if(f<<16>>16<=0){a[p>>1]=i;l=e*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+y;l=h}}while(0);m=m+1|0;r=r+4|0;f=p+2|0;if((m|0)>=(S|0))break;else{p=f;h=l}}}y=y+1|0;if((y|0)>=(E|0)){t=l;T=52;break e}else{r=r+b|0;f=f+4|0}}eo(3,3904,C);l=-1}else{t=0;T=52}}while(0);if((T|0)==52){i=n+12|0;if((t|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(t|0)){f=f+1|0;u=u+4|0}else break}}e=n+8|0;l=r+-1|0;s[e>>2]=l;if(l){Vu(i|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{u=(s[n+1179664+(i<<2)>>2]|0)+-1|0;f=i*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[e>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function Ai(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}_=r*3|0;S=A+-1|0;if((i|0)>1){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{r=r+(A<<1)|0;u=u+(A<<1)|0}}}u=n+1179664|0;w=0-A|0;g=1-A|0;v=~A;b=(t<<2)+16|0;e:do{if((E|0)>1){k=(S|0)>1;y=1;r=e+((t<<3)+8)|0;f=h+(A+1<<1)|0;l=0;t:while(1){if(k){m=1;p=f;h=l;while(1){do{if(((o[r+2>>0]|0)+(o[r+1>>0]|0)+(o[r+3>>0]|0)|0)>(_|0)){a[p>>1]=0;l=h}else{l=a[p+(w<<1)>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}i=a[p+(g<<1)>>1]|0;e=i<<16>>16;l=a[p+(v<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(i<<16>>16<=0){if(f){a[p>>1]=l;l=t*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=a[p+-2>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(m|0)){l=h;break}s[l>>2]=m;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;a[p>>1]=l;s[n+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;s[n+1310736+(h<<2)>>2]=1;s[n+1310736+(h+1<<2)>>2]=m;s[n+1310736+(h+2<<2)>>2]=y;s[n+1310736+(h+3<<2)>>2]=m;s[n+1310736+(h+4<<2)>>2]=m;s[n+1310736+(h+5<<2)>>2]=y;s[n+1310736+(h+6<<2)>>2]=y;break}}if(f){l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}f=a[p+-2>>1]|0;if(f<<16>>16<=0){a[p>>1]=i;l=e*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+y;l=h}}while(0);m=m+1|0;r=r+8|0;f=p+2|0;if((m|0)>=(S|0))break;else{p=f;h=l}}}y=y+1|0;if((y|0)>=(E|0)){t=l;T=52;break e}else{r=r+b|0;f=f+4|0}}eo(3,3904,C);l=-1}else{t=0;T=52}}while(0);if((T|0)==52){i=n+12|0;if((t|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(t|0)){f=f+1|0;u=u+4|0}else break}}e=n+8|0;l=r+-1|0;s[e>>2]=l;if(l){Vu(i|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{u=(s[n+1179664+(i<<2)>>2]|0)+-1|0;f=i*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[e>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function Mi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}S=A+-1|0;if((i|0)>1){l=0;u=h;f=h+(S<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{u=u+(A<<1)|0;f=f+(A<<1)|0}}}f=n+1179664|0;k=0-A|0;v=1-A|0;w=~A;g=t+4|0;e:do{if((E|0)>1){y=(S|0)>1;_=1;u=e+((t<<1)+2)|0;i=h+(A+1<<1)|0;l=0;t:while(1){if(y){b=1;m=i;p=l;while(1){do{if((o[u>>0]|0|0)>(r|0)){a[m>>1]=0;l=p}else{l=a[m+(k<<1)>>1]|0;if(l<<16>>16>0){a[m>>1]=l;l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}e=a[m+(v<<1)>>1]|0;t=e<<16>>16;l=a[m+(w<<1)>>1]|0;h=l<<16>>16;i=l<<16>>16>0;if(e<<16>>16<=0){if(i){a[m>>1]=l;l=h*7|0;i=n+1310736+(l+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=n+1310736+(l+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+b;i=n+1310736+(l+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+_;i=n+1310736+(l+-3<<2)|0;if((s[i>>2]|0)<(b|0))s[i>>2]=b;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[m+-2>>1]|0;if(l<<16>>16>0){a[m>>1]=l;l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(b|0)){l=p;break}s[l>>2]=b;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;a[m>>1]=l;s[n+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;s[n+1310736+(p<<2)>>2]=1;s[n+1310736+(p+1<<2)>>2]=b;s[n+1310736+(p+2<<2)>>2]=_;s[n+1310736+(p+3<<2)>>2]=b;s[n+1310736+(p+4<<2)>>2]=b;s[n+1310736+(p+5<<2)>>2]=_;s[n+1310736+(p+6<<2)>>2]=_;break}}if(i){l=s[n+1179664+(t+-1<<2)>>2]|0;t=s[n+1179664+(h+-1<<2)>>2]|0;if((l|0)>(t|0)){a[m>>1]=t;if((p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=t;i=i+1|0;if((i|0)>=(p|0)){l=t;break}else e=e+4|0}}else l=t}else{a[m>>1]=l;if((l|0)<(t|0)&(p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=l;i=i+1|0;if((i|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}i=a[m+-2>>1]|0;if(i<<16>>16<=0){a[m>>1]=e;l=t*7|0;i=n+1310736+(l+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=n+1310736+(l+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+b;i=n+1310736+(l+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+_;i=n+1310736+(l+-4<<2)|0;if((s[i>>2]|0)>(b|0))s[i>>2]=b;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}l=s[n+1179664+(t+-1<<2)>>2]|0;t=s[n+1179664+((i<<16>>16)+-1<<2)>>2]|0;if((l|0)>(t|0)){a[m>>1]=t;if((p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=t;i=i+1|0;if((i|0)>=(p|0)){l=t;break}else e=e+4|0}}else l=t}else{a[m>>1]=l;if((l|0)<(t|0)&(p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=l;i=i+1|0;if((i|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=p}}while(0);b=b+1|0;u=u+2|0;i=m+2|0;if((b|0)>=(S|0))break;else{m=i;p=l}}}_=_+1|0;if((_|0)>=(E|0)){h=l;T=52;break e}else{u=u+g|0;i=i+4|0}}eo(3,3904,C);l=-1}else{h=0;T=52}}while(0);if((T|0)==52){e=n+12|0;if((h|0)<1)u=1;else{i=1;u=1;while(1){l=s[f>>2]|0;if((l|0)==(i|0)){l=u;u=u+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[f>>2]=l;if((i|0)<(h|0)){i=i+1|0;f=f+4|0}else break}}t=n+8|0;l=u+-1|0;s[t>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((u|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[t>>2]|0))}if((h|0)>0){e=0;do{f=(s[n+1179664+(e<<2)>>2]|0)+-1|0;i=e*7|0;l=n+12+(f<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(i<<2)>>2]|0);l=f<<1;u=n+655376+(l<<3)|0;c[u>>3]=+c[u>>3]+ +(s[n+1310736+(i+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(i+2<<2)>>2]|0);f=f<<2;l=n+131084+(f<<2)|0;u=s[n+1310736+(i+3<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;l=n+131084+((f|1)<<2)|0;u=s[n+1310736+(i+4<<2)>>2]|0;if((s[l>>2]|0)<(u|0))s[l>>2]=u;l=n+131084+((f|2)<<2)|0;u=s[n+1310736+(i+5<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;u=n+131084+((f|3)<<2)|0;l=s[n+1310736+(i+6<<2)>>2]|0;if((s[u>>2]|0)<(l|0))s[u>>2]=l;e=e+1|0}while((e|0)<(h|0))}if((s[t>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[t>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function xi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}S=A+-1|0;if((i|0)>1){l=0;u=h;f=h+(S<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{u=u+(A<<1)|0;f=f+(A<<1)|0}}}f=n+1179664|0;k=0-A|0;v=1-A|0;w=~A;g=(t<<1)+8|0;e:do{if((E|0)>1){y=(S|0)>1;_=1;u=e+((t<<2)+4)|0;i=h+(A+1<<1)|0;l=0;t:while(1){if(y){b=1;m=i;p=l;while(1){do{if((o[u+1>>0]|0|0)>(r|0)){a[m>>1]=0;l=p}else{l=a[m+(k<<1)>>1]|0;if(l<<16>>16>0){a[m>>1]=l;l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}e=a[m+(v<<1)>>1]|0;t=e<<16>>16;l=a[m+(w<<1)>>1]|0;h=l<<16>>16;i=l<<16>>16>0;if(e<<16>>16<=0){if(i){a[m>>1]=l;l=h*7|0;i=n+1310736+(l+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=n+1310736+(l+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+b;i=n+1310736+(l+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+_;i=n+1310736+(l+-3<<2)|0;if((s[i>>2]|0)<(b|0))s[i>>2]=b;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[m+-2>>1]|0;if(l<<16>>16>0){a[m>>1]=l;l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(b|0)){l=p;break}s[l>>2]=b;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;a[m>>1]=l;s[n+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;s[n+1310736+(p<<2)>>2]=1;s[n+1310736+(p+1<<2)>>2]=b;s[n+1310736+(p+2<<2)>>2]=_;s[n+1310736+(p+3<<2)>>2]=b;s[n+1310736+(p+4<<2)>>2]=b;s[n+1310736+(p+5<<2)>>2]=_;s[n+1310736+(p+6<<2)>>2]=_;break}}if(i){l=s[n+1179664+(t+-1<<2)>>2]|0;t=s[n+1179664+(h+-1<<2)>>2]|0;if((l|0)>(t|0)){a[m>>1]=t;if((p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=t;i=i+1|0;if((i|0)>=(p|0)){l=t;break}else e=e+4|0}}else l=t}else{a[m>>1]=l;if((l|0)<(t|0)&(p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=l;i=i+1|0;if((i|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}i=a[m+-2>>1]|0;if(i<<16>>16<=0){a[m>>1]=e;l=t*7|0;i=n+1310736+(l+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=n+1310736+(l+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+b;i=n+1310736+(l+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+_;i=n+1310736+(l+-4<<2)|0;if((s[i>>2]|0)>(b|0))s[i>>2]=b;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}l=s[n+1179664+(t+-1<<2)>>2]|0;t=s[n+1179664+((i<<16>>16)+-1<<2)>>2]|0;if((l|0)>(t|0)){a[m>>1]=t;if((p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=t;i=i+1|0;if((i|0)>=(p|0)){l=t;break}else e=e+4|0}}else l=t}else{a[m>>1]=l;if((l|0)<(t|0)&(p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=l;i=i+1|0;if((i|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=p}}while(0);b=b+1|0;u=u+4|0;i=m+2|0;if((b|0)>=(S|0))break;else{m=i;p=l}}}_=_+1|0;if((_|0)>=(E|0)){h=l;T=52;break e}else{u=u+g|0;i=i+4|0}}eo(3,3904,C);l=-1}else{h=0;T=52}}while(0);if((T|0)==52){e=n+12|0;if((h|0)<1)u=1;else{i=1;u=1;while(1){l=s[f>>2]|0;if((l|0)==(i|0)){l=u;u=u+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[f>>2]=l;if((i|0)<(h|0)){i=i+1|0;f=f+4|0}else break}}t=n+8|0;l=u+-1|0;s[t>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((u|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[t>>2]|0))}if((h|0)>0){e=0;do{f=(s[n+1179664+(e<<2)>>2]|0)+-1|0;i=e*7|0;l=n+12+(f<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(i<<2)>>2]|0);l=f<<1;u=n+655376+(l<<3)|0;c[u>>3]=+c[u>>3]+ +(s[n+1310736+(i+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(i+2<<2)>>2]|0);f=f<<2;l=n+131084+(f<<2)|0;u=s[n+1310736+(i+3<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;l=n+131084+((f|1)<<2)|0;u=s[n+1310736+(i+4<<2)>>2]|0;if((s[l>>2]|0)<(u|0))s[l>>2]=u;l=n+131084+((f|2)<<2)|0;u=s[n+1310736+(i+5<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;u=n+131084+((f|3)<<2)|0;l=s[n+1310736+(i+6<<2)>>2]|0;if((s[u>>2]|0)<(l|0))s[u>>2]=l;e=e+1|0}while((e|0)<(h|0))}if((s[t>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[t>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function Ri(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}S=A+-1|0;if((i|0)>1){l=0;u=h;f=h+(S<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{u=u+(A<<1)|0;f=f+(A<<1)|0}}}f=n+1179664|0;k=0-A|0;v=1-A|0;w=~A;g=(t<<1)+8|0;e:do{if((E|0)>1){y=(S|0)>1;_=1;u=e+((t<<2)+4)|0;i=h+(A+1<<1)|0;l=0;t:while(1){if(y){b=1;m=i;p=l;while(1){do{if((o[u>>0]|0|0)>(r|0)){a[m>>1]=0;l=p}else{l=a[m+(k<<1)>>1]|0;if(l<<16>>16>0){a[m>>1]=l;l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}e=a[m+(v<<1)>>1]|0;t=e<<16>>16;l=a[m+(w<<1)>>1]|0;h=l<<16>>16;i=l<<16>>16>0;if(e<<16>>16<=0){if(i){a[m>>1]=l;l=h*7|0;i=n+1310736+(l+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=n+1310736+(l+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+b;i=n+1310736+(l+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+_;i=n+1310736+(l+-3<<2)|0;if((s[i>>2]|0)<(b|0))s[i>>2]=b;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[m+-2>>1]|0;if(l<<16>>16>0){a[m>>1]=l;l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(b|0)){l=p;break}s[l>>2]=b;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;a[m>>1]=l;s[n+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;s[n+1310736+(p<<2)>>2]=1;s[n+1310736+(p+1<<2)>>2]=b;s[n+1310736+(p+2<<2)>>2]=_;s[n+1310736+(p+3<<2)>>2]=b;s[n+1310736+(p+4<<2)>>2]=b;s[n+1310736+(p+5<<2)>>2]=_;s[n+1310736+(p+6<<2)>>2]=_;break}}if(i){l=s[n+1179664+(t+-1<<2)>>2]|0;t=s[n+1179664+(h+-1<<2)>>2]|0;if((l|0)>(t|0)){a[m>>1]=t;if((p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=t;i=i+1|0;if((i|0)>=(p|0)){l=t;break}else e=e+4|0}}else l=t}else{a[m>>1]=l;if((l|0)<(t|0)&(p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=l;i=i+1|0;if((i|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}i=a[m+-2>>1]|0;if(i<<16>>16<=0){a[m>>1]=e;l=t*7|0;i=n+1310736+(l+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=n+1310736+(l+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+b;i=n+1310736+(l+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+_;i=n+1310736+(l+-4<<2)|0;if((s[i>>2]|0)>(b|0))s[i>>2]=b;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}l=s[n+1179664+(t+-1<<2)>>2]|0;t=s[n+1179664+((i<<16>>16)+-1<<2)>>2]|0;if((l|0)>(t|0)){a[m>>1]=t;if((p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=t;i=i+1|0;if((i|0)>=(p|0)){l=t;break}else e=e+4|0}}else l=t}else{a[m>>1]=l;if((l|0)<(t|0)&(p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=l;i=i+1|0;if((i|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=p}}while(0);b=b+1|0;u=u+4|0;i=m+2|0;if((b|0)>=(S|0))break;else{m=i;p=l}}}_=_+1|0;if((_|0)>=(E|0)){h=l;T=52;break e}else{u=u+g|0;i=i+4|0}}eo(3,3904,C);l=-1}else{h=0;T=52}}while(0);if((T|0)==52){e=n+12|0;if((h|0)<1)u=1;else{i=1;u=1;while(1){l=s[f>>2]|0;if((l|0)==(i|0)){l=u;u=u+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[f>>2]=l;if((i|0)<(h|0)){i=i+1|0;f=f+4|0}else break}}t=n+8|0;l=u+-1|0;s[t>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((u|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[t>>2]|0))}if((h|0)>0){e=0;do{f=(s[n+1179664+(e<<2)>>2]|0)+-1|0;i=e*7|0;l=n+12+(f<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(i<<2)>>2]|0);l=f<<1;u=n+655376+(l<<3)|0;c[u>>3]=+c[u>>3]+ +(s[n+1310736+(i+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(i+2<<2)>>2]|0);f=f<<2;l=n+131084+(f<<2)|0;u=s[n+1310736+(i+3<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;l=n+131084+((f|1)<<2)|0;u=s[n+1310736+(i+4<<2)>>2]|0;if((s[l>>2]|0)<(u|0))s[l>>2]=u;l=n+131084+((f|2)<<2)|0;u=s[n+1310736+(i+5<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;u=n+131084+((f|3)<<2)|0;l=s[n+1310736+(i+6<<2)>>2]|0;if((s[u>>2]|0)<(l|0))s[u>>2]=l;e=e+1|0}while((e|0)<(h|0))}if((s[t>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[t>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function qi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=r*3|0;S=t+-1|0;if((i|0)>0){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{r=r+(t<<1)|0;u=u+(t<<1)|0}}}u=n+1179664|0;l=t+1|0;k=0-t|0;v=1-t|0;w=~t;e:do{if((C|0)>1){y=(S|0)>1;_=1;r=e+(l*3|0)|0;f=h+(l<<1)|0;l=0;t:while(1){if(y){g=1;b=f;m=l;while(1){do{if(((o[r+1>>0]|0)+(o[r>>0]|0)+(o[r+2>>0]|0)|0)>(E|0)){a[b>>1]=0;l=m}else{l=a[b+(k<<1)>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}e=a[b+(v<<1)>>1]|0;h=e<<16>>16;l=a[b+(w<<1)>>1]|0;p=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){a[b>>1]=l;l=p*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[b+-2>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(g|0)){l=m;break}s[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;a[b>>1]=l;s[n+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;s[n+1310736+(m<<2)>>2]=1;s[n+1310736+(m+1<<2)>>2]=g;s[n+1310736+(m+2<<2)>>2]=_;s[n+1310736+(m+3<<2)>>2]=g;s[n+1310736+(m+4<<2)>>2]=g;s[n+1310736+(m+5<<2)>>2]=_;s[n+1310736+(m+6<<2)>>2]=_;break}}if(f){l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+(p+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}f=a[b+-2>>1]|0;if(f<<16>>16<=0){a[b>>1]=e;l=h*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=m}}while(0);g=g+1|0;r=r+3|0;f=b+2|0;if((g|0)>=(S|0))break;else{b=f;m=l}}}_=_+1|0;if((_|0)>=(C|0)){p=l;A=52;break e}else{r=r+6|0;f=f+4|0}}eo(3,3904,T);l=-1}else{p=0;A=52}}while(0);if((A|0)==52){e=n+12|0;if((p|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(p|0)){f=f+1|0;u=u+4|0}else break}}h=n+8|0;l=r+-1|0;s[h>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[h>>2]|0))}if((p|0)>0){e=0;do{u=(s[n+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;e=e+1|0}while((e|0)<(p|0))}if((s[h>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[h>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function Pi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=r*3|0;S=t+-1|0;if((i|0)>0){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{r=r+(t<<1)|0;u=u+(t<<1)|0}}}u=n+1179664|0;l=t+1|0;k=0-t|0;v=1-t|0;w=~t;e:do{if((C|0)>1){y=(S|0)>1;_=1;r=e+(l<<1)|0;f=h+(l<<1)|0;l=0;t:while(1){if(y){g=1;b=f;m=l;while(1){h=o[r>>0]|0;p=o[r+1>>0]|0;do{if(((h&248)+10+(h<<5&224)+(p>>>3&28)+(p<<3&248)|0)>(E|0)){a[b>>1]=0;l=m}else{l=a[b+(k<<1)>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}e=a[b+(v<<1)>>1]|0;h=e<<16>>16;l=a[b+(w<<1)>>1]|0;p=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){a[b>>1]=l;l=p*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[b+-2>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(g|0)){l=m;break}s[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;a[b>>1]=l;s[n+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;s[n+1310736+(m<<2)>>2]=1;s[n+1310736+(m+1<<2)>>2]=g;s[n+1310736+(m+2<<2)>>2]=_;s[n+1310736+(m+3<<2)>>2]=g;s[n+1310736+(m+4<<2)>>2]=g;s[n+1310736+(m+5<<2)>>2]=_;s[n+1310736+(m+6<<2)>>2]=_;break}}if(f){l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+(p+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}f=a[b+-2>>1]|0;if(f<<16>>16<=0){a[b>>1]=e;l=h*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=m}}while(0);g=g+1|0;r=r+2|0;f=b+2|0;if((g|0)>=(S|0))break;else{b=f;m=l}}}_=_+1|0;if((_|0)>=(C|0)){p=l;A=52;break e}else{r=r+4|0;f=f+4|0}}eo(3,3904,T);l=-1}else{p=0;A=52}}while(0);if((A|0)==52){e=n+12|0;if((p|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(p|0)){f=f+1|0;u=u+4|0}else break}}h=n+8|0;l=r+-1|0;s[h>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[h>>2]|0))}if((p|0)>0){e=0;do{u=(s[n+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;e=e+1|0}while((e|0)<(p|0))}if((s[h>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[h>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function Ii(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=r*3|0;S=t+-1|0;if((i|0)>0){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{r=r+(t<<1)|0;u=u+(t<<1)|0}}}u=n+1179664|0;l=t+1|0;k=0-t|0;v=1-t|0;w=~t;e:do{if((C|0)>1){y=(S|0)>1;_=1;r=e+(l<<2)|0;f=h+(l<<1)|0;l=0;t:while(1){if(y){g=1;b=f;m=l;while(1){do{if(((o[r+1>>0]|0)+(o[r>>0]|0)+(o[r+2>>0]|0)|0)>(E|0)){a[b>>1]=0;l=m}else{l=a[b+(k<<1)>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}e=a[b+(v<<1)>>1]|0;h=e<<16>>16;l=a[b+(w<<1)>>1]|0;p=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){a[b>>1]=l;l=p*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[b+-2>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(g|0)){l=m;break}s[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;a[b>>1]=l;s[n+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;s[n+1310736+(m<<2)>>2]=1;s[n+1310736+(m+1<<2)>>2]=g;s[n+1310736+(m+2<<2)>>2]=_;s[n+1310736+(m+3<<2)>>2]=g;s[n+1310736+(m+4<<2)>>2]=g;s[n+1310736+(m+5<<2)>>2]=_;s[n+1310736+(m+6<<2)>>2]=_;break}}if(f){l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+(p+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}f=a[b+-2>>1]|0;if(f<<16>>16<=0){a[b>>1]=e;l=h*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=m}}while(0);g=g+1|0;r=r+4|0;f=b+2|0;if((g|0)>=(S|0))break;else{b=f;m=l}}}_=_+1|0;if((_|0)>=(C|0)){p=l;A=52;break e}else{r=r+8|0;f=f+4|0}}eo(3,3904,T);l=-1}else{p=0;A=52}}while(0);if((A|0)==52){e=n+12|0;if((p|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(p|0)){f=f+1|0;u=u+4|0}else break}}h=n+8|0;l=r+-1|0;s[h>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[h>>2]|0))}if((p|0)>0){e=0;do{u=(s[n+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;e=e+1|0}while((e|0)<(p|0))}if((s[h>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[h>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function Fi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=r*3|0;S=t+-1|0;if((i|0)>0){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{r=r+(t<<1)|0;u=u+(t<<1)|0}}}u=n+1179664|0;l=t+1|0;k=0-t|0;v=1-t|0;w=~t;e:do{if((C|0)>1){y=(S|0)>1;_=1;r=e+(l<<1)|0;f=h+(l<<1)|0;l=0;t:while(1){if(y){g=1;b=f;m=l;while(1){p=o[r>>0]|0;do{if(((p&240)+24+(p<<4&240)+((o[r+1>>0]|0)&240)|0)>(E|0)){a[b>>1]=0;l=m}else{l=a[b+(k<<1)>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}e=a[b+(v<<1)>>1]|0;h=e<<16>>16;l=a[b+(w<<1)>>1]|0;p=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){a[b>>1]=l;l=p*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[b+-2>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(g|0)){l=m;break}s[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;a[b>>1]=l;s[n+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;s[n+1310736+(m<<2)>>2]=1;s[n+1310736+(m+1<<2)>>2]=g;s[n+1310736+(m+2<<2)>>2]=_;s[n+1310736+(m+3<<2)>>2]=g;s[n+1310736+(m+4<<2)>>2]=g;s[n+1310736+(m+5<<2)>>2]=_;s[n+1310736+(m+6<<2)>>2]=_;break}}if(f){l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+(p+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}f=a[b+-2>>1]|0;if(f<<16>>16<=0){a[b>>1]=e;l=h*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=m}}while(0);g=g+1|0;r=r+2|0;f=b+2|0;if((g|0)>=(S|0))break;else{b=f;m=l}}}_=_+1|0;if((_|0)>=(C|0)){p=l;A=52;break e}else{r=r+4|0;f=f+4|0}}eo(3,3904,T);l=-1}else{p=0;A=52}}while(0);if((A|0)==52){e=n+12|0;if((p|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(p|0)){f=f+1|0;u=u+4|0}else break}}h=n+8|0;l=r+-1|0;s[h>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[h>>2]|0))}if((p|0)>0){e=0;do{u=(s[n+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;e=e+1|0}while((e|0)<(p|0))}if((s[h>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[h>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function Oi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=r*3|0;S=t+-1|0;if((i|0)>0){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{r=r+(t<<1)|0;u=u+(t<<1)|0}}}u=n+1179664|0;l=t+1|0;k=0-t|0;v=1-t|0;w=~t;e:do{if((C|0)>1){y=(S|0)>1;_=1;r=e+(l<<1)|0;f=h+(l<<1)|0;l=0;t:while(1){if(y){g=1;b=f;m=l;while(1){h=o[r>>0]|0;p=o[r+1>>0]|0;do{if(((h&248)+12+(h<<5&224)+(p>>>3&24)+(p<<2&248)|0)>(E|0)){a[b>>1]=0;l=m}else{l=a[b+(k<<1)>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}e=a[b+(v<<1)>>1]|0;h=e<<16>>16;l=a[b+(w<<1)>>1]|0;p=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){a[b>>1]=l;l=p*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[b+-2>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(g|0)){l=m;break}s[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;a[b>>1]=l;s[n+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;s[n+1310736+(m<<2)>>2]=1;s[n+1310736+(m+1<<2)>>2]=g;s[n+1310736+(m+2<<2)>>2]=_;s[n+1310736+(m+3<<2)>>2]=g;s[n+1310736+(m+4<<2)>>2]=g;s[n+1310736+(m+5<<2)>>2]=_;s[n+1310736+(m+6<<2)>>2]=_;break}}if(f){l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+(p+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}f=a[b+-2>>1]|0;if(f<<16>>16<=0){a[b>>1]=e;l=h*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=m}}while(0);g=g+1|0;r=r+2|0;f=b+2|0;if((g|0)>=(S|0))break;else{b=f;m=l}}}_=_+1|0;if((_|0)>=(C|0)){p=l;A=52;break e}else{r=r+4|0;f=f+4|0}}eo(3,3904,T);l=-1}else{p=0;A=52}}while(0);if((A|0)==52){e=n+12|0;if((p|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(p|0)){f=f+1|0;u=u+4|0}else break}}h=n+8|0;l=r+-1|0;s[h>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[h>>2]|0))}if((p|0)>0){e=0;do{u=(s[n+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;e=e+1|0}while((e|0)<(p|0))}if((s[h>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[h>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function Ni(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=r*3|0;S=t+-1|0;if((i|0)>0){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{r=r+(t<<1)|0;u=u+(t<<1)|0}}}u=n+1179664|0;l=t+1|0;k=0-t|0;v=1-t|0;w=~t;e:do{if((C|0)>1){y=(S|0)>1;_=1;r=e+(l<<2)|0;f=h+(l<<1)|0;l=0;t:while(1){if(y){g=1;b=f;m=l;while(1){do{if(((o[r+2>>0]|0)+(o[r+1>>0]|0)+(o[r+3>>0]|0)|0)>(E|0)){a[b>>1]=0;l=m}else{l=a[b+(k<<1)>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}e=a[b+(v<<1)>>1]|0;h=e<<16>>16;l=a[b+(w<<1)>>1]|0;p=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){a[b>>1]=l;l=p*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[b+-2>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(g|0)){l=m;break}s[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;a[b>>1]=l;s[n+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;s[n+1310736+(m<<2)>>2]=1;s[n+1310736+(m+1<<2)>>2]=g;s[n+1310736+(m+2<<2)>>2]=_;s[n+1310736+(m+3<<2)>>2]=g;s[n+1310736+(m+4<<2)>>2]=g;s[n+1310736+(m+5<<2)>>2]=_;s[n+1310736+(m+6<<2)>>2]=_;break}}if(f){l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+(p+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}f=a[b+-2>>1]|0;if(f<<16>>16<=0){a[b>>1]=e;l=h*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=m}}while(0);g=g+1|0;r=r+4|0;f=b+2|0;if((g|0)>=(S|0))break;else{b=f;m=l}}}_=_+1|0;if((_|0)>=(C|0)){p=l;A=52;break e}else{r=r+8|0;f=f+4|0}}eo(3,3904,T);l=-1}else{p=0;A=52}}while(0);if((A|0)==52){e=n+12|0;if((p|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(p|0)){f=f+1|0;u=u+4|0}else break}}h=n+8|0;l=r+-1|0;s[h>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[h>>2]|0))}if((p|0)>0){e=0;do{u=(s[n+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;e=e+1|0}while((e|0)<(p|0))}if((s[h>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[h>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function Di(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=t+-1|0;if((i|0)>0){l=0;u=h;f=h+(E<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{u=u+(t<<1)|0;f=f+(t<<1)|0}}}f=n+1179664|0;l=t+1|0;y=0-t|0;w=1-t|0;k=~t;e:do{if((C|0)>1){_=(E|0)>1;S=1;u=e+l|0;e=h+(l<<1)|0;l=0;t:while(1){if(_){v=1;g=e;b=l;while(1){do{if((o[u>>0]|0|0)>(r|0)){a[g>>1]=0;l=b}else{l=a[g+(y<<1)>>1]|0;if(l<<16>>16>0){a[g>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}h=a[g+(w<<1)>>1]|0;p=h<<16>>16;l=a[g+(k<<1)>>1]|0;m=l<<16>>16;e=l<<16>>16>0;if(h<<16>>16<=0){if(e){a[g>>1]=l;l=m*7|0;e=n+1310736+(l+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=n+1310736+(l+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+v;e=n+1310736+(l+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+S;e=n+1310736+(l+-3<<2)|0;if((s[e>>2]|0)<(v|0))s[e>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=a[g+-2>>1]|0;if(l<<16>>16>0){a[g>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(v|0)){l=b;break}s[l>>2]=v;l=b;break}else{l=b+1|0;if((b|0)>32767)break t;a[g>>1]=l;s[n+1179664+(b<<2)>>2]=l<<16>>16;b=b*7|0;s[n+1310736+(b<<2)>>2]=1;s[n+1310736+(b+1<<2)>>2]=v;s[n+1310736+(b+2<<2)>>2]=S;s[n+1310736+(b+3<<2)>>2]=v;s[n+1310736+(b+4<<2)>>2]=v;s[n+1310736+(b+5<<2)>>2]=S;s[n+1310736+(b+6<<2)>>2]=S;break}}if(e){l=s[n+1179664+(p+-1<<2)>>2]|0;p=s[n+1179664+(m+-1<<2)>>2]|0;if((l|0)>(p|0)){a[g>>1]=p;if((b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(l|0))s[h>>2]=p;e=e+1|0;if((e|0)>=(b|0)){l=p;break}else h=h+4|0}}else l=p}else{a[g>>1]=l;if((l|0)<(p|0)&(b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(p|0))s[h>>2]=l;e=e+1|0;if((e|0)>=(b|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=a[g+-2>>1]|0;if(l<<16>>16<=0){a[g>>1]=h;l=p*7|0;e=n+1310736+(l+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=n+1310736+(l+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+v;e=n+1310736+(l+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+S;e=n+1310736+(l+-4<<2)|0;if((s[e>>2]|0)>(v|0))s[e>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}p=s[n+1179664+(p+-1<<2)>>2]|0;l=s[n+1179664+((l<<16>>16)+-1<<2)>>2]|0;if((p|0)>(l|0)){a[g>>1]=l;if((b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(p|0))s[h>>2]=l;e=e+1|0;if((e|0)>=(b|0))break;else h=h+4|0}}}else{a[g>>1]=p;if((p|0)<(l|0)&(b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(l|0))s[h>>2]=p;e=e+1|0;if((e|0)>=(b|0)){l=p;break}else h=h+4|0}}else l=p}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+S;l=b}}while(0);v=v+1|0;u=u+1|0;e=g+2|0;if((v|0)>=(E|0))break;else{g=e;b=l}}}S=S+1|0;if((S|0)>=(C|0)){m=l;A=52;break e}else{u=u+2|0;e=e+4|0}}eo(3,3904,T);l=-1}else{m=0;A=52}}while(0);if((A|0)==52){h=n+12|0;if((m|0)<1)u=1;else{e=1;u=1;while(1){l=s[f>>2]|0;if((l|0)==(e|0)){l=u;u=u+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[f>>2]=l;if((e|0)<(m|0)){e=e+1|0;f=f+4|0}else break}}p=n+8|0;l=u+-1|0;s[p>>2]=l;if(l){Vu(h|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((u|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[p>>2]|0))}if((m|0)>0){h=0;do{f=(s[n+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=n+12+(f<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(e<<2)>>2]|0);l=f<<1;u=n+655376+(l<<3)|0;c[u>>3]=+c[u>>3]+ +(s[n+1310736+(e+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(e+2<<2)>>2]|0);f=f<<2;l=n+131084+(f<<2)|0;u=s[n+1310736+(e+3<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;l=n+131084+((f|1)<<2)|0;u=s[n+1310736+(e+4<<2)>>2]|0;if((s[l>>2]|0)<(u|0))s[l>>2]=u;l=n+131084+((f|2)<<2)|0;u=s[n+1310736+(e+5<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;u=n+131084+((f|3)<<2)|0;l=s[n+1310736+(e+6<<2)>>2]|0;if((s[u>>2]|0)<(l|0))s[u>>2]=l;h=h+1|0}while((h|0)<(m|0))}if((s[p>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[p>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function $i(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=t+-1|0;if((i|0)>0){l=0;u=h;f=h+(E<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{u=u+(t<<1)|0;f=f+(t<<1)|0}}}f=n+1179664|0;l=t+1|0;y=0-t|0;w=1-t|0;k=~t;e:do{if((C|0)>1){_=(E|0)>1;S=1;u=e+(l<<1)|0;e=h+(l<<1)|0;l=0;t:while(1){if(_){v=1;g=e;b=l;while(1){do{if((o[u+1>>0]|0|0)>(r|0)){a[g>>1]=0;l=b}else{l=a[g+(y<<1)>>1]|0;if(l<<16>>16>0){a[g>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}h=a[g+(w<<1)>>1]|0;p=h<<16>>16;l=a[g+(k<<1)>>1]|0;m=l<<16>>16;e=l<<16>>16>0;if(h<<16>>16<=0){if(e){a[g>>1]=l;l=m*7|0;e=n+1310736+(l+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=n+1310736+(l+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+v;e=n+1310736+(l+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+S;e=n+1310736+(l+-3<<2)|0;if((s[e>>2]|0)<(v|0))s[e>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=a[g+-2>>1]|0;if(l<<16>>16>0){a[g>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(v|0)){l=b;break}s[l>>2]=v;l=b;break}else{l=b+1|0;if((b|0)>32767)break t;a[g>>1]=l;s[n+1179664+(b<<2)>>2]=l<<16>>16;b=b*7|0;s[n+1310736+(b<<2)>>2]=1;s[n+1310736+(b+1<<2)>>2]=v;s[n+1310736+(b+2<<2)>>2]=S;s[n+1310736+(b+3<<2)>>2]=v;s[n+1310736+(b+4<<2)>>2]=v;s[n+1310736+(b+5<<2)>>2]=S;s[n+1310736+(b+6<<2)>>2]=S;break}}if(e){l=s[n+1179664+(p+-1<<2)>>2]|0;p=s[n+1179664+(m+-1<<2)>>2]|0;if((l|0)>(p|0)){a[g>>1]=p;if((b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(l|0))s[h>>2]=p;e=e+1|0;if((e|0)>=(b|0)){l=p;break}else h=h+4|0}}else l=p}else{a[g>>1]=l;if((l|0)<(p|0)&(b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(p|0))s[h>>2]=l;e=e+1|0;if((e|0)>=(b|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}e=a[g+-2>>1]|0;if(e<<16>>16<=0){a[g>>1]=h;l=p*7|0;e=n+1310736+(l+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=n+1310736+(l+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+v;e=n+1310736+(l+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+S;e=n+1310736+(l+-4<<2)|0;if((s[e>>2]|0)>(v|0))s[e>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=s[n+1179664+(p+-1<<2)>>2]|0;p=s[n+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((l|0)>(p|0)){a[g>>1]=p;if((b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(l|0))s[h>>2]=p;e=e+1|0;if((e|0)>=(b|0)){l=p;break}else h=h+4|0}}else l=p}else{a[g>>1]=l;if((l|0)<(p|0)&(b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(p|0))s[h>>2]=l;e=e+1|0;if((e|0)>=(b|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+S;l=b}}while(0);v=v+1|0;u=u+2|0;e=g+2|0;if((v|0)>=(E|0))break;else{g=e;b=l}}}S=S+1|0;if((S|0)>=(C|0)){m=l;A=52;break e}else{u=u+4|0;e=e+4|0}}eo(3,3904,T);l=-1}else{m=0;A=52}}while(0);if((A|0)==52){h=n+12|0;if((m|0)<1)u=1;else{e=1;u=1;while(1){l=s[f>>2]|0;if((l|0)==(e|0)){l=u;u=u+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[f>>2]=l;if((e|0)<(m|0)){e=e+1|0;f=f+4|0}else break}}p=n+8|0;l=u+-1|0;s[p>>2]=l;if(l){Vu(h|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((u|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[p>>2]|0))}if((m|0)>0){h=0;do{f=(s[n+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=n+12+(f<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(e<<2)>>2]|0);l=f<<1;u=n+655376+(l<<3)|0;c[u>>3]=+c[u>>3]+ +(s[n+1310736+(e+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(e+2<<2)>>2]|0);f=f<<2;l=n+131084+(f<<2)|0;u=s[n+1310736+(e+3<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;l=n+131084+((f|1)<<2)|0;u=s[n+1310736+(e+4<<2)>>2]|0;if((s[l>>2]|0)<(u|0))s[l>>2]=u;l=n+131084+((f|2)<<2)|0;u=s[n+1310736+(e+5<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;u=n+131084+((f|3)<<2)|0;l=s[n+1310736+(e+6<<2)>>2]|0;if((s[u>>2]|0)<(l|0))s[u>>2]=l;h=h+1|0}while((h|0)<(m|0))}if((s[p>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[p>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function Li(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=t+-1|0;if((i|0)>0){l=0;u=h;f=h+(E<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{u=u+(t<<1)|0;f=f+(t<<1)|0}}}f=n+1179664|0;l=t+1|0;y=0-t|0;w=1-t|0;k=~t;e:do{if((C|0)>1){_=(E|0)>1;S=1;u=e+(l<<1)|0;e=h+(l<<1)|0;l=0;t:while(1){if(_){v=1;g=e;b=l;while(1){do{if((o[u>>0]|0|0)>(r|0)){a[g>>1]=0;l=b}else{l=a[g+(y<<1)>>1]|0;if(l<<16>>16>0){a[g>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}h=a[g+(w<<1)>>1]|0;p=h<<16>>16;l=a[g+(k<<1)>>1]|0;m=l<<16>>16;e=l<<16>>16>0;if(h<<16>>16<=0){if(e){a[g>>1]=l;l=m*7|0;e=n+1310736+(l+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=n+1310736+(l+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+v;e=n+1310736+(l+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+S;e=n+1310736+(l+-3<<2)|0;if((s[e>>2]|0)<(v|0))s[e>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=a[g+-2>>1]|0;if(l<<16>>16>0){a[g>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(v|0)){l=b;break}s[l>>2]=v;l=b;break}else{l=b+1|0;if((b|0)>32767)break t;a[g>>1]=l;s[n+1179664+(b<<2)>>2]=l<<16>>16;b=b*7|0;s[n+1310736+(b<<2)>>2]=1;s[n+1310736+(b+1<<2)>>2]=v;s[n+1310736+(b+2<<2)>>2]=S;s[n+1310736+(b+3<<2)>>2]=v;s[n+1310736+(b+4<<2)>>2]=v;s[n+1310736+(b+5<<2)>>2]=S;s[n+1310736+(b+6<<2)>>2]=S;break}}if(e){l=s[n+1179664+(p+-1<<2)>>2]|0;p=s[n+1179664+(m+-1<<2)>>2]|0;if((l|0)>(p|0)){a[g>>1]=p;if((b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(l|0))s[h>>2]=p;e=e+1|0;if((e|0)>=(b|0)){l=p;break}else h=h+4|0}}else l=p}else{a[g>>1]=l;if((l|0)<(p|0)&(b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(p|0))s[h>>2]=l;e=e+1|0;if((e|0)>=(b|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=a[g+-2>>1]|0;if(l<<16>>16<=0){a[g>>1]=h;l=p*7|0;e=n+1310736+(l+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=n+1310736+(l+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+v;e=n+1310736+(l+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+S;e=n+1310736+(l+-4<<2)|0;if((s[e>>2]|0)>(v|0))s[e>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}p=s[n+1179664+(p+-1<<2)>>2]|0;l=s[n+1179664+((l<<16>>16)+-1<<2)>>2]|0;if((p|0)>(l|0)){a[g>>1]=l;if((b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(p|0))s[h>>2]=l;e=e+1|0;if((e|0)>=(b|0))break;else h=h+4|0}}}else{a[g>>1]=p;if((p|0)<(l|0)&(b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(l|0))s[h>>2]=p;e=e+1|0;if((e|0)>=(b|0)){l=p;break}else h=h+4|0}}else l=p}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+S;l=b}}while(0);v=v+1|0;u=u+2|0;e=g+2|0;if((v|0)>=(E|0))break;else{g=e;b=l}}}S=S+1|0;if((S|0)>=(C|0)){m=l;A=52;break e}else{u=u+4|0;e=e+4|0}}eo(3,3904,T);l=-1}else{m=0;A=52}}while(0);if((A|0)==52){h=n+12|0;if((m|0)<1)u=1;else{e=1;u=1;while(1){l=s[f>>2]|0;if((l|0)==(e|0)){l=u;u=u+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[f>>2]=l;if((e|0)<(m|0)){e=e+1|0;f=f+4|0}else break}}p=n+8|0;l=u+-1|0;s[p>>2]=l;if(l){Vu(h|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((u|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[p>>2]|0))}if((m|0)>0){h=0;do{f=(s[n+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=n+12+(f<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(e<<2)>>2]|0);l=f<<1;u=n+655376+(l<<3)|0;c[u>>3]=+c[u>>3]+ +(s[n+1310736+(e+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(e+2<<2)>>2]|0);f=f<<2;l=n+131084+(f<<2)|0;u=s[n+1310736+(e+3<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;l=n+131084+((f|1)<<2)|0;u=s[n+1310736+(e+4<<2)>>2]|0;if((s[l>>2]|0)<(u|0))s[l>>2]=u;l=n+131084+((f|2)<<2)|0;u=s[n+1310736+(e+5<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;u=n+131084+((f|3)<<2)|0;l=s[n+1310736+(e+6<<2)>>2]|0;if((s[u>>2]|0)<(l|0))s[u>>2]=l;h=h+1|0}while((h|0)<(m|0))}if((s[p>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[p>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function Hi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=t+-1|0;if((i|0)>0){l=0;u=h;f=h+(E<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{u=u+(t<<1)|0;f=f+(t<<1)|0}}}f=n+1179664|0;l=t+1|0;y=0-t|0;w=1-t|0;k=~t;e:do{if((C|0)>1){_=(E|0)>1;S=1;u=e+l|0;e=h+(l<<1)|0;h=r+l|0;l=0;t:while(1){if(_){v=1;g=u;b=l;while(1){do{if((o[g>>0]|0)>(o[h>>0]|0)){a[e>>1]=0;l=b}else{l=a[e+(y<<1)>>1]|0;if(l<<16>>16>0){a[e>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}r=a[e+(w<<1)>>1]|0;p=r<<16>>16;l=a[e+(k<<1)>>1]|0;m=l<<16>>16;u=l<<16>>16>0;if(r<<16>>16<=0){if(u){a[e>>1]=l;l=m*7|0;u=n+1310736+(l+-7<<2)|0;s[u>>2]=(s[u>>2]|0)+1;u=n+1310736+(l+-6<<2)|0;s[u>>2]=(s[u>>2]|0)+v;u=n+1310736+(l+-5<<2)|0;s[u>>2]=(s[u>>2]|0)+S;u=n+1310736+(l+-3<<2)|0;if((s[u>>2]|0)<(v|0))s[u>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=a[e+-2>>1]|0;if(l<<16>>16>0){a[e>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(v|0)){l=b;break}s[l>>2]=v;l=b;break}else{l=b+1|0;if((b|0)>32767)break t;a[e>>1]=l;s[n+1179664+(b<<2)>>2]=l<<16>>16;b=b*7|0;s[n+1310736+(b<<2)>>2]=1;s[n+1310736+(b+1<<2)>>2]=v;s[n+1310736+(b+2<<2)>>2]=S;s[n+1310736+(b+3<<2)>>2]=v;s[n+1310736+(b+4<<2)>>2]=v;s[n+1310736+(b+5<<2)>>2]=S;s[n+1310736+(b+6<<2)>>2]=S;break}}if(u){l=s[n+1179664+(p+-1<<2)>>2]|0;p=s[n+1179664+(m+-1<<2)>>2]|0;if((l|0)>(p|0)){a[e>>1]=p;if((b|0)>0){u=0;r=f;while(1){if((s[r>>2]|0)==(l|0))s[r>>2]=p;u=u+1|0;if((u|0)>=(b|0)){l=p;break}else r=r+4|0}}else l=p}else{a[e>>1]=l;if((l|0)<(p|0)&(b|0)>0){u=0;r=f;while(1){if((s[r>>2]|0)==(p|0))s[r>>2]=l;u=u+1|0;if((u|0)>=(b|0))break;else r=r+4|0}}}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=a[e+-2>>1]|0;if(l<<16>>16<=0){a[e>>1]=r;l=p*7|0;u=n+1310736+(l+-7<<2)|0;s[u>>2]=(s[u>>2]|0)+1;u=n+1310736+(l+-6<<2)|0;s[u>>2]=(s[u>>2]|0)+v;u=n+1310736+(l+-5<<2)|0;s[u>>2]=(s[u>>2]|0)+S;u=n+1310736+(l+-4<<2)|0;if((s[u>>2]|0)>(v|0))s[u>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}p=s[n+1179664+(p+-1<<2)>>2]|0;l=s[n+1179664+((l<<16>>16)+-1<<2)>>2]|0;if((p|0)>(l|0)){a[e>>1]=l;if((b|0)>0){u=0;r=f;while(1){if((s[r>>2]|0)==(p|0))s[r>>2]=l;u=u+1|0;if((u|0)>=(b|0))break;else r=r+4|0}}}else{a[e>>1]=p;if((p|0)<(l|0)&(b|0)>0){u=0;r=f;while(1){if((s[r>>2]|0)==(l|0))s[r>>2]=p;u=u+1|0;if((u|0)>=(b|0)){l=p;break}else r=r+4|0}}else l=p}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+S;l=b}}while(0);v=v+1|0;u=g+1|0;h=h+1|0;e=e+2|0;if((v|0)>=(E|0))break;else{g=u;b=l}}}S=S+1|0;if((S|0)>=(C|0)){p=l;A=52;break e}else{u=u+2|0;e=e+4|0;h=h+2|0}}eo(3,3904,T);l=-1}else{p=0;A=52}}while(0);if((A|0)==52){h=n+12|0;if((p|0)<1)u=1;else{e=1;u=1;while(1){l=s[f>>2]|0;if((l|0)==(e|0)){l=u;u=u+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[f>>2]=l;if((e|0)<(p|0)){e=e+1|0;f=f+4|0}else break}}r=n+8|0;l=u+-1|0;s[r>>2]=l;if(l){Vu(h|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((u|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[r>>2]|0))}if((p|0)>0){h=0;do{f=(s[n+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=n+12+(f<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(e<<2)>>2]|0);l=f<<1;u=n+655376+(l<<3)|0;c[u>>3]=+c[u>>3]+ +(s[n+1310736+(e+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(e+2<<2)>>2]|0);f=f<<2;l=n+131084+(f<<2)|0;u=s[n+1310736+(e+3<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;l=n+131084+((f|1)<<2)|0;u=s[n+1310736+(e+4<<2)>>2]|0;if((s[l>>2]|0)<(u|0))s[l>>2]=u;l=n+131084+((f|2)<<2)|0;u=s[n+1310736+(e+5<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;u=n+131084+((f|3)<<2)|0;l=s[n+1310736+(e+6<<2)>>2]|0;if((s[u>>2]|0)<(l|0))s[u>>2]=l;h=h+1|0}while((h|0)<(p|0))}if((s[r>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[r>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function ji(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}_=r*3|0;S=A+-1|0;if((i|0)>1){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{r=r+(A<<1)|0;u=u+(A<<1)|0}}}u=n+1179664|0;w=0-A|0;g=1-A|0;v=~A;b=(t*3|0)+12|0;e:do{if((E|0)>1){k=(S|0)>1;y=1;r=e+((t*6|0)+6)|0;f=h+(A+1<<1)|0;l=0;t:while(1){if(k){m=1;p=f;h=l;while(1){do{if(((o[r+1>>0]|0)+(o[r>>0]|0)+(o[r+2>>0]|0)|0)>(_|0)){l=a[p+(w<<1)>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}i=a[p+(g<<1)>>1]|0;e=i<<16>>16;l=a[p+(v<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(i<<16>>16<=0){if(f){a[p>>1]=l;l=t*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=a[p+-2>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(m|0)){l=h;break}s[l>>2]=m;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;a[p>>1]=l;s[n+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;s[n+1310736+(h<<2)>>2]=1;s[n+1310736+(h+1<<2)>>2]=m;s[n+1310736+(h+2<<2)>>2]=y;s[n+1310736+(h+3<<2)>>2]=m;s[n+1310736+(h+4<<2)>>2]=m;s[n+1310736+(h+5<<2)>>2]=y;s[n+1310736+(h+6<<2)>>2]=y;break}}if(f){l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}f=a[p+-2>>1]|0;if(f<<16>>16<=0){a[p>>1]=i;l=e*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+y;l=h}else{a[p>>1]=0;l=h}}while(0);m=m+1|0;r=r+6|0;f=p+2|0;if((m|0)>=(S|0))break;else{p=f;h=l}}}y=y+1|0;if((y|0)>=(E|0)){t=l;T=52;break e}else{r=r+b|0;f=f+4|0}}eo(3,3904,C);l=-1}else{t=0;T=52}}while(0);if((T|0)==52){i=n+12|0;if((t|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(t|0)){f=f+1|0;u=u+4|0}else break}}e=n+8|0;l=r+-1|0;s[e>>2]=l;if(l){Vu(i|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{u=(s[n+1179664+(i<<2)>>2]|0)+-1|0;f=i*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[e>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function zi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}_=r*3|0;S=A+-1|0;if((i|0)>1){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{r=r+(A<<1)|0;u=u+(A<<1)|0}}}u=n+1179664|0;w=0-A|0;g=1-A|0;v=~A;b=(t<<1)+8|0;e:do{if((E|0)>1){k=(S|0)>1;y=1;r=e+((t<<2)+4)|0;f=h+(A+1<<1)|0;l=0;t:while(1){if(k){m=1;p=f;h=l;while(1){e=o[r>>0]|0;t=o[r+1>>0]|0;do{if(((e&248)+10+(e<<5&224)+(t>>>3&28)+(t<<3&248)|0)>(_|0)){l=a[p+(w<<1)>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}i=a[p+(g<<1)>>1]|0;e=i<<16>>16;l=a[p+(v<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(i<<16>>16<=0){if(f){a[p>>1]=l;l=t*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=a[p+-2>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(m|0)){l=h;break}s[l>>2]=m;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;a[p>>1]=l;s[n+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;s[n+1310736+(h<<2)>>2]=1;s[n+1310736+(h+1<<2)>>2]=m;s[n+1310736+(h+2<<2)>>2]=y;s[n+1310736+(h+3<<2)>>2]=m;s[n+1310736+(h+4<<2)>>2]=m;s[n+1310736+(h+5<<2)>>2]=y;s[n+1310736+(h+6<<2)>>2]=y;break}}if(f){l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}f=a[p+-2>>1]|0;if(f<<16>>16<=0){a[p>>1]=i;l=e*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+y;l=h}else{a[p>>1]=0;l=h}}while(0);m=m+1|0;r=r+4|0;f=p+2|0;if((m|0)>=(S|0))break;else{p=f;h=l}}}y=y+1|0;if((y|0)>=(E|0)){t=l;T=52;break e}else{r=r+b|0;f=f+4|0}}eo(3,3904,C);l=-1}else{t=0;T=52}}while(0);if((T|0)==52){i=n+12|0;if((t|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(t|0)){f=f+1|0;u=u+4|0}else break}}e=n+8|0;l=r+-1|0;s[e>>2]=l;if(l){Vu(i|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{u=(s[n+1179664+(i<<2)>>2]|0)+-1|0;f=i*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[e>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function Bi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}_=r*3|0;S=A+-1|0;if((i|0)>1){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{r=r+(A<<1)|0;u=u+(A<<1)|0}}}u=n+1179664|0;w=0-A|0;g=1-A|0;v=~A;b=(t<<2)+16|0;e:do{if((E|0)>1){k=(S|0)>1;y=1;r=e+((t<<3)+8)|0;f=h+(A+1<<1)|0;l=0;t:while(1){if(k){m=1;p=f;h=l;while(1){do{if(((o[r+1>>0]|0)+(o[r>>0]|0)+(o[r+2>>0]|0)|0)>(_|0)){l=a[p+(w<<1)>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}i=a[p+(g<<1)>>1]|0;e=i<<16>>16;l=a[p+(v<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(i<<16>>16<=0){if(f){a[p>>1]=l;l=t*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=a[p+-2>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(m|0)){l=h;break}s[l>>2]=m;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;a[p>>1]=l;s[n+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;s[n+1310736+(h<<2)>>2]=1;s[n+1310736+(h+1<<2)>>2]=m;s[n+1310736+(h+2<<2)>>2]=y;s[n+1310736+(h+3<<2)>>2]=m;s[n+1310736+(h+4<<2)>>2]=m;s[n+1310736+(h+5<<2)>>2]=y;s[n+1310736+(h+6<<2)>>2]=y;break}}if(f){l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}f=a[p+-2>>1]|0;if(f<<16>>16<=0){a[p>>1]=i;l=e*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+y;l=h}else{a[p>>1]=0;l=h}}while(0);m=m+1|0;r=r+8|0;f=p+2|0;if((m|0)>=(S|0))break;else{p=f;h=l}}}y=y+1|0;if((y|0)>=(E|0)){t=l;T=52;break e}else{r=r+b|0;f=f+4|0}}eo(3,3904,C);l=-1}else{t=0;T=52}}while(0);if((T|0)==52){i=n+12|0;if((t|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(t|0)){f=f+1|0;u=u+4|0}else break}}e=n+8|0;l=r+-1|0;s[e>>2]=l;if(l){Vu(i|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{u=(s[n+1179664+(i<<2)>>2]|0)+-1|0;f=i*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[e>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function Ui(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}_=r*3|0;S=A+-1|0;if((i|0)>1){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{r=r+(A<<1)|0;u=u+(A<<1)|0}}}u=n+1179664|0;w=0-A|0;g=1-A|0;v=~A;b=(t<<1)+8|0;e:do{if((E|0)>1){k=(S|0)>1;y=1;r=e+((t<<2)+4)|0;f=h+(A+1<<1)|0;l=0;t:while(1){if(k){m=1;p=f;h=l;while(1){t=o[r>>0]|0;do{if(((t&240)+24+(t<<4&240)+((o[r+1>>0]|0)&240)|0)>(_|0)){l=a[p+(w<<1)>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}i=a[p+(g<<1)>>1]|0;e=i<<16>>16;l=a[p+(v<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(i<<16>>16<=0){if(f){a[p>>1]=l;l=t*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=a[p+-2>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(m|0)){l=h;break}s[l>>2]=m;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;a[p>>1]=l;s[n+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;s[n+1310736+(h<<2)>>2]=1;s[n+1310736+(h+1<<2)>>2]=m;s[n+1310736+(h+2<<2)>>2]=y;s[n+1310736+(h+3<<2)>>2]=m;s[n+1310736+(h+4<<2)>>2]=m;s[n+1310736+(h+5<<2)>>2]=y;s[n+1310736+(h+6<<2)>>2]=y;break}}if(f){l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}f=a[p+-2>>1]|0;if(f<<16>>16<=0){a[p>>1]=i;l=e*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+y;l=h}else{a[p>>1]=0;l=h}}while(0);m=m+1|0;r=r+4|0;f=p+2|0;if((m|0)>=(S|0))break;else{p=f;h=l}}}y=y+1|0;if((y|0)>=(E|0)){t=l;T=52;break e}else{r=r+b|0;f=f+4|0}}eo(3,3904,C);l=-1}else{t=0;T=52}}while(0);if((T|0)==52){i=n+12|0;if((t|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(t|0)){f=f+1|0;u=u+4|0}else break}}e=n+8|0;l=r+-1|0;s[e>>2]=l;if(l){Vu(i|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{u=(s[n+1179664+(i<<2)>>2]|0)+-1|0;f=i*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[e>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function Wi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}_=r*3|0;S=A+-1|0;if((i|0)>1){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{r=r+(A<<1)|0;u=u+(A<<1)|0}}}u=n+1179664|0;w=0-A|0;g=1-A|0;v=~A;b=(t<<1)+8|0;e:do{if((E|0)>1){k=(S|0)>1;y=1;r=e+((t<<2)+4)|0;f=h+(A+1<<1)|0;l=0;t:while(1){if(k){m=1;p=f;h=l;while(1){e=o[r>>0]|0;t=o[r+1>>0]|0;do{if(((e&248)+12+(e<<5&224)+(t>>>3&24)+(t<<2&248)|0)>(_|0)){l=a[p+(w<<1)>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}i=a[p+(g<<1)>>1]|0;e=i<<16>>16;l=a[p+(v<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(i<<16>>16<=0){if(f){a[p>>1]=l;l=t*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=a[p+-2>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(m|0)){l=h;break}s[l>>2]=m;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;a[p>>1]=l;s[n+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;s[n+1310736+(h<<2)>>2]=1;s[n+1310736+(h+1<<2)>>2]=m;s[n+1310736+(h+2<<2)>>2]=y;s[n+1310736+(h+3<<2)>>2]=m;s[n+1310736+(h+4<<2)>>2]=m;s[n+1310736+(h+5<<2)>>2]=y;s[n+1310736+(h+6<<2)>>2]=y;break}}if(f){l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}f=a[p+-2>>1]|0;if(f<<16>>16<=0){a[p>>1]=i;l=e*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+y;l=h}else{a[p>>1]=0;l=h}}while(0);m=m+1|0;r=r+4|0;f=p+2|0;if((m|0)>=(S|0))break;else{p=f;h=l}}}y=y+1|0;if((y|0)>=(E|0)){t=l;T=52;break e}else{r=r+b|0;f=f+4|0}}eo(3,3904,C);l=-1}else{t=0;T=52}}while(0);if((T|0)==52){i=n+12|0;if((t|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(t|0)){f=f+1|0;u=u+4|0}else break}}e=n+8|0;l=r+-1|0;s[e>>2]=l;if(l){Vu(i|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{u=(s[n+1179664+(i<<2)>>2]|0)+-1|0;f=i*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[e>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function Vi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}_=r*3|0;S=A+-1|0;if((i|0)>1){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{r=r+(A<<1)|0;u=u+(A<<1)|0}}}u=n+1179664|0;w=0-A|0;g=1-A|0;v=~A;b=(t<<2)+16|0;e:do{if((E|0)>1){k=(S|0)>1;y=1;r=e+((t<<3)+8)|0;f=h+(A+1<<1)|0;l=0;t:while(1){if(k){m=1;p=f;h=l;while(1){do{if(((o[r+2>>0]|0)+(o[r+1>>0]|0)+(o[r+3>>0]|0)|0)>(_|0)){l=a[p+(w<<1)>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}i=a[p+(g<<1)>>1]|0;e=i<<16>>16;l=a[p+(v<<1)>>1]|0;t=l<<16>>16;f=l<<16>>16>0;if(i<<16>>16<=0){if(f){a[p>>1]=l;l=t*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=a[p+-2>>1]|0;if(l<<16>>16>0){a[p>>1]=l;l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(m|0)){l=h;break}s[l>>2]=m;l=h;break}else{l=h+1|0;if((h|0)>32767)break t;a[p>>1]=l;s[n+1179664+(h<<2)>>2]=l<<16>>16;h=h*7|0;s[n+1310736+(h<<2)>>2]=1;s[n+1310736+(h+1<<2)>>2]=m;s[n+1310736+(h+2<<2)>>2]=y;s[n+1310736+(h+3<<2)>>2]=m;s[n+1310736+(h+4<<2)>>2]=m;s[n+1310736+(h+5<<2)>>2]=y;s[n+1310736+(h+6<<2)>>2]=y;break}}if(f){l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+(t+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;t=n+1310736+(l+-5<<2)|0;s[t>>2]=(s[t>>2]|0)+y;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}f=a[p+-2>>1]|0;if(f<<16>>16<=0){a[p>>1]=i;l=e*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+m;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+y;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(m|0))s[f>>2]=m;s[n+1310736+(l+-1<<2)>>2]=y;l=h;break}l=s[n+1179664+(e+-1<<2)>>2]|0;e=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(e|0)){a[p>>1]=e;if((h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(l|0))s[i>>2]=e;f=f+1|0;if((f|0)>=(h|0)){l=e;break}else i=i+4|0}}else l=e}else{a[p>>1]=l;if((l|0)<(e|0)&(h|0)>0){f=0;i=u;while(1){if((s[i>>2]|0)==(e|0))s[i>>2]=l;f=f+1|0;if((f|0)>=(h|0))break;else i=i+4|0}}}l=(l<<16>>16)*7|0;t=n+1310736+(l+-7<<2)|0;s[t>>2]=(s[t>>2]|0)+1;t=n+1310736+(l+-6<<2)|0;s[t>>2]=(s[t>>2]|0)+m;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+y;l=h}else{a[p>>1]=0;l=h}}while(0);m=m+1|0;r=r+8|0;f=p+2|0;if((m|0)>=(S|0))break;else{p=f;h=l}}}y=y+1|0;if((y|0)>=(E|0)){t=l;T=52;break e}else{r=r+b|0;f=f+4|0}}eo(3,3904,C);l=-1}else{t=0;T=52}}while(0);if((T|0)==52){i=n+12|0;if((t|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(t|0)){f=f+1|0;u=u+4|0}else break}}e=n+8|0;l=r+-1|0;s[e>>2]=l;if(l){Vu(i|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{u=(s[n+1179664+(i<<2)>>2]|0)+-1|0;f=i*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[e>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function Yi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}S=A+-1|0;if((i|0)>1){l=0;u=h;f=h+(S<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{u=u+(A<<1)|0;f=f+(A<<1)|0}}}f=n+1179664|0;k=0-A|0;v=1-A|0;w=~A;g=t+4|0;e:do{if((E|0)>1){y=(S|0)>1;_=1;u=e+((t<<1)+2)|0;i=h+(A+1<<1)|0;l=0;t:while(1){if(y){b=1;m=i;p=l;while(1){do{if((o[u>>0]|0|0)>(r|0)){l=a[m+(k<<1)>>1]|0;if(l<<16>>16>0){a[m>>1]=l;l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}e=a[m+(v<<1)>>1]|0;t=e<<16>>16;l=a[m+(w<<1)>>1]|0;h=l<<16>>16;i=l<<16>>16>0;if(e<<16>>16<=0){if(i){a[m>>1]=l;l=h*7|0;i=n+1310736+(l+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=n+1310736+(l+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+b;i=n+1310736+(l+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+_;i=n+1310736+(l+-3<<2)|0;if((s[i>>2]|0)<(b|0))s[i>>2]=b;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[m+-2>>1]|0;if(l<<16>>16>0){a[m>>1]=l;l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(b|0)){l=p;break}s[l>>2]=b;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;a[m>>1]=l;s[n+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;s[n+1310736+(p<<2)>>2]=1;s[n+1310736+(p+1<<2)>>2]=b;s[n+1310736+(p+2<<2)>>2]=_;s[n+1310736+(p+3<<2)>>2]=b;s[n+1310736+(p+4<<2)>>2]=b;s[n+1310736+(p+5<<2)>>2]=_;s[n+1310736+(p+6<<2)>>2]=_;break}}if(i){l=s[n+1179664+(t+-1<<2)>>2]|0;t=s[n+1179664+(h+-1<<2)>>2]|0;if((l|0)>(t|0)){a[m>>1]=t;if((p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=t;i=i+1|0;if((i|0)>=(p|0)){l=t;break}else e=e+4|0}}else l=t}else{a[m>>1]=l;if((l|0)<(t|0)&(p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=l;i=i+1|0;if((i|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}i=a[m+-2>>1]|0;if(i<<16>>16<=0){a[m>>1]=e;l=t*7|0;i=n+1310736+(l+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=n+1310736+(l+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+b;i=n+1310736+(l+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+_;i=n+1310736+(l+-4<<2)|0;if((s[i>>2]|0)>(b|0))s[i>>2]=b;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}l=s[n+1179664+(t+-1<<2)>>2]|0;t=s[n+1179664+((i<<16>>16)+-1<<2)>>2]|0;if((l|0)>(t|0)){a[m>>1]=t;if((p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=t;i=i+1|0;if((i|0)>=(p|0)){l=t;break}else e=e+4|0}}else l=t}else{a[m>>1]=l;if((l|0)<(t|0)&(p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=l;i=i+1|0;if((i|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=p}else{a[m>>1]=0;l=p}}while(0);b=b+1|0;u=u+2|0;i=m+2|0;if((b|0)>=(S|0))break;else{m=i;p=l}}}_=_+1|0;if((_|0)>=(E|0)){h=l;T=52;break e}else{u=u+g|0;i=i+4|0}}eo(3,3904,C);l=-1}else{h=0;T=52}}while(0);if((T|0)==52){e=n+12|0;if((h|0)<1)u=1;else{i=1;u=1;while(1){l=s[f>>2]|0;if((l|0)==(i|0)){l=u;u=u+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[f>>2]=l;if((i|0)<(h|0)){i=i+1|0;f=f+4|0}else break}}t=n+8|0;l=u+-1|0;s[t>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((u|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[t>>2]|0))}if((h|0)>0){e=0;do{f=(s[n+1179664+(e<<2)>>2]|0)+-1|0;i=e*7|0;l=n+12+(f<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(i<<2)>>2]|0);l=f<<1;u=n+655376+(l<<3)|0;c[u>>3]=+c[u>>3]+ +(s[n+1310736+(i+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(i+2<<2)>>2]|0);f=f<<2;l=n+131084+(f<<2)|0;u=s[n+1310736+(i+3<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;l=n+131084+((f|1)<<2)|0;u=s[n+1310736+(i+4<<2)>>2]|0;if((s[l>>2]|0)<(u|0))s[l>>2]=u;l=n+131084+((f|2)<<2)|0;u=s[n+1310736+(i+5<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;u=n+131084+((f|3)<<2)|0;l=s[n+1310736+(i+6<<2)>>2]|0;if((s[u>>2]|0)<(l|0))s[u>>2]=l;e=e+1|0}while((e|0)<(h|0))}if((s[t>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[t>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function Qi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}S=A+-1|0;if((i|0)>1){l=0;u=h;f=h+(S<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{u=u+(A<<1)|0;f=f+(A<<1)|0}}}f=n+1179664|0;k=0-A|0;v=1-A|0;w=~A;g=(t<<1)+8|0;e:do{if((E|0)>1){y=(S|0)>1;_=1;u=e+((t<<2)+4)|0;i=h+(A+1<<1)|0;l=0;t:while(1){if(y){b=1;m=i;p=l;while(1){do{if((o[u+1>>0]|0|0)>(r|0)){l=a[m+(k<<1)>>1]|0;if(l<<16>>16>0){a[m>>1]=l;l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}e=a[m+(v<<1)>>1]|0;t=e<<16>>16;l=a[m+(w<<1)>>1]|0;h=l<<16>>16;i=l<<16>>16>0;if(e<<16>>16<=0){if(i){a[m>>1]=l;l=h*7|0;i=n+1310736+(l+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=n+1310736+(l+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+b;i=n+1310736+(l+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+_;i=n+1310736+(l+-3<<2)|0;if((s[i>>2]|0)<(b|0))s[i>>2]=b;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[m+-2>>1]|0;if(l<<16>>16>0){a[m>>1]=l;l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(b|0)){l=p;break}s[l>>2]=b;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;a[m>>1]=l;s[n+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;s[n+1310736+(p<<2)>>2]=1;s[n+1310736+(p+1<<2)>>2]=b;s[n+1310736+(p+2<<2)>>2]=_;s[n+1310736+(p+3<<2)>>2]=b;s[n+1310736+(p+4<<2)>>2]=b;s[n+1310736+(p+5<<2)>>2]=_;s[n+1310736+(p+6<<2)>>2]=_;break}}if(i){l=s[n+1179664+(t+-1<<2)>>2]|0;t=s[n+1179664+(h+-1<<2)>>2]|0;if((l|0)>(t|0)){a[m>>1]=t;if((p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=t;i=i+1|0;if((i|0)>=(p|0)){l=t;break}else e=e+4|0}}else l=t}else{a[m>>1]=l;if((l|0)<(t|0)&(p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=l;i=i+1|0;if((i|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}i=a[m+-2>>1]|0;if(i<<16>>16<=0){a[m>>1]=e;l=t*7|0;i=n+1310736+(l+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=n+1310736+(l+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+b;i=n+1310736+(l+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+_;i=n+1310736+(l+-4<<2)|0;if((s[i>>2]|0)>(b|0))s[i>>2]=b;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}l=s[n+1179664+(t+-1<<2)>>2]|0;t=s[n+1179664+((i<<16>>16)+-1<<2)>>2]|0;if((l|0)>(t|0)){a[m>>1]=t;if((p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=t;i=i+1|0;if((i|0)>=(p|0)){l=t;break}else e=e+4|0}}else l=t}else{a[m>>1]=l;if((l|0)<(t|0)&(p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=l;i=i+1|0;if((i|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=p}else{a[m>>1]=0;l=p}}while(0);b=b+1|0;u=u+4|0;i=m+2|0;if((b|0)>=(S|0))break;else{m=i;p=l}}}_=_+1|0;if((_|0)>=(E|0)){h=l;T=52;break e}else{u=u+g|0;i=i+4|0}}eo(3,3904,C);l=-1}else{h=0;T=52}}while(0);if((T|0)==52){e=n+12|0;if((h|0)<1)u=1;else{i=1;u=1;while(1){l=s[f>>2]|0;if((l|0)==(i|0)){l=u;u=u+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[f>>2]=l;if((i|0)<(h|0)){i=i+1|0;f=f+4|0}else break}}t=n+8|0;l=u+-1|0;s[t>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((u|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[t>>2]|0))}if((h|0)>0){e=0;do{f=(s[n+1179664+(e<<2)>>2]|0)+-1|0;i=e*7|0;l=n+12+(f<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(i<<2)>>2]|0);l=f<<1;u=n+655376+(l<<3)|0;c[u>>3]=+c[u>>3]+ +(s[n+1310736+(i+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(i+2<<2)>>2]|0);f=f<<2;l=n+131084+(f<<2)|0;u=s[n+1310736+(i+3<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;l=n+131084+((f|1)<<2)|0;u=s[n+1310736+(i+4<<2)>>2]|0;if((s[l>>2]|0)<(u|0))s[l>>2]=u;l=n+131084+((f|2)<<2)|0;u=s[n+1310736+(i+5<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;u=n+131084+((f|3)<<2)|0;l=s[n+1310736+(i+6<<2)>>2]|0;if((s[u>>2]|0)<(l|0))s[u>>2]=l;e=e+1|0}while((e|0)<(h|0))}if((s[t>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[t>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function Gi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0;x=d;d=d+16|0;C=x;A=(t|0)/2|0;M=(i|0)/2|0;h=s[n>>2]|0;E=M+-1|0;if((t|0)>1){l=0;u=h;f=h+((ie(E,A)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(A|0))break;else{u=u+2|0;f=f+2|0}}}S=A+-1|0;if((i|0)>1){l=0;u=h;f=h+(S<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(M|0))break;else{u=u+(A<<1)|0;f=f+(A<<1)|0}}}f=n+1179664|0;k=0-A|0;v=1-A|0;w=~A;g=(t<<1)+8|0;e:do{if((E|0)>1){y=(S|0)>1;_=1;u=e+((t<<2)+4)|0;i=h+(A+1<<1)|0;l=0;t:while(1){if(y){b=1;m=i;p=l;while(1){do{if((o[u>>0]|0|0)>(r|0)){l=a[m+(k<<1)>>1]|0;if(l<<16>>16>0){a[m>>1]=l;l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}e=a[m+(v<<1)>>1]|0;t=e<<16>>16;l=a[m+(w<<1)>>1]|0;h=l<<16>>16;i=l<<16>>16>0;if(e<<16>>16<=0){if(i){a[m>>1]=l;l=h*7|0;i=n+1310736+(l+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=n+1310736+(l+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+b;i=n+1310736+(l+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+_;i=n+1310736+(l+-3<<2)|0;if((s[i>>2]|0)<(b|0))s[i>>2]=b;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}l=a[m+-2>>1]|0;if(l<<16>>16>0){a[m>>1]=l;l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(b|0)){l=p;break}s[l>>2]=b;l=p;break}else{l=p+1|0;if((p|0)>32767)break t;a[m>>1]=l;s[n+1179664+(p<<2)>>2]=l<<16>>16;p=p*7|0;s[n+1310736+(p<<2)>>2]=1;s[n+1310736+(p+1<<2)>>2]=b;s[n+1310736+(p+2<<2)>>2]=_;s[n+1310736+(p+3<<2)>>2]=b;s[n+1310736+(p+4<<2)>>2]=b;s[n+1310736+(p+5<<2)>>2]=_;s[n+1310736+(p+6<<2)>>2]=_;break}}if(i){l=s[n+1179664+(t+-1<<2)>>2]|0;t=s[n+1179664+(h+-1<<2)>>2]|0;if((l|0)>(t|0)){a[m>>1]=t;if((p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=t;i=i+1|0;if((i|0)>=(p|0)){l=t;break}else e=e+4|0}}else l=t}else{a[m>>1]=l;if((l|0)<(t|0)&(p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=l;i=i+1|0;if((i|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;h=n+1310736+(l+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}i=a[m+-2>>1]|0;if(i<<16>>16<=0){a[m>>1]=e;l=t*7|0;i=n+1310736+(l+-7<<2)|0;s[i>>2]=(s[i>>2]|0)+1;i=n+1310736+(l+-6<<2)|0;s[i>>2]=(s[i>>2]|0)+b;i=n+1310736+(l+-5<<2)|0;s[i>>2]=(s[i>>2]|0)+_;i=n+1310736+(l+-4<<2)|0;if((s[i>>2]|0)>(b|0))s[i>>2]=b;s[n+1310736+(l+-1<<2)>>2]=_;l=p;break}l=s[n+1179664+(t+-1<<2)>>2]|0;t=s[n+1179664+((i<<16>>16)+-1<<2)>>2]|0;if((l|0)>(t|0)){a[m>>1]=t;if((p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=t;i=i+1|0;if((i|0)>=(p|0)){l=t;break}else e=e+4|0}}else l=t}else{a[m>>1]=l;if((l|0)<(t|0)&(p|0)>0){i=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=l;i=i+1|0;if((i|0)>=(p|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;h=n+1310736+(l+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=n+1310736+(l+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+b;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=p}else{a[m>>1]=0;l=p}}while(0);b=b+1|0;u=u+4|0;i=m+2|0;if((b|0)>=(S|0))break;else{m=i;p=l}}}_=_+1|0;if((_|0)>=(E|0)){h=l;T=52;break e}else{u=u+g|0;i=i+4|0}}eo(3,3904,C);l=-1}else{h=0;T=52}}while(0);if((T|0)==52){e=n+12|0;if((h|0)<1)u=1;else{i=1;u=1;while(1){l=s[f>>2]|0;if((l|0)==(i|0)){l=u;u=u+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[f>>2]=l;if((i|0)<(h|0)){i=i+1|0;f=f+4|0}else break}}t=n+8|0;l=u+-1|0;s[t>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((u|0)>1){l=0;do{T=l<<2;s[n+131084+(T<<2)>>2]=A;s[n+131084+((T|1)<<2)>>2]=0;s[n+131084+((T|2)<<2)>>2]=M;s[n+131084+((T|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[t>>2]|0))}if((h|0)>0){e=0;do{f=(s[n+1179664+(e<<2)>>2]|0)+-1|0;i=e*7|0;l=n+12+(f<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(i<<2)>>2]|0);l=f<<1;u=n+655376+(l<<3)|0;c[u>>3]=+c[u>>3]+ +(s[n+1310736+(i+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(i+2<<2)>>2]|0);f=f<<2;l=n+131084+(f<<2)|0;u=s[n+1310736+(i+3<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;l=n+131084+((f|1)<<2)|0;u=s[n+1310736+(i+4<<2)>>2]|0;if((s[l>>2]|0)<(u|0))s[l>>2]=u;l=n+131084+((f|2)<<2)|0;u=s[n+1310736+(i+5<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;u=n+131084+((f|3)<<2)|0;l=s[n+1310736+(i+6<<2)>>2]|0;if((s[u>>2]|0)<(l|0))s[u>>2]=l;e=e+1|0}while((e|0)<(h|0))}if((s[t>>2]|0)>0){l=0;do{A=n+12+(l<<2)|0;M=l<<1;T=n+655376+(M<<3)|0;c[T>>3]=+c[T>>3]/+(s[A>>2]|0);M=n+655376+((M|1)<<3)|0;c[M>>3]=+c[M>>3]/+(s[A>>2]|0);l=l+1|0}while((l|0)<(s[t>>2]|0));l=0}else l=0}else l=0}d=x;return l|0}function Ki(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=r*3|0;S=t+-1|0;if((i|0)>0){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{r=r+(t<<1)|0;u=u+(t<<1)|0}}}u=n+1179664|0;l=t+1|0;k=0-t|0;v=1-t|0;w=~t;e:do{if((C|0)>1){y=(S|0)>1;_=1;r=e+(l*3|0)|0;f=h+(l<<1)|0;l=0;t:while(1){if(y){g=1;b=f;m=l;while(1){do{if(((o[r+1>>0]|0)+(o[r>>0]|0)+(o[r+2>>0]|0)|0)>(E|0)){l=a[b+(k<<1)>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}e=a[b+(v<<1)>>1]|0;h=e<<16>>16;l=a[b+(w<<1)>>1]|0;p=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){a[b>>1]=l;l=p*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[b+-2>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(g|0)){l=m;break}s[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;a[b>>1]=l;s[n+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;s[n+1310736+(m<<2)>>2]=1;s[n+1310736+(m+1<<2)>>2]=g;s[n+1310736+(m+2<<2)>>2]=_;s[n+1310736+(m+3<<2)>>2]=g;s[n+1310736+(m+4<<2)>>2]=g;s[n+1310736+(m+5<<2)>>2]=_;s[n+1310736+(m+6<<2)>>2]=_;break}}if(f){l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+(p+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}f=a[b+-2>>1]|0;if(f<<16>>16<=0){a[b>>1]=e;l=h*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=m}else{a[b>>1]=0;l=m}}while(0);g=g+1|0;r=r+3|0;f=b+2|0;if((g|0)>=(S|0))break;else{b=f;m=l}}}_=_+1|0;if((_|0)>=(C|0)){p=l;A=52;break e}else{r=r+6|0;f=f+4|0}}eo(3,3904,T);l=-1}else{p=0;A=52}}while(0);if((A|0)==52){e=n+12|0;if((p|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(p|0)){f=f+1|0;u=u+4|0}else break}}h=n+8|0;l=r+-1|0;s[h>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[h>>2]|0))}if((p|0)>0){e=0;do{u=(s[n+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;e=e+1|0}while((e|0)<(p|0))}if((s[h>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[h>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function Xi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=r*3|0;S=t+-1|0;if((i|0)>0){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{r=r+(t<<1)|0;u=u+(t<<1)|0}}}u=n+1179664|0;l=t+1|0;k=0-t|0;v=1-t|0;w=~t;e:do{if((C|0)>1){y=(S|0)>1;_=1;r=e+(l<<1)|0;f=h+(l<<1)|0;l=0;t:while(1){if(y){g=1;b=f;m=l;while(1){h=o[r>>0]|0;p=o[r+1>>0]|0;do{if(((h&248)+10+(h<<5&224)+(p>>>3&28)+(p<<3&248)|0)>(E|0)){l=a[b+(k<<1)>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}e=a[b+(v<<1)>>1]|0;h=e<<16>>16;l=a[b+(w<<1)>>1]|0;p=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){a[b>>1]=l;l=p*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[b+-2>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(g|0)){l=m;break}s[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;a[b>>1]=l;s[n+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;s[n+1310736+(m<<2)>>2]=1;s[n+1310736+(m+1<<2)>>2]=g;s[n+1310736+(m+2<<2)>>2]=_;s[n+1310736+(m+3<<2)>>2]=g;s[n+1310736+(m+4<<2)>>2]=g;s[n+1310736+(m+5<<2)>>2]=_;s[n+1310736+(m+6<<2)>>2]=_;break}}if(f){l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+(p+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}f=a[b+-2>>1]|0;if(f<<16>>16<=0){a[b>>1]=e;l=h*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=m}else{a[b>>1]=0;l=m}}while(0);g=g+1|0;r=r+2|0;f=b+2|0;if((g|0)>=(S|0))break;else{b=f;m=l}}}_=_+1|0;if((_|0)>=(C|0)){p=l;A=52;break e}else{r=r+4|0;f=f+4|0}}eo(3,3904,T);l=-1}else{p=0;A=52}}while(0);if((A|0)==52){e=n+12|0;if((p|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(p|0)){f=f+1|0;u=u+4|0}else break}}h=n+8|0;l=r+-1|0;s[h>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[h>>2]|0))}if((p|0)>0){e=0;do{u=(s[n+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;e=e+1|0}while((e|0)<(p|0))}if((s[h>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[h>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function Ji(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=r*3|0;S=t+-1|0;if((i|0)>0){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{r=r+(t<<1)|0;u=u+(t<<1)|0}}}u=n+1179664|0;l=t+1|0;k=0-t|0;v=1-t|0;w=~t;e:do{if((C|0)>1){y=(S|0)>1;_=1;r=e+(l<<2)|0;f=h+(l<<1)|0;l=0;t:while(1){if(y){g=1;b=f;m=l;while(1){do{if(((o[r+1>>0]|0)+(o[r>>0]|0)+(o[r+2>>0]|0)|0)>(E|0)){l=a[b+(k<<1)>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}e=a[b+(v<<1)>>1]|0;h=e<<16>>16;l=a[b+(w<<1)>>1]|0;p=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){a[b>>1]=l;l=p*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[b+-2>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(g|0)){l=m;break}s[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;a[b>>1]=l;s[n+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;s[n+1310736+(m<<2)>>2]=1;s[n+1310736+(m+1<<2)>>2]=g;s[n+1310736+(m+2<<2)>>2]=_;s[n+1310736+(m+3<<2)>>2]=g;s[n+1310736+(m+4<<2)>>2]=g;s[n+1310736+(m+5<<2)>>2]=_;s[n+1310736+(m+6<<2)>>2]=_;break}}if(f){l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+(p+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}f=a[b+-2>>1]|0;if(f<<16>>16<=0){a[b>>1]=e;l=h*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=m}else{a[b>>1]=0;l=m}}while(0);g=g+1|0;r=r+4|0;f=b+2|0;if((g|0)>=(S|0))break;else{b=f;m=l}}}_=_+1|0;if((_|0)>=(C|0)){p=l;A=52;break e}else{r=r+8|0;f=f+4|0}}eo(3,3904,T);l=-1}else{p=0;A=52}}while(0);if((A|0)==52){e=n+12|0;if((p|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(p|0)){f=f+1|0;u=u+4|0}else break}}h=n+8|0;l=r+-1|0;s[h>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[h>>2]|0))}if((p|0)>0){e=0;do{u=(s[n+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;e=e+1|0}while((e|0)<(p|0))}if((s[h>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[h>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function Zi(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=r*3|0;S=t+-1|0;if((i|0)>0){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{r=r+(t<<1)|0;u=u+(t<<1)|0}}}u=n+1179664|0;l=t+1|0;k=0-t|0;v=1-t|0;w=~t;e:do{if((C|0)>1){y=(S|0)>1;_=1;r=e+(l<<1)|0;f=h+(l<<1)|0;l=0;t:while(1){if(y){g=1;b=f;m=l;while(1){p=o[r>>0]|0;do{if(((p&240)+24+(p<<4&240)+((o[r+1>>0]|0)&240)|0)>(E|0)){l=a[b+(k<<1)>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}e=a[b+(v<<1)>>1]|0;h=e<<16>>16;l=a[b+(w<<1)>>1]|0;p=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){a[b>>1]=l;l=p*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[b+-2>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(g|0)){l=m;break}s[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;a[b>>1]=l;s[n+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;s[n+1310736+(m<<2)>>2]=1;s[n+1310736+(m+1<<2)>>2]=g;s[n+1310736+(m+2<<2)>>2]=_;s[n+1310736+(m+3<<2)>>2]=g;s[n+1310736+(m+4<<2)>>2]=g;s[n+1310736+(m+5<<2)>>2]=_;s[n+1310736+(m+6<<2)>>2]=_;break}}if(f){l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+(p+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}f=a[b+-2>>1]|0;if(f<<16>>16<=0){a[b>>1]=e;l=h*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=m}else{a[b>>1]=0;l=m}}while(0);g=g+1|0;r=r+2|0;f=b+2|0;if((g|0)>=(S|0))break;else{b=f;m=l}}}_=_+1|0;if((_|0)>=(C|0)){p=l;A=52;break e}else{r=r+4|0;f=f+4|0}}eo(3,3904,T);l=-1}else{p=0;A=52}}while(0);if((A|0)==52){e=n+12|0;if((p|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(p|0)){f=f+1|0;u=u+4|0}else break}}h=n+8|0;l=r+-1|0;s[h>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[h>>2]|0))}if((p|0)>0){e=0;do{u=(s[n+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;e=e+1|0}while((e|0)<(p|0))}if((s[h>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[h>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function er(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=r*3|0;S=t+-1|0;if((i|0)>0){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{r=r+(t<<1)|0;u=u+(t<<1)|0}}}u=n+1179664|0;l=t+1|0;k=0-t|0;v=1-t|0;w=~t;e:do{if((C|0)>1){y=(S|0)>1;_=1;r=e+(l<<1)|0;f=h+(l<<1)|0;l=0;t:while(1){if(y){g=1;b=f;m=l;while(1){h=o[r>>0]|0;p=o[r+1>>0]|0;do{if(((h&248)+12+(h<<5&224)+(p>>>3&24)+(p<<2&248)|0)>(E|0)){l=a[b+(k<<1)>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}e=a[b+(v<<1)>>1]|0;h=e<<16>>16;l=a[b+(w<<1)>>1]|0;p=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){a[b>>1]=l;l=p*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[b+-2>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(g|0)){l=m;break}s[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;a[b>>1]=l;s[n+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;s[n+1310736+(m<<2)>>2]=1;s[n+1310736+(m+1<<2)>>2]=g;s[n+1310736+(m+2<<2)>>2]=_;s[n+1310736+(m+3<<2)>>2]=g;s[n+1310736+(m+4<<2)>>2]=g;s[n+1310736+(m+5<<2)>>2]=_;s[n+1310736+(m+6<<2)>>2]=_;break}}if(f){l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+(p+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}f=a[b+-2>>1]|0;if(f<<16>>16<=0){a[b>>1]=e;l=h*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=m}else{a[b>>1]=0;l=m}}while(0);g=g+1|0;r=r+2|0;f=b+2|0;if((g|0)>=(S|0))break;else{b=f;m=l}}}_=_+1|0;if((_|0)>=(C|0)){p=l;A=52;break e}else{r=r+4|0;f=f+4|0}}eo(3,3904,T);l=-1}else{p=0;A=52}}while(0);if((A|0)==52){e=n+12|0;if((p|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(p|0)){f=f+1|0;u=u+4|0}else break}}h=n+8|0;l=r+-1|0;s[h>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[h>>2]|0))}if((p|0)>0){e=0;do{u=(s[n+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;e=e+1|0}while((e|0)<(p|0))}if((s[h>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[h>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function tr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=r*3|0;S=t+-1|0;if((i|0)>0){l=0;r=h;u=h+(S<<1)|0;while(1){a[u>>1]=0;a[r>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{r=r+(t<<1)|0;u=u+(t<<1)|0}}}u=n+1179664|0;l=t+1|0;k=0-t|0;v=1-t|0;w=~t;e:do{if((C|0)>1){y=(S|0)>1;_=1;r=e+(l<<2)|0;f=h+(l<<1)|0;l=0;t:while(1){if(y){g=1;b=f;m=l;while(1){do{if(((o[r+2>>0]|0)+(o[r+1>>0]|0)+(o[r+3>>0]|0)|0)>(E|0)){l=a[b+(k<<1)>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}e=a[b+(v<<1)>>1]|0;h=e<<16>>16;l=a[b+(w<<1)>>1]|0;p=l<<16>>16;f=l<<16>>16>0;if(e<<16>>16<=0){if(f){a[b>>1]=l;l=p*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-3<<2)|0;if((s[f>>2]|0)<(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=a[b+-2>>1]|0;if(l<<16>>16>0){a[b>>1]=l;l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(g|0)){l=m;break}s[l>>2]=g;l=m;break}else{l=m+1|0;if((m|0)>32767)break t;a[b>>1]=l;s[n+1179664+(m<<2)>>2]=l<<16>>16;m=m*7|0;s[n+1310736+(m<<2)>>2]=1;s[n+1310736+(m+1<<2)>>2]=g;s[n+1310736+(m+2<<2)>>2]=_;s[n+1310736+(m+3<<2)>>2]=g;s[n+1310736+(m+4<<2)>>2]=g;s[n+1310736+(m+5<<2)>>2]=_;s[n+1310736+(m+6<<2)>>2]=_;break}}if(f){l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+(p+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=n+1310736+(l+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+_;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}f=a[b+-2>>1]|0;if(f<<16>>16<=0){a[b>>1]=e;l=h*7|0;f=n+1310736+(l+-7<<2)|0;s[f>>2]=(s[f>>2]|0)+1;f=n+1310736+(l+-6<<2)|0;s[f>>2]=(s[f>>2]|0)+g;f=n+1310736+(l+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+_;f=n+1310736+(l+-4<<2)|0;if((s[f>>2]|0)>(g|0))s[f>>2]=g;s[n+1310736+(l+-1<<2)>>2]=_;l=m;break}l=s[n+1179664+(h+-1<<2)>>2]|0;h=s[n+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((l|0)>(h|0)){a[b>>1]=h;if((m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(l|0))s[e>>2]=h;f=f+1|0;if((f|0)>=(m|0)){l=h;break}else e=e+4|0}}else l=h}else{a[b>>1]=l;if((l|0)<(h|0)&(m|0)>0){f=0;e=u;while(1){if((s[e>>2]|0)==(h|0))s[e>>2]=l;f=f+1|0;if((f|0)>=(m|0))break;else e=e+4|0}}}l=(l<<16>>16)*7|0;p=n+1310736+(l+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=n+1310736+(l+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+_;l=m}else{a[b>>1]=0;l=m}}while(0);g=g+1|0;r=r+4|0;f=b+2|0;if((g|0)>=(S|0))break;else{b=f;m=l}}}_=_+1|0;if((_|0)>=(C|0)){p=l;A=52;break e}else{r=r+8|0;f=f+4|0}}eo(3,3904,T);l=-1}else{p=0;A=52}}while(0);if((A|0)==52){e=n+12|0;if((p|0)<1)r=1;else{f=1;r=1;while(1){l=s[u>>2]|0;if((l|0)==(f|0)){l=r;r=r+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[u>>2]=l;if((f|0)<(p|0)){f=f+1|0;u=u+4|0}else break}}h=n+8|0;l=r+-1|0;s[h>>2]=l;if(l){Vu(e|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((r|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[h>>2]|0))}if((p|0)>0){e=0;do{u=(s[n+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;l=n+12+(u<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(f<<2)>>2]|0);l=u<<1;r=n+655376+(l<<3)|0;c[r>>3]=+c[r>>3]+ +(s[n+1310736+(f+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(f+2<<2)>>2]|0);u=u<<2;l=n+131084+(u<<2)|0;r=s[n+1310736+(f+3<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;l=n+131084+((u|1)<<2)|0;r=s[n+1310736+(f+4<<2)>>2]|0;if((s[l>>2]|0)<(r|0))s[l>>2]=r;l=n+131084+((u|2)<<2)|0;r=s[n+1310736+(f+5<<2)>>2]|0;if((s[l>>2]|0)>(r|0))s[l>>2]=r;r=n+131084+((u|3)<<2)|0;l=s[n+1310736+(f+6<<2)>>2]|0;if((s[r>>2]|0)<(l|0))s[r>>2]=l;e=e+1|0}while((e|0)<(p|0))}if((s[h>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[h>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function ir(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=t+-1|0;if((i|0)>0){l=0;u=h;f=h+(E<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{u=u+(t<<1)|0;f=f+(t<<1)|0}}}f=n+1179664|0;l=t+1|0;y=0-t|0;w=1-t|0;k=~t;e:do{if((C|0)>1){_=(E|0)>1;S=1;u=e+l|0;e=h+(l<<1)|0;l=0;t:while(1){if(_){v=1;g=e;b=l;while(1){do{if((o[u>>0]|0|0)>(r|0)){l=a[g+(y<<1)>>1]|0;if(l<<16>>16>0){a[g>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}h=a[g+(w<<1)>>1]|0;p=h<<16>>16;l=a[g+(k<<1)>>1]|0;m=l<<16>>16;e=l<<16>>16>0;if(h<<16>>16<=0){if(e){a[g>>1]=l;l=m*7|0;e=n+1310736+(l+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=n+1310736+(l+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+v;e=n+1310736+(l+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+S;e=n+1310736+(l+-3<<2)|0;if((s[e>>2]|0)<(v|0))s[e>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=a[g+-2>>1]|0;if(l<<16>>16>0){a[g>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(v|0)){l=b;break}s[l>>2]=v;l=b;break}else{l=b+1|0;if((b|0)>32767)break t;a[g>>1]=l;s[n+1179664+(b<<2)>>2]=l<<16>>16;b=b*7|0;s[n+1310736+(b<<2)>>2]=1;s[n+1310736+(b+1<<2)>>2]=v;s[n+1310736+(b+2<<2)>>2]=S;s[n+1310736+(b+3<<2)>>2]=v;s[n+1310736+(b+4<<2)>>2]=v;s[n+1310736+(b+5<<2)>>2]=S;s[n+1310736+(b+6<<2)>>2]=S;break}}if(e){l=s[n+1179664+(p+-1<<2)>>2]|0;p=s[n+1179664+(m+-1<<2)>>2]|0;if((l|0)>(p|0)){a[g>>1]=p;if((b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(l|0))s[h>>2]=p;e=e+1|0;if((e|0)>=(b|0)){l=p;break}else h=h+4|0}}else l=p}else{a[g>>1]=l;if((l|0)<(p|0)&(b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(p|0))s[h>>2]=l;e=e+1|0;if((e|0)>=(b|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=a[g+-2>>1]|0;if(l<<16>>16<=0){a[g>>1]=h;l=p*7|0;e=n+1310736+(l+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=n+1310736+(l+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+v;e=n+1310736+(l+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+S;e=n+1310736+(l+-4<<2)|0;if((s[e>>2]|0)>(v|0))s[e>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}p=s[n+1179664+(p+-1<<2)>>2]|0;l=s[n+1179664+((l<<16>>16)+-1<<2)>>2]|0;if((p|0)>(l|0)){a[g>>1]=l;if((b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(p|0))s[h>>2]=l;e=e+1|0;if((e|0)>=(b|0))break;else h=h+4|0}}}else{a[g>>1]=p;if((p|0)<(l|0)&(b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(l|0))s[h>>2]=p;e=e+1|0;if((e|0)>=(b|0)){l=p;break}else h=h+4|0}}else l=p}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+S;l=b}else{a[g>>1]=0;l=b}}while(0);v=v+1|0;u=u+1|0;e=g+2|0;if((v|0)>=(E|0))break;else{g=e;b=l}}}S=S+1|0;if((S|0)>=(C|0)){m=l;A=52;break e}else{u=u+2|0;e=e+4|0}}eo(3,3904,T);l=-1}else{m=0;A=52}}while(0);if((A|0)==52){h=n+12|0;if((m|0)<1)u=1;else{e=1;u=1;while(1){l=s[f>>2]|0;if((l|0)==(e|0)){l=u;u=u+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[f>>2]=l;if((e|0)<(m|0)){e=e+1|0;f=f+4|0}else break}}p=n+8|0;l=u+-1|0;s[p>>2]=l;if(l){Vu(h|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((u|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[p>>2]|0))}if((m|0)>0){h=0;do{f=(s[n+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=n+12+(f<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(e<<2)>>2]|0);l=f<<1;u=n+655376+(l<<3)|0;c[u>>3]=+c[u>>3]+ +(s[n+1310736+(e+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(e+2<<2)>>2]|0);f=f<<2;l=n+131084+(f<<2)|0;u=s[n+1310736+(e+3<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;l=n+131084+((f|1)<<2)|0;u=s[n+1310736+(e+4<<2)>>2]|0;if((s[l>>2]|0)<(u|0))s[l>>2]=u;l=n+131084+((f|2)<<2)|0;u=s[n+1310736+(e+5<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;u=n+131084+((f|3)<<2)|0;l=s[n+1310736+(e+6<<2)>>2]|0;if((s[u>>2]|0)<(l|0))s[u>>2]=l;h=h+1|0}while((h|0)<(m|0))}if((s[p>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[p>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function rr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=t+-1|0;if((i|0)>0){l=0;u=h;f=h+(E<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{u=u+(t<<1)|0;f=f+(t<<1)|0}}}f=n+1179664|0;l=t+1|0;y=0-t|0;w=1-t|0;k=~t;e:do{if((C|0)>1){_=(E|0)>1;S=1;u=e+(l<<1)|0;e=h+(l<<1)|0;l=0;t:while(1){if(_){v=1;g=e;b=l;while(1){do{if((o[u+1>>0]|0|0)>(r|0)){l=a[g+(y<<1)>>1]|0;if(l<<16>>16>0){a[g>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}h=a[g+(w<<1)>>1]|0;p=h<<16>>16;l=a[g+(k<<1)>>1]|0;m=l<<16>>16;e=l<<16>>16>0;if(h<<16>>16<=0){if(e){a[g>>1]=l;l=m*7|0;e=n+1310736+(l+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=n+1310736+(l+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+v;e=n+1310736+(l+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+S;e=n+1310736+(l+-3<<2)|0;if((s[e>>2]|0)<(v|0))s[e>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=a[g+-2>>1]|0;if(l<<16>>16>0){a[g>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(v|0)){l=b;break}s[l>>2]=v;l=b;break}else{l=b+1|0;if((b|0)>32767)break t;a[g>>1]=l;s[n+1179664+(b<<2)>>2]=l<<16>>16;b=b*7|0;s[n+1310736+(b<<2)>>2]=1;s[n+1310736+(b+1<<2)>>2]=v;s[n+1310736+(b+2<<2)>>2]=S;s[n+1310736+(b+3<<2)>>2]=v;s[n+1310736+(b+4<<2)>>2]=v;s[n+1310736+(b+5<<2)>>2]=S;s[n+1310736+(b+6<<2)>>2]=S;break}}if(e){l=s[n+1179664+(p+-1<<2)>>2]|0;p=s[n+1179664+(m+-1<<2)>>2]|0;if((l|0)>(p|0)){a[g>>1]=p;if((b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(l|0))s[h>>2]=p;e=e+1|0;if((e|0)>=(b|0)){l=p;break}else h=h+4|0}}else l=p}else{a[g>>1]=l;if((l|0)<(p|0)&(b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(p|0))s[h>>2]=l;e=e+1|0;if((e|0)>=(b|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}e=a[g+-2>>1]|0;if(e<<16>>16<=0){a[g>>1]=h;l=p*7|0;e=n+1310736+(l+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=n+1310736+(l+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+v;e=n+1310736+(l+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+S;e=n+1310736+(l+-4<<2)|0;if((s[e>>2]|0)>(v|0))s[e>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=s[n+1179664+(p+-1<<2)>>2]|0;p=s[n+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((l|0)>(p|0)){a[g>>1]=p;if((b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(l|0))s[h>>2]=p;e=e+1|0;if((e|0)>=(b|0)){l=p;break}else h=h+4|0}}else l=p}else{a[g>>1]=l;if((l|0)<(p|0)&(b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(p|0))s[h>>2]=l;e=e+1|0;if((e|0)>=(b|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+S;l=b}else{a[g>>1]=0;l=b}}while(0);v=v+1|0;u=u+2|0;e=g+2|0;if((v|0)>=(E|0))break;else{g=e;b=l}}}S=S+1|0;if((S|0)>=(C|0)){m=l;A=52;break e}else{u=u+4|0;e=e+4|0}}eo(3,3904,T);l=-1}else{m=0;A=52}}while(0);if((A|0)==52){h=n+12|0;if((m|0)<1)u=1;else{e=1;u=1;while(1){l=s[f>>2]|0;if((l|0)==(e|0)){l=u;u=u+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[f>>2]=l;if((e|0)<(m|0)){e=e+1|0;f=f+4|0}else break}}p=n+8|0;l=u+-1|0;s[p>>2]=l;if(l){Vu(h|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((u|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[p>>2]|0))}if((m|0)>0){h=0;do{f=(s[n+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=n+12+(f<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(e<<2)>>2]|0);l=f<<1;u=n+655376+(l<<3)|0;c[u>>3]=+c[u>>3]+ +(s[n+1310736+(e+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(e+2<<2)>>2]|0);f=f<<2;l=n+131084+(f<<2)|0;u=s[n+1310736+(e+3<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;l=n+131084+((f|1)<<2)|0;u=s[n+1310736+(e+4<<2)>>2]|0;if((s[l>>2]|0)<(u|0))s[l>>2]=u;l=n+131084+((f|2)<<2)|0;u=s[n+1310736+(e+5<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;u=n+131084+((f|3)<<2)|0;l=s[n+1310736+(e+6<<2)>>2]|0;if((s[u>>2]|0)<(l|0))s[u>>2]=l;h=h+1|0}while((h|0)<(m|0))}if((s[p>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[p>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function ar(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=t+-1|0;if((i|0)>0){l=0;u=h;f=h+(E<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{u=u+(t<<1)|0;f=f+(t<<1)|0}}}f=n+1179664|0;l=t+1|0;y=0-t|0;w=1-t|0;k=~t;e:do{if((C|0)>1){_=(E|0)>1;S=1;u=e+(l<<1)|0;e=h+(l<<1)|0;l=0;t:while(1){if(_){v=1;g=e;b=l;while(1){do{if((o[u>>0]|0|0)>(r|0)){l=a[g+(y<<1)>>1]|0;if(l<<16>>16>0){a[g>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}h=a[g+(w<<1)>>1]|0;p=h<<16>>16;l=a[g+(k<<1)>>1]|0;m=l<<16>>16;e=l<<16>>16>0;if(h<<16>>16<=0){if(e){a[g>>1]=l;l=m*7|0;e=n+1310736+(l+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=n+1310736+(l+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+v;e=n+1310736+(l+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+S;e=n+1310736+(l+-3<<2)|0;if((s[e>>2]|0)<(v|0))s[e>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=a[g+-2>>1]|0;if(l<<16>>16>0){a[g>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(v|0)){l=b;break}s[l>>2]=v;l=b;break}else{l=b+1|0;if((b|0)>32767)break t;a[g>>1]=l;s[n+1179664+(b<<2)>>2]=l<<16>>16;b=b*7|0;s[n+1310736+(b<<2)>>2]=1;s[n+1310736+(b+1<<2)>>2]=v;s[n+1310736+(b+2<<2)>>2]=S;s[n+1310736+(b+3<<2)>>2]=v;s[n+1310736+(b+4<<2)>>2]=v;s[n+1310736+(b+5<<2)>>2]=S;s[n+1310736+(b+6<<2)>>2]=S;break}}if(e){l=s[n+1179664+(p+-1<<2)>>2]|0;p=s[n+1179664+(m+-1<<2)>>2]|0;if((l|0)>(p|0)){a[g>>1]=p;if((b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(l|0))s[h>>2]=p;e=e+1|0;if((e|0)>=(b|0)){l=p;break}else h=h+4|0}}else l=p}else{a[g>>1]=l;if((l|0)<(p|0)&(b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(p|0))s[h>>2]=l;e=e+1|0;if((e|0)>=(b|0))break;else h=h+4|0}}}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=a[g+-2>>1]|0;if(l<<16>>16<=0){a[g>>1]=h;l=p*7|0;e=n+1310736+(l+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=n+1310736+(l+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+v;e=n+1310736+(l+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+S;e=n+1310736+(l+-4<<2)|0;if((s[e>>2]|0)>(v|0))s[e>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}p=s[n+1179664+(p+-1<<2)>>2]|0;l=s[n+1179664+((l<<16>>16)+-1<<2)>>2]|0;if((p|0)>(l|0)){a[g>>1]=l;if((b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(p|0))s[h>>2]=l;e=e+1|0;if((e|0)>=(b|0))break;else h=h+4|0}}}else{a[g>>1]=p;if((p|0)<(l|0)&(b|0)>0){e=0;h=f;while(1){if((s[h>>2]|0)==(l|0))s[h>>2]=p;e=e+1|0;if((e|0)>=(b|0)){l=p;break}else h=h+4|0}}else l=p}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+S;l=b}else{a[g>>1]=0;l=b}}while(0);v=v+1|0;u=u+2|0;e=g+2|0;if((v|0)>=(E|0))break;else{g=e;b=l}}}S=S+1|0;if((S|0)>=(C|0)){m=l;A=52;break e}else{u=u+4|0;e=e+4|0}}eo(3,3904,T);l=-1}else{m=0;A=52}}while(0);if((A|0)==52){h=n+12|0;if((m|0)<1)u=1;else{e=1;u=1;while(1){l=s[f>>2]|0;if((l|0)==(e|0)){l=u;u=u+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[f>>2]=l;if((e|0)<(m|0)){e=e+1|0;f=f+4|0}else break}}p=n+8|0;l=u+-1|0;s[p>>2]=l;if(l){Vu(h|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((u|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[p>>2]|0))}if((m|0)>0){h=0;do{f=(s[n+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=n+12+(f<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(e<<2)>>2]|0);l=f<<1;u=n+655376+(l<<3)|0;c[u>>3]=+c[u>>3]+ +(s[n+1310736+(e+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(e+2<<2)>>2]|0);f=f<<2;l=n+131084+(f<<2)|0;u=s[n+1310736+(e+3<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;l=n+131084+((f|1)<<2)|0;u=s[n+1310736+(e+4<<2)>>2]|0;if((s[l>>2]|0)<(u|0))s[l>>2]=u;l=n+131084+((f|2)<<2)|0;u=s[n+1310736+(e+5<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;u=n+131084+((f|3)<<2)|0;l=s[n+1310736+(e+6<<2)>>2]|0;if((s[u>>2]|0)<(l|0))s[u>>2]=l;h=h+1|0}while((h|0)<(m|0))}if((s[p>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[p>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function sr(e,t,i,r,n){e=e|0;t=t|0;i=i|0;r=r|0;n=n|0;var l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0;M=d;d=d+16|0;T=M;h=s[n>>2]|0;C=i+-1|0;if((t|0)>0){l=0;u=h;f=h+((ie(C,t)|0)<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(t|0))break;else{u=u+2|0;f=f+2|0}}}E=t+-1|0;if((i|0)>0){l=0;u=h;f=h+(E<<1)|0;while(1){a[f>>1]=0;a[u>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{u=u+(t<<1)|0;f=f+(t<<1)|0}}}f=n+1179664|0;l=t+1|0;y=0-t|0;w=1-t|0;k=~t;e:do{if((C|0)>1){_=(E|0)>1;S=1;u=e+l|0;e=h+(l<<1)|0;h=r+l|0;l=0;t:while(1){if(_){v=1;g=u;b=l;while(1){do{if((o[g>>0]|0)>(o[h>>0]|0)){l=a[e+(y<<1)>>1]|0;if(l<<16>>16>0){a[e>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}r=a[e+(w<<1)>>1]|0;p=r<<16>>16;l=a[e+(k<<1)>>1]|0;m=l<<16>>16;u=l<<16>>16>0;if(r<<16>>16<=0){if(u){a[e>>1]=l;l=m*7|0;u=n+1310736+(l+-7<<2)|0;s[u>>2]=(s[u>>2]|0)+1;u=n+1310736+(l+-6<<2)|0;s[u>>2]=(s[u>>2]|0)+v;u=n+1310736+(l+-5<<2)|0;s[u>>2]=(s[u>>2]|0)+S;u=n+1310736+(l+-3<<2)|0;if((s[u>>2]|0)<(v|0))s[u>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=a[e+-2>>1]|0;if(l<<16>>16>0){a[e>>1]=l;l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;l=n+1310736+(l+-3<<2)|0;if((s[l>>2]|0)>=(v|0)){l=b;break}s[l>>2]=v;l=b;break}else{l=b+1|0;if((b|0)>32767)break t;a[e>>1]=l;s[n+1179664+(b<<2)>>2]=l<<16>>16;b=b*7|0;s[n+1310736+(b<<2)>>2]=1;s[n+1310736+(b+1<<2)>>2]=v;s[n+1310736+(b+2<<2)>>2]=S;s[n+1310736+(b+3<<2)>>2]=v;s[n+1310736+(b+4<<2)>>2]=v;s[n+1310736+(b+5<<2)>>2]=S;s[n+1310736+(b+6<<2)>>2]=S;break}}if(u){l=s[n+1179664+(p+-1<<2)>>2]|0;p=s[n+1179664+(m+-1<<2)>>2]|0;if((l|0)>(p|0)){a[e>>1]=p;if((b|0)>0){u=0;r=f;while(1){if((s[r>>2]|0)==(l|0))s[r>>2]=p;u=u+1|0;if((u|0)>=(b|0)){l=p;break}else r=r+4|0}}else l=p}else{a[e>>1]=l;if((l|0)<(p|0)&(b|0)>0){u=0;r=f;while(1){if((s[r>>2]|0)==(p|0))s[r>>2]=l;u=u+1|0;if((u|0)>=(b|0))break;else r=r+4|0}}}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;m=n+1310736+(l+-5<<2)|0;s[m>>2]=(s[m>>2]|0)+S;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}l=a[e+-2>>1]|0;if(l<<16>>16<=0){a[e>>1]=r;l=p*7|0;u=n+1310736+(l+-7<<2)|0;s[u>>2]=(s[u>>2]|0)+1;u=n+1310736+(l+-6<<2)|0;s[u>>2]=(s[u>>2]|0)+v;u=n+1310736+(l+-5<<2)|0;s[u>>2]=(s[u>>2]|0)+S;u=n+1310736+(l+-4<<2)|0;if((s[u>>2]|0)>(v|0))s[u>>2]=v;s[n+1310736+(l+-1<<2)>>2]=S;l=b;break}p=s[n+1179664+(p+-1<<2)>>2]|0;l=s[n+1179664+((l<<16>>16)+-1<<2)>>2]|0;if((p|0)>(l|0)){a[e>>1]=l;if((b|0)>0){u=0;r=f;while(1){if((s[r>>2]|0)==(p|0))s[r>>2]=l;u=u+1|0;if((u|0)>=(b|0))break;else r=r+4|0}}}else{a[e>>1]=p;if((p|0)<(l|0)&(b|0)>0){u=0;r=f;while(1){if((s[r>>2]|0)==(l|0))s[r>>2]=p;u=u+1|0;if((u|0)>=(b|0)){l=p;break}else r=r+4|0}}else l=p}l=(l<<16>>16)*7|0;m=n+1310736+(l+-7<<2)|0;s[m>>2]=(s[m>>2]|0)+1;m=n+1310736+(l+-6<<2)|0;s[m>>2]=(s[m>>2]|0)+v;l=n+1310736+(l+-5<<2)|0;s[l>>2]=(s[l>>2]|0)+S;l=b}else{a[e>>1]=0;l=b}}while(0);v=v+1|0;u=g+1|0;h=h+1|0;e=e+2|0;if((v|0)>=(E|0))break;else{g=u;b=l}}}S=S+1|0;if((S|0)>=(C|0)){p=l;A=52;break e}else{u=u+2|0;e=e+4|0;h=h+2|0}}eo(3,3904,T);l=-1}else{p=0;A=52}}while(0);if((A|0)==52){h=n+12|0;if((p|0)<1)u=1;else{e=1;u=1;while(1){l=s[f>>2]|0;if((l|0)==(e|0)){l=u;u=u+1|0}else l=s[n+1179664+(l+-1<<2)>>2]|0;s[f>>2]=l;if((e|0)<(p|0)){e=e+1|0;f=f+4|0}else break}}r=n+8|0;l=u+-1|0;s[r>>2]=l;if(l){Vu(h|0,0,l<<2|0)|0;Vu(n+655376|0,0,l<<4|0)|0;if((u|0)>1){l=0;do{A=l<<2;s[n+131084+(A<<2)>>2]=t;s[n+131084+((A|1)<<2)>>2]=0;s[n+131084+((A|2)<<2)>>2]=i;s[n+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(s[r>>2]|0))}if((p|0)>0){h=0;do{f=(s[n+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;l=n+12+(f<<2)|0;s[l>>2]=(s[l>>2]|0)+(s[n+1310736+(e<<2)>>2]|0);l=f<<1;u=n+655376+(l<<3)|0;c[u>>3]=+c[u>>3]+ +(s[n+1310736+(e+1<<2)>>2]|0);l=n+655376+((l|1)<<3)|0;c[l>>3]=+c[l>>3]+ +(s[n+1310736+(e+2<<2)>>2]|0);f=f<<2;l=n+131084+(f<<2)|0;u=s[n+1310736+(e+3<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;l=n+131084+((f|1)<<2)|0;u=s[n+1310736+(e+4<<2)>>2]|0;if((s[l>>2]|0)<(u|0))s[l>>2]=u;l=n+131084+((f|2)<<2)|0;u=s[n+1310736+(e+5<<2)>>2]|0;if((s[l>>2]|0)>(u|0))s[l>>2]=u;u=n+131084+((f|3)<<2)|0;l=s[n+1310736+(e+6<<2)>>2]|0;if((s[u>>2]|0)<(l|0))s[u>>2]=l;h=h+1|0}while((h|0)<(p|0))}if((s[r>>2]|0)>0){l=0;do{t=n+12+(l<<2)|0;i=l<<1;A=n+655376+(i<<3)|0;c[A>>3]=+c[A>>3]/+(s[t>>2]|0);i=n+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);l=l+1|0}while((l|0)<(s[r>>2]|0));l=0}else l=0}else l=0}d=M;return l|0}function or(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}E=n*3|0;C=x+-1|0;if((i|0)>1){u=0;n=p;f=p+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{n=n+(x<<1)|0;f=f+(x<<1)|0}}}f=l+1179664|0;n=x+1|0;y=0-x|0;w=1-x|0;k=~x;v=(t*3|0)+12|0;e:do{if((T|0)>1){_=(C|0)>1;u=(s[l+4>>2]|0)+n|0;S=1;h=e+((t*6|0)+6)|0;i=p+(n<<1)|0;n=0;t:while(1){if(_){g=1;b=h;m=n;while(1){do{if(((o[b+1>>0]|0)+(o[b>>0]|0)+(o[b+2>>0]|0)|0)>(E|0)){a[i>>1]=0;r[u>>0]=0;n=m}else{r[u>>0]=-1;n=a[i+(y<<1)>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}e=a[i+(w<<1)>>1]|0;t=e<<16>>16;n=a[i+(k<<1)>>1]|0;p=n<<16>>16;h=n<<16>>16>0;if(e<<16>>16<=0){if(h){a[i>>1]=n;n=p*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=a[i+-2>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(g|0)){n=m;break}s[n>>2]=g;n=m;break}else{n=m+1|0;if((m|0)>32767)break t;a[i>>1]=n;s[l+1179664+(m<<2)>>2]=n<<16>>16;m=m*7|0;s[l+1310736+(m<<2)>>2]=1;s[l+1310736+(m+1<<2)>>2]=g;s[l+1310736+(m+2<<2)>>2]=S;s[l+1310736+(m+3<<2)>>2]=g;s[l+1310736+(m+4<<2)>>2]=g;s[l+1310736+(m+5<<2)>>2]=S;s[l+1310736+(m+6<<2)>>2]=S;break}}if(h){n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+(p+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}h=a[i+-2>>1]|0;if(h<<16>>16<=0){a[i>>1]=e;n=t*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+S;n=m}}while(0);g=g+1|0;h=b+6|0;i=i+2|0;u=u+1|0;if((g|0)>=(C|0))break;else{b=h;m=n}}}S=S+1|0;if((S|0)>=(T|0)){t=n;M=52;break e}else{u=u+2|0;h=h+v|0;i=i+4|0}}eo(3,3904,A);u=-1}else{t=0;M=52}}while(0);if((M|0)==52){i=l+12|0;if((t|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;u=n+-1|0;s[e>>2]=u;if(u){Vu(i|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{f=(s[l+1179664+(i<<2)>>2]|0)+-1|0;h=i*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[e>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function nr(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}E=n*3|0;C=x+-1|0;if((i|0)>1){u=0;n=p;f=p+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{n=n+(x<<1)|0;f=f+(x<<1)|0}}}f=l+1179664|0;n=x+1|0;y=0-x|0;w=1-x|0;k=~x;v=(t<<1)+8|0;e:do{if((T|0)>1){_=(C|0)>1;u=(s[l+4>>2]|0)+n|0;S=1;h=e+((t<<2)+4)|0;i=p+(n<<1)|0;n=0;t:while(1){if(_){g=1;b=h;m=n;while(1){t=o[b>>0]|0;p=o[b+1>>0]|0;do{if(((t&248)+10+(t<<5&224)+(p>>>3&28)+(p<<3&248)|0)>(E|0)){a[i>>1]=0;r[u>>0]=0;n=m}else{r[u>>0]=-1;n=a[i+(y<<1)>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}e=a[i+(w<<1)>>1]|0;t=e<<16>>16;n=a[i+(k<<1)>>1]|0;p=n<<16>>16;h=n<<16>>16>0;if(e<<16>>16<=0){if(h){a[i>>1]=n;n=p*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=a[i+-2>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(g|0)){n=m;break}s[n>>2]=g;n=m;break}else{n=m+1|0;if((m|0)>32767)break t;a[i>>1]=n;s[l+1179664+(m<<2)>>2]=n<<16>>16;m=m*7|0;s[l+1310736+(m<<2)>>2]=1;s[l+1310736+(m+1<<2)>>2]=g;s[l+1310736+(m+2<<2)>>2]=S;s[l+1310736+(m+3<<2)>>2]=g;s[l+1310736+(m+4<<2)>>2]=g;s[l+1310736+(m+5<<2)>>2]=S;s[l+1310736+(m+6<<2)>>2]=S;break}}if(h){n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+(p+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}h=a[i+-2>>1]|0;if(h<<16>>16<=0){a[i>>1]=e;n=t*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+S;n=m}}while(0);g=g+1|0;h=b+4|0;i=i+2|0;u=u+1|0;if((g|0)>=(C|0))break;else{b=h;m=n}}}S=S+1|0;if((S|0)>=(T|0)){t=n;M=52;break e}else{u=u+2|0;h=h+v|0;i=i+4|0}}eo(3,3904,A);u=-1}else{t=0;M=52}}while(0);if((M|0)==52){i=l+12|0;if((t|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;u=n+-1|0;s[e>>2]=u;if(u){Vu(i|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{f=(s[l+1179664+(i<<2)>>2]|0)+-1|0;h=i*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[e>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function lr(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}E=n*3|0;C=x+-1|0;if((i|0)>1){u=0;n=p;f=p+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{n=n+(x<<1)|0;f=f+(x<<1)|0}}}f=l+1179664|0;n=x+1|0;y=0-x|0;w=1-x|0;k=~x;v=(t<<2)+16|0;e:do{if((T|0)>1){_=(C|0)>1;u=(s[l+4>>2]|0)+n|0;S=1;h=e+((t<<3)+8)|0;i=p+(n<<1)|0;n=0;t:while(1){if(_){g=1;b=h;m=n;while(1){do{if(((o[b+1>>0]|0)+(o[b>>0]|0)+(o[b+2>>0]|0)|0)>(E|0)){a[i>>1]=0;r[u>>0]=0;n=m}else{r[u>>0]=-1;n=a[i+(y<<1)>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}e=a[i+(w<<1)>>1]|0;t=e<<16>>16;n=a[i+(k<<1)>>1]|0;p=n<<16>>16;h=n<<16>>16>0;if(e<<16>>16<=0){if(h){a[i>>1]=n;n=p*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=a[i+-2>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(g|0)){n=m;break}s[n>>2]=g;n=m;break}else{n=m+1|0;if((m|0)>32767)break t;a[i>>1]=n;s[l+1179664+(m<<2)>>2]=n<<16>>16;m=m*7|0;s[l+1310736+(m<<2)>>2]=1;s[l+1310736+(m+1<<2)>>2]=g;s[l+1310736+(m+2<<2)>>2]=S;s[l+1310736+(m+3<<2)>>2]=g;s[l+1310736+(m+4<<2)>>2]=g;s[l+1310736+(m+5<<2)>>2]=S;s[l+1310736+(m+6<<2)>>2]=S;break}}if(h){n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+(p+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}h=a[i+-2>>1]|0;if(h<<16>>16<=0){a[i>>1]=e;n=t*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+S;n=m}}while(0);g=g+1|0;h=b+8|0;i=i+2|0;u=u+1|0;if((g|0)>=(C|0))break;else{b=h;m=n}}}S=S+1|0;if((S|0)>=(T|0)){t=n;M=52;break e}else{u=u+2|0;h=h+v|0;i=i+4|0}}eo(3,3904,A);u=-1}else{t=0;M=52}}while(0);if((M|0)==52){i=l+12|0;if((t|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;u=n+-1|0;s[e>>2]=u;if(u){Vu(i|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{f=(s[l+1179664+(i<<2)>>2]|0)+-1|0;h=i*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[e>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function ur(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}E=n*3|0;C=x+-1|0;if((i|0)>1){u=0;n=p;f=p+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{n=n+(x<<1)|0;f=f+(x<<1)|0}}}f=l+1179664|0;n=x+1|0;y=0-x|0;w=1-x|0;k=~x;v=(t<<1)+8|0;e:do{if((T|0)>1){_=(C|0)>1;u=(s[l+4>>2]|0)+n|0;S=1;h=e+((t<<2)+4)|0;i=p+(n<<1)|0;n=0;t:while(1){if(_){g=1;b=h;m=n;while(1){p=o[b>>0]|0;do{if(((p&240)+24+(p<<4&240)+((o[b+1>>0]|0)&240)|0)>(E|0)){a[i>>1]=0;r[u>>0]=0;n=m}else{r[u>>0]=-1;n=a[i+(y<<1)>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}e=a[i+(w<<1)>>1]|0;t=e<<16>>16;n=a[i+(k<<1)>>1]|0;p=n<<16>>16;h=n<<16>>16>0;if(e<<16>>16<=0){if(h){a[i>>1]=n;n=p*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=a[i+-2>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(g|0)){n=m;break}s[n>>2]=g;n=m;break}else{n=m+1|0;if((m|0)>32767)break t;a[i>>1]=n;s[l+1179664+(m<<2)>>2]=n<<16>>16;m=m*7|0;s[l+1310736+(m<<2)>>2]=1;s[l+1310736+(m+1<<2)>>2]=g;s[l+1310736+(m+2<<2)>>2]=S;s[l+1310736+(m+3<<2)>>2]=g;s[l+1310736+(m+4<<2)>>2]=g;s[l+1310736+(m+5<<2)>>2]=S;s[l+1310736+(m+6<<2)>>2]=S;break}}if(h){n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+(p+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}h=a[i+-2>>1]|0;if(h<<16>>16<=0){a[i>>1]=e;n=t*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+S;n=m}}while(0);g=g+1|0;h=b+4|0;i=i+2|0;u=u+1|0;if((g|0)>=(C|0))break;else{b=h;m=n}}}S=S+1|0;if((S|0)>=(T|0)){t=n;M=52;break e}else{u=u+2|0;h=h+v|0;i=i+4|0}}eo(3,3904,A);u=-1}else{t=0;M=52}}while(0);if((M|0)==52){i=l+12|0;if((t|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;u=n+-1|0;s[e>>2]=u;if(u){Vu(i|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{f=(s[l+1179664+(i<<2)>>2]|0)+-1|0;h=i*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[e>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function cr(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}E=n*3|0;C=x+-1|0;if((i|0)>1){u=0;n=p;f=p+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{n=n+(x<<1)|0;f=f+(x<<1)|0}}}f=l+1179664|0;n=x+1|0;y=0-x|0;w=1-x|0;k=~x;v=(t<<1)+8|0;e:do{if((T|0)>1){_=(C|0)>1;u=(s[l+4>>2]|0)+n|0;S=1;h=e+((t<<2)+4)|0;i=p+(n<<1)|0;n=0;t:while(1){if(_){g=1;b=h;m=n;while(1){t=o[b>>0]|0;p=o[b+1>>0]|0;do{if(((t&248)+12+(t<<5&224)+(p>>>3&24)+(p<<2&248)|0)>(E|0)){a[i>>1]=0;r[u>>0]=0;n=m}else{r[u>>0]=-1;n=a[i+(y<<1)>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}e=a[i+(w<<1)>>1]|0;t=e<<16>>16;n=a[i+(k<<1)>>1]|0;p=n<<16>>16;h=n<<16>>16>0;if(e<<16>>16<=0){if(h){a[i>>1]=n;n=p*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=a[i+-2>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(g|0)){n=m;break}s[n>>2]=g;n=m;break}else{n=m+1|0;if((m|0)>32767)break t;a[i>>1]=n;s[l+1179664+(m<<2)>>2]=n<<16>>16;m=m*7|0;s[l+1310736+(m<<2)>>2]=1;s[l+1310736+(m+1<<2)>>2]=g;s[l+1310736+(m+2<<2)>>2]=S;s[l+1310736+(m+3<<2)>>2]=g;s[l+1310736+(m+4<<2)>>2]=g;s[l+1310736+(m+5<<2)>>2]=S;s[l+1310736+(m+6<<2)>>2]=S;break}}if(h){n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+(p+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}h=a[i+-2>>1]|0;if(h<<16>>16<=0){a[i>>1]=e;n=t*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+S;n=m}}while(0);g=g+1|0;h=b+4|0;i=i+2|0;u=u+1|0;if((g|0)>=(C|0))break;else{b=h;m=n}}}S=S+1|0;if((S|0)>=(T|0)){t=n;M=52;break e}else{u=u+2|0;h=h+v|0;i=i+4|0}}eo(3,3904,A);u=-1}else{t=0;M=52}}while(0);if((M|0)==52){i=l+12|0;if((t|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;u=n+-1|0;s[e>>2]=u;if(u){Vu(i|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{f=(s[l+1179664+(i<<2)>>2]|0)+-1|0;h=i*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[e>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function dr(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;A=q;x=(t|0)/2|0;R=(i|0)/2|0;p=s[l>>2]|0;T=R+-1|0;if((t|0)>1){u=0;f=p;h=p+((ie(T,x)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(x|0))break;else{f=f+2|0;h=h+2|0}}}E=n*3|0;C=x+-1|0;if((i|0)>1){u=0;n=p;f=p+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(R|0))break;else{n=n+(x<<1)|0;f=f+(x<<1)|0}}}f=l+1179664|0;n=x+1|0;y=0-x|0;w=1-x|0;k=~x;v=(t<<2)+16|0;e:do{if((T|0)>1){_=(C|0)>1;u=(s[l+4>>2]|0)+n|0;S=1;h=e+((t<<3)+8)|0;i=p+(n<<1)|0;n=0;t:while(1){if(_){g=1;b=h;m=n;while(1){do{if(((o[b+2>>0]|0)+(o[b+1>>0]|0)+(o[b+3>>0]|0)|0)>(E|0)){a[i>>1]=0;r[u>>0]=0;n=m}else{r[u>>0]=-1;n=a[i+(y<<1)>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}e=a[i+(w<<1)>>1]|0;t=e<<16>>16;n=a[i+(k<<1)>>1]|0;p=n<<16>>16;h=n<<16>>16>0;if(e<<16>>16<=0){if(h){a[i>>1]=n;n=p*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=a[i+-2>>1]|0;if(n<<16>>16>0){a[i>>1]=n;n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(g|0)){n=m;break}s[n>>2]=g;n=m;break}else{n=m+1|0;if((m|0)>32767)break t;a[i>>1]=n;s[l+1179664+(m<<2)>>2]=n<<16>>16;m=m*7|0;s[l+1310736+(m<<2)>>2]=1;s[l+1310736+(m+1<<2)>>2]=g;s[l+1310736+(m+2<<2)>>2]=S;s[l+1310736+(m+3<<2)>>2]=g;s[l+1310736+(m+4<<2)>>2]=g;s[l+1310736+(m+5<<2)>>2]=S;s[l+1310736+(m+6<<2)>>2]=S;break}}if(h){n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+(p+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;p=l+1310736+(n+-5<<2)|0;s[p>>2]=(s[p>>2]|0)+S;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}h=a[i+-2>>1]|0;if(h<<16>>16<=0){a[i>>1]=e;n=t*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+g;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+S;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(g|0))s[h>>2]=g;s[l+1310736+(n+-1<<2)>>2]=S;n=m;break}n=s[l+1179664+(t+-1<<2)>>2]|0;t=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(t|0)){a[i>>1]=t;if((m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(n|0))s[e>>2]=t;h=h+1|0;if((h|0)>=(m|0)){n=t;break}else e=e+4|0}}else n=t}else{a[i>>1]=n;if((n|0)<(t|0)&(m|0)>0){h=0;e=f;while(1){if((s[e>>2]|0)==(t|0))s[e>>2]=n;h=h+1|0;if((h|0)>=(m|0))break;else e=e+4|0}}}n=(n<<16>>16)*7|0;p=l+1310736+(n+-7<<2)|0;s[p>>2]=(s[p>>2]|0)+1;p=l+1310736+(n+-6<<2)|0;s[p>>2]=(s[p>>2]|0)+g;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+S;n=m}}while(0);g=g+1|0;h=b+8|0;i=i+2|0;u=u+1|0;if((g|0)>=(C|0))break;else{b=h;m=n}}}S=S+1|0;if((S|0)>=(T|0)){t=n;M=52;break e}else{u=u+2|0;h=h+v|0;i=i+4|0}}eo(3,3904,A);u=-1}else{t=0;M=52}}while(0);if((M|0)==52){i=l+12|0;if((t|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(t|0)){h=h+1|0;f=f+4|0}else break}}e=l+8|0;u=n+-1|0;s[e>>2]=u;if(u){Vu(i|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{M=u<<2;s[l+131084+(M<<2)>>2]=x;s[l+131084+((M|1)<<2)>>2]=0;s[l+131084+((M|2)<<2)>>2]=R;s[l+131084+((M|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[e>>2]|0))}if((t|0)>0){i=0;do{f=(s[l+1179664+(i<<2)>>2]|0)+-1|0;h=i*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;i=i+1|0}while((i|0)<(t|0))}if((s[e>>2]|0)>0){u=0;do{x=l+12+(u<<2)|0;R=u<<1;M=l+655376+(R<<3)|0;c[M>>3]=+c[M>>3]/+(s[x>>2]|0);R=l+655376+((R|1)<<3)|0;c[R>>3]=+c[R>>3]/+(s[x>>2]|0);u=u+1|0}while((u|0)<(s[e>>2]|0));u=0}else u=0}else u=0}d=q;return u|0}function fr(e,t){e=e|0;t=t|0;var i=0,r=0,a=0;if((t|0)!=1){if(t+-1&t)t=Hu(t)|0}else t=2;a=s[e+4>>2]|0;if(t>>>0<=a>>>0){if(t>>>0<a>>>0){if(a>>>0>2)r=(a+-1&a|0)==0;else r=0;i=~~+te(+(+((s[e+12>>2]|0)>>>0)/+u[e+16>>2]))>>>0;if(r)i=1<<32-(ae(i+-1|0)|0);else i=Hu(i)|0;t=t>>>0<i>>>0?i:t;if(t>>>0<a>>>0)hr(e,t)}}else hr(e,t);return}function hr(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0,l=0,u=0,c=0,d=0,f=0;r=e+4|0;e:do{if(t){f=Rr(t<<2)|0;i=s[e>>2]|0;s[e>>2]=f;if(i)qr(i);s[r>>2]=t;if(t){i=0;do{s[(s[e>>2]|0)+(i<<2)>>2]=0;i=i+1|0}while((i|0)!=(t|0))}r=e+8|0;a=s[r>>2]|0;if(a){i=s[a+4>>2]|0;d=t+-1|0;f=(d&t|0)==0;if(f)n=i&d;else n=(i>>>0)%(t>>>0)|0;s[(s[e>>2]|0)+(n<<2)>>2]=r;i=s[a>>2]|0;if(i){o=a;r=a;while(1){c=r;t:while(1){while(1){r=s[i+4>>2]|0;if(f)u=r&d;else u=(r>>>0)%(t>>>0)|0;if((u|0)==(n|0)){r=i;break}r=(s[e>>2]|0)+(u<<2)|0;if(!(s[r>>2]|0)){n=u;a=i;break t}l=i+8|0;r=i;while(1){a=s[r>>2]|0;if(!a)break;if((s[l>>2]|0)==(s[a+8>>2]|0))r=a;else break}s[o>>2]=a;s[r>>2]=s[s[(s[e>>2]|0)+(u<<2)>>2]>>2];s[s[(s[e>>2]|0)+(u<<2)>>2]>>2]=i;i=s[c>>2]|0;if(!i)break e}i=s[r>>2]|0;if(!i)break e;else{o=r;c=r}}s[r>>2]=o;i=s[a>>2]|0;if(!i)break;else{o=a;r=a}}}}}else{i=s[e>>2]|0;s[e>>2]=0;if(i)qr(i);s[r>>2]=0}}while(0);return}function pr(e,t){e=e|0;t=t|0;var i=0,a=0,o=0,n=0,l=0;o=d;d=d+32|0;n=o+16|0;a=o+4|0;l=o;t=s[t>>2]|0;i=s[t>>2]|0;s[l>>2]=t;s[n>>2]=s[l>>2];mr(a,e,n);t=s[a>>2]|0;s[a>>2]=0;if(t){if(r[a+8>>0]|0)Qn(t+264|0);qr(t)}d=o;return i|0}function mr(e,t,i){e=e|0;t=t|0;i=i|0;var a=0,o=0,n=0,l=0,u=0,c=0,d=0,f=0,h=0,p=0;p=s[i>>2]|0;d=s[t+4>>2]|0;i=s[p+4>>2]|0;f=d+-1|0;h=(f&d|0)==0;if(h)c=f&i;else c=(i>>>0)%(d>>>0)|0;o=(s[t>>2]|0)+(c<<2)|0;a=s[o>>2]|0;while(1){i=s[a>>2]|0;if((i|0)==(p|0)){u=a;break}else a=i}l=t+8|0;if((u|0)!=(l|0)){i=s[u+4>>2]|0;if(h)i=i&f;else i=(i>>>0)%(d>>>0)|0;if((i|0)==(c|0))o=p;else n=12}else n=12;do{if((n|0)==12){i=s[p>>2]|0;if(i){i=s[i+4>>2]|0;if(h)i=i&f;else i=(i>>>0)%(d>>>0)|0;if((i|0)==(c|0)){o=p;break}}s[o>>2]=0;o=p}}while(0);a=s[o>>2]|0;i=a;if(a){a=s[a+4>>2]|0;if(h)a=a&f;else a=(a>>>0)%(d>>>0)|0;if((a|0)!=(c|0)){s[(s[t>>2]|0)+(a<<2)>>2]=u;i=s[p>>2]|0}}s[u>>2]=i;s[o>>2]=0;t=t+12|0;s[t>>2]=(s[t>>2]|0)+-1;s[e>>2]=p;s[e+4>>2]=l;r[e+8>>0]=1;return}function br(e,t,i){e=e|0;t=t|0;i=i|0;var r=0;r=Rr(408)|0;s[r+8>>2]=s[i>>2];Vu(r+16|0,0,392)|0;c[r+248>>3]=.0001;c[r+256>>3]=1.0e3;i=r+264|0;s[i>>2]=0;s[i+4>>2]=0;s[i+8>>2]=0;s[i+12>>2]=0;s[e>>2]=r;e=e+4|0;s[e>>2]=t+8;s[e+4>>2]=257;return}function gr(e,t,i){e=e|0;t=t|0;i=i|0;var a=0,o=0,n=0,l=0.0,c=0.0,d=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0;f=s[i+8>>2]|0;v=i+4|0;s[v>>2]=f;g=t+4|0;d=s[g>>2]|0;b=(d|0)==0;e:do{if(!b){h=d+-1|0;p=(h&d|0)==0;if(p)o=h&f;else o=(f>>>0)%(d>>>0)|0;a=s[(s[t>>2]|0)+(o<<2)>>2]|0;if(!a)m=12;else while(1){n=s[a>>2]|0;if(!n){m=12;break e}a=s[n+4>>2]|0;if(p)a=a&h;else a=(a>>>0)%(d>>>0)|0;if((a|0)!=(o|0)){m=12;break e}if((s[n+8>>2]|0)==(f|0)){a=0;i=n;break}else a=n}}else{o=0;m=12}}while(0);if((m|0)==12){f=t+12|0;l=+(((s[f>>2]|0)+1|0)>>>0);c=+u[t+16>>2];do{if(b|l>+(d>>>0)*c){if(d>>>0>2)a=(d+-1&d|0)==0;else a=0;n=(a&1|d<<1)^1;a=~~+te(+(l/c))>>>0;vr(t,n>>>0<a>>>0?a:n);n=s[g>>2]|0;a=s[v>>2]|0;o=n+-1|0;if(!(o&n)){d=n;o=o&a;break}else{d=n;o=(a>>>0)%(n>>>0)|0;break}}}while(0);a=s[(s[t>>2]|0)+(o<<2)>>2]|0;if(!a){a=t+8|0;s[i>>2]=s[a>>2];s[a>>2]=i;s[(s[t>>2]|0)+(o<<2)>>2]=a;a=s[i>>2]|0;if(a){a=s[a+4>>2]|0;o=d+-1|0;if(!(o&d))a=a&o;else a=(a>>>0)%(d>>>0)|0;s[(s[t>>2]|0)+(a<<2)>>2]=i}}else{s[i>>2]=s[a>>2];s[a>>2]=i}s[f>>2]=(s[f>>2]|0)+1;a=1}s[e>>2]=i;r[e+4>>0]=a;return}function vr(e,t){e=e|0;t=t|0;var i=0,r=0,a=0;if((t|0)!=1){if(t+-1&t)t=Hu(t)|0}else t=2;a=s[e+4>>2]|0;if(t>>>0<=a>>>0){if(t>>>0<a>>>0){if(a>>>0>2)r=(a+-1&a|0)==0;else r=0;i=~~+te(+(+((s[e+12>>2]|0)>>>0)/+u[e+16>>2]))>>>0;if(r)i=1<<32-(ae(i+-1|0)|0);else i=Hu(i)|0;t=t>>>0<i>>>0?i:t;if(t>>>0<a>>>0)wr(e,t)}}else wr(e,t);return}function wr(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0,l=0,u=0,c=0,d=0,f=0;r=e+4|0;e:do{if(t){f=Rr(t<<2)|0;i=s[e>>2]|0;s[e>>2]=f;if(i)qr(i);s[r>>2]=t;if(t){i=0;do{s[(s[e>>2]|0)+(i<<2)>>2]=0;i=i+1|0}while((i|0)!=(t|0))}r=e+8|0;a=s[r>>2]|0;if(a){i=s[a+4>>2]|0;d=t+-1|0;f=(d&t|0)==0;if(f)n=i&d;else n=(i>>>0)%(t>>>0)|0;s[(s[e>>2]|0)+(n<<2)>>2]=r;i=s[a>>2]|0;if(i){o=a;r=a;while(1){c=r;t:while(1){while(1){r=s[i+4>>2]|0;if(f)u=r&d;else u=(r>>>0)%(t>>>0)|0;if((u|0)==(n|0)){r=i;break}r=(s[e>>2]|0)+(u<<2)|0;if(!(s[r>>2]|0)){n=u;a=i;break t}l=i+8|0;r=i;while(1){a=s[r>>2]|0;if(!a)break;if((s[l>>2]|0)==(s[a+8>>2]|0))r=a;else break}s[o>>2]=a;s[r>>2]=s[s[(s[e>>2]|0)+(u<<2)>>2]>>2];s[s[(s[e>>2]|0)+(u<<2)>>2]>>2]=i;i=s[c>>2]|0;if(!i)break e}i=s[r>>2]|0;if(!i)break e;else{o=r;c=r}}s[r>>2]=o;i=s[a>>2]|0;if(!i)break;else{o=a;r=a}}}}}else{i=s[e>>2]|0;s[e>>2]=0;if(i)qr(i);s[r>>2]=0}}while(0);return}function kr(e){e=e|0;return ks(s[e+4>>2]|0)|0}function yr(e){e=e|0;Le(624,10917);Ze(632,10922,1,1,0);Oe(640,10927,1,-128,127);Oe(656,10932,1,-128,127);Oe(648,10944,1,0,255);Oe(664,10958,2,-32768,32767);Oe(672,10964,2,0,65535);Oe(680,10979,4,-2147483648,2147483647);Oe(688,10983,4,0,-1);Oe(696,10996,4,-2147483648,2147483647);Oe(704,11001,4,0,-1);ht(712,11015,4);ht(720,11021,8);yt(360,11028);yt(392,11040);at(416,4,11073);ot(440,11086);xe(448,0,11102);Sr(11132);Er(11169);Cr(11208);Tr(11239);Ar(11279);Mr(11308);xe(456,4,11346);xe(464,5,11376);Sr(11415);Er(11447);Cr(11480);Tr(11513);Ar(11547);Mr(11580);xe(472,6,11614);xe(480,7,11645);xe(488,7,11677);return}function _r(){yr(0);return}function Sr(e){e=e|0;xe(536,0,e|0);return}function Er(e){e=e|0;xe(528,1,e|0);return}function Cr(e){e=e|0;xe(520,2,e|0);return}function Tr(e){e=e|0;xe(512,3,e|0);return}function Ar(e){e=e|0;xe(504,4,e|0);return}function Mr(e){e=e|0;xe(496,5,e|0);return}function xr(e){e=e|0;De(12478,12501,303,12589)}function Rr(e){e=e|0;var t=0;t=(e|0)==0?1:e;e=Hs(t)|0;e:do{if(!e){while(1){e=Or()|0;if(!e)break;Qc[e&0]();e=Hs(t)|0;if(e)break e}t=Xe(4)|0;s[t>>2]=2224;Ct(t|0,544,1)}}while(0);return e|0}function qr(e){e=e|0;js(e);return}function Pr(e){e=e|0;return}function Ir(e){e=e|0;qr(e);return}function Fr(e){e=e|0;return 12610}function Or(){var e=0;e=s[559]|0;s[559]=e+0;return e|0}function Nr(e){e=e|0;return}function Dr(e){e=e|0;return}function $r(e){e=e|0;return}function Lr(e){e=e|0;return}function Hr(e){e=e|0;return}function jr(e){e=e|0;qr(e);return}function zr(e){e=e|0;qr(e);return}function Br(e){e=e|0;qr(e);return}function Ur(e){e=e|0;qr(e);return}function Wr(e,t,i){e=e|0;t=t|0;i=i|0;return(e|0)==(t|0)|0}function Vr(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,o=0,n=0;n=d;d=d+64|0;o=n;if((e|0)!=(t|0))if((t|0)!=0?(a=Jr(t,576,592,0)|0,(a|0)!=0):0){t=o;r=t+56|0;do{s[t>>2]=0;t=t+4|0}while((t|0)<(r|0));s[o>>2]=a;s[o+8>>2]=e;s[o+12>>2]=-1;s[o+48>>2]=1;Zc[s[(s[a>>2]|0)+28>>2]&3](a,o,s[i>>2]|0,1);if((s[o+24>>2]|0)==1){s[i>>2]=s[o+16>>2];t=1}else t=0}else t=0;else t=1;d=n;return t|0}function Yr(e,t,i,a){e=e|0;t=t|0;i=i|0;a=a|0;var o=0;e=t+16|0;o=s[e>>2]|0;do{if(o){if((o|0)!=(i|0)){a=t+36|0;s[a>>2]=(s[a>>2]|0)+1;s[t+24>>2]=2;r[t+54>>0]=1;break}e=t+24|0;if((s[e>>2]|0)==2)s[e>>2]=a}else{s[e>>2]=i;s[t+24>>2]=a;s[t+36>>2]=1}}while(0);return}function Qr(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;if((e|0)==(s[t+8>>2]|0))Yr(0,t,i,r);return}function Gr(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;if((e|0)==(s[t+8>>2]|0))Yr(0,t,i,r);else{e=s[e+8>>2]|0;Zc[s[(s[e>>2]|0)+28>>2]&3](e,t,i,r)}return}function Kr(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,o=0;o=s[e+4>>2]|0;a=o>>8;if(o&1)a=s[(s[i>>2]|0)+a>>2]|0;e=s[e>>2]|0;Zc[s[(s[e>>2]|0)+28>>2]&3](e,t,i+a|0,(o&2|0)!=0?r:2);return}function Xr(e,t,i,a){e=e|0;t=t|0;i=i|0;a=a|0;var o=0,n=0;e:do{if((e|0)!=(s[t+8>>2]|0)){n=s[e+12>>2]|0;o=e+16+(n<<3)|0;Kr(e+16|0,t,i,a);if((n|0)>1){n=t+54|0;e=e+24|0;do{Kr(e,t,i,a);if(r[n>>0]|0)break e;e=e+8|0}while(e>>>0<o>>>0)}}else Yr(0,t,i,a)}while(0);return}function Jr(e,t,i,o){e=e|0;t=t|0;i=i|0;o=o|0;var n=0,l=0,u=0,c=0,f=0,h=0,p=0,m=0,b=0,g=0;g=d;d=d+64|0;b=g;m=s[e>>2]|0;p=e+(s[m+-8>>2]|0)|0;m=s[m+-4>>2]|0;s[b>>2]=i;s[b+4>>2]=e;s[b+8>>2]=t;s[b+12>>2]=o;o=b+16|0;e=b+20|0;t=b+24|0;n=b+28|0;l=b+32|0;u=b+40|0;c=(m|0)==(i|0);f=o;h=f+36|0;do{s[f>>2]=0;f=f+4|0}while((f|0)<(h|0));a[o+36>>1]=0;r[o+38>>0]=0;e:do{if(c){s[b+48>>2]=1;Xc[s[(s[i>>2]|0)+20>>2]&3](i,b,p,p,1,0);o=(s[t>>2]|0)==1?p:0}else{Lc[s[(s[m>>2]|0)+24>>2]&3](m,b,p,1,0);switch(s[b+36>>2]|0){case 0:{o=(s[u>>2]|0)==1&(s[n>>2]|0)==1&(s[l>>2]|0)==1?s[e>>2]|0:0;break e}case 1:break;default:{o=0;break e}}if((s[t>>2]|0)!=1?!((s[u>>2]|0)==0&(s[n>>2]|0)==1&(s[l>>2]|0)==1):0){o=0;break}o=s[o>>2]|0}}while(0);d=g;return o|0}function Zr(e,t,i,a,o){e=e|0;t=t|0;i=i|0;a=a|0;o=o|0;r[t+53>>0]=1;do{if((s[t+4>>2]|0)==(a|0)){r[t+52>>0]=1;a=t+16|0;e=s[a>>2]|0;if(!e){s[a>>2]=i;s[t+24>>2]=o;s[t+36>>2]=1;if(!((o|0)==1?(s[t+48>>2]|0)==1:0))break;r[t+54>>0]=1;break}if((e|0)!=(i|0)){o=t+36|0;s[o>>2]=(s[o>>2]|0)+1;r[t+54>>0]=1;break}e=t+24|0;a=s[e>>2]|0;if((a|0)==2){s[e>>2]=o;a=o}if((a|0)==1?(s[t+48>>2]|0)==1:0)r[t+54>>0]=1}}while(0);return}function ea(e,t,i,a,o){e=e|0;t=t|0;i=i|0;a=a|0;o=o|0;var n=0,l=0,u=0,c=0,d=0,f=0,h=0,p=0,m=0,b=0;e:do{if((e|0)==(s[t+8>>2]|0)){if((s[t+4>>2]|0)==(i|0)?(n=t+28|0,(s[n>>2]|0)!=1):0)s[n>>2]=a}else{if((e|0)!=(s[t>>2]|0)){b=s[e+12>>2]|0;u=e+16+(b<<3)|0;ia(e+16|0,t,i,a,o);n=e+24|0;if((b|0)<=1)break;l=s[e+8>>2]|0;if((l&2|0)==0?(c=t+36|0,(s[c>>2]|0)!=1):0){if(!(l&1)){l=t+54|0;while(1){if(r[l>>0]|0)break e;if((s[c>>2]|0)==1)break e;ia(n,t,i,a,o);n=n+8|0;if(n>>>0>=u>>>0)break e}}l=t+24|0;e=t+54|0;while(1){if(r[e>>0]|0)break e;if((s[c>>2]|0)==1?(s[l>>2]|0)==1:0)break e;ia(n,t,i,a,o);n=n+8|0;if(n>>>0>=u>>>0)break e}}l=t+54|0;while(1){if(r[l>>0]|0)break e;ia(n,t,i,a,o);n=n+8|0;if(n>>>0>=u>>>0)break e}}if((s[t+16>>2]|0)!=(i|0)?(m=t+20|0,(s[m>>2]|0)!=(i|0)):0){s[t+32>>2]=a;f=t+44|0;if((s[f>>2]|0)==4)break;l=s[e+12>>2]|0;u=e+16+(l<<3)|0;c=t+52|0;a=t+53|0;h=t+54|0;d=e+8|0;p=t+24|0;t:do{if((l|0)>0){l=0;n=0;e=e+16|0;while(1){r[c>>0]=0;r[a>>0]=0;ta(e,t,i,i,1,o);if(r[h>>0]|0){b=20;break t}do{if(r[a>>0]|0){if(!(r[c>>0]|0))if(!(s[d>>2]&1)){n=1;b=20;break t}else{n=1;break}if((s[p>>2]|0)==1)break t;if(!(s[d>>2]&2))break t;else{l=1;n=1}}}while(0);e=e+8|0;if(e>>>0>=u>>>0){b=20;break}}}else{l=0;n=0;b=20}}while(0);do{if((b|0)==20){if((!l?(s[m>>2]=i,i=t+40|0,s[i>>2]=(s[i>>2]|0)+1,(s[t+36>>2]|0)==1):0)?(s[p>>2]|0)==2:0){r[h>>0]=1;if(n)break}else b=24;if((b|0)==24?n:0)break;s[f>>2]=4;break e}}while(0);s[f>>2]=3;break}if((a|0)==1)s[t+32>>2]=1}}while(0);return}function ta(e,t,i,r,a,o){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;o=o|0;var n=0,l=0;l=s[e+4>>2]|0;n=l>>8;if(l&1)n=s[(s[r>>2]|0)+n>>2]|0;e=s[e>>2]|0;Xc[s[(s[e>>2]|0)+20>>2]&3](e,t,i,r+n|0,(l&2|0)!=0?a:2,o);return}function ia(e,t,i,r,a){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;var o=0,n=0;n=s[e+4>>2]|0;o=n>>8;if(n&1)o=s[(s[i>>2]|0)+o>>2]|0;e=s[e>>2]|0;Lc[s[(s[e>>2]|0)+24>>2]&3](e,t,i+o|0,(n&2|0)!=0?r:2,a);return}function ra(e,t,i,a,o){e=e|0;t=t|0;i=i|0;a=a|0;o=o|0;var n=0,l=0,u=0,c=0;e:do{if((e|0)==(s[t+8>>2]|0)){if((s[t+4>>2]|0)==(i|0)?(n=t+28|0,(s[n>>2]|0)!=1):0)s[n>>2]=a}else{if((e|0)!=(s[t>>2]|0)){u=s[e+8>>2]|0;Lc[s[(s[u>>2]|0)+24>>2]&3](u,t,i,a,o);break}if((s[t+16>>2]|0)!=(i|0)?(l=t+20|0,(s[l>>2]|0)!=(i|0)):0){s[t+32>>2]=a;a=t+44|0;if((s[a>>2]|0)==4)break;n=t+52|0;r[n>>0]=0;c=t+53|0;r[c>>0]=0;e=s[e+8>>2]|0;Xc[s[(s[e>>2]|0)+20>>2]&3](e,t,i,i,1,o);if(r[c>>0]|0){if(!(r[n>>0]|0)){n=1;u=13}}else{n=0;u=13}do{if((u|0)==13){s[l>>2]=i;c=t+40|0;s[c>>2]=(s[c>>2]|0)+1;if((s[t+36>>2]|0)==1?(s[t+24>>2]|0)==2:0){r[t+54>>0]=1;if(n)break}else u=16;if((u|0)==16?n:0)break;s[a>>2]=4;break e}}while(0);s[a>>2]=3;break}if((a|0)==1)s[t+32>>2]=1}}while(0);return}function aa(e,t,i,a,o){e=e|0;t=t|0;i=i|0;a=a|0;o=o|0;var n=0,l=0;do{if((e|0)==(s[t+8>>2]|0)){if((s[t+4>>2]|0)==(i|0)?(l=t+28|0,(s[l>>2]|0)!=1):0)s[l>>2]=a}else if((e|0)==(s[t>>2]|0)){if((s[t+16>>2]|0)!=(i|0)?(n=t+20|0,(s[n>>2]|0)!=(i|0)):0){s[t+32>>2]=a;s[n>>2]=i;o=t+40|0;s[o>>2]=(s[o>>2]|0)+1;if((s[t+36>>2]|0)==1?(s[t+24>>2]|0)==2:0)r[t+54>>0]=1;s[t+44>>2]=4;break}if((a|0)==1)s[t+32>>2]=1}}while(0);return}function sa(e,t,i,a,o,n){e=e|0;t=t|0;i=i|0;a=a|0;o=o|0;n=n|0;var l=0,u=0,c=0,d=0,f=0,h=0,p=0,m=0;if((e|0)==(s[t+8>>2]|0))Zr(0,t,i,a,o);else{f=t+52|0;h=r[f>>0]|0;p=t+53|0;m=r[p>>0]|0;d=s[e+12>>2]|0;l=e+16+(d<<3)|0;r[f>>0]=0;r[p>>0]=0;ta(e+16|0,t,i,a,o,n);e:do{if((d|0)>1){u=t+24|0;c=e+8|0;d=t+54|0;e=e+24|0;do{if(r[d>>0]|0)break e;if(!(r[f>>0]|0)){if((r[p>>0]|0)!=0?(s[c>>2]&1|0)==0:0)break e}else{if((s[u>>2]|0)==1)break e;if(!(s[c>>2]&2))break e}r[f>>0]=0;r[p>>0]=0;ta(e,t,i,a,o,n);e=e+8|0}while(e>>>0<l>>>0)}}while(0);r[f>>0]=h;r[p>>0]=m}return}function oa(e,t,i,r,a,o){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;o=o|0;if((e|0)==(s[t+8>>2]|0))Zr(0,t,i,r,a);else{e=s[e+8>>2]|0;Xc[s[(s[e>>2]|0)+20>>2]&3](e,t,i,r,a,o)}return}function na(e,t,i,r,a,o){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;o=o|0;if((e|0)==(s[t+8>>2]|0))Zr(0,t,i,r,a);return}function la(e){e=e|0;De(12625,12654,1164,12589)}function ua(e){e=e|0;return((e|0)==32|(e+-9|0)>>>0<5)&1|0}function ca(){var e=0;if(!(s[597]|0))e=2644;else e=s[(ut()|0)+60>>2]|0;return e|0}function da(e){e=e|0;var t=0,i=0;t=0;while(1){if((o[12742+t>>0]|0)==(e|0)){i=2;break}t=t+1|0;if((t|0)==87){t=87;e=12830;i=5;break}}if((i|0)==2)if(!t)e=12830;else{e=12830;i=5}if((i|0)==5)while(1){i=e;while(1){e=i+1|0;if(!(r[i>>0]|0))break;else i=e}t=t+-1|0;if(!t)break;else i=5}return e|0}function fa(e,t,i){e=e|0;t=t|0;i=i|0;var a=0.0,n=0,l=0.0,u=0,c=0,f=0.0,h=0,p=0,m=0,b=0.0,g=0.0,v=0,w=0,k=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0,I=0,F=0,O=0,N=0,D=0,$=0.0;D=d;d=d+512|0;I=D;switch(t|0){case 0:{N=24;O=-149;T=4;break}case 1:{N=53;O=-1074;T=4;break}case 2:{N=53;O=-1074;T=4;break}default:a=0.0}e:do{if((T|0)==4){x=e+4|0;M=e+100|0;do{t=s[x>>2]|0;if(t>>>0<(s[M>>2]|0)>>>0){s[x>>2]=t+1;t=o[t>>0]|0}else t=ma(e)|0}while((ua(t)|0)!=0);t:do{switch(t|0){case 43:case 45:{n=1-(((t|0)==45&1)<<1)|0;t=s[x>>2]|0;if(t>>>0<(s[M>>2]|0)>>>0){s[x>>2]=t+1;t=o[t>>0]|0;F=n;break t}else{t=ma(e)|0;F=n;break t}}default:F=1}}while(0);n=t;t=0;do{if((n|32|0)!=(r[14634+t>>0]|0))break;do{if(t>>>0<7){n=s[x>>2]|0;if(n>>>0<(s[M>>2]|0)>>>0){s[x>>2]=n+1;n=o[n>>0]|0;break}else{n=ma(e)|0;break}}}while(0);t=t+1|0}while(t>>>0<8);t:do{switch(t|0){case 8:break;case 3:{T=23;break}default:{u=(i|0)!=0;if(u&t>>>0>3)if((t|0)==8)break t;else{T=23;break t}i:do{if(!t){t=0;do{if((n|32|0)!=(r[16477+t>>0]|0))break i;do{if(t>>>0<2){n=s[x>>2]|0;if(n>>>0<(s[M>>2]|0)>>>0){s[x>>2]=n+1;n=o[n>>0]|0;break}else{n=ma(e)|0;break}}}while(0);t=t+1|0}while(t>>>0<3)}}while(0);switch(t|0){case 3:{t=s[x>>2]|0;if(t>>>0<(s[M>>2]|0)>>>0){s[x>>2]=t+1;t=o[t>>0]|0}else t=ma(e)|0;if((t|0)==40)t=1;else{if(!(s[M>>2]|0)){a=y;break e}s[x>>2]=(s[x>>2]|0)+-1;a=y;break e}while(1){n=s[x>>2]|0;if(n>>>0<(s[M>>2]|0)>>>0){s[x>>2]=n+1;n=o[n>>0]|0}else n=ma(e)|0;if(!((n+-48|0)>>>0<10|(n+-65|0)>>>0<26)?!((n|0)==95|(n+-97|0)>>>0<26):0)break;t=t+1|0}if((n|0)==41){a=y;break e}n=(s[M>>2]|0)==0;if(!n)s[x>>2]=(s[x>>2]|0)+-1;if(!u){s[(ca()|0)>>2]=22;pa(e,0);a=0.0;break e}if(!t){a=y;break e}while(1){t=t+-1|0;if(!n)s[x>>2]=(s[x>>2]|0)+-1;if(!t){a=y;break e}}}case 0:{do{if((n|0)==48){t=s[x>>2]|0;if(t>>>0<(s[M>>2]|0)>>>0){s[x>>2]=t+1;t=o[t>>0]|0}else t=ma(e)|0;if((t|32|0)!=120){if(!(s[M>>2]|0)){t=48;break}s[x>>2]=(s[x>>2]|0)+-1;t=48;break}t=s[x>>2]|0;if(t>>>0<(s[M>>2]|0)>>>0){s[x>>2]=t+1;t=o[t>>0]|0;u=0}else{t=ma(e)|0;u=0}i:while(1){switch(t|0){case 46:{T=74;break i}case 48:break;default:{E=0;c=0;S=0;n=0;h=u;p=0;k=0;f=1.0;u=0;a=0.0;break i}}t=s[x>>2]|0;if(t>>>0<(s[M>>2]|0)>>>0){s[x>>2]=t+1;t=o[t>>0]|0;u=1;continue}else{t=ma(e)|0;u=1;continue}}if((T|0)==74){t=s[x>>2]|0;if(t>>>0<(s[M>>2]|0)>>>0){s[x>>2]=t+1;t=o[t>>0]|0}else t=ma(e)|0;if((t|0)==48){u=0;n=0;do{t=s[x>>2]|0;if(t>>>0<(s[M>>2]|0)>>>0){s[x>>2]=t+1;t=o[t>>0]|0}else t=ma(e)|0;u=Qu(u|0,n|0,-1,-1)|0;n=P}while((t|0)==48);E=0;c=0;S=u;h=1;p=1;k=0;f=1.0;u=0;a=0.0}else{E=0;c=0;S=0;n=0;h=u;p=1;k=0;f=1.0;u=0;a=0.0}}while(1){v=t+-48|0;m=t|32;if(v>>>0>=10){w=(t|0)==46;if(!(w|(m+-97|0)>>>0<6)){m=S;v=E;break}if(w)if(!p){w=c;n=E;v=E;p=1;m=k;l=f}else{m=S;v=E;t=46;break}else T=86}else T=86;if((T|0)==86){T=0;t=(t|0)>57?m+-87|0:v;do{if(!((E|0)<0|(E|0)==0&c>>>0<8)){if((E|0)<0|(E|0)==0&c>>>0<14){g=f*.0625;m=k;l=g;a=a+g*+(t|0);break}if((k|0)!=0|(t|0)==0){m=k;l=f}else{m=1;l=f;a=a+f*.5}}else{m=k;l=f;u=t+(u<<4)|0}}while(0);c=Qu(c|0,E|0,1,0)|0;w=S;v=P;h=1}t=s[x>>2]|0;if(t>>>0<(s[M>>2]|0)>>>0){s[x>>2]=t+1;E=v;S=w;t=o[t>>0]|0;k=m;f=l;continue}else{E=v;S=w;t=ma(e)|0;k=m;f=l;continue}}if(!h){t=(s[M>>2]|0)==0;if(!t)s[x>>2]=(s[x>>2]|0)+-1;if(i){if(!t?(C=s[x>>2]|0,s[x>>2]=C+-1,(p|0)!=0):0)s[x>>2]=C+-2}else pa(e,0);a=+(F|0)*0.0;break e}h=(p|0)==0;p=h?c:m;h=h?v:n;if((v|0)<0|(v|0)==0&c>>>0<8){n=v;do{u=u<<4;c=Qu(c|0,n|0,1,0)|0;n=P}while((n|0)<0|(n|0)==0&c>>>0<8)}if((t|32|0)==112){n=As(e,i)|0;t=P;if((n|0)==0&(t|0)==-2147483648){if(!i){pa(e,0);a=0.0;break e}if(!(s[M>>2]|0)){n=0;t=0}else{s[x>>2]=(s[x>>2]|0)+-1;n=0;t=0}}}else if(!(s[M>>2]|0)){n=0;t=0}else{s[x>>2]=(s[x>>2]|0)+-1;n=0;t=0}I=Yu(p|0,h|0,2)|0;I=Qu(I|0,P|0,-32,-1)|0;t=Qu(I|0,P|0,n|0,t|0)|0;n=P;if(!u){a=+(F|0)*0.0;break e}if((n|0)>0|(n|0)==0&t>>>0>(0-O|0)>>>0){s[(ca()|0)>>2]=34;a=+(F|0)*1797693134862315708145274.0e284*1797693134862315708145274.0e284;break e}I=O+-106|0;q=((I|0)<0)<<31>>31;if((n|0)<(q|0)|(n|0)==(q|0)&t>>>0<I>>>0){s[(ca()|0)>>2]=34;a=+(F|0)*2.2250738585072014e-308*2.2250738585072014e-308;break e}if((u|0)>-1){do{q=!(a>=.5);I=q&1|u<<1;u=I^1;a=a+(q?a:a+-1.0);t=Qu(t|0,n|0,-1,-1)|0;n=P}while((I|0)>-1);c=t;f=a}else{c=t;f=a}t=Wu(32,0,O|0,((O|0)<0)<<31>>31|0)|0;t=Qu(c|0,n|0,t|0,P|0)|0;O=P;if(0>(O|0)|0==(O|0)&N>>>0>t>>>0)if((t|0)<0){t=0;T=127}else T=125;else{t=N;T=125}if((T|0)==125)if((t|0)<53)T=127;else{n=t;l=+(F|0);a=0.0}if((T|0)==127){a=+(F|0);n=t;l=a;a=+va(+Sa(1.0,84-t|0),a)}N=(u&1|0)==0&(f!=0.0&(n|0)<32);a=l*(N?0.0:f)+(a+l*+(((N&1)+u|0)>>>0))-a;if(!(a!=0.0))s[(ca()|0)>>2]=34;a=+Ea(a,c);break e}else t=n}while(0);R=O+N|0;q=0-R|0;u=0;i:while(1){switch(t|0){case 46:{T=138;break i}case 48:break;default:{n=0;m=0;p=0;break i}}t=s[x>>2]|0;if(t>>>0<(s[M>>2]|0)>>>0){s[x>>2]=t+1;t=o[t>>0]|0;u=1;continue}else{t=ma(e)|0;u=1;continue}}if((T|0)==138){t=s[x>>2]|0;if(t>>>0<(s[M>>2]|0)>>>0){s[x>>2]=t+1;t=o[t>>0]|0}else t=ma(e)|0;if((t|0)==48){n=0;t=0;while(1){n=Qu(n|0,t|0,-1,-1)|0;u=P;t=s[x>>2]|0;if(t>>>0<(s[M>>2]|0)>>>0){s[x>>2]=t+1;t=o[t>>0]|0}else t=ma(e)|0;if((t|0)==48)t=u;else{m=u;u=1;p=1;break}}}else{n=0;m=0;p=1}}s[I>>2]=0;h=t+-48|0;c=(t|0)==46;i:do{if(c|h>>>0<10){A=I+496|0;E=0;w=0;k=c;T=m;v=u;C=p;u=0;c=0;p=0;r:while(1){do{if(k)if(!C){n=E;m=w;C=1}else{m=T;t=E;h=w;break r}else{k=Qu(E|0,w|0,1,0)|0;w=P;S=(t|0)!=48;if((c|0)>=125){if(!S){m=T;E=k;break}s[A>>2]=s[A>>2]|1;m=T;E=k;break}m=I+(c<<2)|0;if(u)h=t+-48+((s[m>>2]|0)*10|0)|0;s[m>>2]=h;u=u+1|0;h=(u|0)==9;m=T;E=k;v=1;u=h?0:u;c=(h&1)+c|0;p=S?k:p}}while(0);t=s[x>>2]|0;if(t>>>0<(s[M>>2]|0)>>>0){s[x>>2]=t+1;t=o[t>>0]|0}else t=ma(e)|0;h=t+-48|0;k=(t|0)==46;if(!(k|h>>>0<10)){h=C;T=161;break i}else T=m}v=(v|0)!=0;T=169}else{E=0;w=0;v=u;h=p;u=0;c=0;p=0;T=161}}while(0);do{if((T|0)==161){A=(h|0)==0;n=A?E:n;m=A?w:m;v=(v|0)!=0;if(!((t|32|0)==101&v))if((t|0)>-1){t=E;h=w;T=169;break}else{t=E;h=w;T=171;break}h=As(e,i)|0;t=P;if((h|0)==0&(t|0)==-2147483648){if(!i){pa(e,0);a=0.0;break}if(!(s[M>>2]|0)){h=0;t=0}else{s[x>>2]=(s[x>>2]|0)+-1;h=0;t=0}}n=Qu(h|0,t|0,n|0,m|0)|0;v=E;m=P;h=w;T=173}}while(0);if((T|0)==169)if(s[M>>2]|0){s[x>>2]=(s[x>>2]|0)+-1;if(v){v=t;T=173}else T=172}else T=171;if((T|0)==171)if(v){v=t;T=173}else T=172;do{if((T|0)==172){s[(ca()|0)>>2]=22;pa(e,0);a=0.0}else if((T|0)==173){t=s[I>>2]|0;if(!t){a=+(F|0)*0.0;break}if(((h|0)<0|(h|0)==0&v>>>0<10)&((n|0)==(v|0)&(m|0)==(h|0))?N>>>0>30|(t>>>N|0)==0:0){a=+(F|0)*+(t>>>0);break}e=(O|0)/-2|0;x=((e|0)<0)<<31>>31;if((m|0)>(x|0)|(m|0)==(x|0)&n>>>0>e>>>0){s[(ca()|0)>>2]=34;a=+(F|0)*1797693134862315708145274.0e284*1797693134862315708145274.0e284;break}e=O+-106|0;x=((e|0)<0)<<31>>31;if((m|0)<(x|0)|(m|0)==(x|0)&n>>>0<e>>>0){s[(ca()|0)>>2]=34;a=+(F|0)*2.2250738585072014e-308*2.2250738585072014e-308;break}if(u){if((u|0)<9){h=I+(c<<2)|0;t=s[h>>2]|0;do{t=t*10|0;u=u+1|0}while((u|0)!=9);s[h>>2]=t}c=c+1|0}if((p|0)<9?(p|0)<=(n|0)&(n|0)<18:0){if((n|0)==9){a=+(F|0)*+((s[I>>2]|0)>>>0);break}if((n|0)<9){a=+(F|0)*+((s[I>>2]|0)>>>0)/+(s[2648+(8-n<<2)>>2]|0);break}e=N+27+(ie(n,-3)|0)|0;t=s[I>>2]|0;if((e|0)>30|(t>>>e|0)==0){a=+(F|0)*+(t>>>0)*+(s[2648+(n+-10<<2)>>2]|0);break}}t=(n|0)%9|0;if(!t){u=0;t=0}else{v=(n|0)>-1?t:t+9|0;h=s[2648+(8-v<<2)>>2]|0;if(c){p=1e9/(h|0)|0;u=0;t=0;m=0;do{M=I+(m<<2)|0;x=s[M>>2]|0;e=((x>>>0)/(h>>>0)|0)+t|0;s[M>>2]=e;t=ie((x>>>0)%(h>>>0)|0,p)|0;e=(m|0)==(u|0)&(e|0)==0;m=m+1|0;n=e?n+-9|0:n;u=e?m&127:u}while((m|0)!=(c|0));if(t){s[I+(c<<2)>>2]=t;c=c+1|0}}else{u=0;c=0}t=0;n=9-v+n|0}i:while(1){w=(n|0)<18;k=(n|0)==18;S=I+(u<<2)|0;do{if(!w){if(!k)break i;if((s[S>>2]|0)>>>0>=9007199){n=18;break i}}h=0;p=c+127|0;while(1){v=p&127;m=I+(v<<2)|0;p=Yu(s[m>>2]|0,0,29)|0;p=Qu(p|0,P|0,h|0,0)|0;h=P;if(h>>>0>0|(h|0)==0&p>>>0>1e9){e=rc(p|0,h|0,1e9,0)|0;p=ac(p|0,h|0,1e9,0)|0;h=e}else h=0;s[m>>2]=p;e=(v|0)==(u|0);c=(v|0)!=(c+127&127|0)|e?c:(p|0)==0?v:c;if(e)break;else p=v+-1|0}t=t+-29|0}while((h|0)==0);u=u+127&127;if((u|0)==(c|0)){e=c+127&127;c=I+((c+126&127)<<2)|0;s[c>>2]=s[c>>2]|s[I+(e<<2)>>2];c=e}s[I+(u<<2)>>2]=h;n=n+9|0}i:while(1){E=c+1&127;S=I+((c+127&127)<<2)|0;while(1){w=(n|0)==18;k=(n|0)>27?9:1;v=w^1;while(1){p=u&127;m=(p|0)==(c|0);do{if(!m){h=s[I+(p<<2)>>2]|0;if(h>>>0<9007199){T=219;break}if(h>>>0>9007199)break;h=u+1&127;if((h|0)==(c|0)){T=219;break}h=s[I+(h<<2)>>2]|0;if(h>>>0<254740991){T=219;break}if(!(h>>>0>254740991|v)){n=p;break i}}else T=219}while(0);if((T|0)==219?(T=0,w):0){T=220;break i}t=t+k|0;if((u|0)==(c|0))u=c;else break}v=(1<<k)+-1|0;w=1e9>>>k;p=u;h=0;m=u;while(1){x=I+(m<<2)|0;e=s[x>>2]|0;u=(e>>>k)+h|0;s[x>>2]=u;h=ie(e&v,w)|0;u=(m|0)==(p|0)&(u|0)==0;m=m+1&127;n=u?n+-9|0:n;u=u?m:p;if((m|0)==(c|0))break;else p=u}if(!h)continue;if((E|0)!=(u|0))break;s[S>>2]=s[S>>2]|1}s[I+(c<<2)>>2]=h;c=E}if((T|0)==220)if(m){s[I+(E+-1<<2)>>2]=0;n=c;c=E}else n=p;a=+((s[I+(n<<2)>>2]|0)>>>0);n=u+1&127;if((n|0)==(c|0)){c=u+2&127;s[I+(c+-1<<2)>>2]=0}g=+(F|0);l=g*(a*1.0e9+ +((s[I+(n<<2)>>2]|0)>>>0));w=t+53|0;m=w-O|0;v=(m|0)<(N|0);n=v&1;p=v?(m|0)<0?0:m:N;if((p|0)<53){$=+va(+Sa(1.0,105-p|0),l);f=+ka(l,+Sa(1.0,53-p|0));b=$;a=f;f=$+(l-f)}else{b=0.0;a=0.0;f=l}h=u+2&127;do{if((h|0)==(c|0))l=a;else{h=s[I+(h<<2)>>2]|0;do{if(h>>>0>=5e8){if(h>>>0>5e8){a=g*.75+a;break}if((u+3&127|0)==(c|0)){a=g*.5+a;break}else{a=g*.75+a;break}}else{if((h|0)==0?(u+3&127|0)==(c|0):0)break;a=g*.25+a}}while(0);if((53-p|0)<=1){l=a;break}if(+ka(a,1.0)!=0.0){l=a;break}l=a+1.0}}while(0);a=f+l-b;do{if((w&2147483647|0)>(-2-R|0)){if(+B(+a)>=9007199254740992.0){n=v&(p|0)==(m|0)?0:n;t=t+1|0;a=a*.5}if((t+50|0)<=(q|0)?!(l!=0.0&(n|0)!=0):0)break;s[(ca()|0)>>2]=34}}while(0);a=+Ea(a,t)}}while(0);break e}default:{if(s[M>>2]|0)s[x>>2]=(s[x>>2]|0)+-1;s[(ca()|0)>>2]=22;pa(e,0);a=0.0;break e}}}}}while(0);if((T|0)==23){n=(s[M>>2]|0)==0;if(!n)s[x>>2]=(s[x>>2]|0)+-1;if((i|0)!=0&t>>>0>3)do{if(!n)s[x>>2]=(s[x>>2]|0)+-1;t=t+-1|0}while(t>>>0>3)}a=+(F|0)*_}}while(0);d=D;return+a}function ha(e,t,i,a,n){e=e|0;t=t|0;i=i|0;a=a|0;n=n|0;var l=0,u=0,c=0,d=0,f=0,h=0,p=0,m=0,b=0,g=0;e:do{if(t>>>0>36){s[(ca()|0)>>2]=22;n=0;a=0}else{g=e+4|0;b=e+100|0;do{l=s[g>>2]|0;if(l>>>0<(s[b>>2]|0)>>>0){s[g>>2]=l+1;l=o[l>>0]|0}else l=ma(e)|0}while((ua(l)|0)!=0);t:do{switch(l|0){case 43:case 45:{u=((l|0)==45)<<31>>31;l=s[g>>2]|0;if(l>>>0<(s[b>>2]|0)>>>0){s[g>>2]=l+1;l=o[l>>0]|0;m=u;break t}else{l=ma(e)|0;m=u;break t}}default:m=0}}while(0);u=(t|0)==0;do{if((t&-17|0)==0&(l|0)==48){l=s[g>>2]|0;if(l>>>0<(s[b>>2]|0)>>>0){s[g>>2]=l+1;l=o[l>>0]|0}else l=ma(e)|0;if((l|32|0)!=120)if(u){t=8;h=46;break}else{h=32;break}t=s[g>>2]|0;if(t>>>0<(s[b>>2]|0)>>>0){s[g>>2]=t+1;l=o[t>>0]|0}else l=ma(e)|0;if((o[14643+(l+1)>>0]|0)>15){a=(s[b>>2]|0)==0;if(!a)s[g>>2]=(s[g>>2]|0)+-1;if(!i){pa(e,0);n=0;a=0;break e}if(a){n=0;a=0;break e}s[g>>2]=(s[g>>2]|0)+-1;n=0;a=0;break e}else{t=16;h=46}}else{t=u?10:t;if((o[14643+(l+1)>>0]|0)>>>0<t>>>0)h=32;else{if(s[b>>2]|0)s[g>>2]=(s[g>>2]|0)+-1;pa(e,0);s[(ca()|0)>>2]=22;n=0;a=0;break e}}}while(0);if((h|0)==32)if((t|0)==10){t=l+-48|0;if(t>>>0<10){l=0;while(1){u=(l*10|0)+t|0;t=s[g>>2]|0;if(t>>>0<(s[b>>2]|0)>>>0){s[g>>2]=t+1;l=o[t>>0]|0}else l=ma(e)|0;t=l+-48|0;if(!(t>>>0<10&u>>>0<429496729)){t=u;break}else l=u}u=0}else{t=0;u=0}i=l+-48|0;if(i>>>0<10){while(1){c=ic(t|0,u|0,10,0)|0;d=P;f=((i|0)<0)<<31>>31;p=~f;if(d>>>0>p>>>0|(d|0)==(p|0)&c>>>0>~i>>>0){c=t;break}t=Qu(c|0,d|0,i|0,f|0)|0;u=P;l=s[g>>2]|0;if(l>>>0<(s[b>>2]|0)>>>0){s[g>>2]=l+1;l=o[l>>0]|0}else l=ma(e)|0;i=l+-48|0;if(!(i>>>0<10&(u>>>0<429496729|(u|0)==429496729&t>>>0<2576980378))){c=t;break}}if(i>>>0>9){l=c;t=m}else{t=10;h=72}}else{l=t;t=m}}else h=46;t:do{if((h|0)==46){if(!(t+-1&t)){h=r[14900+((t*23|0)>>>5&7)>>0]|0;u=r[14643+(l+1)>>0]|0;i=u&255;if(i>>>0<t>>>0){l=0;while(1){c=i|l<<h;l=s[g>>2]|0;if(l>>>0<(s[b>>2]|0)>>>0){s[g>>2]=l+1;l=o[l>>0]|0}else l=ma(e)|0;u=r[14643+(l+1)>>0]|0;i=u&255;if(!(c>>>0<134217728&i>>>0<t>>>0))break;else l=c}i=0}else{i=0;c=0}d=Gu(-1,-1,h|0)|0;f=P;if((u&255)>>>0>=t>>>0|(i>>>0>f>>>0|(i|0)==(f|0)&c>>>0>d>>>0)){u=i;h=72;break}else l=i;while(1){c=Yu(c|0,l|0,h|0)|0;i=P;c=u&255|c;l=s[g>>2]|0;if(l>>>0<(s[b>>2]|0)>>>0){s[g>>2]=l+1;l=o[l>>0]|0}else l=ma(e)|0;u=r[14643+(l+1)>>0]|0;if((u&255)>>>0>=t>>>0|(i>>>0>f>>>0|(i|0)==(f|0)&c>>>0>d>>>0)){u=i;h=72;break t}else l=i}}u=r[14643+(l+1)>>0]|0;i=u&255;if(i>>>0<t>>>0){l=0;while(1){c=i+(ie(l,t)|0)|0;l=s[g>>2]|0;if(l>>>0<(s[b>>2]|0)>>>0){s[g>>2]=l+1;l=o[l>>0]|0}else l=ma(e)|0;u=r[14643+(l+1)>>0]|0;i=u&255;if(!(c>>>0<119304647&i>>>0<t>>>0))break;else l=c}i=0}else{c=0;i=0}if((u&255)>>>0<t>>>0){h=rc(-1,-1,t|0,0)|0;p=P;f=i;while(1){if(f>>>0>p>>>0|(f|0)==(p|0)&c>>>0>h>>>0){u=f;h=72;break t}i=ic(c|0,f|0,t|0,0)|0;d=P;u=u&255;if(d>>>0>4294967295|(d|0)==-1&i>>>0>~u>>>0){u=f;h=72;break t}c=Qu(u|0,0,i|0,d|0)|0;i=P;l=s[g>>2]|0;if(l>>>0<(s[b>>2]|0)>>>0){s[g>>2]=l+1;l=o[l>>0]|0}else l=ma(e)|0;u=r[14643+(l+1)>>0]|0;if((u&255)>>>0>=t>>>0){u=i;h=72;break}else f=i}}else{u=i;h=72}}}while(0);if((h|0)==72)if((o[14643+(l+1)>>0]|0)>>>0<t>>>0){do{l=s[g>>2]|0;if(l>>>0<(s[b>>2]|0)>>>0){s[g>>2]=l+1;l=o[l>>0]|0}else l=ma(e)|0}while((o[14643+(l+1)>>0]|0)>>>0<t>>>0);s[(ca()|0)>>2]=34;u=n;l=a;t=(a&1|0)==0&0==0?m:0}else{l=c;t=m}if(s[b>>2]|0)s[g>>2]=(s[g>>2]|0)+-1;if(!(u>>>0<n>>>0|(u|0)==(n|0)&l>>>0<a>>>0)){if(!((a&1|0)!=0|0!=0|(t|0)!=0)){s[(ca()|0)>>2]=34;a=Qu(a|0,n|0,-1,-1)|0;n=P;break}if(u>>>0>n>>>0|(u|0)==(n|0)&l>>>0>a>>>0){s[(ca()|0)>>2]=34;break}}a=((t|0)<0)<<31>>31;a=Wu(l^t|0,u^a|0,t|0,a|0)|0;n=P}}while(0);P=n;return a|0}function pa(e,t){e=e|0;t=t|0;var i=0,r=0,a=0;s[e+104>>2]=t;i=s[e+4>>2]|0;r=s[e+8>>2]|0;a=r-i|0;s[e+108>>2]=a;if((t|0)!=0&(a|0)>(t|0))s[e+100>>2]=i+t;else s[e+100>>2]=r;return}function ma(e){e=e|0;var t=0,i=0,a=0,n=0,l=0,u=0;i=e+104|0;l=s[i>>2]|0;if((l|0)!=0?(s[e+108>>2]|0)>=(l|0):0)u=4;else{t=ja(e)|0;if((t|0)>=0){n=s[i>>2]|0;i=e+8|0;if(n){a=s[i>>2]|0;l=s[e+4>>2]|0;i=a;n=n-(s[e+108>>2]|0)+-1|0;if((i-l|0)>(n|0))s[e+100>>2]=l+n;else u=9}else{a=s[i>>2]|0;i=a;u=9}if((u|0)==9)s[e+100>>2]=i;i=s[e+4>>2]|0;if(a){e=e+108|0;s[e>>2]=a+1-i+(s[e>>2]|0)}i=i+-1|0;if((o[i>>0]|0|0)!=(t|0))r[i>>0]=t}else u=4}if((u|0)==4){s[e+100>>2]=0;t=-1}return t|0}function ba(e){e=e|0;if(e>>>0>4294963200){s[(ca()|0)>>2]=0-e;e=-1}return e|0}function ga(e,t){e=+e;t=+t;var i=0,r=0;c[h>>3]=e;r=s[h>>2]|0;i=s[h+4>>2]|0;c[h>>3]=t;i=s[h+4>>2]&-2147483648|i&2147483647;s[h>>2]=r;s[h+4>>2]=i;return+ +c[h>>3]}function va(e,t){e=+e;t=+t;return+ +ga(e,t)}function wa(e,t){e=+e;t=+t;var i=0,r=0,a=0,o=0,n=0,l=0,u=0,d=0,f=0,p=0,m=0,b=0;c[h>>3]=e;i=s[h>>2]|0;d=s[h+4>>2]|0;c[h>>3]=t;f=s[h>>2]|0;p=s[h+4>>2]|0;r=Gu(i|0,d|0,52)|0;r=r&2047;l=Gu(f|0,p|0,52)|0;l=l&2047;m=d&-2147483648;n=Yu(f|0,p|0,1)|0;u=P;e:do{if(!((n|0)==0&(u|0)==0)?(o=p&2147483647,!(o>>>0>2146435072|(o|0)==2146435072&f>>>0>0|(r|0)==2047)):0){a=Yu(i|0,d|0,1)|0;o=P;if(!(o>>>0>u>>>0|(o|0)==(u|0)&a>>>0>n>>>0))return+((a|0)==(n|0)&(o|0)==(u|0)?e*0.0:e);if(!r){r=Yu(i|0,d|0,12)|0;a=P;if((a|0)>-1|(a|0)==-1&r>>>0>4294967295){o=r;r=0;do{r=r+-1|0;o=Yu(o|0,a|0,1)|0;a=P}while((a|0)>-1|(a|0)==-1&o>>>0>4294967295)}else r=0;i=Yu(i|0,d|0,1-r|0)|0;a=P}else a=d&1048575|1048576;if(!l){o=Yu(f|0,p|0,12)|0;n=P;if((n|0)>-1|(n|0)==-1&o>>>0>4294967295){l=0;do{l=l+-1|0;o=Yu(o|0,n|0,1)|0;n=P}while((n|0)>-1|(n|0)==-1&o>>>0>4294967295)}else l=0;f=Yu(f|0,p|0,1-l|0)|0;d=P}else d=p&1048575|1048576;u=Wu(i|0,a|0,f|0,d|0)|0;n=P;o=(n|0)>-1|(n|0)==-1&u>>>0>4294967295;t:do{if((r|0)>(l|0)){while(1){if(o)if((i|0)==(f|0)&(a|0)==(d|0))break;else{i=u;a=n}i=Yu(i|0,a|0,1)|0;a=P;r=r+-1|0;u=Wu(i|0,a|0,f|0,d|0)|0;n=P;o=(n|0)>-1|(n|0)==-1&u>>>0>4294967295;if((r|0)<=(l|0))break t}t=e*0.0;break e}}while(0);if(o)if((i|0)==(f|0)&(a|0)==(d|0)){t=e*0.0;break}else{a=n;i=u}if(a>>>0<1048576|(a|0)==1048576&i>>>0<0)do{i=Yu(i|0,a|0,1)|0;a=P;r=r+-1|0}while(a>>>0<1048576|(a|0)==1048576&i>>>0<0);if((r|0)>0){p=Qu(i|0,a|0,0,-1048576)|0;i=P;r=Yu(r|0,0,52)|0;i=i|P;r=p|r}else{r=Gu(i|0,a|0,1-r|0)|0;i=P}s[h>>2]=r;s[h+4>>2]=i|m;t=+c[h>>3]}else b=3}while(0);if((b|0)==3){t=e*t;t=t/t}return+t}function ka(e,t){e=+e;t=+t;return+ +wa(e,t)}function ya(e,t){e=+e;t=t|0;var i=0,r=0,a=0;c[h>>3]=e;i=s[h>>2]|0;r=s[h+4>>2]|0;a=Gu(i|0,r|0,52)|0;a=a&2047;switch(a|0){case 0:{if(e!=0.0){e=+ya(e*18446744073709551616.0,t);i=(s[t>>2]|0)+-64|0}else i=0;s[t>>2]=i;break}case 2047:break;default:{s[t>>2]=a+-1022;s[h>>2]=i;s[h+4>>2]=r&-2146435073|1071644672;e=+c[h>>3]}}return+e}function _a(e,t){e=+e;t=t|0;return+ +ya(e,t)}function Sa(e,t){e=+e;t=t|0;var i=0;if((t|0)>1023){e=e*8988465674311579538646525.0e283;i=t+-1023|0;if((i|0)>1023){i=t+-2046|0;i=(i|0)>1023?1023:i;e=e*8988465674311579538646525.0e283}}else if((t|0)<-1022){e=e*2.2250738585072014e-308;i=t+1022|0;if((i|0)<-1022){i=t+2044|0;i=(i|0)<-1022?-1022:i;e=e*2.2250738585072014e-308}}else i=t;i=Yu(i+1023|0,0,52)|0;t=P;s[h>>2]=i;s[h+4>>2]=t;return+(e*+c[h>>3])}function Ea(e,t){e=+e;t=t|0;return+ +Sa(e,t)}function Ca(e,t,i,a){e=e|0;t=t|0;i=i|0;a=a|0;var o=0,n=0,l=0,u=0,c=0,f=0;c=d;d=d+16|0;o=c;l=(a|0)==0?2680:a;a=s[l>>2]|0;e:do{if(!t)if(!a)a=0;else u=15;else{n=(e|0)==0?o:e;if(!i)a=-2;else{if(!a){a=r[t>>0]|0;o=a&255;if(a<<24>>24>-1){s[n>>2]=o;a=a<<24>>24!=0&1;break}a=o+-194|0;if(a>>>0>50){u=15;break}a=s[2432+(a<<2)>>2]|0;o=i+-1|0;if(o){t=t+1|0;u=9}}else{o=i;u=9}t:do{if((u|0)==9){e=r[t>>0]|0;f=(e&255)>>>3;if((f+-16|f+(a>>26))>>>0>7){u=15;break e}while(1){t=t+1|0;a=(e&255)+-128|a<<6;o=o+-1|0;if((a|0)>=0)break;if(!o)break t;e=r[t>>0]|0;if((e&-64)<<24>>24!=-128){u=15;break e}}s[l>>2]=0;s[n>>2]=a;a=i-o|0;break e}}while(0);s[l>>2]=a;a=-2}}}while(0);if((u|0)==15){s[l>>2]=0;s[(ca()|0)>>2]=84;a=-1}d=c;return a|0}function Ta(e){e=e|0;if(!e)e=1;else e=(s[e>>2]|0)==0;return e&1|0}function Aa(e,t,i){e=e|0;t=t|0;i=i|0;do{if(e){if(t>>>0<128){r[e>>0]=t;e=1;break}if(t>>>0<2048){r[e>>0]=t>>>6|192;r[e+1>>0]=t&63|128;e=2;break}if(t>>>0<55296|(t&-8192|0)==57344){r[e>>0]=t>>>12|224;r[e+1>>0]=t>>>6&63|128;r[e+2>>0]=t&63|128;e=3;break}if((t+-65536|0)>>>0<1048576){r[e>>0]=t>>>18|240;r[e+1>>0]=t>>>12&63|128;r[e+2>>0]=t>>>6&63|128;r[e+3>>0]=t&63|128;e=4;break}else{s[(ca()|0)>>2]=84;e=-1;break}}else e=1}while(0);return e|0}function Ma(e,t){e=e|0;t=t|0;if(!e)e=0;else e=Aa(e,t,0)|0;return e|0}function xa(e,t){e=e|0;t=t|0;var i=0,a=0,o=0,n=0,l=0,u=0,c=0,f=0,h=0,p=0;p=d;d=d+112|0;h=p+40|0;c=p+24|0;u=p+16|0;o=p;f=p+52|0;a=r[t>>0]|0;if(fs(14909,a<<24>>24,4)|0){i=Hs(1144)|0;if(!i)i=0;else{n=i;l=n+112|0;do{s[n>>2]=0;n=n+4|0}while((n|0)<(l|0));if(!(bs(t,43)|0))s[i>>2]=a<<24>>24==114?8:4;if(bs(t,101)|0){s[o>>2]=e;s[o+4>>2]=2;s[o+8>>2]=1;Ee(221,o|0)|0;a=r[t>>0]|0}if(a<<24>>24==97){s[u>>2]=e;s[u+4>>2]=3;a=Ee(221,u|0)|0;if(!(a&1024)){s[c>>2]=e;s[c+4>>2]=4;s[c+8>>2]=a|1024;Ee(221,c|0)|0}t=s[i>>2]|128;s[i>>2]=t}else t=s[i>>2]|0;s[i+60>>2]=e;s[i+44>>2]=i+120;s[i+48>>2]=1024;a=i+75|0;r[a>>0]=-1;if((t&8|0)==0?(s[h>>2]=e,s[h+4>>2]=21505,s[h+8>>2]=f,(mt(54,h|0)|0)==0):0)r[a>>0]=10;s[i+32>>2]=14;s[i+36>>2]=4;s[i+40>>2]=5;s[i+12>>2]=2;if(!(s[598]|0))s[i+76>>2]=-1;At(2416);a=s[603]|0;s[i+56>>2]=a;if(a)s[a+52>>2]=i;s[603]=i;bt(2416)}}else{s[(ca()|0)>>2]=22;i=0}d=p;return i|0}function Ra(e){e=e|0;var t=0,i=0,a=0;i=(bs(e,43)|0)==0;t=r[e>>0]|0;i=i?t<<24>>24!=114&1:2;a=(bs(e,120)|0)==0;i=a?i:i|128;e=(bs(e,101)|0)==0;e=e?i:i|524288;e=t<<24>>24==114?e:e|64;e=t<<24>>24==119?e|512:e;return(t<<24>>24==97?e|1024:e)|0}function qa(e){e=e|0;return 0}function Pa(e){e=e|0;return}function Ia(e){e=e|0;var t=0,i=0;t=d;d=d+16|0;i=t;s[i>>2]=s[e+60>>2];e=ba(Mt(6,i|0)|0)|0;d=t;return e|0}function Fa(e,t,i){e=e|0;t=t|0;i=i|0;var a=0,o=0,n=0,l=0,u=0,c=0,f=0,h=0;f=d;d=d+48|0;n=f+16|0;o=f;a=f+32|0;s[a>>2]=t;l=a+4|0;c=e+48|0;h=s[c>>2]|0;s[l>>2]=i-((h|0)!=0&1);u=e+44|0;s[a+8>>2]=s[u>>2];s[a+12>>2]=h;if(!(s[597]|0)){s[n>>2]=s[e+60>>2];s[n+4>>2]=a;s[n+8>>2]=2;a=ba(zt(145,n|0)|0)|0}else{Fe(13,e|0);s[o>>2]=s[e+60>>2];s[o+4>>2]=a;s[o+8>>2]=2;a=ba(zt(145,o|0)|0)|0;vt(0)}if((a|0)>=1){l=s[l>>2]|0;if(a>>>0>l>>>0){n=s[u>>2]|0;o=e+4|0;s[o>>2]=n;s[e+8>>2]=n+(a-l);if(!(s[c>>2]|0))a=i;else{s[o>>2]=n+1;r[t+(i+-1)>>0]=r[n>>0]|0;a=i}}}else{s[e>>2]=s[e>>2]|a&48^16;s[e+8>>2]=0;s[e+4>>2]=0}d=f;return a|0}function Oa(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,o=0;a=d;d=d+32|0;o=a;r=a+20|0;s[o>>2]=s[e+60>>2];s[o+4>>2]=0;s[o+8>>2]=t;s[o+12>>2]=r;s[o+16>>2]=i;if((ba(Dt(140,o|0)|0)|0)<0){s[r>>2]=-1;e=-1}else e=s[r>>2]|0;d=a;return e|0}function Na(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,o=0,n=0,l=0,u=0,c=0,f=0,h=0,p=0,m=0,b=0;b=d;d=d+48|0;h=b+16|0;f=b;r=b+32|0;p=e+28|0;a=s[p>>2]|0;s[r>>2]=a;m=e+20|0;a=(s[m>>2]|0)-a|0;s[r+4>>2]=a;s[r+8>>2]=t;s[r+12>>2]=i;u=e+60|0;c=e+44|0;t=2;a=a+i|0;while(1){if(!(s[597]|0)){s[h>>2]=s[u>>2];s[h+4>>2]=r;s[h+8>>2]=t;n=ba(Bt(146,h|0)|0)|0}else{Fe(14,e|0);s[f>>2]=s[u>>2];s[f+4>>2]=r;s[f+8>>2]=t;n=ba(Bt(146,f|0)|0)|0;vt(0)}if((a|0)==(n|0)){a=6;break}if((n|0)<0){a=8;break}a=a-n|0;o=s[r+4>>2]|0;if(n>>>0<=o>>>0)if((t|0)==2){s[p>>2]=(s[p>>2]|0)+n;l=o;t=2}else l=o;else{l=s[c>>2]|0;s[p>>2]=l;s[m>>2]=l;l=s[r+12>>2]|0;n=n-o|0;r=r+8|0;t=t+-1|0}s[r>>2]=(s[r>>2]|0)+n;s[r+4>>2]=l-n}if((a|0)==6){h=s[c>>2]|0;s[e+16>>2]=h+(s[e+48>>2]|0);e=h;s[p>>2]=e;s[m>>2]=e}else if((a|0)==8){s[e+16>>2]=0;s[p>>2]=0;s[m>>2]=0;s[e>>2]=s[e>>2]|32;if((t|0)==2)i=0;else i=i-(s[r+4>>2]|0)|0}d=b;return i|0}function Da(e,t,i){e=e|0;t=t|0;i=i|0;var a=0,o=0;o=d;d=d+80|0;a=o;s[e+36>>2]=4;if((s[e>>2]&64|0)==0?(s[a>>2]=s[e+60>>2],s[a+4>>2]=21505,s[a+8>>2]=o+12,(mt(54,a|0)|0)!=0):0)r[e+75>>0]=-1;a=Na(e,t,i)|0;d=o;return a|0}function $a(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,o=0,n=0;r=e+84|0;o=s[r>>2]|0;n=i+256|0;a=fs(o,0,n)|0;a=(a|0)==0?n:a-o|0;i=a>>>0<i>>>0?a:i;Ku(t|0,o|0,i|0)|0;s[e+4>>2]=o+i;t=o+a|0;s[e+8>>2]=t;s[r>>2]=t;return i|0}function La(e){e=e|0;var t=0,i=0;t=e+74|0;i=r[t>>0]|0;r[t>>0]=i+255|i;t=e+20|0;i=e+44|0;if((s[t>>2]|0)>>>0>(s[i>>2]|0)>>>0)$c[s[e+36>>2]&15](e,0,0)|0;s[e+16>>2]=0;s[e+28>>2]=0;s[t>>2]=0;t=s[e>>2]|0;if(t&20)if(!(t&4))t=-1;else{s[e>>2]=t|32;t=-1}else{t=s[i>>2]|0;s[e+8>>2]=t;s[e+4>>2]=t;t=0}return t|0}function Ha(e){e=e|0;var t=0,i=0;t=e+74|0;i=r[t>>0]|0;r[t>>0]=i+255|i;t=s[e>>2]|0;if(!(t&8)){s[e+8>>2]=0;s[e+4>>2]=0;t=s[e+44>>2]|0;s[e+28>>2]=t;s[e+20>>2]=t;s[e+16>>2]=t+(s[e+48>>2]|0);t=0}else{s[e>>2]=t|32;t=-1}return t|0}function ja(e){e=e|0;var t=0,i=0;i=d;d=d+16|0;t=i;if((s[e+8>>2]|0)==0?(La(e)|0)!=0:0)t=-1;else if(($c[s[e+32>>2]&15](e,t,1)|0)==1)t=o[t>>0]|0;else t=-1;d=i;return t|0}function za(e){e=e|0;var t=0,i=0,r=0;r=(s[e>>2]&1|0)!=0;if(!r){At(2416);i=s[e+52>>2]|0;t=e+56|0;if(i)s[i+56>>2]=s[t>>2];t=s[t>>2]|0;if(t)s[t+52>>2]=i;if((s[603]|0)==(e|0))s[603]=t;bt(2416)}t=Ua(e)|0;t=Vc[s[e+12>>2]&31](e)|0|t;i=s[e+92>>2]|0;if(i)js(i);if(!r)js(e);return t|0}function Ba(e){e=e|0;var t=0;if((s[e+76>>2]|0)>-1){t=(qa(e)|0)==0;e=(s[e>>2]|0)>>>5&1}else e=(s[e>>2]|0)>>>5&1;return e|0}function Ua(e){e=e|0;var t=0,i=0;do{if(e){if((s[e+76>>2]|0)<=-1){t=Rs(e)|0;break}i=(qa(e)|0)==0;t=Rs(e)|0;if(!i)Pa(e)}else{if(!(s[660]|0))t=0;else t=Ua(s[660]|0)|0;At(2416);e=s[603]|0;if(e)do{if((s[e+76>>2]|0)>-1)i=qa(e)|0;else i=0;if((s[e+20>>2]|0)>>>0>(s[e+28>>2]|0)>>>0)t=Rs(e)|0|t;if(i)Pa(e);e=s[e+56>>2]|0}while((e|0)!=0);bt(2416)}}while(0);return t|0}function Wa(e,t,i){e=e|0;t=t|0;i=i|0;var a=0,n=0,l=0,u=0,c=0,d=0,f=0,h=0,p=0,m=0,b=0,g=0;if((s[i+76>>2]|0)>-1)p=qa(i)|0;else p=0;a=t+-1|0;if((t|0)<2){m=i+74|0;h=r[m>>0]|0;r[m>>0]=h+255|h;if(p)Pa(i);if(!a)r[e>>0]=0;else e=0}else{e:do{if(a){f=i+4|0;h=i+8|0;n=e;while(1){l=s[f>>2]|0;b=l;c=(s[h>>2]|0)-b|0;u=fs(l,10,c)|0;g=(u|0)==0;u=g?c:1-b+u|0;b=u>>>0<a>>>0;u=b?u:a;Ku(n|0,l|0,u|0)|0;l=s[f>>2]|0;c=l+u|0;s[f>>2]=c;t=n+u|0;d=a-u|0;if(!(g&b)){m=18;break e}if(c>>>0<(s[h>>2]|0)>>>0){u=u+1|0;s[f>>2]=l+u;l=o[c>>0]|0}else{a=ja(i)|0;if((a|0)<0)break;u=u+1|0;l=a}a=d+-1|0;n=n+u|0;r[t>>0]=l;if(!((a|0)!=0&(l&255|0)!=10)){t=n;m=18;break e}}if((t|0)!=(e|0)?(s[i>>2]&16|0)!=0:0)m=18;else e=0}else{t=e;m=18}}while(0);if((m|0)==18)if(!e)e=0;else r[t>>0]=0;if(p)Pa(i)}return e|0}function Va(e,t){e=e|0;t=t|0;var i=0,a=0,o=0,n=0;o=d;d=d+32|0;a=o+16|0;i=o;if(fs(14909,r[t>>0]|0,4)|0){n=Ra(t)|0|32768;s[i>>2]=e;s[i+4>>2]=n;s[i+8>>2]=438;i=ba(xt(5,i|0)|0)|0;if((i|0)>=0){e=xa(i,t)|0;if(!e){s[a>>2]=i;Mt(6,a|0)|0;e=0}}else e=0}else{s[(ca()|0)>>2]=22;e=0}d=o;return e|0}function Ya(e,t){e=e|0;t=t|0;return(is(e,ys(e)|0,1,t)|0)+-1|0}function Qa(e,t,i,a){e=e|0;t=t|0;i=i|0;a=a|0;var o=0,n=0,l=0,u=0,c=0,d=0;u=ie(i,t)|0;if((s[a+76>>2]|0)>-1)c=qa(a)|0;else c=0;o=a+74|0;n=r[o>>0]|0;r[o>>0]=n+255|n;o=a+4|0;n=s[o>>2]|0;l=(s[a+8>>2]|0)-n|0;if((l|0)>0){l=l>>>0<u>>>0?l:u;Ku(e|0,n|0,l|0)|0;s[o>>2]=n+l;e=e+l|0;o=u-l|0}else o=u;e:do{if(!o)d=13;else{l=a+32|0;n=o;while(1){if(La(a)|0){i=n;break}o=$c[s[l>>2]&15](a,e,n)|0;if((o+1|0)>>>0<2){i=n;break}if((n|0)==(o|0)){d=13;break e}else{e=e+o|0;n=n-o|0}}if(c)Pa(a);i=((u-i|0)>>>0)/(t>>>0)|0}}while(0);if((d|0)==13)if(c)Pa(a);return i|0}function Ga(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0;if((i|0)==1)t=t-(s[e+8>>2]|0)+(s[e+4>>2]|0)|0;a=e+20|0;r=e+28|0;if((s[a>>2]|0)>>>0>(s[r>>2]|0)>>>0?($c[s[e+36>>2]&15](e,0,0)|0,(s[a>>2]|0)==0):0)t=-1;else{s[e+16>>2]=0;s[r>>2]=0;s[a>>2]=0;if(($c[s[e+40>>2]&15](e,t,i)|0)<0)t=-1;else{s[e+8>>2]=0;s[e+4>>2]=0;s[e>>2]=s[e>>2]&-17;t=0}}return t|0}function Ka(e,t,i){e=e|0;t=t|0;i=i|0;var r=0;if((s[e+76>>2]|0)>-1){r=(qa(e)|0)==0;t=Ga(e,t,i)|0;if(!r)Pa(e)}else t=Ga(e,t,i)|0;return t|0}function Xa(e,t,i){e=e|0;t=t|0;i=i|0;return Ka(e,t,i)|0}function Ja(e){e=e|0;var t=0;if(!(s[e>>2]&128))t=1;else t=(s[e+20>>2]|0)>>>0>(s[e+28>>2]|0)>>>0?2:1;t=$c[s[e+40>>2]&15](e,0,t)|0;if((t|0)>=0)t=t-(s[e+8>>2]|0)+(s[e+4>>2]|0)+(s[e+20>>2]|0)-(s[e+28>>2]|0)|0;return t|0}function Za(e){e=e|0;var t=0;if((s[e+76>>2]|0)>-1){t=(qa(e)|0)==0;e=Ja(e)|0}else e=Ja(e)|0;return e|0}function es(e){e=e|0;return Za(e)|0}function ts(e,t,i){e=e|0;t=t|0;i=i|0;var a=0,o=0,n=0,l=0;a=i+16|0;o=s[a>>2]|0;if(!o)if(!(Ha(i)|0)){o=s[a>>2]|0;n=4}else a=0;else n=4;e:do{if((n|0)==4){l=i+20|0;n=s[l>>2]|0;if((o-n|0)>>>0<t>>>0){a=$c[s[i+36>>2]&15](i,e,t)|0;break}t:do{if((r[i+75>>0]|0)>-1){a=t;while(1){if(!a){o=n;a=0;break t}o=a+-1|0;if((r[e+o>>0]|0)==10)break;else a=o}if(($c[s[i+36>>2]&15](i,e,a)|0)>>>0<a>>>0)break e;t=t-a|0;e=e+a|0;o=s[l>>2]|0}else{o=n;a=0}}while(0);Ku(o|0,e|0,t|0)|0;s[l>>2]=(s[l>>2]|0)+t;a=a+t|0}}while(0);return a|0}function is(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,o=0;a=ie(i,t)|0;if((s[r+76>>2]|0)>-1){o=(qa(r)|0)==0;e=ts(e,a,r)|0;if(!o)Pa(r)}else e=ts(e,a,r)|0;if((e|0)!=(a|0))i=(e>>>0)/(t>>>0)|0;return i|0}function rs(e){e=e|0;var t=0;if((s[e+76>>2]|0)>-1){t=(qa(e)|0)==0;Ga(e,0,0)|0;s[e>>2]=s[e>>2]&-33;if(!t)Pa(e)}else{Ga(e,0,0)|0;s[e>>2]=s[e>>2]&-33}return}function as(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0;r=d;d=d+16|0;a=r;s[a>>2]=i;i=us(e,t,a)|0;d=r;return i|0}function ss(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,o=0,n=0,l=0;l=d;d=d+16|0;r=l;a=Hs(240)|0;do{if(a){s[r>>2]=s[i>>2];r=ls(a,240,t,r)|0;if(r>>>0<240){t=Bs(a,r+1|0)|0;s[e>>2]=(t|0)!=0?t:a;break}js(a);if((r|0)>=0?(n=r+1|0,o=Hs(n)|0,s[e>>2]=o,(o|0)!=0):0)r=ls(o,n,t,i)|0;else r=-1}else r=-1}while(0);d=l;return r|0}function os(e,t,i){e=e|0;t=t|0;i=i|0;var a=0,o=0,n=0,l=0,u=0,c=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0;v=d;d=d+224|0;p=v+80|0;g=v+96|0;b=v;m=v+136|0;a=g;o=a+40|0;do{s[a>>2]=0;a=a+4|0}while((a|0)<(o|0));s[p>>2]=s[i>>2];if((qs(0,t,p,b,g)|0)<0)i=-1;else{if((s[e+76>>2]|0)>-1)f=qa(e)|0;else f=0;i=s[e>>2]|0;h=i&32;if((r[e+74>>0]|0)<1)s[e>>2]=i&-33;i=e+48|0;if(!(s[i>>2]|0)){o=e+44|0;n=s[o>>2]|0;s[o>>2]=m;l=e+28|0;s[l>>2]=m;u=e+20|0;s[u>>2]=m;s[i>>2]=80;c=e+16|0;s[c>>2]=m+80;a=qs(e,t,p,b,g)|0;if(n){$c[s[e+36>>2]&15](e,0,0)|0;a=(s[u>>2]|0)==0?-1:a;s[o>>2]=n;s[i>>2]=0;s[c>>2]=0;s[l>>2]=0;s[u>>2]=0}}else a=qs(e,t,p,b,g)|0;i=s[e>>2]|0;s[e>>2]=i|h;if(f)Pa(e);i=(i&32|0)==0?a:-1}d=v;return i|0}function ns(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,l=0,f=0,h=0,p=0,m=0.0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0,I=0,F=0,O=0,N=0,D=0,$=0,L=0,H=0,j=0,z=0;j=d;d=d+304|0;I=j+16|0;O=j+8|0;F=j+33|0;N=j;E=j+32|0;if((s[e+76>>2]|0)>-1)H=qa(e)|0;else H=0;n=r[t>>0]|0;e:do{if(n<<24>>24){D=e+4|0;$=e+100|0;q=e+108|0;C=e+8|0;T=F+10|0;A=F+33|0;M=O+4|0;x=F+46|0;R=F+94|0;f=n;n=0;h=t;v=0;l=0;t=0;t:while(1){i:do{if(!(ua(f&255)|0)){f=(r[h>>0]|0)==37;r:do{if(f){b=h+1|0;p=r[b>>0]|0;a:do{switch(p<<24>>24){case 37:break r;case 42:{S=0;p=h+2|0;break}default:{p=(p&255)+-48|0;if(p>>>0<10?(r[h+2>>0]|0)==36:0){s[I>>2]=s[i>>2];while(1){S=(s[I>>2]|0)+(4-1)&~(4-1);f=s[S>>2]|0;s[I>>2]=S+4;if(p>>>0>1)p=p+-1|0;else break}S=f;p=h+3|0;break a}p=(s[i>>2]|0)+(4-1)&~(4-1);S=s[p>>2]|0;s[i>>2]=p+4;p=b}}}while(0);f=r[p>>0]|0;h=f&255;if((h+-48|0)>>>0<10){f=0;while(1){b=(f*10|0)+-48+h|0;p=p+1|0;f=r[p>>0]|0;h=f&255;if((h+-48|0)>>>0>=10)break;else f=b}}else b=0;if(f<<24>>24==109){p=p+1|0;g=r[p>>0]|0;f=(S|0)!=0&1;l=0;t=0}else{g=f;f=0}h=p+1|0;switch(g&255|0){case 104:{_=(r[h>>0]|0)==104;h=_?p+2|0:h;p=_?-2:-1;break}case 108:{_=(r[h>>0]|0)==108;h=_?p+2|0:h;p=_?3:1;break}case 106:{p=3;break}case 116:case 122:{p=1;break}case 76:{p=2;break}case 110:case 112:case 67:case 83:case 91:case 99:case 115:case 88:case 71:case 70:case 69:case 65:case 103:case 102:case 101:case 97:case 120:case 117:case 111:case 105:case 100:{h=p;p=0;break}default:{L=152;break t}}g=o[h>>0]|0;w=(g&47|0)==3;g=w?g|32:g;w=w?1:p;switch(g|0){case 99:{_=v;y=(b|0)<1?1:b;break}case 91:{_=v;y=b;break}case 110:{if(!S){p=v;break i}switch(w|0){case-2:{r[S>>0]=v;p=v;break i}case-1:{a[S>>1]=v;p=v;break i}case 0:{s[S>>2]=v;p=v;break i}case 1:{s[S>>2]=v;p=v;break i}case 3:{p=S;s[p>>2]=v;s[p+4>>2]=((v|0)<0)<<31>>31;p=v;break i}default:{p=v;break i}}}default:{pa(e,0);do{p=s[D>>2]|0;if(p>>>0<(s[$>>2]|0)>>>0){s[D>>2]=p+1;p=o[p>>0]|0}else p=ma(e)|0}while((ua(p)|0)!=0);p=s[D>>2]|0;if(s[$>>2]|0){p=p+-1|0;s[D>>2]=p}_=(s[q>>2]|0)+v+p-(s[C>>2]|0)|0;y=b}}pa(e,y);p=s[D>>2]|0;b=s[$>>2]|0;if(p>>>0<b>>>0)s[D>>2]=p+1;else{if((ma(e)|0)<0){L=152;break t}b=s[$>>2]|0}if(b)s[D>>2]=(s[D>>2]|0)+-1;a:do{switch(g|0){case 91:case 99:case 115:{k=(g|0)==99;s:do{if((g&239|0)==99){Vu(F|0,-1,257)|0;r[F>>0]=0;if((g|0)==115){r[A>>0]=0;r[T>>0]=0;r[T+1>>0]=0;r[T+2>>0]=0;r[T+3>>0]=0;r[T+4>>0]=0}}else{z=h+1|0;v=(r[z>>0]|0)==94;p=v&1;g=v?z:h;h=v?h+2|0:z;Vu(F|0,v&1|0,257)|0;r[F>>0]=0;switch(r[h>>0]|0){case 45:{v=(p^1)&255;r[x>>0]=v;h=g+2|0;break}case 93:{v=(p^1)&255;r[R>>0]=v;h=g+2|0;break}default:v=(p^1)&255}while(1){p=r[h>>0]|0;o:do{switch(p<<24>>24){case 0:{L=152;break t}case 93:break s;case 45:{g=h+1|0;p=r[g>>0]|0;switch(p<<24>>24){case 93:case 0:{p=45;break o}default:{}}h=r[h+-1>>0]|0;if((h&255)<(p&255)){h=h&255;do{h=h+1|0;r[F+h>>0]=v;p=r[g>>0]|0}while((h|0)<(p&255|0));h=g}else h=g;break}default:{}}}while(0);r[F+((p&255)+1)>>0]=v;h=h+1|0}}}while(0);g=k?y+1|0:31;v=(w|0)==1;w=(f|0)!=0;s:do{if(v){if(w){t=Hs(g<<2)|0;if(!t){l=0;L=152;break t}}else t=S;s[O>>2]=0;s[M>>2]=0;l=0;o:while(1){b=(t|0)==0;do{n:while(1){p=s[D>>2]|0;if(p>>>0<(s[$>>2]|0)>>>0){s[D>>2]=p+1;p=o[p>>0]|0}else p=ma(e)|0;if(!(r[F+(p+1)>>0]|0))break o;r[E>>0]=p;switch(Ca(N,E,1,O)|0){case-1:{l=0;L=152;break t}case-2:break;default:break n}}if(!b){s[t+(l<<2)>>2]=s[N>>2];l=l+1|0}}while(!(w&(l|0)==(g|0)));l=g<<1|1;p=Bs(t,l<<2)|0;if(!p){l=0;L=152;break t}z=g;g=l;t=p;l=z}if(!(Ta(O)|0)){l=0;L=152;break t}else{b=l;l=0}}else{if(w){l=Hs(g)|0;if(!l){l=0;t=0;L=152;break t}else p=0;while(1){do{t=s[D>>2]|0;if(t>>>0<(s[$>>2]|0)>>>0){s[D>>2]=t+1;t=o[t>>0]|0}else t=ma(e)|0;if(!(r[F+(t+1)>>0]|0)){b=p;t=0;break s}r[l+p>>0]=t;p=p+1|0}while((p|0)!=(g|0));t=g<<1|1;p=Bs(l,t)|0;if(!p){t=0;L=152;break t}else{z=g;g=t;l=p;p=z}}}if(!S){l=b;while(1){t=s[D>>2]|0;if(t>>>0<l>>>0){s[D>>2]=t+1;t=o[t>>0]|0}else t=ma(e)|0;if(!(r[F+(t+1)>>0]|0)){b=0;l=0;t=0;break s}l=s[$>>2]|0}}else{l=0;while(1){t=s[D>>2]|0;if(t>>>0<b>>>0){s[D>>2]=t+1;t=o[t>>0]|0}else t=ma(e)|0;if(!(r[F+(t+1)>>0]|0)){b=l;l=S;t=0;break s}r[S+l>>0]=t;b=s[$>>2]|0;l=l+1|0}}}}while(0);p=s[D>>2]|0;if(s[$>>2]|0){p=p+-1|0;s[D>>2]=p}p=p-(s[C>>2]|0)+(s[q>>2]|0)|0;if(!p)break t;if(!((p|0)==(y|0)|k^1))break t;do{if(w)if(v){s[S>>2]=t;break}else{s[S>>2]=l;break}}while(0);if(!k){if(t)s[t+(b<<2)>>2]=0;if(!l){l=0;break a}r[l+b>>0]=0}break}case 120:case 88:case 112:{p=16;L=134;break}case 111:{p=8;L=134;break}case 117:case 100:{p=10;L=134;break}case 105:{p=0;L=134;break}case 71:case 103:case 70:case 102:case 69:case 101:case 65:case 97:{m=+fa(e,w,0);if((s[q>>2]|0)==((s[C>>2]|0)-(s[D>>2]|0)|0))break t;if(S)switch(w|0){case 0:{u[S>>2]=m;break a}case 1:{c[S>>3]=m;break a}case 2:{c[S>>3]=m;break a}default:break a}break}default:{}}}while(0);a:do{if((L|0)==134){L=0;p=ha(e,p,0,-1,-1)|0;if((s[q>>2]|0)==((s[C>>2]|0)-(s[D>>2]|0)|0))break t;if((S|0)!=0&(g|0)==112){s[S>>2]=p;break}if(S)switch(w|0){case-2:{r[S>>0]=p;break a}case-1:{a[S>>1]=p;break a}case 0:{s[S>>2]=p;break a}case 1:{s[S>>2]=p;break a}case 3:{z=S;s[z>>2]=p;s[z+4>>2]=P;break a}default:break a}}}while(0);n=((S|0)!=0&1)+n|0;p=(s[q>>2]|0)+_+(s[D>>2]|0)-(s[C>>2]|0)|0;break i}}while(0);h=h+(f&1)|0;pa(e,0);f=s[D>>2]|0;if(f>>>0<(s[$>>2]|0)>>>0){s[D>>2]=f+1;f=o[f>>0]|0}else f=ma(e)|0;if((f|0)!=(o[h>>0]|0)){L=21;break t}p=v+1|0}else{while(1){f=h+1|0;if(!(ua(o[f>>0]|0)|0))break;else h=f}pa(e,0);do{f=s[D>>2]|0;if(f>>>0<(s[$>>2]|0)>>>0){s[D>>2]=f+1;f=o[f>>0]|0}else f=ma(e)|0}while((ua(f)|0)!=0);f=s[D>>2]|0;if(s[$>>2]|0){f=f+-1|0;s[D>>2]=f}p=(s[q>>2]|0)+v+f-(s[C>>2]|0)|0}}while(0);h=h+1|0;f=r[h>>0]|0;if(!(f<<24>>24))break e;else v=p}if((L|0)==21){if(s[$>>2]|0)s[D>>2]=(s[D>>2]|0)+-1;if((n|0)!=0|(f|0)>-1)break;else{n=0;L=153}}else if((L|0)==152)if(!n){n=f;L=153}if((L|0)==153){f=n;n=-1}if(f){js(l);js(t)}}else n=0}while(0);if(H)Pa(e);d=j;return n|0}function ls(e,t,i,a){e=e|0;t=t|0;i=i|0;a=a|0;var o=0,n=0,l=0,u=0,c=0,f=0,h=0;h=d;d=d+128|0;o=h+112|0;f=h;n=f;l=2684;u=n+112|0;do{s[n>>2]=s[l>>2];n=n+4|0;l=l+4|0}while((n|0)<(u|0));if((t+-1|0)>>>0>2147483646)if(!t){t=1;c=4}else{s[(ca()|0)>>2]=75;t=-1}else{o=e;c=4}if((c|0)==4){c=-2-o|0;c=t>>>0>c>>>0?c:t;s[f+48>>2]=c;e=f+20|0;s[e>>2]=o;s[f+44>>2]=o;t=o+c|0;o=f+16|0;s[o>>2]=t;s[f+28>>2]=t;t=os(f,i,a)|0;if(c){i=s[e>>2]|0;r[i+(((i|0)==(s[o>>2]|0))<<31>>31)>>0]=0}}d=h;return t|0}function us(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,o=0,n=0;o=d;d=d+112|0;r=o;a=r;n=a+112|0;do{s[a>>2]=0;a=a+4|0}while((a|0)<(n|0));s[r+32>>2]=15;s[r+44>>2]=e;s[r+76>>2]=-1;s[r+84>>2]=e;n=ns(r,t,i)|0;d=o;return n|0}function cs(e){e=e|0;var t=0,i=0,a=0,s=0;while(1){t=e+1|0;if(!(ua(r[e>>0]|0)|0))break;else e=t}i=r[e>>0]|0;switch(i<<24>>24|0){case 45:{a=1;s=5;break}case 43:{a=0;s=5;break}default:a=0}if((s|0)==5){e=t;i=r[t>>0]|0}t=(i<<24>>24)+-48|0;if(t>>>0<10){i=e;e=0;do{i=i+1|0;e=(e*10|0)-t|0;t=(r[i>>0]|0)+-48|0}while(t>>>0<10)}else e=0;return((a|0)!=0?e:0-e|0)|0}function ds(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,o=0,n=0,l=0,u=0,c=0,f=0,h=0,p=0,m=0,b=0,g=0;g=d;d=d+208|0;p=g+8|0;m=g;a=ie(i,t)|0;h=m;s[h>>2]=1;s[h+4>>2]=0;if(a){l=a-i|0;s[p+4>>2]=i;s[p>>2]=i;o=i;t=i;n=2;while(1){t=t+i+o|0;s[p+(n<<2)>>2]=t;if(t>>>0<a>>>0){h=o;o=t;n=n+1|0;t=h}else break}h=0-i|0;u=e+l|0;f=m+4|0;if((l|0)>0){l=u;a=1;n=1;while(1){do{if((a&3|0)==3){Is(e,i,r,n,p);c=s[f>>2]|0;t=c<<30|(s[m>>2]|0)>>>2;s[m>>2]=t;s[f>>2]=c>>>2;n=n+2|0}else{t=n+-1|0;if((s[p+(t<<2)>>2]|0)>>>0<(l-e|0)>>>0)Is(e,i,r,n,p);else Fs(e,i,r,m,n,0,p);if((n|0)==1){t=s[m>>2]|0;s[f>>2]=t>>>31|s[f>>2]<<1;t=t<<1;s[m>>2]=t;n=0;break}if(t>>>0>31){a=s[m>>2]|0;s[f>>2]=a;s[m>>2]=0;t=n+-33|0;o=0}else{a=s[f>>2]|0;o=s[m>>2]|0}s[f>>2]=o>>>(32-t|0)|a<<t;t=o<<t;s[m>>2]=t;n=1}}while(0);a=t|1;s[m>>2]=a;t=e+i|0;if(t>>>0>=u>>>0){a=t;break}else e=t}}else{a=e;n=1}Fs(a,i,r,m,n,0,p);c=m+4|0;t=s[m>>2]|0;if(!((n|0)==1&(t|0)==1&(s[c>>2]|0)==0)){o=a;while(1){if((n|0)<2){a=t+-1|0;do{if(a){if(!(a&1)){l=a;a=0;do{a=a+1|0;l=l>>>1}while((l&1|0)==0);if(!a)b=24}else b=24;if((b|0)==24){b=0;u=s[f>>2]|0;if(!u){a=64;b=30;break}if(!(u&1)){l=u;a=0}else{e=0;l=u;a=0;break}while(1){e=a+1|0;l=l>>>1;if(l&1){l=e;break}else a=e}if(!l){e=0;l=u;a=0;break}else a=a+33|0}if(a>>>0>31)b=30;else{e=a;l=s[f>>2]|0}}else{a=32;b=30}}while(0);if((b|0)==30){b=0;t=s[f>>2]|0;s[m>>2]=t;s[f>>2]=0;e=a+-32|0;l=0}s[m>>2]=l<<32-e|t>>>e;s[f>>2]=l>>>e;o=o+h|0;a=a+n|0}else{e=t>>>30;u=e|s[f>>2]<<2;a=n+-2|0;s[m>>2]=(t<<1&2147483646|e<<31)^3;s[f>>2]=u>>>1;Fs(o+(0-((s[p+(a<<2)>>2]|0)+i))|0,i,r,m,n+-1|0,1,p);u=s[m>>2]|0;s[f>>2]=u>>>31|s[f>>2]<<1;s[m>>2]=u<<1|1;o=o+h|0;Fs(o,i,r,m,a,1,p)}t=s[m>>2]|0;if((a|0)==1&(t|0)==1&(s[c>>2]|0)==0)break;else n=a}}}d=g;return}function fs(e,t,i){e=e|0;t=t|0;i=i|0;var a=0,o=0,n=0,l=0;n=t&255;a=(i|0)!=0;e:do{if(a&(e&3|0)!=0){o=t&255;while(1){if((r[e>>0]|0)==o<<24>>24){l=6;break e}e=e+1|0;i=i+-1|0;a=(i|0)!=0;if(!(a&(e&3|0)!=0)){l=5;break}}}else l=5}while(0);if((l|0)==5)if(a)l=6;else i=0;e:do{if((l|0)==6){o=t&255;if((r[e>>0]|0)!=o<<24>>24){a=ie(n,16843009)|0;t:do{if(i>>>0>3)while(1){n=s[e>>2]^a;if((n&-2139062144^-2139062144)&n+-16843009)break;e=e+4|0;i=i+-4|0;if(i>>>0<=3){l=11;break t}}else l=11}while(0);if((l|0)==11)if(!i){i=0;break}while(1){if((r[e>>0]|0)==o<<24>>24)break e;e=e+1|0;i=i+-1|0;if(!i){i=0;break}}}}}while(0);return((i|0)!=0?e:0)|0}function hs(e,t,i){e=e|0;t=t|0;i=i|0;var a=0;a=t&255;do{if(!i){t=0;break}i=i+-1|0;t=e+i|0}while((r[t>>0]|0)!=a<<24>>24);return t|0}function ps(e,t){e=e|0;t=t|0;var i=0,a=0;i=t;e:do{if(!((i^e)&3)){if(i&3)do{i=r[t>>0]|0;r[e>>0]=i;if(!(i<<24>>24))break e;t=t+1|0;e=e+1|0}while((t&3|0)!=0);i=s[t>>2]|0;if(!((i&-2139062144^-2139062144)&i+-16843009)){a=e;while(1){t=t+4|0;e=a+4|0;s[a>>2]=i;i=s[t>>2]|0;if((i&-2139062144^-2139062144)&i+-16843009)break;else a=e}}a=8}else a=8}while(0);if((a|0)==8){a=r[t>>0]|0;r[e>>0]=a;if(a<<24>>24)do{t=t+1|0;e=e+1|0;a=r[t>>0]|0;r[e>>0]=a}while(a<<24>>24!=0)}return e|0}function ms(e,t,i){e=e|0;t=t|0;i=i|0;var a=0,o=0,n=0;o=t;do{if(!((o^e)&3)){a=(i|0)!=0;e:do{if(a&(o&3|0)!=0)while(1){o=r[t>>0]|0;r[e>>0]=o;if(!(o<<24>>24))break e;i=i+-1|0;t=t+1|0;e=e+1|0;a=(i|0)!=0;if(!(a&(t&3|0)!=0)){n=5;break}}else n=5}while(0);if((n|0)==5)if(!a){i=0;break}if(r[t>>0]|0){e:do{if(i>>>0>3)do{a=s[t>>2]|0;if((a&-2139062144^-2139062144)&a+-16843009)break e;s[e>>2]=a;i=i+-4|0;t=t+4|0;e=e+4|0}while(i>>>0>3)}while(0);n=11}}else n=11}while(0);e:do{if((n|0)==11)if(!i)i=0;else while(1){n=r[t>>0]|0;r[e>>0]=n;if(!(n<<24>>24))break e;i=i+-1|0;e=e+1|0;if(!i){i=0;break}else t=t+1|0}}while(0);Vu(e|0,0,i|0)|0;return e|0}function bs(e,t){e=e|0;t=t|0;e=gs(e,t)|0;return((r[e>>0]|0)==(t&255)<<24>>24?e:0)|0}function gs(e,t){e=e|0;t=t|0;var i=0,a=0,o=0;a=t&255;e:do{if(!a)e=e+(ys(e)|0)|0;else{if(e&3){i=t&255;do{o=r[e>>0]|0;if(o<<24>>24==0?1:o<<24>>24==i<<24>>24)break e;e=e+1|0}while((e&3|0)!=0)}a=ie(a,16843009)|0;i=s[e>>2]|0;t:do{if(!((i&-2139062144^-2139062144)&i+-16843009))do{o=i^a;if((o&-2139062144^-2139062144)&o+-16843009)break t;e=e+4|0;i=s[e>>2]|0}while(((i&-2139062144^-2139062144)&i+-16843009|0)==0)}while(0);i=t&255;while(1){o=r[e>>0]|0;if(o<<24>>24==0?1:o<<24>>24==i<<24>>24)break;else e=e+1|0}}}while(0);return e|0}function vs(e,t){e=e|0;t=t|0;ps(e,t)|0;return e|0}function ws(e,t){e=e|0;t=t|0;var i=0,a=0,o=0,n=0;o=d;d=d+32|0;a=o;i=r[t>>0]|0;if(i<<24>>24!=0?(r[t+1>>0]|0)!=0:0){s[a>>2]=0;s[a+4>>2]=0;s[a+8>>2]=0;s[a+12>>2]=0;s[a+16>>2]=0;s[a+20>>2]=0;s[a+24>>2]=0;s[a+28>>2]=0;do{n=a+(((i&255)>>>5&255)<<2)|0;s[n>>2]=s[n>>2]|1<<(i&31);t=t+1|0;i=r[t>>0]|0}while(i<<24>>24!=0);t=r[e>>0]|0;e:do{if(!(t<<24>>24))i=e;else{i=e;do{if(s[a+(((t&255)>>>5&255)<<2)>>2]&1<<(t&31))break e;i=i+1|0;t=r[i>>0]|0}while(t<<24>>24!=0)}}while(0);i=i-e|0}else i=(gs(e,i<<24>>24)|0)-e|0;d=o;return i|0}function ks(e){e=e|0;var t=0,i=0;i=(ys(e)|0)+1|0;t=Hs(i)|0;if(!t)t=0;else Ku(t|0,e|0,i|0)|0;return t|0}function ys(e){e=e|0;var t=0,i=0,a=0;a=e;e:do{if(!(a&3))i=4;else{t=e;e=a;while(1){if(!(r[t>>0]|0))break e;t=t+1|0;e=t;if(!(e&3)){e=t;i=4;break}}}}while(0);if((i|0)==4){while(1){t=s[e>>2]|0;if(!((t&-2139062144^-2139062144)&t+-16843009))e=e+4|0;else break}if((t&255)<<24>>24)do{e=e+1|0}while((r[e>>0]|0)!=0)}return e-a|0}function _s(e,t,i){e=e|0;t=t|0;i=i|0;var a=0,s=0,o=0;a=e+(ys(e)|0)|0;e:do{if(i)while(1){s=r[t>>0]|0;if(!(s<<24>>24))break e;i=i+-1|0;o=a+1|0;r[a>>0]=s;if(!i){a=o;break}else{t=t+1|0;a=o}}}while(0);r[a>>0]=0;return e|0}function Ss(e,t,i){e=e|0;t=t|0;i=i|0;ms(e,t,i)|0;return e|0}function Es(e,t){e=e|0;t=t|0;return hs(e,t,(ys(e)|0)+1|0)|0}function Cs(e,t){e=e|0;t=t|0;var i=0,a=0,o=0,n=0;n=d;d=d+32|0;o=n;s[o>>2]=0;s[o+4>>2]=0;s[o+8>>2]=0;s[o+12>>2]=0;s[o+16>>2]=0;s[o+20>>2]=0;s[o+24>>2]=0;s[o+28>>2]=0;a=r[t>>0]|0;do{if(!(a<<24>>24))t=0;else{if(!(r[t+1>>0]|0)){t=e;while(1)if((r[t>>0]|0)==a<<24>>24)t=t+1|0;else break;t=t-e|0;break}else{i=t;t=a}do{a=o+(((t&255)>>>5&255)<<2)|0;s[a>>2]=s[a>>2]|1<<(t&31);i=i+1|0;t=r[i>>0]|0}while(t<<24>>24!=0);i=r[e>>0]|0;e:do{if(!(i<<24>>24))t=e;else{t=e;do{if(!(s[o+(((i&255)>>>5&255)<<2)>>2]&1<<(i&31)))break e;t=t+1|0;i=r[t>>0]|0}while(i<<24>>24!=0)}}while(0);t=t-e|0}}while(0);d=n;return t|0}function Ts(e,t){e=e|0;t=t|0;var i=0,a=0;if(!e){e=s[699]|0;if(!e)e=0;else{a=e;i=3}}else{a=e;i=3}do{if((i|0)==3){i=Cs(a,t)|0;e=a+i|0;if(!(r[e>>0]|0)){s[699]=0;e=0;break}i=(ws(e,t)|0)+i|0;t=a+i|0;s[699]=t;if(!(r[t>>0]|0)){s[699]=0;break}else{s[699]=a+(i+1);r[t>>0]=0;break}}}while(0);return e|0}function As(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,n=0,l=0,u=0;l=e+4|0;i=s[l>>2]|0;u=e+100|0;if(i>>>0<(s[u>>2]|0)>>>0){s[l>>2]=i+1;i=o[i>>0]|0}else i=ma(e)|0;switch(i|0){case 43:case 45:{r=(i|0)==45&1;i=s[l>>2]|0;if(i>>>0<(s[u>>2]|0)>>>0){s[l>>2]=i+1;i=o[i>>0]|0}else i=ma(e)|0;if((t|0)!=0&(i+-48|0)>>>0>9?(s[u>>2]|0)!=0:0){s[l>>2]=(s[l>>2]|0)+-1;n=r}else n=r;break}default:n=0}if((i+-48|0)>>>0>9)if(!(s[u>>2]|0)){r=-2147483648;i=0}else{s[l>>2]=(s[l>>2]|0)+-1;r=-2147483648;i=0}else{r=0;do{r=i+-48+(r*10|0)|0;i=s[l>>2]|0;if(i>>>0<(s[u>>2]|0)>>>0){s[l>>2]=i+1;i=o[i>>0]|0}else i=ma(e)|0}while((i+-48|0)>>>0<10&(r|0)<214748364);t=((r|0)<0)<<31>>31;if((i+-48|0)>>>0<10){do{t=ic(r|0,t|0,10,0)|0;r=P;i=Qu(i|0,((i|0)<0)<<31>>31|0,-48,-1)|0;r=Qu(i|0,P|0,t|0,r|0)|0;t=P;i=s[l>>2]|0;if(i>>>0<(s[u>>2]|0)>>>0){s[l>>2]=i+1;i=o[i>>0]|0}else i=ma(e)|0}while((i+-48|0)>>>0<10&((t|0)<21474836|(t|0)==21474836&r>>>0<2061584302));a=r}else a=r;if((i+-48|0)>>>0<10)do{i=s[l>>2]|0;if(i>>>0<(s[u>>2]|0)>>>0){s[l>>2]=i+1;i=o[i>>0]|0}else i=ma(e)|0}while((i+-48|0)>>>0<10);if(s[u>>2]|0)s[l>>2]=(s[l>>2]|0)+-1;e=(n|0)!=0;i=Wu(0,0,a|0,t|0)|0;r=e?P:t;i=e?i:a}P=r;return i|0}function Ms(e){e=e|0;if(!(s[e+68>>2]|0))Pa(e);return}function xs(e){e=e|0;if(!(s[e+68>>2]|0))Pa(e);return}function Rs(e){e=e|0;var t=0,i=0,r=0,a=0,o=0,n=0;t=e+20|0;o=e+28|0;if((s[t>>2]|0)>>>0>(s[o>>2]|0)>>>0?($c[s[e+36>>2]&15](e,0,0)|0,(s[t>>2]|0)==0):0)t=-1;else{n=e+4|0;i=s[n>>2]|0;r=e+8|0;a=s[r>>2]|0;if(i>>>0<a>>>0)$c[s[e+40>>2]&15](e,i-a|0,1)|0;s[e+16>>2]=0;s[o>>2]=0;s[t>>2]=0;s[r>>2]=0;s[n>>2]=0;t=0}return t|0}function qs(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,p=0,m=0,b=0.0,g=0,v=0,w=0,k=0,y=0.0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0,I=0,F=0,O=0,N=0,D=0,$=0,L=0,H=0,j=0,z=0,B=0,U=0,W=0,V=0,Y=0,Q=0,G=0,K=0,X=0,J=0,Z=0,ee=0,te=0,re=0,ae=0,se=0,oe=0,ne=0;ne=d;d=d+624|0;te=ne+24|0;ae=ne+16|0;re=ne+588|0;K=ne+576|0;ee=ne;Y=ne+536|0;oe=ne+8|0;se=ne+528|0;$=(e|0)!=0;L=Y+40|0;V=L;Y=Y+39|0;Q=oe+4|0;G=K+12|0;K=K+11|0;X=re;J=G;Z=J-X|0;H=-2-X|0;j=J+2|0;z=te+288|0;B=re+9|0;U=B;W=re+8|0;u=0;_=t;f=0;t=0;e:while(1){do{if((u|0)>-1)if((f|0)>(2147483647-u|0)){s[(ca()|0)>>2]=75;u=-1;break}else{u=f+u|0;break}}while(0);f=r[_>>0]|0;if(!(f<<24>>24)){D=245;break}else p=_;t:while(1){switch(f<<24>>24){case 37:{f=p;D=9;break t}case 0:{f=p;break t}default:{}}N=p+1|0;f=r[N>>0]|0;p=N}t:do{if((D|0)==9)while(1){D=0;if((r[f+1>>0]|0)!=37)break t;p=p+1|0;f=f+2|0;if((r[f>>0]|0)==37)D=9;else break}}while(0);E=p-_|0;if($?(s[e>>2]&32|0)==0:0)ts(_,E,e)|0;if((p|0)!=(_|0)){_=f;f=E;continue}g=f+1|0;p=r[g>>0]|0;m=(p<<24>>24)+-48|0;if(m>>>0<10){N=(r[f+2>>0]|0)==36;g=N?f+3|0:g;p=r[g>>0]|0;k=N?m:-1;t=N?1:t}else k=-1;f=p<<24>>24;t:do{if((f&-32|0)==32){m=0;while(1){if(!(1<<f+-32&75913)){v=m;f=g;break t}m=1<<(p<<24>>24)+-32|m;g=g+1|0;p=r[g>>0]|0;f=p<<24>>24;if((f&-32|0)!=32){v=m;f=g;break}}}else{v=0;f=g}}while(0);do{if(p<<24>>24==42){m=f+1|0;p=(r[m>>0]|0)+-48|0;if(p>>>0<10?(r[f+2>>0]|0)==36:0){s[l+(p<<2)>>2]=10;t=1;f=f+3|0;p=s[n+((r[m>>0]|0)+-48<<3)>>2]|0}else{if(t){u=-1;break e}if(!$){S=v;f=m;t=0;N=0;break}t=(s[i>>2]|0)+(4-1)&~(4-1);p=s[t>>2]|0;s[i>>2]=t+4;t=0;f=m}if((p|0)<0){S=v|8192;N=0-p|0}else{S=v;N=p}}else{m=(p<<24>>24)+-48|0;if(m>>>0<10){p=0;do{p=(p*10|0)+m|0;f=f+1|0;m=(r[f>>0]|0)+-48|0}while(m>>>0<10);if((p|0)<0){u=-1;break e}else{S=v;N=p}}else{S=v;N=0}}}while(0);t:do{if((r[f>>0]|0)==46){m=f+1|0;p=r[m>>0]|0;if(p<<24>>24!=42){g=(p<<24>>24)+-48|0;if(g>>>0<10){f=m;p=0}else{f=m;g=0;break}while(1){p=(p*10|0)+g|0;f=f+1|0;g=(r[f>>0]|0)+-48|0;if(g>>>0>=10){g=p;break t}}}m=f+2|0;p=(r[m>>0]|0)+-48|0;if(p>>>0<10?(r[f+3>>0]|0)==36:0){s[l+(p<<2)>>2]=10;f=f+4|0;g=s[n+((r[m>>0]|0)+-48<<3)>>2]|0;break}if(t){u=-1;break e}if($){f=(s[i>>2]|0)+(4-1)&~(4-1);g=s[f>>2]|0;s[i>>2]=f+4;f=m}else{f=m;g=0}}else g=-1}while(0);w=0;while(1){p=(r[f>>0]|0)+-65|0;if(p>>>0>57){u=-1;break e}m=f+1|0;p=r[15953+(w*58|0)+p>>0]|0;v=p&255;if((v+-1|0)>>>0<8){f=m;w=v}else{O=m;break}}if(!(p<<24>>24)){u=-1;break}m=(k|0)>-1;do{if(p<<24>>24==19)if(m){u=-1;break e}else D=52;else{if(m){s[l+(k<<2)>>2]=v;I=n+(k<<3)|0;F=s[I+4>>2]|0;D=ee;s[D>>2]=s[I>>2];s[D+4>>2]=F;D=52;break}if(!$){u=0;break e}Ds(ee,v,i)}}while(0);if((D|0)==52?(D=0,!$):0){_=O;f=E;continue}k=r[f>>0]|0;k=(w|0)!=0&(k&15|0)==3?k&-33:k;m=S&-65537;F=(S&8192|0)==0?S:m;t:do{switch(k|0){case 110:switch(w|0){case 0:{s[s[ee>>2]>>2]=u;_=O;f=E;continue e}case 1:{s[s[ee>>2]>>2]=u;_=O;f=E;continue e}case 2:{_=s[ee>>2]|0;s[_>>2]=u;s[_+4>>2]=((u|0)<0)<<31>>31;_=O;f=E;continue e}case 3:{a[s[ee>>2]>>1]=u;_=O;f=E;continue e}case 4:{r[s[ee>>2]>>0]=u;_=O;f=E;continue e}case 6:{s[s[ee>>2]>>2]=u;_=O;f=E;continue e}case 7:{_=s[ee>>2]|0;s[_>>2]=u;s[_+4>>2]=((u|0)<0)<<31>>31;_=O;f=E;continue e}default:{_=O;f=E;continue e}}case 112:{w=F|8;g=g>>>0>8?g:8;k=120;D=64;break}case 88:case 120:{w=F;D=64;break}case 111:{m=ee;p=s[m>>2]|0;m=s[m+4>>2]|0;if((p|0)==0&(m|0)==0)f=L;else{f=L;do{f=f+-1|0;r[f>>0]=p&7|48;p=Gu(p|0,m|0,3)|0;m=P}while(!((p|0)==0&(m|0)==0))}if(!(F&8)){p=F;w=0;v=16433;D=77}else{w=V-f+1|0;p=F;g=(g|0)<(w|0)?w:g;w=0;v=16433;D=77}break}case 105:case 100:{p=ee;f=s[p>>2]|0;p=s[p+4>>2]|0;if((p|0)<0){f=Wu(0,0,f|0,p|0)|0;p=P;m=ee;s[m>>2]=f;s[m+4>>2]=p;m=1;v=16433;D=76;break t}if(!(F&2048)){v=F&1;m=v;v=(v|0)==0?16433:16435;D=76}else{m=1;v=16434;D=76}break}case 117:{p=ee;f=s[p>>2]|0;p=s[p+4>>2]|0;m=0;v=16433;D=76;break}case 99:{r[Y>>0]=s[ee>>2];_=Y;p=1;w=0;k=16433;f=L;break}case 109:{f=da(s[(ca()|0)>>2]|0)|0;D=82;break}case 115:{f=s[ee>>2]|0;f=(f|0)!=0?f:16443;D=82;break}case 67:{s[oe>>2]=s[ee>>2];s[Q>>2]=0;s[ee>>2]=oe;g=-1;D=86;break}case 83:{if(!g){Ls(e,32,N,0,F);f=0;D=98}else D=86;break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{b=+c[ee>>3];s[ae>>2]=0;c[h>>3]=b;if((s[h+4>>2]|0)>=0)if(!(F&2048)){I=F&1;q=I;I=(I|0)==0?16451:16456}else{q=1;I=16453}else{b=-b;q=1;I=16450}c[h>>3]=b;R=s[h+4>>2]&2146435072;do{if(R>>>0<2146435072|(R|0)==2146435072&0<0){y=+_a(b,ae)*2.0;p=y!=0.0;if(p)s[ae>>2]=(s[ae>>2]|0)+-1;M=k|32;if((M|0)==97){_=k&32;E=(_|0)==0?I:I+9|0;S=q|2;f=12-g|0;do{if(!(g>>>0>11|(f|0)==0)){b=8.0;do{f=f+-1|0;b=b*16.0}while((f|0)!=0);if((r[E>>0]|0)==45){b=-(b+(-y-b));break}else{b=y+b-b;break}}else b=y}while(0);p=s[ae>>2]|0;f=(p|0)<0?0-p|0:p;f=$s(f,((f|0)<0)<<31>>31,G)|0;if((f|0)==(G|0)){r[K>>0]=48;f=K}r[f+-1>>0]=(p>>31&2)+43;w=f+-2|0;r[w>>0]=k+15;v=(g|0)<1;m=(F&8|0)==0;p=re;while(1){I=~~b;f=p+1|0;r[p>>0]=o[16417+I>>0]|_;b=(b-+(I|0))*16.0;do{if((f-X|0)==1){if(m&(v&b==0.0))break;r[f>>0]=46;f=p+2|0}}while(0);if(!(b!=0.0))break;else p=f}g=(g|0)!=0&(H+f|0)<(g|0)?j+g-w|0:Z-w+f|0;m=g+S|0;Ls(e,32,N,m,F);if(!(s[e>>2]&32))ts(E,S,e)|0;Ls(e,48,N,m,F^65536);f=f-X|0;if(!(s[e>>2]&32))ts(re,f,e)|0;p=J-w|0;Ls(e,48,g-(f+p)|0,0,0);if(!(s[e>>2]&32))ts(w,p,e)|0;Ls(e,32,N,m,F^8192);f=(m|0)<(N|0)?N:m;break}f=(g|0)<0?6:g;if(p){p=(s[ae>>2]|0)+-28|0;s[ae>>2]=p;b=y*268435456.0}else{b=y;p=s[ae>>2]|0}R=(p|0)<0?te:z;x=R;p=R;do{A=~~b>>>0;s[p>>2]=A;p=p+4|0;b=(b-+(A>>>0))*1.0e9}while(b!=0.0);m=p;p=s[ae>>2]|0;if((p|0)>0){v=R;while(1){w=(p|0)>29?29:p;g=m+-4|0;do{if(g>>>0<v>>>0)g=v;else{p=0;do{A=Yu(s[g>>2]|0,0,w|0)|0;A=Qu(A|0,P|0,p|0,0)|0;p=P;T=ac(A|0,p|0,1e9,0)|0;s[g>>2]=T;p=rc(A|0,p|0,1e9,0)|0;g=g+-4|0}while(g>>>0>=v>>>0);if(!p){g=v;break}g=v+-4|0;s[g>>2]=p}}while(0);while(1){if(m>>>0<=g>>>0)break;p=m+-4|0;if(!(s[p>>2]|0))m=p;else break}p=(s[ae>>2]|0)-w|0;s[ae>>2]=p;if((p|0)>0)v=g;else break}}else g=R;if((p|0)<0){E=((f+25|0)/9|0)+1|0;C=(M|0)==102;_=g;while(1){S=0-p|0;S=(S|0)>9?9:S;do{if(_>>>0<m>>>0){p=(1<<S)+-1|0;v=1e9>>>S;g=0;w=_;do{A=s[w>>2]|0;s[w>>2]=(A>>>S)+g;g=ie(A&p,v)|0;w=w+4|0}while(w>>>0<m>>>0);p=(s[_>>2]|0)==0?_+4|0:_;if(!g){g=p;break}s[m>>2]=g;g=p;m=m+4|0}else g=(s[_>>2]|0)==0?_+4|0:_}while(0);p=C?R:g;m=(m-p>>2|0)>(E|0)?p+(E<<2)|0:m;p=(s[ae>>2]|0)+S|0;s[ae>>2]=p;if((p|0)>=0){_=g;break}else _=g}}else _=g;do{if(_>>>0<m>>>0){p=(x-_>>2)*9|0;v=s[_>>2]|0;if(v>>>0<10)break;else g=10;do{g=g*10|0;p=p+1|0}while(v>>>0>=g>>>0)}else p=0}while(0);T=(M|0)==103;A=(f|0)!=0;g=f-((M|0)!=102?p:0)+((A&T)<<31>>31)|0;if((g|0)<(((m-x>>2)*9|0)+-9|0)){w=g+9216|0;C=(w|0)/9|0;g=R+(C+-1023<<2)|0;w=((w|0)%9|0)+1|0;if((w|0)<9){v=10;do{v=v*10|0;w=w+1|0}while((w|0)!=9)}else v=10;S=s[g>>2]|0;E=(S>>>0)%(v>>>0)|0;if((E|0)==0?(R+(C+-1022<<2)|0)==(m|0):0)v=_;else D=163;do{if((D|0)==163){D=0;y=(((S>>>0)/(v>>>0)|0)&1|0)==0?9007199254740992.0:9007199254740994.0;w=(v|0)/2|0;do{if(E>>>0<w>>>0)b=.5;else{if((E|0)==(w|0)?(R+(C+-1022<<2)|0)==(m|0):0){b=1.0;break}b=1.5}}while(0);do{if(q){if((r[I>>0]|0)!=45)break;y=-y;b=-b}}while(0);w=S-E|0;s[g>>2]=w;if(!(y+b!=y)){v=_;break}M=w+v|0;s[g>>2]=M;if(M>>>0>999999999){p=_;while(1){v=g+-4|0;s[g>>2]=0;if(v>>>0<p>>>0){p=p+-4|0;s[p>>2]=0}M=(s[v>>2]|0)+1|0;s[v>>2]=M;if(M>>>0>999999999)g=v;else{_=p;g=v;break}}}p=(x-_>>2)*9|0;w=s[_>>2]|0;if(w>>>0<10){v=_;break}else v=10;do{v=v*10|0;p=p+1|0}while(w>>>0>=v>>>0);v=_}}while(0);M=g+4|0;_=v;m=m>>>0>M>>>0?M:m}E=0-p|0;while(1){if(m>>>0<=_>>>0){C=0;M=m;break}g=m+-4|0;if(!(s[g>>2]|0))m=g;else{C=1;M=m;break}}do{if(T){f=(A&1^1)+f|0;if((f|0)>(p|0)&(p|0)>-5){k=k+-1|0;f=f+-1-p|0}else{k=k+-2|0;f=f+-1|0}m=F&8;if(m)break;do{if(C){m=s[M+-4>>2]|0;if(!m){g=9;break}if(!((m>>>0)%10|0)){v=10;g=0}else{g=0;break}do{v=v*10|0;g=g+1|0}while(((m>>>0)%(v>>>0)|0|0)==0)}else g=9}while(0);m=((M-x>>2)*9|0)+-9|0;if((k|32|0)==102){m=m-g|0;m=(m|0)<0?0:m;f=(f|0)<(m|0)?f:m;m=0;break}else{m=m+p-g|0;m=(m|0)<0?0:m;f=(f|0)<(m|0)?f:m;m=0;break}}else m=F&8}while(0);S=f|m;v=(S|0)!=0&1;w=(k|32|0)==102;if(w){p=(p|0)>0?p:0;k=0}else{g=(p|0)<0?E:p;g=$s(g,((g|0)<0)<<31>>31,G)|0;if((J-g|0)<2)do{g=g+-1|0;r[g>>0]=48}while((J-g|0)<2);r[g+-1>>0]=(p>>31&2)+43;x=g+-2|0;r[x>>0]=k;p=J-x|0;k=x}E=q+1+f+v+p|0;Ls(e,32,N,E,F);if(!(s[e>>2]&32))ts(I,q,e)|0;Ls(e,48,N,E,F^65536);do{if(w){g=_>>>0>R>>>0?R:_;p=g;do{m=$s(s[p>>2]|0,0,B)|0;do{if((p|0)==(g|0)){if((m|0)!=(B|0))break;r[W>>0]=48;m=W}else{if(m>>>0<=re>>>0)break;do{m=m+-1|0;r[m>>0]=48}while(m>>>0>re>>>0)}}while(0);if(!(s[e>>2]&32))ts(m,U-m|0,e)|0;p=p+4|0}while(p>>>0<=R>>>0);do{if(S){if(s[e>>2]&32)break;ts(16485,1,e)|0}}while(0);if((f|0)>0&p>>>0<M>>>0){m=p;while(1){p=$s(s[m>>2]|0,0,B)|0;if(p>>>0>re>>>0)do{p=p+-1|0;r[p>>0]=48}while(p>>>0>re>>>0);if(!(s[e>>2]&32))ts(p,(f|0)>9?9:f,e)|0;m=m+4|0;p=f+-9|0;if(!((f|0)>9&m>>>0<M>>>0)){f=p;break}else f=p}}Ls(e,48,f+9|0,9,0)}else{w=C?M:_+4|0;if((f|0)>-1){v=(m|0)==0;g=_;do{p=$s(s[g>>2]|0,0,B)|0;if((p|0)==(B|0)){r[W>>0]=48;p=W}do{if((g|0)==(_|0)){m=p+1|0;if(!(s[e>>2]&32))ts(p,1,e)|0;if(v&(f|0)<1){p=m;break}if(s[e>>2]&32){p=m;break}ts(16485,1,e)|0;p=m}else{if(p>>>0<=re>>>0)break;do{p=p+-1|0;r[p>>0]=48}while(p>>>0>re>>>0)}}while(0);m=U-p|0;if(!(s[e>>2]&32))ts(p,(f|0)>(m|0)?m:f,e)|0;f=f-m|0;g=g+4|0}while(g>>>0<w>>>0&(f|0)>-1)}Ls(e,48,f+18|0,18,0);if(s[e>>2]&32)break;ts(k,J-k|0,e)|0}}while(0);Ls(e,32,N,E,F^8192);f=(E|0)<(N|0)?N:E}else{w=(k&32|0)!=0;v=b!=b|0.0!=0.0;p=v?0:q;g=p+3|0;Ls(e,32,N,g,m);f=s[e>>2]|0;if(!(f&32)){ts(I,p,e)|0;f=s[e>>2]|0}if(!(f&32))ts(v?w?16477:16481:w?16469:16473,3,e)|0;Ls(e,32,N,g,F^8192);f=(g|0)<(N|0)?N:g}}while(0);_=O;continue e}default:{m=F;p=g;w=0;k=16433;f=L}}}while(0);t:do{if((D|0)==64){m=ee;p=s[m>>2]|0;m=s[m+4>>2]|0;v=k&32;if(!((p|0)==0&(m|0)==0)){f=L;do{f=f+-1|0;r[f>>0]=o[16417+(p&15)>>0]|v;p=Gu(p|0,m|0,4)|0;m=P}while(!((p|0)==0&(m|0)==0));D=ee;if((w&8|0)==0|(s[D>>2]|0)==0&(s[D+4>>2]|0)==0){p=w;w=0;v=16433;D=77}else{p=w;w=2;v=16433+(k>>4)|0;D=77}}else{f=L;p=w;w=0;v=16433;D=77}}else if((D|0)==76){f=$s(f,p,L)|0;p=F;w=m;D=77}else if((D|0)==82){D=0;F=fs(f,0,g)|0;I=(F|0)==0;_=f;p=I?g:F-f|0;w=0;k=16433;f=I?f+g|0:F}else if((D|0)==86){D=0;p=0;f=0;v=s[ee>>2]|0;while(1){m=s[v>>2]|0;if(!m)break;f=Ma(se,m)|0;if((f|0)<0|f>>>0>(g-p|0)>>>0)break;p=f+p|0;if(g>>>0>p>>>0)v=v+4|0;else break}if((f|0)<0){u=-1;break e}Ls(e,32,N,p,F);if(!p){f=0;D=98}else{m=0;g=s[ee>>2]|0;while(1){f=s[g>>2]|0;if(!f){f=p;D=98;break t}f=Ma(se,f)|0;m=f+m|0;if((m|0)>(p|0)){f=p;D=98;break t}if(!(s[e>>2]&32))ts(se,f,e)|0;if(m>>>0>=p>>>0){f=p;D=98;break}else g=g+4|0}}}}while(0);if((D|0)==98){D=0;Ls(e,32,N,f,F^8192);_=O;f=(N|0)>(f|0)?N:f;continue}if((D|0)==77){D=0;m=(g|0)>-1?p&-65537:p;p=ee;p=(s[p>>2]|0)!=0|(s[p+4>>2]|0)!=0;if((g|0)!=0|p){p=(p&1^1)+(V-f)|0;_=f;p=(g|0)>(p|0)?g:p;k=v;f=L}else{_=L;p=0;k=v;f=L}}v=f-_|0;p=(p|0)<(v|0)?v:p;g=w+p|0;f=(N|0)<(g|0)?g:N;Ls(e,32,f,g,m);if(!(s[e>>2]&32))ts(k,w,e)|0;Ls(e,48,f,g,m^65536);Ls(e,48,p,v,0);if(!(s[e>>2]&32))ts(_,v,e)|0;Ls(e,32,f,g,m^8192);_=O}e:do{if((D|0)==245)if(!e)if(t){u=1;while(1){t=s[l+(u<<2)>>2]|0;if(!t)break;Ds(n+(u<<3)|0,t,i);u=u+1|0;if((u|0)>=10){u=1;break e}}if((u|0)<10)while(1){if(s[l+(u<<2)>>2]|0){u=-1;break e}u=u+1|0;if((u|0)>=10){u=1;break}}else u=1}else u=0}while(0);d=ne;return u|0}function Ps(e,t,i){e=e|0;t=t|0;i=i|0;return $a(e,t,i)|0}function Is(e,t,i,r,a){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;var o=0,n=0,l=0,u=0,c=0,f=0,h=0,p=0,m=0;m=d;d=d+240|0;p=m;s[p>>2]=e;e:do{if((r|0)>1){h=0-t|0;o=r;n=e;u=e;c=1;while(1){e=n+h|0;f=o+-2|0;l=n+(0-((s[a+(f<<2)>>2]|0)+t))|0;if((Jc[i&15](u,l)|0)>-1?(Jc[i&15](u,e)|0)>-1:0){r=c;break e}r=c+1|0;n=p+(c<<2)|0;if((Jc[i&15](l,e)|0)>-1){s[n>>2]=l;e=l;o=o+-1|0}else{s[n>>2]=e;o=f}if((o|0)<=1)break e;n=e;u=s[p>>2]|0;c=r}}else r=1}while(0);Os(t,p,r);d=m;return}function Fs(e,t,i,r,a,o,n){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;o=o|0;n=n|0;var l=0,u=0,c=0,f=0,h=0,p=0,m=0,b=0,g=0;g=d;d=d+240|0;m=g;u=s[r>>2]|0;r=s[r+4>>2]|0;s[m>>2]=e;p=0-t|0;e:do{if((r|0)!=0|(u|0)!=1?(l=e+(0-(s[n+(a<<2)>>2]|0))|0,(Jc[i&15](l,e)|0)>=1):0){o=(o|0)==0;h=l;c=u;f=r;l=1;while(1){if(o&(a|0)>1){r=s[n+(a+-2<<2)>>2]|0;if((Jc[i&15](e+p|0,h)|0)>-1){o=a;r=l;b=20;break e}if((Jc[i&15](e+(0-(r+t))|0,h)|0)>-1){o=a;r=l;b=20;break e}}r=l+1|0;s[m+(l<<2)>>2]=h;o=c+-1|0;do{if(o){if(!(o&1)){e=o;o=0;do{o=o+1|0;e=e>>>1}while((e&1|0)==0);if(!o)b=11}else b=11;if((b|0)==11){b=0;if(!f){o=64;b=16;break}if(!(f&1)){e=f;o=0}else{u=0;e=c;l=f;o=0;break}while(1){l=o+1|0;e=e>>>1;if(e&1){e=l;break}else o=l}if(!e){u=0;e=c;l=f;o=0;break}else o=o+33|0}if(o>>>0>31)b=16;else{u=o;e=c;l=f}}else{o=32;b=16}}while(0);if((b|0)==16){b=0;u=o+-32|0;e=f;l=0}c=l<<32-u|e>>>u;f=l>>>u;o=o+a|0;if(!((f|0)!=0|(c|0)!=1)){e=h;b=20;break e}e=h+(0-(s[n+(o<<2)>>2]|0))|0;if((Jc[i&15](e,s[m>>2]|0)|0)<1){e=h;a=o;o=0;b=19;break}else{u=h;a=o;o=1;h=e;l=r;e=u}}}else{r=1;b=19}}while(0);if((b|0)==19?(o|0)==0:0){o=a;b=20}if((b|0)==20){Os(t,m,r);Is(e,t,i,o,n)}d=g;return}function Os(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,o=0,n=0,l=0;n=d;d=d+256|0;r=n;e:do{if((i|0)>=2?(o=t+(i<<2)|0,s[o>>2]=r,(e|0)!=0):0)while(1){a=e>>>0>256?256:e;Ku(r|0,s[t>>2]|0,a|0)|0;r=0;do{l=t+(r<<2)|0;r=r+1|0;Ku(s[l>>2]|0,s[t+(r<<2)>>2]|0,a|0)|0;s[l>>2]=(s[l>>2]|0)+a}while((r|0)!=(i|0));if((e|0)==(a|0))break e;e=e-a|0;r=s[o>>2]|0}}while(0);d=n;return}function Ns(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0;r=e+20|0;a=s[r>>2]|0;e=(s[e+16>>2]|0)-a|0;e=e>>>0>i>>>0?i:e;Ku(a|0,t|0,e|0)|0;s[r>>2]=(s[r>>2]|0)+e;return i|0}function Ds(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,o=0.0;e:do{if(t>>>0<=20)do{switch(t|0){case 9:{r=(s[i>>2]|0)+(4-1)&~(4-1);t=s[r>>2]|0;s[i>>2]=r+4;s[e>>2]=t;break e}case 10:{r=(s[i>>2]|0)+(4-1)&~(4-1);t=s[r>>2]|0;s[i>>2]=r+4;r=e;s[r>>2]=t;s[r+4>>2]=((t|0)<0)<<31>>31;break e}case 11:{r=(s[i>>2]|0)+(4-1)&~(4-1);t=s[r>>2]|0;s[i>>2]=r+4;r=e;s[r>>2]=t;s[r+4>>2]=0;break e}case 12:{r=(s[i>>2]|0)+(8-1)&~(8-1);t=r;a=s[t>>2]|0;t=s[t+4>>2]|0;s[i>>2]=r+8;r=e;s[r>>2]=a;s[r+4>>2]=t;break e}case 13:{a=(s[i>>2]|0)+(4-1)&~(4-1);r=s[a>>2]|0;s[i>>2]=a+4;r=(r&65535)<<16>>16;a=e;s[a>>2]=r;s[a+4>>2]=((r|0)<0)<<31>>31;break e}case 14:{a=(s[i>>2]|0)+(4-1)&~(4-1);r=s[a>>2]|0;s[i>>2]=a+4;a=e;s[a>>2]=r&65535;s[a+4>>2]=0;break e}case 15:{a=(s[i>>2]|0)+(4-1)&~(4-1);r=s[a>>2]|0;s[i>>2]=a+4;r=(r&255)<<24>>24;a=e;s[a>>2]=r;s[a+4>>2]=((r|0)<0)<<31>>31;break e}case 16:{a=(s[i>>2]|0)+(4-1)&~(4-1);r=s[a>>2]|0;s[i>>2]=a+4;a=e;s[a>>2]=r&255;s[a+4>>2]=0;break e}case 17:{a=(s[i>>2]|0)+(8-1)&~(8-1);o=+c[a>>3];s[i>>2]=a+8;c[e>>3]=o;break e}case 18:{a=(s[i>>2]|0)+(8-1)&~(8-1);o=+c[a>>3];s[i>>2]=a+8;c[e>>3]=o;break e}default:break e}}while(0)}while(0);return}function $s(e,t,i){e=e|0;t=t|0;i=i|0;var a=0;if(t>>>0>0|(t|0)==0&e>>>0>4294967295)while(1){a=ac(e|0,t|0,10,0)|0;i=i+-1|0;r[i>>0]=a|48;a=rc(e|0,t|0,10,0)|0;if(t>>>0>9|(t|0)==9&e>>>0>4294967295){e=a;t=P}else{e=a;break}}if(e)while(1){i=i+-1|0;r[i>>0]=(e>>>0)%10|0|48;if(e>>>0<10)break;else e=(e>>>0)/10|0}return i|0}function Ls(e,t,i,r,a){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;var o=0,n=0,l=0;l=d;d=d+256|0;n=l;do{if((i|0)>(r|0)&(a&73728|0)==0){a=i-r|0;Vu(n|0,t|0,(a>>>0>256?256:a)|0)|0;t=s[e>>2]|0;o=(t&32|0)==0;if(a>>>0>255){r=i-r|0;do{if(o){ts(n,256,e)|0;t=s[e>>2]|0}a=a+-256|0;o=(t&32|0)==0}while(a>>>0>255);if(o)a=r&255;else break}else if(!o)break;ts(n,a,e)|0}}while(0);d=l;return}function Hs(e){e=e|0;var t=0,i=0,r=0,a=0,o=0,n=0,l=0,u=0,c=0,d=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0,P=0,I=0,F=0,O=0,N=0,D=0,$=0;do{if(e>>>0<245){p=e>>>0<11?16:e+11&-8;e=p>>>3;l=s[756]|0;i=l>>>e;if(i&3){e=(i&1^1)+e|0;r=e<<1;i=3064+(r<<2)|0;r=3064+(r+2<<2)|0;a=s[r>>2]|0;o=a+8|0;n=s[o>>2]|0;do{if((i|0)!=(n|0)){if(n>>>0<(s[760]|0)>>>0)Pe();t=n+12|0;if((s[t>>2]|0)==(a|0)){s[t>>2]=i;s[r>>2]=n;break}else Pe()}else s[756]=l&~(1<<e)}while(0);$=e<<3;s[a+4>>2]=$|3;$=a+($|4)|0;s[$>>2]=s[$>>2]|1;$=o;return $|0}n=s[758]|0;if(p>>>0>n>>>0){if(i){r=2<<e;r=i<<e&(r|0-r);r=(r&0-r)+-1|0;u=r>>>12&16;r=r>>>u;a=r>>>5&8;r=r>>>a;o=r>>>2&4;r=r>>>o;i=r>>>1&2;r=r>>>i;e=r>>>1&1;e=(a|u|o|i|e)+(r>>>e)|0;r=e<<1;i=3064+(r<<2)|0;r=3064+(r+2<<2)|0;o=s[r>>2]|0;u=o+8|0;a=s[u>>2]|0;do{if((i|0)!=(a|0)){if(a>>>0<(s[760]|0)>>>0)Pe();t=a+12|0;if((s[t>>2]|0)==(o|0)){s[t>>2]=i;s[r>>2]=a;c=s[758]|0;break}else Pe()}else{s[756]=l&~(1<<e);c=n}}while(0);$=e<<3;n=$-p|0;s[o+4>>2]=p|3;l=o+p|0;s[o+(p|4)>>2]=n|1;s[o+$>>2]=n;if(c){a=s[761]|0;i=c>>>3;t=i<<1;r=3064+(t<<2)|0;e=s[756]|0;i=1<<i;if(e&i){e=3064+(t+2<<2)|0;t=s[e>>2]|0;if(t>>>0<(s[760]|0)>>>0)Pe();else{d=e;f=t}}else{s[756]=e|i;d=3064+(t+2<<2)|0;f=r}s[d>>2]=a;s[f+12>>2]=a;s[a+8>>2]=f;s[a+12>>2]=r}s[758]=n;s[761]=l;$=u;return $|0}e=s[757]|0;if(e){i=(e&0-e)+-1|0;D=i>>>12&16;i=i>>>D;N=i>>>5&8;i=i>>>N;$=i>>>2&4;i=i>>>$;e=i>>>1&2;i=i>>>e;r=i>>>1&1;r=s[3328+((N|D|$|e|r)+(i>>>r)<<2)>>2]|0;i=(s[r+4>>2]&-8)-p|0;e=r;while(1){t=s[e+16>>2]|0;if(!t){t=s[e+20>>2]|0;if(!t){u=i;break}}e=(s[t+4>>2]&-8)-p|0;$=e>>>0<i>>>0;i=$?e:i;e=t;r=$?t:r}o=s[760]|0;if(r>>>0<o>>>0)Pe();l=r+p|0;if(r>>>0>=l>>>0)Pe();n=s[r+24>>2]|0;i=s[r+12>>2]|0;do{if((i|0)==(r|0)){e=r+20|0;t=s[e>>2]|0;if(!t){e=r+16|0;t=s[e>>2]|0;if(!t){h=0;break}}while(1){i=t+20|0;a=s[i>>2]|0;if(a){t=a;e=i;continue}i=t+16|0;a=s[i>>2]|0;if(!a)break;else{t=a;e=i}}if(e>>>0<o>>>0)Pe();else{s[e>>2]=0;h=t;break}}else{a=s[r+8>>2]|0;if(a>>>0<o>>>0)Pe();t=a+12|0;if((s[t>>2]|0)!=(r|0))Pe();e=i+8|0;if((s[e>>2]|0)==(r|0)){s[t>>2]=i;s[e>>2]=a;h=i;break}else Pe()}}while(0);do{if(n){t=s[r+28>>2]|0;e=3328+(t<<2)|0;if((r|0)==(s[e>>2]|0)){s[e>>2]=h;if(!h){s[757]=s[757]&~(1<<t);break}}else{if(n>>>0<(s[760]|0)>>>0)Pe();t=n+16|0;if((s[t>>2]|0)==(r|0))s[t>>2]=h;else s[n+20>>2]=h;if(!h)break}e=s[760]|0;if(h>>>0<e>>>0)Pe();s[h+24>>2]=n;t=s[r+16>>2]|0;do{if(t)if(t>>>0<e>>>0)Pe();else{s[h+16>>2]=t;s[t+24>>2]=h;break}}while(0);t=s[r+20>>2]|0;if(t)if(t>>>0<(s[760]|0)>>>0)Pe();else{s[h+20>>2]=t;s[t+24>>2]=h;break}}}while(0);if(u>>>0<16){$=u+p|0;s[r+4>>2]=$|3;$=r+($+4)|0;s[$>>2]=s[$>>2]|1}else{s[r+4>>2]=p|3;s[r+(p|4)>>2]=u|1;s[r+(u+p)>>2]=u;t=s[758]|0;if(t){o=s[761]|0;i=t>>>3;t=i<<1;a=3064+(t<<2)|0;e=s[756]|0;i=1<<i;if(e&i){t=3064+(t+2<<2)|0;e=s[t>>2]|0;if(e>>>0<(s[760]|0)>>>0)Pe();else{m=t;b=e}}else{s[756]=e|i;m=3064+(t+2<<2)|0;b=a}s[m>>2]=o;s[b+12>>2]=o;s[o+8>>2]=b;s[o+12>>2]=a}s[758]=u;s[761]=l}$=r+8|0;return $|0}else b=p}else b=p}else if(e>>>0<=4294967231){e=e+11|0;f=e&-8;d=s[757]|0;if(d){i=0-f|0;e=e>>>8;if(e)if(f>>>0>16777215)c=31;else{b=(e+1048320|0)>>>16&8;y=e<<b;m=(y+520192|0)>>>16&4;y=y<<m;c=(y+245760|0)>>>16&2;c=14-(m|b|c)+(y<<c>>>15)|0;c=f>>>(c+7|0)&1|c<<1}else c=0;e=s[3328+(c<<2)>>2]|0;e:do{if(!e){a=0;e=0;y=86}else{n=i;a=0;l=f<<((c|0)==31?0:25-(c>>>1)|0);u=e;e=0;while(1){o=s[u+4>>2]&-8;i=o-f|0;if(i>>>0<n>>>0)if((o|0)==(f|0)){o=u;e=u;y=90;break e}else e=u;else i=n;y=s[u+20>>2]|0;u=s[u+16+(l>>>31<<2)>>2]|0;a=(y|0)==0|(y|0)==(u|0)?a:y;if(!u){y=86;break}else{n=i;l=l<<1}}}}while(0);if((y|0)==86){if((a|0)==0&(e|0)==0){e=2<<c;e=d&(e|0-e);if(!e){b=f;break}e=(e&0-e)+-1|0;h=e>>>12&16;e=e>>>h;d=e>>>5&8;e=e>>>d;m=e>>>2&4;e=e>>>m;b=e>>>1&2;e=e>>>b;a=e>>>1&1;a=s[3328+((d|h|m|b|a)+(e>>>a)<<2)>>2]|0;e=0}if(!a){l=i;u=e}else{o=a;y=90}}if((y|0)==90)while(1){y=0;b=(s[o+4>>2]&-8)-f|0;a=b>>>0<i>>>0;i=a?b:i;e=a?o:e;a=s[o+16>>2]|0;if(a){o=a;y=90;continue}o=s[o+20>>2]|0;if(!o){l=i;u=e;break}else y=90}if((u|0)!=0?l>>>0<((s[758]|0)-f|0)>>>0:0){a=s[760]|0;if(u>>>0<a>>>0)Pe();n=u+f|0;if(u>>>0>=n>>>0)Pe();o=s[u+24>>2]|0;i=s[u+12>>2]|0;do{if((i|0)==(u|0)){e=u+20|0;t=s[e>>2]|0;if(!t){e=u+16|0;t=s[e>>2]|0;if(!t){p=0;break}}while(1){i=t+20|0;r=s[i>>2]|0;if(r){t=r;e=i;continue}i=t+16|0;r=s[i>>2]|0;if(!r)break;else{t=r;e=i}}if(e>>>0<a>>>0)Pe();else{s[e>>2]=0;p=t;break}}else{r=s[u+8>>2]|0;if(r>>>0<a>>>0)Pe();t=r+12|0;if((s[t>>2]|0)!=(u|0))Pe();e=i+8|0;if((s[e>>2]|0)==(u|0)){s[t>>2]=i;s[e>>2]=r;p=i;break}else Pe()}}while(0);do{if(o){t=s[u+28>>2]|0;e=3328+(t<<2)|0;if((u|0)==(s[e>>2]|0)){s[e>>2]=p;if(!p){s[757]=s[757]&~(1<<t);break}}else{if(o>>>0<(s[760]|0)>>>0)Pe();t=o+16|0;if((s[t>>2]|0)==(u|0))s[t>>2]=p;else s[o+20>>2]=p;if(!p)break}e=s[760]|0;if(p>>>0<e>>>0)Pe();s[p+24>>2]=o;t=s[u+16>>2]|0;do{if(t)if(t>>>0<e>>>0)Pe();else{s[p+16>>2]=t;s[t+24>>2]=p;break}}while(0);t=s[u+20>>2]|0;if(t)if(t>>>0<(s[760]|0)>>>0)Pe();else{s[p+20>>2]=t;s[t+24>>2]=p;break}}}while(0);e:do{if(l>>>0>=16){s[u+4>>2]=f|3;s[u+(f|4)>>2]=l|1;s[u+(l+f)>>2]=l;t=l>>>3;if(l>>>0<256){e=t<<1;r=3064+(e<<2)|0;i=s[756]|0;t=1<<t;if(i&t){t=3064+(e+2<<2)|0;e=s[t>>2]|0;if(e>>>0<(s[760]|0)>>>0)Pe();else{v=t;w=e}}else{s[756]=i|t;v=3064+(e+2<<2)|0;w=r}s[v>>2]=n;s[w+12>>2]=n;s[u+(f+8)>>2]=w;s[u+(f+12)>>2]=r;break}t=l>>>8;if(t)if(l>>>0>16777215)r=31;else{D=(t+1048320|0)>>>16&8;$=t<<D;N=($+520192|0)>>>16&4;$=$<<N;r=($+245760|0)>>>16&2;r=14-(N|D|r)+($<<r>>>15)|0;r=l>>>(r+7|0)&1|r<<1}else r=0;t=3328+(r<<2)|0;s[u+(f+28)>>2]=r;s[u+(f+20)>>2]=0;s[u+(f+16)>>2]=0;e=s[757]|0;i=1<<r;if(!(e&i)){s[757]=e|i;s[t>>2]=n;s[u+(f+24)>>2]=t;s[u+(f+12)>>2]=n;s[u+(f+8)>>2]=n;break}t=s[t>>2]|0;t:do{if((s[t+4>>2]&-8|0)!=(l|0)){r=l<<((r|0)==31?0:25-(r>>>1)|0);while(1){e=t+16+(r>>>31<<2)|0;i=s[e>>2]|0;if(!i)break;if((s[i+4>>2]&-8|0)==(l|0)){E=i;break t}else{r=r<<1;t=i}}if(e>>>0<(s[760]|0)>>>0)Pe();else{s[e>>2]=n;s[u+(f+24)>>2]=t;s[u+(f+12)>>2]=n;s[u+(f+8)>>2]=n;break e}}else E=t}while(0);t=E+8|0;e=s[t>>2]|0;$=s[760]|0;if(e>>>0>=$>>>0&E>>>0>=$>>>0){s[e+12>>2]=n;s[t>>2]=n;s[u+(f+8)>>2]=e;s[u+(f+12)>>2]=E;s[u+(f+24)>>2]=0;break}else Pe()}else{$=l+f|0;s[u+4>>2]=$|3;$=u+($+4)|0;s[$>>2]=s[$>>2]|1}}while(0);$=u+8|0;return $|0}else b=f}else b=f}else b=-1}while(0);i=s[758]|0;if(i>>>0>=b>>>0){t=i-b|0;e=s[761]|0;if(t>>>0>15){s[761]=e+b;s[758]=t;s[e+(b+4)>>2]=t|1;s[e+i>>2]=t;s[e+4>>2]=b|3}else{s[758]=0;s[761]=0;s[e+4>>2]=i|3;$=e+(i+4)|0;s[$>>2]=s[$>>2]|1}$=e+8|0;return $|0}e=s[759]|0;if(e>>>0>b>>>0){D=e-b|0;s[759]=D;$=s[762]|0;s[762]=$+b;s[$+(b+4)>>2]=D|1;s[$+4>>2]=b|3;$=$+8|0;return $|0}do{if(!(s[874]|0)){e=it(30)|0;if(!(e+-1&e)){s[876]=e;s[875]=e;s[877]=-1;s[878]=-1;s[879]=0;s[867]=0;s[874]=(Pt(0)|0)&-16^1431655768;break}else Pe()}}while(0);u=b+48|0;l=s[876]|0;c=b+47|0;n=l+c|0;l=0-l|0;d=n&l;if(d>>>0<=b>>>0){$=0;return $|0}e=s[866]|0;if((e|0)!=0?(w=s[864]|0,E=w+d|0,E>>>0<=w>>>0|E>>>0>e>>>0):0){$=0;return $|0}e:do{if(!(s[867]&4)){e=s[762]|0;t:do{if(e){a=3472;while(1){i=s[a>>2]|0;if(i>>>0<=e>>>0?(g=a+4|0,(i+(s[g>>2]|0)|0)>>>0>e>>>0):0){o=a;e=g;break}a=s[a+8>>2]|0;if(!a){y=174;break t}}i=n-(s[759]|0)&l;if(i>>>0<2147483647){a=Ge(i|0)|0;E=(a|0)==((s[o>>2]|0)+(s[e>>2]|0)|0);e=E?i:0;if(E){if((a|0)!=(-1|0)){_=a;m=e;y=194;break e}}else y=184}else e=0}else y=174}while(0);do{if((y|0)==174){o=Ge(0)|0;if((o|0)!=(-1|0)){e=o;i=s[875]|0;a=i+-1|0;if(!(a&e))i=d;else i=d-e+(a+e&0-i)|0;e=s[864]|0;a=e+i|0;if(i>>>0>b>>>0&i>>>0<2147483647){E=s[866]|0;if((E|0)!=0?a>>>0<=e>>>0|a>>>0>E>>>0:0){e=0;break}a=Ge(i|0)|0;E=(a|0)==(o|0);e=E?i:0;if(E){_=o;m=e;y=194;break e}else y=184}else e=0}else e=0}}while(0);t:do{if((y|0)==184){o=0-i|0;do{if(u>>>0>i>>>0&(i>>>0<2147483647&(a|0)!=(-1|0))?(k=s[876]|0,k=c-i+k&0-k,k>>>0<2147483647):0)if((Ge(k|0)|0)==(-1|0)){Ge(o|0)|0;break t}else{i=k+i|0;break}}while(0);if((a|0)!=(-1|0)){_=a;m=i;y=194;break e}}}while(0);s[867]=s[867]|4;y=191}else{e=0;y=191}}while(0);if((((y|0)==191?d>>>0<2147483647:0)?(_=Ge(d|0)|0,S=Ge(0)|0,_>>>0<S>>>0&((_|0)!=(-1|0)&(S|0)!=(-1|0))):0)?(C=S-_|0,T=C>>>0>(b+40|0)>>>0,T):0){m=T?C:e;y=194}if((y|0)==194){e=(s[864]|0)+m|0;s[864]=e;if(e>>>0>(s[865]|0)>>>0)s[865]=e;n=s[762]|0;e:do{if(n){o=3472;do{e=s[o>>2]|0;i=o+4|0;a=s[i>>2]|0;if((_|0)==(e+a|0)){A=e;M=i;x=a;R=o;y=204;break}o=s[o+8>>2]|0}while((o|0)!=0);if(((y|0)==204?(s[R+12>>2]&8|0)==0:0)?n>>>0<_>>>0&n>>>0>=A>>>0:0){s[M>>2]=x+m;$=(s[759]|0)+m|0;D=n+8|0;D=(D&7|0)==0?0:0-D&7;N=$-D|0;s[762]=n+D;s[759]=N;s[n+(D+4)>>2]=N|1;s[n+($+4)>>2]=40;s[763]=s[878];break}e=s[760]|0;if(_>>>0<e>>>0){s[760]=_;e=_}i=_+m|0;o=3472;while(1){if((s[o>>2]|0)==(i|0)){a=o;i=o;y=212;break}o=s[o+8>>2]|0;if(!o){i=3472;break}}if((y|0)==212)if(!(s[i+12>>2]&8)){s[a>>2]=_;h=i+4|0;s[h>>2]=(s[h>>2]|0)+m;h=_+8|0;h=(h&7|0)==0?0:0-h&7;c=_+(m+8)|0;c=(c&7|0)==0?0:0-c&7;t=_+(c+m)|0;f=h+b|0;p=_+f|0;d=t-(_+h)-b|0;s[_+(h+4)>>2]=b|3;t:do{if((t|0)!=(n|0)){if((t|0)==(s[761]|0)){$=(s[758]|0)+d|0;s[758]=$;s[761]=p;s[_+(f+4)>>2]=$|1;s[_+($+f)>>2]=$;break}l=m+4|0;i=s[_+(l+c)>>2]|0;if((i&3|0)==1){u=i&-8;o=i>>>3;i:do{if(i>>>0>=256){n=s[_+((c|24)+m)>>2]|0;r=s[_+(m+12+c)>>2]|0;do{if((r|0)==(t|0)){a=c|16;r=_+(l+a)|0;i=s[r>>2]|0;if(!i){r=_+(a+m)|0;i=s[r>>2]|0;if(!i){O=0;break}}while(1){a=i+20|0;o=s[a>>2]|0;if(o){i=o;r=a;continue}a=i+16|0;o=s[a>>2]|0;if(!o)break;else{i=o;r=a}}if(r>>>0<e>>>0)Pe();else{s[r>>2]=0;O=i;break}}else{a=s[_+((c|8)+m)>>2]|0;if(a>>>0<e>>>0)Pe();e=a+12|0;if((s[e>>2]|0)!=(t|0))Pe();i=r+8|0;if((s[i>>2]|0)==(t|0)){s[e>>2]=r;s[i>>2]=a;O=r;break}else Pe()}}while(0);if(!n)break;e=s[_+(m+28+c)>>2]|0;i=3328+(e<<2)|0;do{if((t|0)!=(s[i>>2]|0)){if(n>>>0<(s[760]|0)>>>0)Pe();e=n+16|0;if((s[e>>2]|0)==(t|0))s[e>>2]=O;else s[n+20>>2]=O;if(!O)break i}else{s[i>>2]=O;if(O)break;s[757]=s[757]&~(1<<e);break i}}while(0);i=s[760]|0;if(O>>>0<i>>>0)Pe();s[O+24>>2]=n;t=c|16;e=s[_+(t+m)>>2]|0;do{if(e)if(e>>>0<i>>>0)Pe();else{s[O+16>>2]=e;s[e+24>>2]=O;break}}while(0);t=s[_+(l+t)>>2]|0;if(!t)break;if(t>>>0<(s[760]|0)>>>0)Pe();else{s[O+20>>2]=t;s[t+24>>2]=O;break}}else{r=s[_+((c|8)+m)>>2]|0;a=s[_+(m+12+c)>>2]|0;i=3064+(o<<1<<2)|0;do{if((r|0)!=(i|0)){if(r>>>0<e>>>0)Pe();if((s[r+12>>2]|0)==(t|0))break;Pe()}}while(0);if((a|0)==(r|0)){s[756]=s[756]&~(1<<o);break}do{if((a|0)==(i|0))q=a+8|0;else{if(a>>>0<e>>>0)Pe();e=a+8|0;if((s[e>>2]|0)==(t|0)){q=e;break}Pe()}}while(0);s[r+12>>2]=a;s[q>>2]=r}}while(0);t=_+((u|c)+m)|0;a=u+d|0}else a=d;t=t+4|0;s[t>>2]=s[t>>2]&-2;s[_+(f+4)>>2]=a|1;s[_+(a+f)>>2]=a;t=a>>>3;if(a>>>0<256){e=t<<1;r=3064+(e<<2)|0;i=s[756]|0;t=1<<t;do{if(!(i&t)){s[756]=i|t;N=3064+(e+2<<2)|0;D=r}else{t=3064+(e+2<<2)|0;e=s[t>>2]|0;if(e>>>0>=(s[760]|0)>>>0){N=t;D=e;break}Pe()}}while(0);s[N>>2]=p;s[D+12>>2]=p;s[_+(f+8)>>2]=D;s[_+(f+12)>>2]=r;break}t=a>>>8;do{if(!t)r=0;else{if(a>>>0>16777215){r=31;break}N=(t+1048320|0)>>>16&8;D=t<<N;O=(D+520192|0)>>>16&4;D=D<<O;r=(D+245760|0)>>>16&2;r=14-(O|N|r)+(D<<r>>>15)|0;r=a>>>(r+7|0)&1|r<<1}}while(0);t=3328+(r<<2)|0;s[_+(f+28)>>2]=r;s[_+(f+20)>>2]=0;s[_+(f+16)>>2]=0;e=s[757]|0;i=1<<r;if(!(e&i)){s[757]=e|i;s[t>>2]=p;s[_+(f+24)>>2]=t;s[_+(f+12)>>2]=p;s[_+(f+8)>>2]=p;break}t=s[t>>2]|0;i:do{if((s[t+4>>2]&-8|0)!=(a|0)){r=a<<((r|0)==31?0:25-(r>>>1)|0);while(1){e=t+16+(r>>>31<<2)|0;i=s[e>>2]|0;if(!i)break;if((s[i+4>>2]&-8|0)==(a|0)){$=i;break i}else{r=r<<1;t=i}}if(e>>>0<(s[760]|0)>>>0)Pe();else{s[e>>2]=p;s[_+(f+24)>>2]=t;s[_+(f+12)>>2]=p;s[_+(f+8)>>2]=p;break t}}else $=t}while(0);t=$+8|0;e=s[t>>2]|0;D=s[760]|0;if(e>>>0>=D>>>0&$>>>0>=D>>>0){s[e+12>>2]=p;s[t>>2]=p;s[_+(f+8)>>2]=e;s[_+(f+12)>>2]=$;s[_+(f+24)>>2]=0;break}else Pe()}else{$=(s[759]|0)+d|0;s[759]=$;s[762]=p;s[_+(f+4)>>2]=$|1}}while(0);$=_+(h|8)|0;return $|0}else i=3472;while(1){e=s[i>>2]|0;if(e>>>0<=n>>>0?(t=s[i+4>>2]|0,r=e+t|0,r>>>0>n>>>0):0)break;i=s[i+8>>2]|0}a=e+(t+-39)|0;e=e+(t+-47+((a&7|0)==0?0:0-a&7))|0;a=n+16|0;e=e>>>0<a>>>0?n:e;t=e+8|0;i=_+8|0;i=(i&7|0)==0?0:0-i&7;$=m+-40-i|0;s[762]=_+i;s[759]=$;s[_+(i+4)>>2]=$|1;s[_+(m+-36)>>2]=40;s[763]=s[878];i=e+4|0;s[i>>2]=27;s[t>>2]=s[868];s[t+4>>2]=s[869];s[t+8>>2]=s[870];s[t+12>>2]=s[871];s[868]=_;s[869]=m;s[871]=0;s[870]=t;t=e+28|0;s[t>>2]=7;if((e+32|0)>>>0<r>>>0)do{$=t;t=t+4|0;s[t>>2]=7}while(($+8|0)>>>0<r>>>0);if((e|0)!=(n|0)){o=e-n|0;s[i>>2]=s[i>>2]&-2;s[n+4>>2]=o|1;s[e>>2]=o;t=o>>>3;if(o>>>0<256){e=t<<1;r=3064+(e<<2)|0;i=s[756]|0;t=1<<t;if(i&t){t=3064+(e+2<<2)|0;e=s[t>>2]|0;if(e>>>0<(s[760]|0)>>>0)Pe();else{P=t;I=e}}else{s[756]=i|t;P=3064+(e+2<<2)|0;I=r}s[P>>2]=n;s[I+12>>2]=n;s[n+8>>2]=I;s[n+12>>2]=r;break}t=o>>>8;if(t)if(o>>>0>16777215)r=31;else{D=(t+1048320|0)>>>16&8;$=t<<D;N=($+520192|0)>>>16&4;$=$<<N;r=($+245760|0)>>>16&2;r=14-(N|D|r)+($<<r>>>15)|0;r=o>>>(r+7|0)&1|r<<1}else r=0;i=3328+(r<<2)|0;s[n+28>>2]=r;s[n+20>>2]=0;s[a>>2]=0;t=s[757]|0;e=1<<r;if(!(t&e)){s[757]=t|e;s[i>>2]=n;s[n+24>>2]=i;s[n+12>>2]=n;s[n+8>>2]=n;break}t=s[i>>2]|0;t:do{if((s[t+4>>2]&-8|0)!=(o|0)){r=o<<((r|0)==31?0:25-(r>>>1)|0);while(1){e=t+16+(r>>>31<<2)|0;i=s[e>>2]|0;if(!i)break;if((s[i+4>>2]&-8|0)==(o|0)){F=i;break t}else{r=r<<1;t=i}}if(e>>>0<(s[760]|0)>>>0)Pe();else{s[e>>2]=n;s[n+24>>2]=t;s[n+12>>2]=n;s[n+8>>2]=n;break e}}else F=t}while(0);t=F+8|0;e=s[t>>2]|0;$=s[760]|0;if(e>>>0>=$>>>0&F>>>0>=$>>>0){s[e+12>>2]=n;s[t>>2]=n;s[n+8>>2]=e;s[n+12>>2]=F;s[n+24>>2]=0;break}else Pe()}}else{$=s[760]|0;if(($|0)==0|_>>>0<$>>>0)s[760]=_;s[868]=_;s[869]=m;s[871]=0;s[765]=s[874];s[764]=-1;t=0;do{$=t<<1;D=3064+($<<2)|0;s[3064+($+3<<2)>>2]=D;s[3064+($+2<<2)>>2]=D;t=t+1|0}while((t|0)!=32);$=_+8|0;$=($&7|0)==0?0:0-$&7;D=m+-40-$|0;s[762]=_+$;s[759]=D;s[_+($+4)>>2]=D|1;s[_+(m+-36)>>2]=40;s[763]=s[878]}}while(0);t=s[759]|0;if(t>>>0>b>>>0){D=t-b|0;s[759]=D;$=s[762]|0;s[762]=$+b;s[$+(b+4)>>2]=D|1;s[$+4>>2]=b|3;$=$+8|0;return $|0}}s[(ca()|0)>>2]=12;$=0;return $|0}function js(e){e=e|0;var t=0,i=0,r=0,a=0,o=0,n=0,l=0,u=0,c=0,d=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0;if(!e)return;t=e+-8|0;l=s[760]|0;if(t>>>0<l>>>0)Pe();i=s[e+-4>>2]|0;r=i&3;if((r|0)==1)Pe();p=i&-8;b=e+(p+-8)|0;do{if(!(i&1)){t=s[t>>2]|0;if(!r)return;u=-8-t|0;d=e+u|0;f=t+p|0;if(d>>>0<l>>>0)Pe();if((d|0)==(s[761]|0)){t=e+(p+-4)|0;i=s[t>>2]|0;if((i&3|0)!=3){k=d;o=f;break}s[758]=f;s[t>>2]=i&-2;s[e+(u+4)>>2]=f|1;s[b>>2]=f;return}a=t>>>3;if(t>>>0<256){r=s[e+(u+8)>>2]|0;i=s[e+(u+12)>>2]|0;t=3064+(a<<1<<2)|0;if((r|0)!=(t|0)){if(r>>>0<l>>>0)Pe();if((s[r+12>>2]|0)!=(d|0))Pe()}if((i|0)==(r|0)){s[756]=s[756]&~(1<<a);k=d;o=f;break}if((i|0)!=(t|0)){if(i>>>0<l>>>0)Pe();t=i+8|0;if((s[t>>2]|0)==(d|0))n=t;else Pe()}else n=i+8|0;s[r+12>>2]=i;s[n>>2]=r;k=d;o=f;break}n=s[e+(u+24)>>2]|0;r=s[e+(u+12)>>2]|0;do{if((r|0)==(d|0)){i=e+(u+20)|0;t=s[i>>2]|0;if(!t){i=e+(u+16)|0;t=s[i>>2]|0;if(!t){c=0;break}}while(1){r=t+20|0;a=s[r>>2]|0;if(a){t=a;i=r;continue}r=t+16|0;a=s[r>>2]|0;if(!a)break;else{t=a;i=r}}if(i>>>0<l>>>0)Pe();else{s[i>>2]=0;c=t;break}}else{a=s[e+(u+8)>>2]|0;if(a>>>0<l>>>0)Pe();t=a+12|0;if((s[t>>2]|0)!=(d|0))Pe();i=r+8|0;if((s[i>>2]|0)==(d|0)){s[t>>2]=r;s[i>>2]=a;c=r;break}else Pe()}}while(0);if(n){t=s[e+(u+28)>>2]|0;i=3328+(t<<2)|0;if((d|0)==(s[i>>2]|0)){s[i>>2]=c;if(!c){s[757]=s[757]&~(1<<t);k=d;o=f;break}}else{if(n>>>0<(s[760]|0)>>>0)Pe();t=n+16|0;if((s[t>>2]|0)==(d|0))s[t>>2]=c;else s[n+20>>2]=c;if(!c){k=d;o=f;break}}i=s[760]|0;if(c>>>0<i>>>0)Pe();s[c+24>>2]=n;t=s[e+(u+16)>>2]|0;do{if(t)if(t>>>0<i>>>0)Pe();else{s[c+16>>2]=t;s[t+24>>2]=c;break}}while(0);t=s[e+(u+20)>>2]|0;if(t)if(t>>>0<(s[760]|0)>>>0)Pe();else{s[c+20>>2]=t;s[t+24>>2]=c;k=d;o=f;break}else{k=d;o=f}}else{k=d;o=f}}else{k=t;o=p}}while(0);if(k>>>0>=b>>>0)Pe();t=e+(p+-4)|0;i=s[t>>2]|0;if(!(i&1))Pe();if(!(i&2)){if((b|0)==(s[762]|0)){w=(s[759]|0)+o|0;s[759]=w;s[762]=k;s[k+4>>2]=w|1;if((k|0)!=(s[761]|0))return;s[761]=0;s[758]=0;return}if((b|0)==(s[761]|0)){w=(s[758]|0)+o|0;s[758]=w;s[761]=k;s[k+4>>2]=w|1;s[k+w>>2]=w;return}o=(i&-8)+o|0;a=i>>>3;do{if(i>>>0>=256){n=s[e+(p+16)>>2]|0;t=s[e+(p|4)>>2]|0;do{if((t|0)==(b|0)){i=e+(p+12)|0;t=s[i>>2]|0;if(!t){i=e+(p+8)|0;t=s[i>>2]|0;if(!t){m=0;break}}while(1){r=t+20|0;a=s[r>>2]|0;if(a){t=a;i=r;continue}r=t+16|0;a=s[r>>2]|0;if(!a)break;else{t=a;i=r}}if(i>>>0<(s[760]|0)>>>0)Pe();else{s[i>>2]=0;m=t;break}}else{i=s[e+p>>2]|0;if(i>>>0<(s[760]|0)>>>0)Pe();r=i+12|0;if((s[r>>2]|0)!=(b|0))Pe();a=t+8|0;if((s[a>>2]|0)==(b|0)){s[r>>2]=t;s[a>>2]=i;m=t;break}else Pe()}}while(0);if(n){t=s[e+(p+20)>>2]|0;i=3328+(t<<2)|0;if((b|0)==(s[i>>2]|0)){s[i>>2]=m;if(!m){s[757]=s[757]&~(1<<t);break}}else{if(n>>>0<(s[760]|0)>>>0)Pe();t=n+16|0;if((s[t>>2]|0)==(b|0))s[t>>2]=m;else s[n+20>>2]=m;if(!m)break}i=s[760]|0;if(m>>>0<i>>>0)Pe();s[m+24>>2]=n;t=s[e+(p+8)>>2]|0;do{if(t)if(t>>>0<i>>>0)Pe();else{s[m+16>>2]=t;s[t+24>>2]=m;break}}while(0);t=s[e+(p+12)>>2]|0;if(t)if(t>>>0<(s[760]|0)>>>0)Pe();else{s[m+20>>2]=t;s[t+24>>2]=m;break}}}else{r=s[e+p>>2]|0;i=s[e+(p|4)>>2]|0;t=3064+(a<<1<<2)|0;if((r|0)!=(t|0)){if(r>>>0<(s[760]|0)>>>0)Pe();if((s[r+12>>2]|0)!=(b|0))Pe()}if((i|0)==(r|0)){s[756]=s[756]&~(1<<a);break}if((i|0)!=(t|0)){if(i>>>0<(s[760]|0)>>>0)Pe();t=i+8|0;if((s[t>>2]|0)==(b|0))h=t;else Pe()}else h=i+8|0;s[r+12>>2]=i;s[h>>2]=r}}while(0);s[k+4>>2]=o|1;s[k+o>>2]=o;if((k|0)==(s[761]|0)){s[758]=o;return}}else{s[t>>2]=i&-2;s[k+4>>2]=o|1;s[k+o>>2]=o}t=o>>>3;if(o>>>0<256){i=t<<1;a=3064+(i<<2)|0;r=s[756]|0;t=1<<t;if(r&t){t=3064+(i+2<<2)|0;i=s[t>>2]|0;if(i>>>0<(s[760]|0)>>>0)Pe();else{g=t;v=i}}else{s[756]=r|t;g=3064+(i+2<<2)|0;v=a}s[g>>2]=k;s[v+12>>2]=k;s[k+8>>2]=v;s[k+12>>2]=a;return}t=o>>>8;if(t)if(o>>>0>16777215)a=31;else{g=(t+1048320|0)>>>16&8;v=t<<g;b=(v+520192|0)>>>16&4;v=v<<b;a=(v+245760|0)>>>16&2;a=14-(b|g|a)+(v<<a>>>15)|0;a=o>>>(a+7|0)&1|a<<1}else a=0;t=3328+(a<<2)|0;s[k+28>>2]=a;s[k+20>>2]=0;s[k+16>>2]=0;i=s[757]|0;r=1<<a;e:do{if(i&r){t=s[t>>2]|0;t:do{if((s[t+4>>2]&-8|0)!=(o|0)){a=o<<((a|0)==31?0:25-(a>>>1)|0);while(1){i=t+16+(a>>>31<<2)|0;r=s[i>>2]|0;if(!r)break;if((s[r+4>>2]&-8|0)==(o|0)){w=r;break t}else{a=a<<1;t=r}}if(i>>>0<(s[760]|0)>>>0)Pe();else{s[i>>2]=k;s[k+24>>2]=t;s[k+12>>2]=k;s[k+8>>2]=k;break e}}else w=t}while(0);t=w+8|0;i=s[t>>2]|0;v=s[760]|0;if(i>>>0>=v>>>0&w>>>0>=v>>>0){s[i+12>>2]=k;s[t>>2]=k;s[k+8>>2]=i;s[k+12>>2]=w;s[k+24>>2]=0;break}else Pe()}else{s[757]=i|r;s[t>>2]=k;s[k+24>>2]=t;s[k+12>>2]=k;s[k+8>>2]=k}}while(0);k=(s[764]|0)+-1|0;s[764]=k;if(!k)t=3480;else return;while(1){t=s[t>>2]|0;if(!t)break;else t=t+8|0}s[764]=-1;return}function zs(e,t){e=e|0;t=t|0;var i=0;if(e){i=ie(t,e)|0;if((t|e)>>>0>65535)i=((i>>>0)/(e>>>0)|0|0)==(t|0)?i:-1}else i=0;t=Hs(i)|0;if(!t)return t|0;if(!(s[t+-4>>2]&3))return t|0;Vu(t|0,0,i|0)|0;return t|0}function Bs(e,t){e=e|0;t=t|0;var i=0,r=0;if(!e){e=Hs(t)|0;return e|0}if(t>>>0>4294967231){s[(ca()|0)>>2]=12;e=0;return e|0}i=Us(e+-8|0,t>>>0<11?16:t+11&-8)|0;if(i){e=i+8|0;return e|0}i=Hs(t)|0;if(!i){e=0;return e|0}r=s[e+-4>>2]|0;r=(r&-8)-((r&3|0)==0?8:4)|0;Ku(i|0,e|0,(r>>>0<t>>>0?r:t)|0)|0;js(e);e=i;return e|0}function Us(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0,l=0,u=0,c=0,d=0,f=0,h=0,p=0,m=0;p=e+4|0;m=s[p>>2]|0;u=m&-8;d=e+u|0;l=s[760]|0;i=m&3;if(!((i|0)!=1&e>>>0>=l>>>0&e>>>0<d>>>0))Pe();r=e+(u|4)|0;a=s[r>>2]|0;if(!(a&1))Pe();if(!i){if(t>>>0<256){e=0;return e|0}if(u>>>0>=(t+4|0)>>>0?(u-t|0)>>>0<=s[876]<<1>>>0:0)return e|0;e=0;return e|0}if(u>>>0>=t>>>0){i=u-t|0;if(i>>>0<=15)return e|0;s[p>>2]=m&1|t|2;s[e+(t+4)>>2]=i|3;s[r>>2]=s[r>>2]|1;Ws(e+t|0,i);return e|0}if((d|0)==(s[762]|0)){i=(s[759]|0)+u|0;if(i>>>0<=t>>>0){e=0;return e|0}h=i-t|0;s[p>>2]=m&1|t|2;s[e+(t+4)>>2]=h|1;s[762]=e+t;s[759]=h;return e|0}if((d|0)==(s[761]|0)){r=(s[758]|0)+u|0;if(r>>>0<t>>>0){e=0;return e|0}i=r-t|0;if(i>>>0>15){s[p>>2]=m&1|t|2;s[e+(t+4)>>2]=i|1;s[e+r>>2]=i;r=e+(r+4)|0;s[r>>2]=s[r>>2]&-2;r=e+t|0}else{s[p>>2]=m&1|r|2;r=e+(r+4)|0;s[r>>2]=s[r>>2]|1;r=0;i=0}s[758]=i;s[761]=r;return e|0}if(a&2){e=0;return e|0}f=(a&-8)+u|0;if(f>>>0<t>>>0){e=0;return e|0}h=f-t|0;o=a>>>3;do{if(a>>>0>=256){n=s[e+(u+24)>>2]|0;o=s[e+(u+12)>>2]|0;do{if((o|0)==(d|0)){r=e+(u+20)|0;i=s[r>>2]|0;if(!i){r=e+(u+16)|0;i=s[r>>2]|0;if(!i){c=0;break}}while(1){a=i+20|0;o=s[a>>2]|0;if(o){i=o;r=a;continue}a=i+16|0;o=s[a>>2]|0;if(!o)break;else{i=o;r=a}}if(r>>>0<l>>>0)Pe();else{s[r>>2]=0;c=i;break}}else{a=s[e+(u+8)>>2]|0;if(a>>>0<l>>>0)Pe();i=a+12|0;if((s[i>>2]|0)!=(d|0))Pe();r=o+8|0;if((s[r>>2]|0)==(d|0)){s[i>>2]=o;s[r>>2]=a;c=o;break}else Pe()}}while(0);if(n){i=s[e+(u+28)>>2]|0;r=3328+(i<<2)|0;if((d|0)==(s[r>>2]|0)){s[r>>2]=c;if(!c){s[757]=s[757]&~(1<<i);break}}else{if(n>>>0<(s[760]|0)>>>0)Pe();i=n+16|0;if((s[i>>2]|0)==(d|0))s[i>>2]=c;else s[n+20>>2]=c;if(!c)break}r=s[760]|0;if(c>>>0<r>>>0)Pe();s[c+24>>2]=n;i=s[e+(u+16)>>2]|0;do{if(i)if(i>>>0<r>>>0)Pe();else{s[c+16>>2]=i;s[i+24>>2]=c;break}}while(0);i=s[e+(u+20)>>2]|0;if(i)if(i>>>0<(s[760]|0)>>>0)Pe();else{s[c+20>>2]=i;s[i+24>>2]=c;break}}}else{a=s[e+(u+8)>>2]|0;r=s[e+(u+12)>>2]|0;i=3064+(o<<1<<2)|0;if((a|0)!=(i|0)){if(a>>>0<l>>>0)Pe();if((s[a+12>>2]|0)!=(d|0))Pe()}if((r|0)==(a|0)){s[756]=s[756]&~(1<<o);break}if((r|0)!=(i|0)){if(r>>>0<l>>>0)Pe();i=r+8|0;if((s[i>>2]|0)==(d|0))n=i;else Pe()}else n=r+8|0;s[a+12>>2]=r;s[n>>2]=a}}while(0);if(h>>>0<16){s[p>>2]=f|m&1|2;t=e+(f|4)|0;s[t>>2]=s[t>>2]|1;return e|0}else{s[p>>2]=m&1|t|2;s[e+(t+4)>>2]=h|3;m=e+(f|4)|0;s[m>>2]=s[m>>2]|1;Ws(e+t|0,h);return e|0}return 0}function Ws(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0,l=0,u=0,c=0,d=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0;b=e+t|0;i=s[e+4>>2]|0;do{if(!(i&1)){c=s[e>>2]|0;if(!(i&3))return;h=e+(0-c)|0;f=c+t|0;u=s[760]|0;if(h>>>0<u>>>0)Pe();if((h|0)==(s[761]|0)){r=e+(t+4)|0;i=s[r>>2]|0;if((i&3|0)!=3){w=h;n=f;break}s[758]=f;s[r>>2]=i&-2;s[e+(4-c)>>2]=f|1;s[b>>2]=f;return}o=c>>>3;if(c>>>0<256){a=s[e+(8-c)>>2]|0;r=s[e+(12-c)>>2]|0;i=3064+(o<<1<<2)|0;if((a|0)!=(i|0)){if(a>>>0<u>>>0)Pe();if((s[a+12>>2]|0)!=(h|0))Pe()}if((r|0)==(a|0)){s[756]=s[756]&~(1<<o);w=h;n=f;break}if((r|0)!=(i|0)){if(r>>>0<u>>>0)Pe();i=r+8|0;if((s[i>>2]|0)==(h|0))l=i;else Pe()}else l=r+8|0;s[a+12>>2]=r;s[l>>2]=a;w=h;n=f;break}l=s[e+(24-c)>>2]|0;a=s[e+(12-c)>>2]|0;do{if((a|0)==(h|0)){a=16-c|0;r=e+(a+4)|0;i=s[r>>2]|0;if(!i){r=e+a|0;i=s[r>>2]|0;if(!i){d=0;break}}while(1){a=i+20|0;o=s[a>>2]|0;if(o){i=o;r=a;continue}a=i+16|0;o=s[a>>2]|0;if(!o)break;else{i=o;r=a}}if(r>>>0<u>>>0)Pe();else{s[r>>2]=0;d=i;break}}else{o=s[e+(8-c)>>2]|0;if(o>>>0<u>>>0)Pe();i=o+12|0;if((s[i>>2]|0)!=(h|0))Pe();r=a+8|0;if((s[r>>2]|0)==(h|0)){s[i>>2]=a;s[r>>2]=o;d=a;break}else Pe()}}while(0);if(l){i=s[e+(28-c)>>2]|0;r=3328+(i<<2)|0;if((h|0)==(s[r>>2]|0)){s[r>>2]=d;if(!d){s[757]=s[757]&~(1<<i);w=h;n=f;break}}else{if(l>>>0<(s[760]|0)>>>0)Pe();i=l+16|0;if((s[i>>2]|0)==(h|0))s[i>>2]=d;else s[l+20>>2]=d;if(!d){w=h;n=f;break}}a=s[760]|0;if(d>>>0<a>>>0)Pe();s[d+24>>2]=l;i=16-c|0;r=s[e+i>>2]|0;do{if(r)if(r>>>0<a>>>0)Pe();else{s[d+16>>2]=r;s[r+24>>2]=d;break}}while(0);i=s[e+(i+4)>>2]|0;if(i)if(i>>>0<(s[760]|0)>>>0)Pe();else{s[d+20>>2]=i;s[i+24>>2]=d;w=h;n=f;break}else{w=h;n=f}}else{w=h;n=f}}else{w=e;n=t}}while(0);u=s[760]|0;if(b>>>0<u>>>0)Pe();i=e+(t+4)|0;r=s[i>>2]|0;if(!(r&2)){if((b|0)==(s[762]|0)){v=(s[759]|0)+n|0;s[759]=v;s[762]=w;s[w+4>>2]=v|1;if((w|0)!=(s[761]|0))return;s[761]=0;s[758]=0;return}if((b|0)==(s[761]|0)){v=(s[758]|0)+n|0;s[758]=v;s[761]=w;s[w+4>>2]=v|1;s[w+v>>2]=v;return}n=(r&-8)+n|0;o=r>>>3;do{if(r>>>0>=256){l=s[e+(t+24)>>2]|0;a=s[e+(t+12)>>2]|0;do{if((a|0)==(b|0)){r=e+(t+20)|0;i=s[r>>2]|0;if(!i){r=e+(t+16)|0;i=s[r>>2]|0;if(!i){m=0;break}}while(1){a=i+20|0;o=s[a>>2]|0;if(o){i=o;r=a;continue}a=i+16|0;o=s[a>>2]|0;if(!o)break;else{i=o;r=a}}if(r>>>0<u>>>0)Pe();else{s[r>>2]=0;m=i;break}}else{o=s[e+(t+8)>>2]|0;if(o>>>0<u>>>0)Pe();i=o+12|0;if((s[i>>2]|0)!=(b|0))Pe();r=a+8|0;if((s[r>>2]|0)==(b|0)){s[i>>2]=a;s[r>>2]=o;m=a;break}else Pe()}}while(0);if(l){i=s[e+(t+28)>>2]|0;r=3328+(i<<2)|0;if((b|0)==(s[r>>2]|0)){s[r>>2]=m;if(!m){s[757]=s[757]&~(1<<i);break}}else{if(l>>>0<(s[760]|0)>>>0)Pe();i=l+16|0;if((s[i>>2]|0)==(b|0))s[i>>2]=m;else s[l+20>>2]=m;if(!m)break}r=s[760]|0;if(m>>>0<r>>>0)Pe();s[m+24>>2]=l;i=s[e+(t+16)>>2]|0;do{if(i)if(i>>>0<r>>>0)Pe();else{s[m+16>>2]=i;s[i+24>>2]=m;break}}while(0);i=s[e+(t+20)>>2]|0;if(i)if(i>>>0<(s[760]|0)>>>0)Pe();else{s[m+20>>2]=i;s[i+24>>2]=m;break}}}else{a=s[e+(t+8)>>2]|0;r=s[e+(t+12)>>2]|0;i=3064+(o<<1<<2)|0;if((a|0)!=(i|0)){if(a>>>0<u>>>0)Pe();if((s[a+12>>2]|0)!=(b|0))Pe()}if((r|0)==(a|0)){s[756]=s[756]&~(1<<o);break}if((r|0)!=(i|0)){if(r>>>0<u>>>0)Pe();i=r+8|0;if((s[i>>2]|0)==(b|0))p=i;else Pe()}else p=r+8|0;s[a+12>>2]=r;s[p>>2]=a}}while(0);s[w+4>>2]=n|1;s[w+n>>2]=n;if((w|0)==(s[761]|0)){s[758]=n;return}}else{s[i>>2]=r&-2;s[w+4>>2]=n|1;s[w+n>>2]=n}i=n>>>3;if(n>>>0<256){r=i<<1;o=3064+(r<<2)|0;a=s[756]|0;i=1<<i;if(a&i){i=3064+(r+2<<2)|0;r=s[i>>2]|0;if(r>>>0<(s[760]|0)>>>0)Pe();else{g=i;v=r}}else{s[756]=a|i;g=3064+(r+2<<2)|0;v=o}s[g>>2]=w;s[v+12>>2]=w;s[w+8>>2]=v;s[w+12>>2]=o;return}i=n>>>8;if(i)if(n>>>0>16777215)o=31;else{g=(i+1048320|0)>>>16&8;v=i<<g;b=(v+520192|0)>>>16&4;v=v<<b;o=(v+245760|0)>>>16&2;o=14-(b|g|o)+(v<<o>>>15)|0;o=n>>>(o+7|0)&1|o<<1}else o=0;i=3328+(o<<2)|0;s[w+28>>2]=o;s[w+20>>2]=0;s[w+16>>2]=0;r=s[757]|0;a=1<<o;if(!(r&a)){s[757]=r|a;s[i>>2]=w;s[w+24>>2]=i;s[w+12>>2]=w;s[w+8>>2]=w;return}i=s[i>>2]|0;e:do{if((s[i+4>>2]&-8|0)!=(n|0)){o=n<<((o|0)==31?0:25-(o>>>1)|0);while(1){r=i+16+(o>>>31<<2)|0;a=s[r>>2]|0;if(!a)break;if((s[a+4>>2]&-8|0)==(n|0)){i=a;break e}else{o=o<<1;i=a}}if(r>>>0<(s[760]|0)>>>0)Pe();s[r>>2]=w;s[w+24>>2]=i;s[w+12>>2]=w;s[w+8>>2]=w;return}}while(0);r=i+8|0;a=s[r>>2]|0;v=s[760]|0;if(!(a>>>0>=v>>>0&i>>>0>=v>>>0))Pe();s[a+12>>2]=w;s[r>>2]=w;s[w+8>>2]=a;s[w+12>>2]=i;s[w+24>>2]=0;return}function Vs(e,t,i,a,n,l,f,h,p,m,b,g){e=e|0;t=t|0;i=i|0;a=a|0;n=n|0;l=l|0;f=f|0;h=h|0;p=p|0;m=m|0;b=+b;g=g|0;var v=0,w=0,k=0.0,y=0.0,_=0,S=0,E=0.0,C=0.0,T=0.0,A=0,M=0,x=0,R=0,q=0,P=0,I=0,F=0,O=0.0,N=0,D=0,$=0,L=0,H=0,j=0,z=0,B=0,U=0,W=0,V=0.0,Y=0.0,Q=0.0,G=0.0,K=0,X=0;W=d;d=d+240|0;S=W+224|0;_=W+216|0;M=W+208|0;A=W+200|0;v=W+136|0;L=W+72|0;j=W;z=W+232|0;B=W+228|0;c[v>>3]=100.0;c[v+8>>3]=100.0;c[v+16>>3]=110.0;c[v+24>>3]=100.0;c[v+32>>3]=110.0;c[v+40>>3]=110.0;c[v+48>>3]=100.0;c[v+56>>3]=110.0;c[L>>3]=+c[m>>3];c[L+8>>3]=+c[m+8>>3];c[L+16>>3]=+c[m+16>>3];c[L+24>>3]=+c[m+24>>3];c[L+32>>3]=+c[m+32>>3];c[L+40>>3]=+c[m+40>>3];c[L+48>>3]=+c[m+48>>3];c[L+56>>3]=+c[m+56>>3];Gs(v,L,j);T=+c[L>>3];Y=+c[L+16>>3];E=T-Y;O=+c[L+8>>3];V=+c[L+24>>3];k=O-V;v=~~(E*E+k*k);k=+c[L+32>>3];E=+c[L+48>>3];G=k-E;y=+c[L+40>>3];C=+c[L+56>>3];Q=y-C;L=~~(G*G+Q*Q);k=Y-k;y=V-y;w=~~(k*k+y*y);T=E-T;O=C-O;H=~~(T*T+O*O);v=~~(+(((L|0)>(v|0)?L:v)|0)*b*b);w=~~(+(((H|0)>(w|0)?H:w)|0)*b*b);if(!e){m=i;while(1)if((m|0)<(a|0)&(ie(m,m)|0)<(v|0))m=m<<1;else break;v=i;while(1)if((v|0)<(a|0)&(ie(v,v)|0)<(w|0))v=v<<1;else break}else{m=i;while(1)if((m|0)<(a|0)&(ie(m<<2,m)|0)<(v|0))m=m<<1;else break;v=i;while(1)if((v|0)<(a|0)&(ie(v<<2,v)|0)<(w|0))v=v<<1;else break}H=(m|0)>(a|0)?a:m;$=(v|0)>(a|0)?a:v;D=(H|0)/(i|0)|0;N=($|0)/(i|0)|0;k=(1.0-b)*.5*10.0;O=b*10.0;L=ie(i,i)|0;e:do{if(!t){F=L*3|0;m=zs(F,4)|0;if(!m){eo(3,5472,A);kt(1)}do{switch(h|0){case 0:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)>0){t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){w=((ie(w,l)|0)+v|0)*3|0;e=((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)|0)*3|0;v=m+(e<<2)|0;s[v>>2]=(s[v>>2]|0)+(o[n+(w+2)>>0]|0);v=m+(e+1<<2)|0;s[v>>2]=(s[v>>2]|0)+(o[n+(w+1)>>0]|0);e=m+(e+2<<2)|0;s[e>>2]=(s[e>>2]|0)+(o[n+w>>0]|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0))}break}case 1:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)>0){t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){w=((ie(w,l)|0)+v|0)*3|0;e=((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)|0)*3|0;v=m+(e<<2)|0;s[v>>2]=(s[v>>2]|0)+(o[n+w>>0]|0);v=m+(e+1<<2)|0;s[v>>2]=(s[v>>2]|0)+(o[n+(w+1)>>0]|0);e=m+(e+2<<2)|0;s[e>>2]=(s[e>>2]|0)+(o[n+(w+2)>>0]|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0))}break}case 2:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)>0){t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){w=(ie(w,l)|0)+v<<2;e=((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)|0)*3|0;v=m+(e<<2)|0;s[v>>2]=(s[v>>2]|0)+(o[n+(w|2)>>0]|0);v=m+(e+1<<2)|0;s[v>>2]=(s[v>>2]|0)+(o[n+(w|1)>>0]|0);e=m+(e+2<<2)|0;s[e>>2]=(s[e>>2]|0)+(o[n+w>>0]|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0))}break}case 3:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)>0){t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){w=(ie(w,l)|0)+v<<2;e=((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)|0)*3|0;v=m+(e<<2)|0;s[v>>2]=(s[v>>2]|0)+(o[n+w>>0]|0);v=m+(e+1<<2)|0;s[v>>2]=(s[v>>2]|0)+(o[n+(w|1)>>0]|0);e=m+(e+2<<2)|0;s[e>>2]=(s[e>>2]|0)+(o[n+(w|2)>>0]|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0))}break}case 4:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)>0){t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){w=(ie(w,l)|0)+v<<2;e=((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)|0)*3|0;v=m+(e<<2)|0;s[v>>2]=(s[v>>2]|0)+(o[n+(w|1)>>0]|0);v=m+(e+1<<2)|0;s[v>>2]=(s[v>>2]|0)+(o[n+(w|2)>>0]|0);e=m+(e+2<<2)|0;s[e>>2]=(s[e>>2]|0)+(o[n+(w|3)>>0]|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0))}break}case 5:case 12:case 13:case 14:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)>0){t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){w=o[n+((ie(w,l)|0)+v)>>0]|0;e=((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)|0)*3|0;v=m+(e<<2)|0;s[v>>2]=(s[v>>2]|0)+w;v=m+(e+1<<2)|0;s[v>>2]=(s[v>>2]|0)+w;e=m+(e+2<<2)|0;s[e>>2]=(s[e>>2]|0)+w}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0))}break}case 6:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)>0){t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){w=(ie(w,l)|0)+v<<2;e=((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)|0)*3|0;v=m+(e<<2)|0;s[v>>2]=(s[v>>2]|0)+(o[n+(w|3)>>0]|0);v=m+(e+1<<2)|0;s[v>>2]=(s[v>>2]|0)+(o[n+(w|2)>>0]|0);e=m+(e+2<<2)|0;s[e>>2]=(s[e>>2]|0)+(o[n+(w|1)>>0]|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0))}break}case 7:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)>0){t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){X=ie(w,l)|0;K=(v&65534)+X<<1;Y=+((o[n+K>>0]|0)+-128|0);G=+((o[n+(K+2)>>0]|0)+-128|0);Q=+((o[n+(X+v<<1|1)>>0]|0)+-16|0)*298.0820007324219;X=~~(Y*516.4110107421875+Q)>>8;K=~~(Q-Y*100.29100036621094-G*208.1199951171875)>>8;w=~~(Q+G*408.5830078125)>>8;X=(X|0)>0?X:0;e=((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)|0)*3|0;v=m+(e<<2)|0;s[v>>2]=((X|0)<255?X:255)+(s[v>>2]|0);K=(K|0)>0?K:0;v=m+(e+1<<2)|0;s[v>>2]=((K|0)<255?K:255)+(s[v>>2]|0);w=(w|0)>0?w:0;e=m+(e+2<<2)|0;s[e>>2]=((w|0)<255?w:255)+(s[e>>2]|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0))}break}case 8:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)>0){t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){w=ie(w,l)|0;K=(v&65534)+w<<1;Y=+((o[n+(K|1)>>0]|0)+-128|0);G=+((o[n+(K+3)>>0]|0)+-128|0);Q=+((o[n+(w+v<<1)>>0]|0)+-16|0)*298.0820007324219;v=~~(Q+Y*516.4110107421875)>>8;w=~~(Q-Y*100.29100036621094-G*208.1199951171875)>>8;K=~~(Q+G*408.5830078125)>>8;v=(v|0)>0?v:0;X=((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)|0)*3|0;e=m+(X<<2)|0;s[e>>2]=((v|0)<255?v:255)+(s[e>>2]|0);w=(w|0)>0?w:0;e=m+(X+1<<2)|0;s[e>>2]=((w|0)<255?w:255)+(s[e>>2]|0);K=(K|0)>0?K:0;X=m+(X+2<<2)|0;s[X>>2]=((K|0)<255?K:255)+(s[X>>2]|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0))}break}case 9:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)>0){t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){K=(ie(w,l)|0)+v<<1;w=o[n+(K|1)>>0]|0;X=((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)|0)*3|0;e=m+(X<<2)|0;s[e>>2]=(w<<3&248|4)+(s[e>>2]|0);K=o[n+K>>0]|0;e=m+(X+1<<2)|0;s[e>>2]=(K<<5&224|w>>>3&28|2)+(s[e>>2]|0);X=m+(X+2<<2)|0;s[X>>2]=(K&248|4)+(s[X>>2]|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0))}break}case 10:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)>0){t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){K=(ie(w,l)|0)+v<<1;w=o[n+(K|1)>>0]|0;X=((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)|0)*3|0;e=m+(X<<2)|0;s[e>>2]=(w<<2&248|4)+(s[e>>2]|0);K=o[n+K>>0]|0;e=m+(X+1<<2)|0;s[e>>2]=(K<<5&224|w>>>3&24|4)+(s[e>>2]|0);X=m+(X+2<<2)|0;s[X>>2]=(K&248|4)+(s[X>>2]|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0))}break}case 11:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)>0){t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){K=(ie(w,l)|0)+v<<1;X=((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)|0)*3|0;e=m+(X<<2)|0;s[e>>2]=(s[e>>2]|0)+((o[n+(K|1)>>0]|0)&240|8);K=o[n+K>>0]|0;e=m+(X+1<<2)|0;s[e>>2]=(K<<4&240|8)+(s[e>>2]|0);X=m+(X+2<<2)|0;s[X>>2]=(K&240|8)+(s[X>>2]|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0))}break}default:{eo(3,4615,M);U=278;break e}}}while(0);w=ie(N,D)|0;if(L){v=0;do{r[g+v>>0]=((s[m+(v<<2)>>2]|0)>>>0)/(w>>>0)|0;v=v+1|0}while((v|0)<(F|0))}js(m);m=0}else{m=zs(L,4)|0;if(!m){eo(3,5472,_);kt(1)}t:do{if(h>>>0<2){E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)>0){t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){K=((ie(w,l)|0)+v|0)*3|0;X=m+((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)<<2)|0;s[X>>2]=(s[X>>2]|0)+((((o[n+(K+1)>>0]|0)+(o[n+K>>0]|0)+(o[n+(K+2)>>0]|0)|0)>>>0)/3|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0))}}else{if((h&-2|0)==2){E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)<=0)break;t=(H|0)>0;S=0;while(1){y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){K=(ie(w,l)|0)+v<<2;X=m+((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)<<2)|0;s[X>>2]=(s[X>>2]|0)+((((o[n+(K|1)>>0]|0)+(o[n+K>>0]|0)+(o[n+(K|2)>>0]|0)|0)>>>0)/3|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0;if((S|0)>=($|0))break t}}if((h&-3|0)==4){E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)<=0)break;t=(H|0)>0;S=0;while(1){y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){K=(ie(w,l)|0)+v<<2;X=m+((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)<<2)|0;s[X>>2]=(s[X>>2]|0)+((((o[n+(K|2)>>0]|0)+(o[n+(K|1)>>0]|0)+(o[n+(K|3)>>0]|0)|0)>>>0)/3|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0;if((S|0)>=($|0))break t}}switch(h|0){case 5:case 12:case 13:case 14:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)<=0)break t;t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){K=o[n+((ie(w,l)|0)+v)>>0]|0;X=m+((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)<<2)|0;s[X>>2]=(s[X>>2]|0)+K}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0));break}case 7:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)<=0)break t;t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){K=o[n+((ie(w,l)|0)+v<<1|1)>>0]|0;X=m+((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)<<2)|0;s[X>>2]=(s[X>>2]|0)+K}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0));break}case 8:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)<=0)break t;t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){K=o[n+((ie(w,l)|0)+v<<1)>>0]|0;X=m+((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)<<2)|0;s[X>>2]=(s[X>>2]|0)+K}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0));break}case 9:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)<=0)break t;t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){K=(ie(w,l)|0)+v<<1;F=o[n+K>>0]|0;K=o[n+(K|1)>>0]|0;X=m+((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)<<2)|0;s[X>>2]=(s[X>>2]|0)+((((K<<3&248|4)+(F&248|4)+(F<<5&224|K>>>3&28|2)|0)>>>0)/3|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0));break}case 10:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)<=0)break t;t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){K=(ie(w,l)|0)+v<<1;F=o[n+K>>0]|0;K=o[n+(K|1)>>0]|0;X=m+((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)<<2)|0;s[X>>2]=(s[X>>2]|0)+((((K<<2&248|4)+(F&248|4)+(F<<5&224|K>>>3&24|4)|0)>>>0)/3|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0));break}case 11:{E=k+100.0;C=+($|0);T=+(H|0);A=j+48|0;M=j+56|0;h=j+64|0;x=j+8|0;R=j+16|0;q=j+24|0;P=j+32|0;I=j+40|0;a=(e|0)==1;if(($|0)<=0)break t;t=(H|0)>0;S=0;do{y=E+O*(+(S|0)+.5)/C;if(t){_=0;do{k=E+O*(+(_|0)+.5)/T;b=+c[h>>3]+(+c[A>>3]*k+y*+c[M>>3]);if(b==0.0){U=278;break e}G=(+c[R>>3]+(k*+c[j>>3]+y*+c[x>>3]))/b;u[z>>2]=G;k=(+c[I>>3]+(k*+c[q>>3]+y*+c[P>>3]))/b;u[B>>2]=k;Ao(p,G,k,z,B)|0;k=+u[z>>2];if(a){v=((~~(k+1.0)|0)/2|0)<<1;w=((~~(+u[B>>2]+1.0)|0)/2|0)<<1}else{v=~~(k+.5);w=~~(+u[B>>2]+.5)}if((v|0)>-1?(w|0)<(f|0)&((w|0)>-1&(v|0)<(l|0)):0){K=(ie(w,l)|0)+v<<1;F=o[n+K>>0]|0;X=m+((ie((S|0)/(N|0)|0,i)|0)+((_|0)/(D|0)|0)<<2)|0;s[X>>2]=(s[X>>2]|0)+((((F<<4&240|8)+(F&240|8)+((o[n+(K|1)>>0]|0)&240|8)|0)>>>0)/3|0)}_=_+1|0}while((_|0)<(H|0))}S=S+1|0}while((S|0)<($|0));break}default:{eo(3,4615,S);U=278;break e}}}}while(0);v=ie(N,D)|0;if(L){w=0;do{r[g+w>>0]=((s[m+(w<<2)>>2]|0)>>>0)/(v>>>0)|0;w=w+1|0}while((w|0)<(L|0))}js(m);m=0}}while(0);if((U|0)==278){js(m);m=-1}d=W;return m|0}function Ys(e,t,i,a,n,l,u){e=e|0;t=t|0;i=i|0;a=a|0;n=n|0;l=l|0;u=u|0;var f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0;y=d;d=d+32|0;m=y+24|0;p=y+8|0;k=y;e:do{if((t+-3|0)>>>0>5){s[i>>2]=-1;s[a>>2]=0;c[n>>3]=-1.0;f=-1}else{s[p>>2]=0;w=t+-1|0;s[p+4>>2]=ie(w,t)|0;g=ie(t,t)|0;s[p+8>>2]=g+-1;s[p+12>>2]=w;h=r[e+(s[p>>2]|0)>>0]|0;f=(h&255)>0?h:0;h=(h&255)<255?h:-1;v=r[e+(s[p+4>>2]|0)>>0]|0;f=(v&255)>(f&255)?v:f;h=(v&255)<(h&255)?v:h;v=r[e+(s[p+8>>2]|0)>>0]|0;f=(v&255)>(f&255)?v:f;h=(v&255)<(h&255)?v:h;v=r[e+(s[p+12>>2]|0)>>0]|0;f=((v&255)>(f&255)?v:f)&255;h=((v&255)<(h&255)?v:h)&255;if((f-h|0)<30){s[i>>2]=-1;s[a>>2]=0;c[n>>3]=-1.0;f=-2;break}b=(f+h|0)>>>1;r[m>>0]=(o[e+(s[p>>2]|0)>>0]|0)>>>0<b>>>0&1;r[m+1>>0]=(o[e+(s[p+4>>2]|0)>>0]|0)>>>0<b>>>0&1;r[m+2>>0]=(o[e+(s[p+8>>2]|0)>>0]|0)>>>0<b>>>0&1;r[m+3>>0]=(o[e+(s[p+12>>2]|0)>>0]|0)>>>0<b>>>0&1;h=0;while(1){f=h+1|0;if(((r[m+h>>0]|0)==1?(r[m+((f|0)%4|0)>>0]|0)==1:0)?(r[m+((h+2|0)%4|0)>>0]|0)==0:0){f=h;h=10;break}if((f|0)<4)h=f;else{h=12;break}}if((h|0)==10)s[a>>2]=f;else if((h|0)==12?(f|0)==4:0){s[i>>2]=-1;s[a>>2]=0;c[n>>3]=-1.0;f=-3;break}if(!g)v=255;else{f=255;h=0;do{v=e+h|0;m=o[v>>0]|0;p=m-b|0;p=(p|0)<0?0-p|0:p;f=(p|0)<(f|0)?p:f;r[v>>0]=m>>>0<b>>>0&1;h=h+1|0}while((h|0)<(g|0));v=f}switch(s[a>>2]|0){case 0:{if((t|0)>0){g=(t|0)==0;h=0;f=0;a=0;do{m=(a|0)==(w|0);b=ie(a,t)|0;if(!g){p=0;do{if((p|a|0)!=0?!(m&((p|0)==0|(p|0)==(w|0))):0){h=Yu(h|0,f|0,1)|0;h=(r[e+(p+b)>>0]|0)!=0|h;f=P}p=p+1|0}while((p|0)!=(t|0))}a=a+1|0}while((a|0)<(t|0))}else{h=0;f=0}break}case 1:{if((t|0)>0){g=(t|0)>0;h=0;f=0;a=0;do{m=(a|0)==0;b=(a|0)==(w|0);if(g){p=w;while(1){_=(p|0)==(w|0);if(!(m&_)?!(b&(_|(p|0)==0)):0){h=Yu(h|0,f|0,1)|0;h=(r[e+((ie(p,t)|0)+a)>>0]|0)!=0|h;f=P}if((p|0)>0)p=p+-1|0;else break}}a=a+1|0}while((a|0)<(t|0))}else{h=0;f=0}break}case 2:{if((t|0)>0){g=(t|0)>0;h=0;f=0;a=w;while(1){b=(a|0)==(w|0)|(a|0)==0;m=ie(a,t)|0;if(g){p=w;while(1){if(!(b&(p|0)==(w|0)|(p|a|0)==0)){h=Yu(h|0,f|0,1)|0;h=(r[e+(p+m)>>0]|0)!=0|h;f=P}if((p|0)>0)p=p+-1|0;else break}}if((a|0)>0)a=a+-1|0;else break}}else{h=0;f=0}break}case 3:{if((t|0)>0){g=(t|0)>0;h=0;f=0;a=w;while(1){m=(a|0)==(w|0);b=(a|0)==0;if(g){p=0;do{if(!(m&(p|0)==0|(p|a|0)==0|b&(p|0)==(w|0))){h=Yu(h|0,f|0,1)|0;h=(r[e+((ie(p,t)|0)+a)>>0]|0)!=0|h;f=P}p=p+1|0}while((p|0)<(t|0))}if((a|0)>0)a=a+-1|0;else break}}else{h=0;f=0}break}default:{h=0;f=0}}c[n>>3]=(v|0)>30?1.0:+(v|0)/30.0;switch(l|0){case 259:{_=r[4551+h>>0]|0;l=_<<24>>24;u=k;s[u>>2]=l;s[u+4>>2]=((l|0)<0)<<31>>31;if(_<<24>>24<0){s[i>>2]=-1;c[n>>3]=-1.0;f=-4;break e}break}case 515:{f=r[4423+h>>0]|0;l=f<<24>>24;_=k;s[_>>2]=l;s[_+4>>2]=((l|0)<0)<<31>>31;if(u)s[u>>2]=o[4487+h>>0];if(f<<24>>24<0){s[i>>2]=-1;c[n>>3]=-1.0;f=-4;break e}break}case 772:case 1028:{f=Ks(l,h,f,0,k)|0;if((f|0)<0){s[i>>2]=-1;c[n>>3]=-1.0;f=-4;break e}if((u|0)!=0&(f|0)>0)s[u>>2]=f;break}default:{_=k;s[_>>2]=h;s[_+4>>2]=f}}s[i>>2]=s[k>>2];f=0}}while(0);d=y;return f|0}function Qs(e,t,i,r,a,n,l){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;n=n|0;l=l|0;var u=0,f=0.0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0.0,C=0,T=0,A=0,M=0,x=0.0;M=d;d=d+16|0;u=M+8|0;h=M;e:do{if(!e){s[a>>2]=0;s[n>>2]=0;c[l>>3]=-1.0;t=-1}else switch(t|0){case 0:{p=ie(r,r)|0;C=p*3|0;T=Hs(p*12|0)|0;if(!T){eo(3,5472,h);kt(1)}if(!p)t=0;else{t=0;u=0;do{t=((o[i+u>>0]|0)^255)+t|0;u=u+1|0}while((u|0)<(C|0))}u=(t|0)/(C|0)|0;if(!p)f=0.0;else{h=0;t=0;do{S=((o[i+h>>0]|0)^255)-u|0;s[T+(h<<2)>>2]=S;t=(ie(S,S)|0)+t|0;h=h+1|0}while((h|0)<(C|0));f=+(t|0)}E=+U(+f);if(E/(+(r|0)*1.7320508)<15.0){s[a>>2]=0;s[n>>2]=0;c[l>>3]=-1.0;js(T);t=-2;break e}y=s[e>>2]|0;_=e+12|0;S=e+16|0;if((y|0)>0){k=s[e+8>>2]|0;v=(p|0)==0;h=-1;w=0;f=0.0;u=-1;t=-1;do{t:while(1){h=h+1|0;switch(s[k+(h<<2)>>2]|0){case 0:break;case 2:break t;default:{A=17;break t}}}if((A|0)==17){A=0;m=h<<2;b=s[S>>2]|0;g=0;do{e=g+m|0;if(v)p=0;else{i=s[(s[_>>2]|0)+(e<<2)>>2]|0;r=0;p=0;do{p=(ie(s[i+(r<<2)>>2]|0,s[T+(r<<2)>>2]|0)|0)+p|0;r=r+1|0}while((r|0)<(C|0))}x=+(p|0)/+c[b+(e<<3)>>3]/E;e=x>f;u=e?g:u;t=e?h:t;f=e?x:f;g=g+1|0}while((g|0)!=4)}w=w+1|0}while((w|0)<(y|0))}else{f=0.0;u=-1;t=-1}s[n>>2]=u;s[a>>2]=t;c[l>>3]=f;js(T);t=0;break e}case 1:{C=ie(r,r)|0;T=Hs(C<<2)|0;if(!T){eo(3,5472,u);kt(1)}if(!C)t=0;else{t=0;u=0;do{t=((o[i+u>>0]|0)^255)+t|0;u=u+1|0}while((u|0)<(C|0))}u=(t|0)/(C|0)|0;if(!C)f=0.0;else{h=0;t=0;do{S=((o[i+h>>0]|0)^255)-u|0;s[T+(h<<2)>>2]=S;t=(ie(S,S)|0)+t|0;h=h+1|0}while((h|0)<(C|0));f=+(t|0)}E=+U(+f);if(E/+(r|0)<15.0){s[a>>2]=0;s[n>>2]=0;c[l>>3]=-1.0;js(T);t=-2;break e}y=s[e>>2]|0;_=e+20|0;S=e+24|0;if((y|0)>0){v=s[e+8>>2]|0;w=(C|0)==0;h=-1;k=0;f=0.0;u=-1;t=-1;do{t:while(1){h=h+1|0;switch(s[v+(h<<2)>>2]|0){case 0:break;case 2:break t;default:{A=37;break t}}}if((A|0)==37){A=0;m=h<<2;b=s[S>>2]|0;g=0;do{e=g+m|0;if(w)p=0;else{i=s[(s[_>>2]|0)+(e<<2)>>2]|0;r=0;p=0;do{p=(ie(s[i+(r<<2)>>2]|0,s[T+(r<<2)>>2]|0)|0)+p|0;r=r+1|0}while((r|0)<(C|0))}x=+(p|0)/+c[b+(e<<3)>>3]/E;e=x>f;u=e?g:u;t=e?h:t;f=e?x:f;g=g+1|0}while((g|0)!=4)}k=k+1|0}while((k|0)<(y|0))}else{f=0.0;u=-1;t=-1}s[n>>2]=u;s[a>>2]=t;c[l>>3]=f;js(T);t=0;break e}default:{t=-1;break e}}}while(0);d=M;return t|0}function Gs(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,o=0,n=0,l=0,u=0,d=0,f=0,h=0,p=0,m=0;r=so(8,8)|0;a=so(8,1)|0;o=so(8,1)|0;n=s[r>>2]|0;l=s[a>>2]|0;u=0;do{m=e+(u<<4)|0;d=u<<4;c[n+(d<<3)>>3]=+c[m>>3];p=e+(u<<4)+8|0;c[n+((d|1)<<3)>>3]=+c[p>>3];c[n+((d|2)<<3)>>3]=1.0;c[n+((d|3)<<3)>>3]=0.0;c[n+((d|4)<<3)>>3]=0.0;c[n+((d|5)<<3)>>3]=0.0;h=t+(u<<4)|0;c[n+((d|6)<<3)>>3]=-(+c[m>>3]*+c[h>>3]);c[n+((d|7)<<3)>>3]=-(+c[p>>3]*+c[h>>3]);c[n+((d|8)<<3)>>3]=0.0;c[n+((d|9)<<3)>>3]=0.0;c[n+((d|10)<<3)>>3]=0.0;c[n+((d|11)<<3)>>3]=+c[m>>3];c[n+((d|12)<<3)>>3]=+c[p>>3];c[n+((d|13)<<3)>>3]=1.0;f=t+(u<<4)+8|0;c[n+((d|14)<<3)>>3]=-(+c[m>>3]*+c[f>>3]);c[n+((d|15)<<3)>>3]=-(+c[p>>3]*+c[f>>3]);d=u<<1;c[l+(d<<3)>>3]=+c[h>>3];c[l+((d|1)<<3)>>3]=+c[f>>3];u=u+1|0}while((u|0)!=4);mo(r)|0;fo(o,r,a)|0;m=s[o>>2]|0;c[i>>3]=+c[m>>3];c[i+8>>3]=+c[m+8>>3];c[i+16>>3]=+c[m+16>>3];m=s[o>>2]|0;c[i+24>>3]=+c[m+24>>3];c[i+32>>3]=+c[m+32>>3];c[i+40>>3]=+c[m+40>>3];m=s[o>>2]|0;c[i+48>>3]=+c[m+48>>3];c[i+56>>3]=+c[m+56>>3];c[i+64>>3]=1.0;co(r)|0;co(a)|0;co(o)|0;return}function Ks(e,t,i,a,n){e=e|0;t=t|0;i=i|0;a=a|0;n=n|0;var l=0,u=0,c=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0,I=0,F=0;F=d;d=d+2320|0;u=F+2304|0;E=F+864|0;k=F+784|0;I=F+704|0;_=F+624|0;y=F+548|0;q=F+40|0;x=F;switch(e|0){case 772:{a=9;l=1;c=3;break}case 1028:{a=5;l=2;c=3;break}case 2830:{T=900;v=1472;M=64;R=120;C=127;A=a;l=9;c=6;break}default:i=-1}if((c|0)==3){e=0;while(1){r[u+e>>0]=t&1;t=Gu(t|0,i|0,1)|0;e=e+1|0;if((e|0)==13)break;else i=P}T=840;v=1408;M=a;R=13;C=15;A=u;c=6}do{if((c|0)==6){g=l<<1;u=1;i=0;while(1){a=y+(u<<2)|0;s[a>>2]=0;e=0;t=0;do{if(r[A+t>>0]|0){e=e^s[T+(((ie(t,u)|0)%(C|0)|0)<<2)>>2];s[a>>2]=e}t=t+1|0}while((t|0)<(R|0));i=(e|0)==0?i:1;s[a>>2]=s[v+(e<<2)>>2];if((u|0)<(g|0))u=u+1|0;else break}S=(i|0)!=0;if(S){s[k>>2]=0;i=s[y+4>>2]|0;s[k+4>>2]=i;s[E>>2]=0;s[E+72>>2]=1;if((g|0)>1){e=1;do{s[E+(e<<2)>>2]=-1;s[E+72+(e<<2)>>2]=0;e=e+1|0}while((e|0)<(g|0))}s[I>>2]=0;s[I+4>>2]=0;s[_>>2]=-1;s[_+4>>2]=0;m=0;b=0;while(1){a=b;b=b+1|0;p=k+(b<<2)|0;if((i|0)==-1){u=a+2|0;s[I+(u<<2)>>2]=m;if((m|0)<0)h=m;else{i=0;while(1){p=E+(b*72|0)+(i<<2)|0;h=s[p>>2]|0;s[E+(u*72|0)+(i<<2)>>2]=h;s[p>>2]=s[v+(h<<2)>>2];if((i|0)<(m|0))i=i+1|0;else{h=m;break}}}}else{e=a;while(1){i=(e|0)>0;if(i&(s[k+(e<<2)>>2]|0)==-1)e=e+-1|0;else break}if(i){t=e;do{i=t;t=t+-1|0;if((s[k+(t<<2)>>2]|0)!=-1)e=(s[_+(e<<2)>>2]|0)<(s[_+(t<<2)>>2]|0)?t:e}while((i|0)>1)}t=I+(e<<2)|0;f=b-e|0;h=f+(s[t>>2]|0)|0;u=a+2|0;h=(m|0)>(h|0)?m:h;s[I+(u<<2)>>2]=h;i=0;do{s[E+(u*72|0)+(i<<2)>>2]=0;i=i+1|0}while((i|0)<(g|0));i=s[t>>2]|0;t=k+(e<<2)|0;if((i|0)>=0){c=0;while(1){a=s[E+(e*72|0)+(c<<2)>>2]|0;if((a|0)!=-1)s[E+(u*72|0)+(f+c<<2)>>2]=s[T+(((a+C+(s[p>>2]|0)-(s[t>>2]|0)|0)%(C|0)|0)<<2)>>2];if((c|0)<(i|0))c=c+1|0;else break}}if((m|0)>=0){i=0;while(1){p=E+(b*72|0)+(i<<2)|0;f=s[p>>2]|0;c=E+(u*72|0)+(i<<2)|0;s[c>>2]=s[c>>2]^f;s[p>>2]=s[v+(f<<2)>>2];if((i|0)<(m|0))i=i+1|0;else break}}}s[_+(u<<2)>>2]=b-h;if((b|0)>=(g|0))break;i=s[y+(u<<2)>>2]|0;if((i|0)==-1)i=0;else i=s[T+(i<<2)>>2]|0;a=k+(u<<2)|0;s[a>>2]=i;if((h|0)>=1){t=1;while(1){e=s[y+(u-t<<2)>>2]|0;if((e|0)!=-1?(w=s[E+(u*72|0)+(t<<2)>>2]|0,(w|0)!=0):0){i=i^s[T+((((s[v+(w<<2)>>2]|0)+e|0)%(C|0)|0)<<2)>>2];s[a>>2]=i}if((t|0)<(h|0))t=t+1|0;else break}}i=s[v+(i<<2)>>2]|0;s[a>>2]=i;if((h|0)>(l|0))break;else m=h}if((h|0)>(l|0)){i=-1;break}if((h|0)>=0){i=0;while(1){_=E+(u*72|0)+(i<<2)|0;s[_>>2]=s[v+(s[_>>2]<<2)>>2];if((i|0)<(h|0))i=i+1|0;else break}}if((h|0)>=1){i=1;while(1){s[x+(i<<2)>>2]=s[E+(u*72|0)+(i<<2)>>2];if((i|0)<(h|0))i=i+1|0;else break}}c=(h|0)<1;i=0;f=1;do{if(c)e=1;else{l=1;e=1;while(1){t=x+(l<<2)|0;a=s[t>>2]|0;if((a|0)!=-1){E=(a+l|0)%(C|0)|0;s[t>>2]=E;e=s[T+(E<<2)>>2]^e}if((l|0)<(h|0))l=l+1|0;else break}}if(!e){s[q+(i<<2)>>2]=C-f;i=i+1|0}f=f+1|0}while((C|0)>=(f|0));if((i|0)!=(h|0)){i=-1;break}if((h|0)>0){i=0;do{x=A+(s[q+(i<<2)>>2]|0)|0;r[x>>0]=o[x>>0]^1;i=i+1|0}while((i|0)<(h|0))}}else u=0;e=n;s[e>>2]=0;s[e+4>>2]=0;e=1;t=0;a=0;l=0;i=R-M|0;while(1){q=ic(o[A+i>>0]|0,0,e|0,t|0)|0;a=Qu(q|0,P|0,a|0,l|0)|0;l=P;q=n;s[q>>2]=a;s[q+4>>2]=l;e=Yu(e|0,t|0,1)|0;i=i+1|0;if((i|0)>=(R|0))break;else t=P}if(S)i=s[I+(u<<2)>>2]|0;else i=0}}while(0);d=F;return i|0}function Xs(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0,l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0.0;T=d;d=d+32|0;C=T+24|0;o=T+16|0;i=T+8|0;do{if(e){if(!t){eo(3,4674,i);i=-1;break}E=e+8|0;a=s[e+4>>2]|0;e:do{if((a|0)>0){r=s[E>>2]|0;i=0;do{if(!(s[r+(i<<2)>>2]|0))break e;i=i+1|0}while((i|0)<(a|0))}else i=0}while(0);if((i|0)!=(a|0)){S=ks(t)|0;if(!S){eo(3,4719,o);i=-1;break}g=e+28|0;v=i<<2;w=e+12|0;k=e+20|0;y=e+16|0;_=e+24|0;a=Ts(S,4742)|0;r=0;e:while(1){b=r+v|0;m=0;t=0;do{h=(m|0)==0;p=(m|0)==2;o=s[g>>2]|0;if((o|0)>0){f=0;do{if((o|0)>0){u=0;do{if(!a){r=17;break e}o=cs(a)|0;a=Ts(0,4742)|0;o=255-o|0;l=(((ie(s[g>>2]|0,f)|0)+u|0)*3|0)+m|0;s[(s[(s[w>>2]|0)+(b<<2)>>2]|0)+(l<<2)>>2]=o;l=(ie(s[g>>2]|0,f)|0)+u|0;n=s[(s[k>>2]|0)+(b<<2)>>2]|0;l=n+(l<<2)|0;if(!h){s[l>>2]=(s[l>>2]|0)+o;if(p){l=n+((ie(s[g>>2]|0,f)|0)+u<<2)|0;s[l>>2]=(s[l>>2]|0)/3|0}}else s[l>>2]=o;t=o+t|0;u=u+1|0;o=s[g>>2]|0}while((u|0)<(o|0))}f=f+1|0}while((f|0)<(o|0))}m=m+1|0}while((m|0)<3);o=s[g>>2]|0;u=(t|0)/(ie(o*3|0,o)|0)|0;if((ie(o*3|0,o)|0)>0){n=s[(s[w>>2]|0)+(b<<2)>>2]|0;l=0;t=0;do{m=n+(l<<2)|0;o=(s[m>>2]|0)-u|0;s[m>>2]=o;t=(ie(o,o)|0)+t|0;l=l+1|0;o=s[g>>2]|0}while((l|0)<(ie(o*3|0,o)|0))}else t=0;A=+U(+ +(t|0));c[(s[y>>2]|0)+(b<<3)>>3]=A==0.0?1.0e-07:A;if(!(ie(o,o)|0))t=0;else{o=s[(s[k>>2]|0)+(b<<2)>>2]|0;n=0;t=0;do{p=o+(n<<2)|0;m=(s[p>>2]|0)-u|0;s[p>>2]=m;t=(ie(m,m)|0)+t|0;n=n+1|0;m=s[g>>2]|0}while((n|0)<(ie(m,m)|0))}A=+U(+ +(t|0));c[(s[_>>2]|0)+(b<<3)>>3]=A==0.0?1.0e-07:A;r=r+1|0;if((r|0)>=4){r=32;break}}if((r|0)==17){eo(3,4747,C);js(S);i=-1;break}else if((r|0)==32){js(S);s[(s[E>>2]|0)+(i<<2)>>2]=1;s[e>>2]=(s[e>>2]|0)+1;break}}else i=-1}else{eo(3,4649,T);i=-1}}while(0);d=T;return i|0}function Js(e,t){e=e|0;t=t|0;var i=0,a=0,o=0,n=0,l=0,u=0;u=d;d=d+32|0;l=u+16|0;n=u+8|0;i=u;o=Va(t,4854)|0;do{if(o){Xa(o,0,2)|0;i=es(o)|0;Xa(o,0,0)|0;a=Hs(i+1|0)|0;if(!a){eo(3,5472,n);za(o)|0;i=-1;break}n=Qa(a,i,1,o)|0;za(o)|0;if(!n){s[l>>2]=t;eo(3,4820,l);js(a);i=-1;break}else{r[a+i>>0]=0;i=Xs(e,a)|0;js(a);break}}else{s[i>>2]=t;eo(3,4774,i);i=-1}}while(0);d=u;return i|0}function Zs(e,t){e=e|0;t=t|0;t=(s[e+8>>2]|0)+(t<<2)|0;if(!(s[t>>2]|0))t=-1;else{s[t>>2]=0;s[e>>2]=(s[e>>2]|0)+-1;t=1}return t|0}function eo(e,t,i){e=e|0;t=t|0;i=i|0;var a=0,o=0,n=0,l=0;l=d;d=d+32|0;n=l+16|0;a=l;s[n>>2]=0;if(((t|0)!=0&(s[496]|0)<=(e|0)?(r[t>>0]|0)!=0:0)?(s[a>>2]=i,o=ss(n,t,a)|0,(o|0)>-1):0){a=s[497]|0;do{if(a){if(!(s[498]|0)){Uc[a&15](s[n>>2]|0);break}i=ut()|0;e=s[500]|0;if((i|0)==(s[499]|0)){if((e|0)>0){Uc[a&15](s[502]|0);s[500]=0;a=s[497]|0}Uc[a&15](s[n>>2]|0);break}a=s[501]|0;if((e|0)<(a|0)){t=(s[502]|0)+e|0;if((o|0)<(-3-e+a|0)){vs(t,s[n>>2]|0)|0;s[500]=(s[500]|0)+o;break}else{r[t>>0]=46;r[t+1>>0]=46;r[t+2>>0]=46;r[t+3>>0]=0;s[500]=s[501];break}}}else Ya(s[n>>2]|0,s[659]|0)|0}while(0);js(s[n>>2]|0)}d=l;return}function to(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,s=0,o=0,n=0;n=0;do{r=e+(n<<5)|0;a=e+(n<<5)+8|0;s=e+(n<<5)+16|0;o=0;do{c[i+(n<<5)+(o<<3)>>3]=+c[r>>3]*+c[t+(o<<3)>>3]+ +c[a>>3]*+c[t+32+(o<<3)>>3]+ +c[s>>3]*+c[t+64+(o<<3)>>3];o=o+1|0}while((o|0)!=4);o=i+(n<<5)+24|0;c[o>>3]=+c[e+(n<<5)+24>>3]+ +c[o>>3];n=n+1|0}while((n|0)!=3);return 0}function io(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0,l=0,u=0;l=so(4,4)|0;i=s[l>>2]|0;r=s[l>>2]|0;a=s[l>>2]|0;o=s[l>>2]|0;n=0;do{u=n<<2;c[i+(u<<3)>>3]=+c[e+(n<<5)>>3];c[r+(1+u<<3)>>3]=+c[e+(n<<5)+8>>3];c[a+(2+u<<3)>>3]=+c[e+(n<<5)+16>>3];c[o+(3+u<<3)>>3]=+c[e+(n<<5)+24>>3];n=n+1|0}while((n|0)!=3);i=s[l>>2]|0;r=i+96|0;s[r>>2]=0;s[r+4>>2]=0;s[r+8>>2]=0;s[r+12>>2]=0;s[r+16>>2]=0;s[r+20>>2]=0;c[i+120>>3]=1.0;mo(l)|0;i=s[l>>2]|0;r=s[l>>2]|0;a=s[l>>2]|0;o=s[l>>2]|0;n=0;do{u=n<<2;c[t+(n<<5)>>3]=+c[i+(u<<3)>>3];c[t+(n<<5)+8>>3]=+c[r+(1+u<<3)>>3];c[t+(n<<5)+16>>3]=+c[a+(2+u<<3)>>3];c[t+(n<<5)+24>>3]=+c[o+(3+u<<3)>>3];n=n+1|0}while((n|0)!=3);co(l)|0;return 0}function ro(e){e=e|0;switch(e|0){case 1:case 0:{e=3;break}case 6:case 4:case 3:case 2:{e=4;break}case 14:case 13:case 12:case 5:{e=1;break}case 11:case 10:case 9:case 8:case 7:{e=2;break}default:e=0}return e|0}function ao(e,t,i,a){e=e|0;t=t|0;i=i|0;a=a|0;var s=0;do{if((e|0)!=0&(t|0)!=0&(i|0)!=0){s=Es(t,47)|0;if(!s){r[e>>0]=0;break}s=s+((a|0)!=0&1)-t|0;if((s+1|0)>>>0<=i>>>0){Ss(e,t,s)|0;r[e+s>>0]=0}else e=0}else e=0}while(0);return e|0}function so(e,t){e=e|0;t=t|0;var i=0,r=0;i=Hs(12)|0;do{if(i){r=Hs(ie(e<<3,t)|0)|0;s[i>>2]=r;if(!r){js(i);i=0;break}else{s[i+4>>2]=e;s[i+8>>2]=t;break}}else i=0}while(0);return i|0}function oo(e){e=e|0;var t=0;t=so(s[e+4>>2]|0,s[e+8>>2]|0)|0;if(t){if((uo(t,e)|0)<0){co(t)|0;t=0}}else t=0;return t|0}function no(e,t){e=e|0;t=t|0;var i=0;i=so(s[e+4>>2]|0,s[t+8>>2]|0)|0;if(i){if((fo(i,e,t)|0)<0){co(i)|0;i=0}}else i=0;return i|0}function lo(e){e=e|0;var t=0;t=so(s[e+8>>2]|0,s[e+4>>2]|0)|0;if(t){if((bo(t,e)|0)<0){co(t)|0;t=0}}else t=0;return t|0}function uo(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0,l=0,u=0,d=0,f=0;i=s[e+4>>2]|0;if((i|0)==(s[t+4>>2]|0)?(l=s[e+8>>2]|0,(l|0)==(s[t+8>>2]|0)):0)if((i|0)>0){r=(l|0)>0;d=0;do{a=ie(l,d)|0;if(r){o=s[t>>2]|0;n=s[e>>2]|0;u=0;do{f=a+u|0;c[n+(f<<3)>>3]=+c[o+(f<<3)>>3];u=u+1|0}while((u|0)<(l|0))}d=d+1|0}while((d|0)<(i|0));i=0}else i=0;else i=-1;return i|0}function co(e){e=e|0;if(e){js(s[e>>2]|0);js(e)}return 0}function fo(e,t,i){e=e|0;t=t|0;i=i|0;var r=0.0,a=0,o=0,n=0,l=0,u=0,d=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0;h=s[t+8>>2]|0;if(((h|0)==(s[i+4>>2]|0)?(g=s[e+4>>2]|0,(g|0)==(s[t+4>>2]|0)):0)?(p=s[e+8>>2]|0,(p|0)==(s[i+8>>2]|0)):0){v=(p|0)>0?p:0;if((g|0)>0){m=(p|0)>0;b=(h|0)>0;u=s[e>>2]|0;f=0;while(1){e=ie(h,f)|0;if(m){a=0;d=u;while(1){c[d>>3]=0.0;if(b){r=0.0;o=0;n=(s[t>>2]|0)+(e<<3)|0;l=(s[i>>2]|0)+(a<<3)|0;while(1){r=r+ +c[n>>3]*+c[l>>3];c[d>>3]=r;o=o+1|0;if((o|0)>=(h|0))break;else{n=n+8|0;l=l+(p<<3)|0}}}a=a+1|0;if((a|0)>=(p|0))break;else d=d+8|0}}f=f+1|0;if((f|0)>=(g|0)){e=0;break}else u=u+(v<<3)|0}}else e=0}else e=-1;return e|0}function ho(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,o=0,n=0.0,l=0,u=0,d=0,f=0,h=0,p=0,m=0,b=0,g=0.0,v=0,w=0,k=0;b=s[e+4>>2]|0;v=s[e+8>>2]|0;a=(b|0)<(v|0)?b:v;e:do{if(((((!((b|0)<2|(v|0)<2)?(s[t+8>>2]|0)==(v|0):0)?(s[t+4>>2]|0)==(a|0):0)?(w=i+4|0,(s[w>>2]|0)==(a|0)):0)?(o=r+4|0,(s[o>>2]|0)==(v|0)):0)?(k=oo(e)|0,(k|0)!=0):0){g=+U(+ +(b|0));p=s[k+4>>2]|0;m=s[k+8>>2]|0;if(!((p|0)<1|(m|0)<1)?(s[o>>2]|0)==(m|0):0){if(m){a=s[r>>2]|0;e=0;do{c[a+(e<<3)>>3]=0.0;e=e+1|0}while((e|0)!=(m|0))}h=s[k>>2]|0;if(p){a=(m|0)==0;e=0;l=h;while(1){if(!a){o=0;u=l;d=s[r>>2]|0;while(1){c[d>>3]=+c[u>>3]+ +c[d>>3];o=o+1|0;if((o|0)==(m|0))break;else{u=u+8|0;d=d+8|0}}}e=e+1|0;if((e|0)==(p|0))break;else l=l+(m<<3)|0}}n=+(p|0);if(m){a=s[r>>2]|0;e=0;do{f=a+(e<<3)|0;c[f>>3]=+c[f>>3]/n;e=e+1|0}while((e|0)!=(m|0))}d=(m|0)>0?m:0;if((p|0)>0){a=(m|0)>0;e=0;l=h;while(1){if(a){o=0;u=l;f=s[r>>2]|0;while(1){c[u>>3]=+c[u>>3]-+c[f>>3];o=o+1|0;if((o|0)>=(m|0))break;else{u=u+8|0;f=f+8|0}}}e=e+1|0;if((e|0)>=(p|0))break;else l=l+(d<<3)|0}}a=ie(v,b)|0;if((a|0)>0){e=0;do{r=h+(e<<3)|0;c[r>>3]=+c[r>>3]/g;e=e+1|0}while((e|0)<(a|0))}a=po(k,t,i)|0;co(k)|0;l=s[w>>2]|0;if((l|0)>0){e=s[i>>2]|0;o=0;n=0.0;do{n=n+ +c[e+(o<<3)>>3];o=o+1|0}while((o|0)<(l|0))}else n=0.0;if((l|0)<=0)break;e=s[i>>2]|0;o=0;while(1){i=e+(o<<3)|0;c[i>>3]=+c[i>>3]/n;o=o+1|0;if((o|0)>=(l|0))break e}}co(k)|0;a=-1}else a=-1}while(0);return a|0}function po(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,o=0,n=0,l=0.0,u=0,f=0,h=0,p=0,m=0,b=0.0,g=0,v=0,w=0,k=0.0,y=0.0,_=0,S=0.0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0,P=0,I=0,F=0,O=0,N=0,D=0,$=0,L=0,H=0,j=0,z=0,W=0,V=0,Y=0.0,Q=0.0,G=0.0,K=0,X=0;V=d;d=d+16|0;_=V;q=e+4|0;F=s[q>>2]|0;O=e+8|0;N=s[O>>2]|0;z=(N|0)<(F|0)?N:F;e:do{if(((!((F|0)<2|(N|0)<2)?(j=t+8|0,(s[j>>2]|0)==(N|0)):0)?(D=t+4|0,(s[D>>2]|0)==(z|0)):0)?($=i+4|0,(s[$>>2]|0)==(z|0)):0){W=so(z,z)|0;L=W+4|0;if((s[L>>2]|0)==(z|0)?(H=W+8|0,(s[H>>2]|0)==(z|0)):0){P=(F|0)<(N|0);v=s[q>>2]|0;w=s[O>>2]|0;if(P){if((z|0)!=(v|0)){co(W)|0;r=-1;break}o=s[W>>2]|0;if((z|0)>0){f=(z|0)==0;n=(w|0)>0;h=0;g=o;while(1){u=ie(h,w)|0;if(!f){m=0;v=g;while(1){if((m|0)>=(h|0)){r=s[e>>2]|0;c[v>>3]=0.0;if(n){l=0.0;p=r+(u<<3)|0;r=r+((ie(m,w)|0)<<3)|0;a=0;while(1){l=l+ +c[p>>3]*+c[r>>3];c[v>>3]=l;a=a+1|0;if((a|0)>=(w|0))break;else{p=p+8|0;r=r+8|0}}}}else c[v>>3]=+c[o+((ie(m,z)|0)+h<<3)>>3];m=m+1|0;if((m|0)==(z|0))break;else v=v+8|0}}h=h+1|0;if((h|0)>=(z|0))break;else g=g+(z<<3)|0}}}else{if((z|0)!=(w|0)){co(W)|0;r=-1;break}o=s[W>>2]|0;if((z|0)>0){u=(z|0)==0;n=(v|0)>0;f=0;m=o;while(1){if(!u){p=0;g=m;while(1){if((p|0)>=(f|0)){r=s[e>>2]|0;c[g>>3]=0.0;if(n){l=0.0;h=r+(f<<3)|0;r=r+(p<<3)|0;a=0;while(1){l=l+ +c[h>>3]*+c[r>>3];c[g>>3]=l;a=a+1|0;if((a|0)>=(v|0))break;else{h=h+(z<<3)|0;r=r+(z<<3)|0}}}}else c[g>>3]=+c[o+((ie(p,z)|0)+f<<3)>>3];p=p+1|0;if((p|0)==(z|0))break;else g=g+8|0}}f=f+1|0;if((f|0)>=(z|0))break;else m=m+(z<<3)|0}}}do{if(((z|0)>=2?(s[$>>2]|0)==(z|0):0)?(I=xo(z)|0,(I|0)!=0):0){R=z+-1|0;s[_+4>>2]=R;s[_>>2]=(s[I>>2]|0)+8;if((Io(W,i,_)|0)<0){Ro(I)|0;break}A=s[I>>2]|0;c[A>>3]=0.0;if((R|0)>0){M=(z|0)==0;x=R;do{a=x;while(1){if((a|0)<=0)break;y=+B(+ +c[A+(a<<3)>>3]);r=a+-1|0;T=s[i>>2]|0;S=+B(+ +c[T+(r<<3)>>3]);if(y>(S+ +B(+ +c[T+(a<<3)>>3]))*1.0e-06)a=r;else break}E=x;x=x+-1|0;t:do{if((a|0)!=(E|0)){p=A+(E<<3)|0;m=A+(a+1<<3)|0;g=(a|0)<(E|0);C=0;do{if((C|0)>99)break t;C=C+1|0;v=s[i>>2]|0;w=v+(x<<3)|0;_=v+(E<<3)|0;l=+c[_>>3];b=(+c[w>>3]-l)*.5;k=+c[p>>3];k=k*k;y=+U(+(k+b*b));if(g){T=a;b=+c[v+(a<<3)>>3]-l+k/(b+(b<0.0?-y:y));k=+c[m>>3];while(1){l=+B(+b);do{if(!(l>=+B(+k))){y=-b/k;S=1.0/+U(+(y*y+1.0));y=y*S}else{if(!(l>1.0e-16)){y=1.0;S=0.0;break}l=-k/b;S=1.0/+U(+(l*l+1.0));y=S;S=l*S}}while(0);n=v+(T<<3)|0;G=+c[n>>3];h=T;T=T+1|0;u=v+(T<<3)|0;Q=+c[u>>3];l=G-Q;f=A+(T<<3)|0;Y=S*(S*l+y*2.0*+c[f>>3]);c[n>>3]=G-Y;c[u>>3]=Q+Y;if((h|0)>(a|0)){u=A+(h<<3)|0;c[u>>3]=y*+c[u>>3]-k*S}G=+c[f>>3];c[f>>3]=G+S*(y*l-S*2.0*G);n=ie(h,z)|0;u=ie(T,z)|0;if(M)l=k;else{r=s[W>>2]|0;o=0;do{X=r+(o+n<<3)|0;b=+c[X>>3];K=r+(o+u<<3)|0;l=+c[K>>3];c[X>>3]=y*b-S*l;c[K>>3]=S*b+y*l;o=o+1|0}while((o|0)!=(z|0))}if((h|0)<(x|0)){b=+c[f>>3];X=A+(h+2<<3)|0;l=+c[X>>3];c[X>>3]=y*l;l=-(S*l)}if((T|0)>=(E|0))break;else k=l}}Q=+B(+ +c[p>>3]);G=+B(+ +c[w>>3])}while(Q>(G+ +B(+ +c[_>>3]))*1.0e-06)}}while(0)}while((E|0)>1)}if(R){u=s[i>>2]|0;f=s[W>>2]|0;h=(z|0)==0;p=0;do{o=u+(p<<3)|0;b=+c[o>>3];n=p;p=p+1|0;if((p|0)<(z|0)){r=n;a=p;l=b;do{G=+c[u+(a<<3)>>3];X=G>l;l=X?G:l;r=X?a:r;a=a+1|0}while((a|0)<(z|0))}else{r=n;l=b}c[u+(r<<3)>>3]=b;c[o>>3]=l;if(!h){o=0;a=f+((ie(r,z)|0)<<3)|0;r=f+((ie(n,z)|0)<<3)|0;while(1){G=+c[a>>3];c[a>>3]=+c[r>>3];c[r>>3]=G;o=o+1|0;if((o|0)==(z|0))break;else{a=a+8|0;r=r+8|0}}}}while((p|0)!=(R|0))}Ro(I)|0;t:do{if(!P){o=s[t>>2]|0;m=(F|0)>(N|0)?N:F;i:do{if((z|0)>0){f=s[i>>2]|0;h=(m|0)==0;r=0;p=s[W>>2]|0;do{if(+c[f+(r<<3)>>3]<1.0e-16)break i;if(!h){a=0;n=p;u=o;while(1){c[u>>3]=+c[n>>3];a=a+1|0;if((a|0)==(m|0))break;else{n=n+8|0;u=u+8|0}}}p=p+(m<<3)|0;o=o+(m<<3)|0;r=r+1|0}while((r|0)<(z|0))}else r=0}while(0);h=(m|0)>0?m:0;if((r|0)<(z|0)){u=s[i>>2]|0;f=(z|0)>0;while(1){c[u+(r<<3)>>3]=0.0;if(f){a=0;n=o;while(1){c[n>>3]=0.0;a=a+1|0;if((a|0)>=(z|0))break;else n=n+8|0}}r=r+1|0;if((r|0)>=(z|0))break;else o=o+(h<<3)|0}}}else{_=s[q>>2]|0;w=s[O>>2]|0;do{if(!((_|0)<1|(w|0)<1)){if((s[L>>2]|0)!=(_|0))break;if((s[H>>2]|0)!=(_|0))break;if((s[D>>2]|0)!=(_|0))break;if((s[j>>2]|0)!=(w|0))break;if((s[$>>2]|0)!=(_|0))break;a=s[t>>2]|0;i:do{if((_|0)>0){m=s[i>>2]|0;v=(w|0)==0;g=(_|0)==0;r=0;do{l=+c[m+(r<<3)>>3];if(l<1.0e-16)break i;b=1.0/+U(+ +B(+l));f=ie(r,_)|0;if(!v){h=0;p=a;while(1){if(g)l=0.0;else{o=0;n=(s[W>>2]|0)+(f<<3)|0;u=(s[e>>2]|0)+(h<<3)|0;l=0.0;while(1){l=l+ +c[n>>3]*+c[u>>3];o=o+1|0;if((o|0)==(_|0))break;else{n=n+8|0;u=u+(w<<3)|0}}}c[p>>3]=b*l;h=h+1|0;if((h|0)==(w|0))break;else p=p+8|0}}a=a+(w<<3)|0;r=r+1|0}while((r|0)<(_|0))}else r=0}while(0);h=(w|0)>0?w:0;if((r|0)>=(_|0))break t;u=s[i>>2]|0;f=(w|0)>0;o=a;while(1){c[u+(r<<3)>>3]=0.0;if(f){a=0;n=o;while(1){c[n>>3]=0.0;a=a+1|0;if((a|0)>=(w|0))break;else n=n+8|0}}r=r+1|0;if((r|0)>=(_|0))break t;else o=o+(h<<3)|0}}}while(0);co(W)|0;r=-1;break e}}while(0);co(W)|0;r=0;break e}}while(0);co(W)|0;r=-1;break}co(W)|0;r=-1}else r=-1}while(0);d=V;return r|0}function mo(e){e=e|0;var t=0,i=0,r=0,a=0.0,o=0,n=0,l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0.0,S=0;y=d;d=d+2e3|0;k=y;t=s[e>>2]|0;w=s[e+4>>2]|0;e:do{if((w|0)<=500){switch(w|0){case 0:{t=0;break e}case 1:{c[t>>3]=1.0/+c[t>>3];break e}default:{}}if((w|0)>0){e=0;do{s[k+(e<<2)>>2]=e;e=e+1|0}while((e|0)<(w|0))}v=t+(w+-1<<3)|0;if((w|0)>0){f=(w|0)==0;m=(w|0)==1;p=(w|0)==0;h=(w|0)==1;b=v;e=0;g=0;while(1){u=t+((ie(g,w)|0)<<3)|0;if((g|0)<(w|0)){r=g;a=0.0;i=u;while(1){_=+B(+ +c[i>>3]);l=a<_;e=l?r:e;a=l?_:a;r=r+1|0;if((r|0)>=(w|0))break;else i=i+(w<<3)|0}}else a=0.0;if(a<=1.0e-10){t=0;break e}o=k+(e<<2)|0;n=s[o>>2]|0;l=k+(g<<2)|0;s[o>>2]=s[l>>2];s[l>>2]=n;if(!f){i=0;r=t+((ie(e,w)|0)<<3)|0;o=u;while(1){_=+c[r>>3];c[r>>3]=+c[o>>3];c[o>>3]=_;i=i+1|0;if((i|0)==(w|0))break;else{r=r+8|0;o=o+8|0}}}a=+c[u>>3];if(!m){i=1;r=u;do{l=r;r=r+8|0;c[l>>3]=+c[r>>3]/a;i=i+1|0}while((i|0)!=(w|0))}c[b>>3]=1.0/a;if(!p){o=0;n=v;while(1){if((o|0)!=(g|0)){i=t+((ie(o,w)|0)<<3)|0;a=+c[i>>3];if(!h){l=1;r=u;while(1){S=i;i=i+8|0;c[S>>3]=+c[i>>3]-a*+c[r>>3];l=l+1|0;if((l|0)==(w|0))break;else r=r+8|0}}c[n>>3]=-(a*+c[b>>3])}o=o+1|0;if((o|0)==(w|0))break;else n=n+(w<<3)|0}}g=g+1|0;if((g|0)>=(w|0))break;else b=b+(w<<3)|0}}if((w|0)>0){o=(w|0)>0;n=0;do{e=k+(n<<2)|0;t:do{if((n|0)<(w|0)){i=n;do{if((s[e>>2]|0)==(n|0))break t;i=i+1|0;e=k+(i<<2)|0}while((i|0)<(w|0))}else i=n}while(0);s[e>>2]=s[k+(n<<2)>>2];if(o){r=0;e=t+(i<<3)|0;i=t+(n<<3)|0;while(1){_=+c[e>>3];c[e>>3]=+c[i>>3];c[i>>3]=_;r=r+1|0;if((r|0)>=(w|0))break;else{e=e+(w<<3)|0;i=i+(w<<3)|0}}}n=n+1|0}while((n|0)<(w|0))}}else t=0}while(0);d=y;return((t|0)==0)<<31>>31|0}function bo(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0,l=0,u=0,d=0;n=s[e+4>>2]|0;if((n|0)==(s[t+8>>2]|0)?(u=s[e+8>>2]|0,(u|0)==(s[t+4>>2]|0)):0){d=(u|0)>0?u:0;if((n|0)>0){l=(u|0)>0;r=s[e>>2]|0;o=0;while(1){if(l){e=0;i=(s[t>>2]|0)+(o<<3)|0;a=r;while(1){c[a>>3]=+c[i>>3];e=e+1|0;if((e|0)>=(u|0))break;else{i=i+(n<<3)|0;a=a+8|0}}}o=o+1|0;if((o|0)>=(n|0)){e=0;break}else r=r+(d<<3)|0}}else e=0}else e=-1;return e|0}function go(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0.0,o=0.0,n=0;a=+(t|0)/+(s[e>>2]|0);o=+(i|0)/+(s[e+4>>2]|0);s[r>>2]=t;s[r+4>>2]=i;t=0;do{c[r+8+(t<<3)>>3]=a*+c[e+8+(t<<3)>>3];c[r+40+(t<<3)>>3]=o*+c[e+40+(t<<3)>>3];c[r+72+(t<<3)>>3]=+c[e+72+(t<<3)>>3];t=t+1|0}while((t|0)!=4);t=s[e+176>>2]|0;switch(t|0){case 4:{c[r+104>>3]=+c[e+104>>3];c[r+112>>3]=+c[e+112>>3];c[r+120>>3]=+c[e+120>>3];c[r+128>>3]=+c[e+128>>3];c[r+136>>3]=a*+c[e+136>>3];c[r+144>>3]=o*+c[e+144>>3];c[r+152>>3]=a*+c[e+152>>3];c[r+160>>3]=o*+c[e+160>>3];c[r+168>>3]=+c[e+168>>3];n=8;break}case 3:{c[r+104>>3]=a*+c[e+104>>3];c[r+112>>3]=o*+c[e+112>>3];c[r+120>>3]=+c[e+120>>3];c[r+128>>3]=+c[e+128>>3];c[r+136>>3]=+c[e+136>>3]/(a*o);c[r+144>>3]=+c[e+144>>3]/(o*(a*a*o));n=8;break}case 2:{c[r+104>>3]=a*+c[e+104>>3];c[r+112>>3]=o*+c[e+112>>3];c[r+120>>3]=+c[e+120>>3];c[r+128>>3]=+c[e+128>>3]/(a*o);c[r+136>>3]=+c[e+136>>3]/(o*(a*a*o));n=8;break}case 1:{c[r+104>>3]=a*+c[e+104>>3];c[r+112>>3]=o*+c[e+112>>3];c[r+120>>3]=+c[e+120>>3];c[r+128>>3]=+c[e+128>>3]/(a*o);n=8;break}default:t=-1}if((n|0)==8){s[r+176>>2]=t;t=0}return t|0}function vo(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,s=0,o=0.0,n=0,l=0.0,u=0,f=0,h=0,p=0.0,m=0.0,b=0,g=0,v=0.0,w=0,k=0,y=0,_=0,S=0.0;s=d;d=d+96|0;a=s;if(!(+c[e+88>>3]>=0.0)){r=0;do{c[a+(r<<5)>>3]=-+c[e+(r<<5)>>3];c[a+(r<<5)+8>>3]=-+c[e+(r<<5)+8>>3];c[a+(r<<5)+16>>3]=-+c[e+(r<<5)+16>>3];c[a+(r<<5)+24>>3]=-+c[e+(r<<5)+24>>3];r=r+1|0}while((r|0)!=3)}else{r=0;do{c[a+(r<<5)>>3]=+c[e+(r<<5)>>3];c[a+(r<<5)+8>>3]=+c[e+(r<<5)+8>>3];c[a+(r<<5)+16>>3]=+c[e+(r<<5)+16>>3];c[a+(r<<5)+24>>3]=+c[e+(r<<5)+24>>3];r=r+1|0}while((r|0)!=3)}c[t>>3]=0.0;c[t+8>>3]=0.0;c[t+16>>3]=0.0;c[t+24>>3]=0.0;c[t+32>>3]=0.0;c[t+40>>3]=0.0;c[t+48>>3]=0.0;c[t+56>>3]=0.0;c[t+64>>3]=0.0;c[t+72>>3]=0.0;c[t+80>>3]=0.0;c[t+88>>3]=0.0;o=+c[a+64>>3];p=+c[a+72>>3];m=+c[a+80>>3];S=+U(+(o*o+p*p+m*m));e=t+80|0;c[e>>3]=S;S=o/S;y=i+64|0;c[y>>3]=S;p=p/+c[e>>3];w=i+72|0;c[w>>3]=p;m=m/+c[e>>3];b=i+80|0;c[b>>3]=m;h=i+88|0;c[h>>3]=+c[a+88>>3]/+c[e>>3];o=+c[a+32>>3];l=+c[a+40>>3];v=+c[a+48>>3];m=S*o+p*l+m*v;f=t+48|0;c[f>>3]=m;o=o-m*+c[y>>3];l=l-m*+c[w>>3];m=v-m*+c[b>>3];v=+U(+(o*o+l*l+m*m));u=t+40|0;c[u>>3]=v;_=i+32|0;c[_>>3]=o/v;k=i+40|0;c[k>>3]=l/+c[u>>3];g=i+48|0;c[g>>3]=m/+c[u>>3];m=+c[a>>3];l=+c[a+8>>3];v=+c[a+16>>3];o=+c[y>>3]*m+ +c[w>>3]*l+ +c[b>>3]*v;r=t+16|0;c[r>>3]=o;p=+c[_>>3]*m+ +c[k>>3]*l+ +c[g>>3]*v;n=t+8|0;c[n>>3]=p;m=m-p*+c[_>>3]-o*+c[y>>3];l=l-p*+c[k>>3]-o*+c[w>>3];o=v-p*+c[g>>3]-o*+c[b>>3];p=+U(+(m*m+l*l+o*o));c[t>>3]=p;c[i>>3]=m/p;c[i+8>>3]=l/+c[t>>3];c[i+16>>3]=o/+c[t>>3];o=+c[h>>3];l=(+c[a+56>>3]-+c[f>>3]*o)/+c[u>>3];c[i+56>>3]=l;c[i+24>>3]=(+c[a+24>>3]-l*+c[n>>3]-+c[r>>3]*o)/+c[t>>3];r=0;do{_=t+(r<<5)|0;c[_>>3]=+c[_>>3]/+c[e>>3];_=t+(r<<5)+8|0;c[_>>3]=+c[_>>3]/+c[e>>3];_=t+(r<<5)+16|0;c[_>>3]=+c[_>>3]/+c[e>>3];r=r+1|0}while((r|0)!=3);d=s;return 0}function wo(e,t,i,r,a,s){e=e|0;t=+t;i=+i;r=r|0;a=a|0;s=s|0;var o=0.0,n=0.0,l=0.0,u=0.0,d=0.0,f=0.0,h=0.0,p=0,m=0.0,b=0.0,g=0.0,v=0.0,w=0.0,k=0.0,y=0.0,_=0.0,S=0.0,E=0.0,C=0.0,T=0.0,A=0.0,M=0.0;switch(s|0){case 4:{b=+c[e>>3];g=+c[e+8>>3];v=+c[e+16>>3];w=+c[e+24>>3];E=+c[e+32>>3];y=+c[e+40>>3];_=+c[e+48>>3];S=+c[e+56>>3];k=+c[e+64>>3];m=(t-_)/E;l=(i-S)/y;i=m*m;n=l*l;u=v*2.0;d=w*6.0;f=w*2.0;h=v*6.0;e:do{if(n!=0.0|i!=0.0){s=1;o=m;t=l;while(1){M=n+i;A=b*M+1.0+M*(g*M);C=i*3.0;T=n*C;o=o-(w*(M+i*2.0)+(t*(u*o)+o*A)-m)/(d*o+(u*t+(b*(n+C)+1.0+g*(n*n+(i*(i*5.0)+T)))));C=f*o;t=t-(v*(n*2.0+M)+t*A+t*C-l)/(h*t+(b*(i+n*3.0)+1.0+g*(n*(n*5.0)+(i*i+T)))+C);if((s|0)==4)break e;i=o*o;n=t*t;if(!(n!=0.0|i!=0.0)){o=0.0;t=0.0;break}else s=s+1|0}}else{o=0.0;t=0.0}}while(0);c[r>>3]=_+E*o/k;c[a>>3]=S+y*t/k;s=0;break}case 3:{m=+c[e>>3];o=(t-m)/+c[e+24>>3];p=e+8|0;t=i-+c[p>>3];l=+c[e+32>>3]/1.0e8;u=+c[e+40>>3]/1.0e8/1.0e5;i=o*o+t*t;d=+U(+i);f=l*3.0;h=u*5.0;e:do{if(d!=0.0){s=1;n=d;while(1){M=n-(n*(1.0-l*i-i*(u*i))-d)/(1.0-f*i-i*(h*i));o=o*M/n;t=t*M/n;if((s|0)==3)break e;i=o*o+t*t;n=+U(+i);if(!(n!=0.0)){o=0.0;t=0.0;break}else s=s+1|0}}else{o=0.0;t=0.0}}while(0);s=e+16|0;c[r>>3]=o/+c[s>>3]+m;c[a>>3]=t/+c[s>>3]+ +c[p>>3];s=0;break}case 2:{m=+c[e>>3];o=t-m;p=e+8|0;t=i-+c[p>>3];l=+c[e+24>>3]/1.0e8;u=+c[e+32>>3]/1.0e8/1.0e5;i=o*o+t*t;d=+U(+i);f=l*3.0;h=u*5.0;e:do{if(d!=0.0){s=1;n=d;while(1){M=n-(n*(1.0-l*i-i*(u*i))-d)/(1.0-f*i-i*(h*i));o=o*M/n;t=t*M/n;if((s|0)==3)break e;i=o*o+t*t;n=+U(+i);if(!(n!=0.0)){o=0.0;t=0.0;break}else s=s+1|0}}else{o=0.0;t=0.0}}while(0);s=e+16|0;c[r>>3]=o/+c[s>>3]+m;c[a>>3]=t/+c[s>>3]+ +c[p>>3];s=0;break}case 1:{f=+c[e>>3];o=t-f;p=e+8|0;t=i-+c[p>>3];l=+c[e+24>>3]/1.0e8;i=o*o+t*t;u=+U(+i);d=l*3.0;e:do{if(u!=0.0){s=1;n=u;while(1){M=n-(n*(1.0-l*i)-u)/(1.0-d*i);o=o*M/n;t=t*M/n;if((s|0)==3)break e;i=o*o+t*t;n=+U(+i);if(!(n!=0.0)){o=0.0;t=0.0;break}else s=s+1|0}}else{o=0.0;t=0.0}}while(0);s=e+16|0;c[r>>3]=o/+c[s>>3]+f;c[a>>3]=t/+c[s>>3]+ +c[p>>3];s=0;break}default:s=-1}return s|0}function ko(e,t,i,r,a,s){e=e|0;t=+t;i=+i;r=r|0;a=a|0;s=s|0;var o=0.0,n=0.0,l=0.0,u=0.0,d=0.0,f=0.0,h=0.0,p=0.0;switch(s|0){case 4:{l=+c[e+16>>3];u=+c[e+24>>3];h=+c[e+32>>3];d=+c[e+40>>3];p=+c[e+48>>3];f=+c[e+56>>3];n=+c[e+64>>3];t=(t-p)*n/h;n=(i-f)*n/d;o=t*t+n*n;i=+c[e>>3]*o+1.0+o*(+c[e+8>>3]*o);c[r>>3]=p+h*(u*(t*(t*2.0)+o)+(l*2.0*t*n+t*i));c[a>>3]=f+d*(u*2.0*t*n+(l*(o+n*(n*2.0))+n*i));s=0;break}case 3:{n=+c[e>>3];p=+c[e+16>>3];o=(t-n)*p;s=e+8|0;t=p*(i-+c[s>>3]);if(o==0.0&t==0.0){c[r>>3]=n;t=+c[s>>3]}else{p=o*o+t*t;p=1.0-p*(+c[e+32>>3]/1.0e8)-p*(p*(+c[e+40>>3]/1.0e8/1.0e5));c[r>>3]=n+ +c[e+24>>3]*(o*p);t=+c[s>>3]+t*p}c[a>>3]=t;s=0;break}case 2:{n=+c[e>>3];p=+c[e+16>>3];o=(t-n)*p;s=e+8|0;t=p*(i-+c[s>>3]);if(o==0.0&t==0.0){c[r>>3]=n;t=+c[s>>3]}else{p=o*o+t*t;p=1.0-p*(+c[e+24>>3]/1.0e8)-p*(p*(+c[e+32>>3]/1.0e8/1.0e5));c[r>>3]=n+o*p;t=+c[s>>3]+t*p}c[a>>3]=t;s=0;break}case 1:{n=+c[e>>3];p=+c[e+16>>3];o=(t-n)*p;s=e+8|0;t=p*(i-+c[s>>3]);if(o==0.0&t==0.0){c[r>>3]=n;t=+c[s>>3]}else{p=1.0-(o*o+t*t)*(+c[e+24>>3]/1.0e8);c[r>>3]=n+o*p;t=+c[s>>3]+t*p}c[a>>3]=t;s=0;break}default:s=-1}return s|0}function yo(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,o=0,n=0,l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0.0;v=d;d=d+256|0;h=v+232|0;f=v+224|0;u=v+216|0;l=v+208|0;n=v+200|0;o=v+192|0;a=v+184|0;m=v+240|0;b=v;do{if((e|0)!=0&(t|0)>0&(i|0)!=0){g=Va(e,4854)|0;if(!g){g=ca()|0;s[a>>2]=s[g>>2];s[a+4>>2]=e;eo(3,4857,a);e=da(s[g>>2]|0)|0;s[o>>2]=5367;s[o+4>>2]=e;eo(3,5361,o);e=-1;break}Xa(g,0,2)|0;e:do{if(!(Ba(g)|0)){o=es(g)|0;rs(g);e=0;do{if((e|0)>=4){p=9;break}a=s[2012+(e<<3)+4>>2]|0;e=e+1|0}while(((o|0)%(a|0)|0|0)!=0);do{if((p|0)==9)if((e|0)==4){eo(3,4971,u);e=-1;break e}else{a=s[2012+(0<<3)+4>>2]|0;e=0;break}}while(0);if((Qa(b,a,1,g)|0)!=1){e=ca()|0;s[f>>2]=s[e>>2];eo(3,5051,f);e=da(s[e>>2]|0)|0;s[h>>2]=5367;s[h+4>>2]=e;eo(3,5361,h);e=-1;break}u=b+176|0;s[u>>2]=e;_o(b);f=(e|0)==1;h=b+120|0;if(f){w=+c[h>>3];l=b+128|0;c[h>>3]=+c[l>>3];c[l>>3]=w}else l=b+128|0;Ku(i|0,b|0,184)|0;s[m>>2]=r;a=i+176|0;if((t|0)>1){n=1;while(1){r=(s[m>>2]|0)+(4-1)&~(4-1);o=s[r>>2]|0;s[m>>2]=r+4;s[o+176>>2]=s[a>>2];if((Qa(b,s[2012+((s[a>>2]|0)+-1<<3)+4>>2]|0,1,g)|0)!=1){e=-1;break e}s[u>>2]=e;_o(b);if(f){w=+c[h>>3];c[h>>3]=+c[l>>3];c[l>>3]=w}Ku(o|0,b|0,184)|0;n=n+1|0;if((n|0)>=(t|0)){e=0;break}}}else e=0}else{e=ca()|0;s[n>>2]=s[e>>2];eo(3,4926,n);e=da(s[e>>2]|0)|0;s[l>>2]=5367;s[l+4>>2]=e;eo(3,5361,l);e=-1}}while(0);za(g)|0}else e=-1}while(0);d=v;return e|0}function _o(e){e=e|0;var t=0,i=0,r=0,a=0,o=0;o=d;d=d+192|0;a=o;Eo(e,a);Eo(e+4|0,a+4|0);t=0;do{So(e+8+(t<<5)|0,a+8+(t<<5)|0);So(e+8+(t<<5)+8|0,a+8+(t<<5)+8|0);So(e+8+(t<<5)+16|0,a+8+(t<<5)+16|0);So(e+8+(t<<5)+24|0,a+8+(t<<5)+24|0);t=t+1|0}while((t|0)!=3);i=e+176|0;r=0;do{So(e+104+(r<<3)|0,a+104+(r<<3)|0);r=r+1|0;t=s[i>>2]|0}while((r|0)<(s[2012+(t+-1<<3)>>2]|0));s[a+176>>2]=t;Ku(e|0,a|0,184)|0;d=o;return}function So(e,t){e=e|0;t=t|0;r[t>>0]=r[e+7>>0]|0;r[t+1>>0]=r[e+6>>0]|0;r[t+2>>0]=r[e+5>>0]|0;r[t+3>>0]=r[e+4>>0]|0;r[t+4>>0]=r[e+3>>0]|0;r[t+5>>0]=r[e+2>>0]|0;r[t+6>>0]=r[e+1>>0]|0;r[t+7>>0]=r[e>>0]|0;return}function Eo(e,t){e=e|0;t=t|0;r[t>>0]=r[e+3>>0]|0;r[t+1>>0]=r[e+2>>0]|0;r[t+2>>0]=r[e+1>>0]|0;r[t+3>>0]=r[e>>0]|0;return}function Co(e,t){e=e|0;t=t|0;var i=0,r=0,a=0.0,o=0,n=0,l=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0.0;S=d;d=d+64|0;w=S+24|0;k=S+16|0;y=S+8|0;_=S;b=Hs(208)|0;if(!b){eo(3,5472,S+32|0);kt(1)}Ku(b|0,e|0,184)|0;v=t<<1;g=(s[e>>2]|0)+v|0;s[b+192>>2]=g;v=(s[e+4>>2]|0)+v|0;s[b+196>>2]=v;s[b+200>>2]=t;s[b+204>>2]=t;i=ie(g<<3,v)|0;r=Hs(i)|0;s[b+184>>2]=r;if(!r){eo(3,5472,S+40|0);kt(1)}i=Hs(i)|0;s[b+188>>2]=i;if(!i){eo(3,5472,S+48|0);kt(1)}m=e+104|0;f=s[e+176>>2]|0;h=(g|0)>0?g<<1:0;if((v|0)>0){p=(g|0)>0;l=0;while(1){a=+(l-t|0);if(p){e=0;o=r;n=i;while(1){E=+(e-t|0);ko(m,E,a,y,_,f)|0;u[o>>2]=+c[y>>3];u[o+4>>2]=+c[_>>3];wo(m,E,a,w,k,f)|0;u[n>>2]=+c[w>>3];u[n+4>>2]=+c[k>>3];e=e+1|0;if((e|0)>=(g|0))break;else{o=o+8|0;n=n+8|0}}}i=i+(h<<2)|0;l=l+1|0;if((l|0)>=(v|0))break;else r=r+(h<<2)|0}}d=S;return b|0}function To(e){e=e|0;var t=0;if((e|0)!=0?(t=s[e>>2]|0,(t|0)!=0):0){js(s[t+184>>2]|0);js(s[(s[e>>2]|0)+188>>2]|0);js(s[e>>2]|0);s[e>>2]=0;t=0}else t=-1;return t|0}function Ao(e,t,i,r,a){e=e|0;t=+t;i=+i;r=r|0;a=a|0;var o=0,n=0,l=0;n=(s[e+16>>2]|0)+~~(t+.5)|0;o=(s[e+20>>2]|0)+~~(i+.5)|0;if(((n|0)>=0?(l=s[e+8>>2]|0,!((o|0)<0|(n|0)>=(l|0))):0)?(o|0)<(s[e+12>>2]|0):0){e=s[e>>2]|0;o=(ie(l,o)|0)+n<<1;s[r>>2]=s[e+(o<<2)>>2];s[a>>2]=s[e+((o|1)<<2)>>2];o=0}else o=-1;return o|0}function Mo(e,t,i,r,a){e=e|0;t=+t;i=+i;r=r|0;a=a|0;var o=0,n=0,l=0;n=(s[e+16>>2]|0)+~~(t+.5)|0;o=(s[e+20>>2]|0)+~~(i+.5)|0;if(((n|0)>=0?(l=s[e+8>>2]|0,!((o|0)<0|(n|0)>=(l|0))):0)?(o|0)<(s[e+12>>2]|0):0){e=s[e+4>>2]|0;o=(ie(l,o)|0)+n<<1;s[r>>2]=s[e+(o<<2)>>2];s[a>>2]=s[e+((o|1)<<2)>>2];o=0}else o=-1;return o|0}function xo(e){e=e|0;var t=0,i=0;t=Hs(8)|0;do{if(t){i=Hs(e<<3)|0;s[t>>2]=i;if(!i){js(t);t=0;break}else{s[t+4>>2]=e;break}}else t=0}while(0);return t|0}function Ro(e){e=e|0;js(s[e>>2]|0);js(e);return 0}function qo(e){e=e|0;var t=0.0,i=0,r=0.0,a=0,o=0;t=+U(+ +Po(e,e));if(t!=0.0){a=s[e>>2]|0;r=+c[a>>3];t=r<0.0?-t:t;r=r+t;c[a>>3]=r;r=1.0/+U(+(r*t));e=s[e+4>>2]|0;if((e|0)>0){i=0;do{o=a+(i<<3)|0;c[o>>3]=r*+c[o>>3];i=i+1|0}while((i|0)<(e|0))}}return+-t}function Po(e,t){e=e|0;t=t|0;var i=0.0,r=0,a=0;a=s[e+4>>2]|0;if((a|0)!=(s[t+4>>2]|0))kt(0);if((a|0)>0){r=s[e>>2]|0;e=s[t>>2]|0;t=0;i=0.0;do{i=i+ +c[r+(t<<3)>>3]*+c[e+(t<<3)>>3];t=t+1|0}while((t|0)<(a|0))}else i=0.0;return+i}function Io(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,o=0,n=0.0,l=0,u=0,f=0,h=0,p=0,m=0,b=0.0,g=0.0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R+8|0;x=R;_=s[e+8>>2]|0;if(((_|0)==(s[e+4>>2]|0)?(_|0)==(s[t+4>>2]|0):0)?(_|0)==((s[i+4>>2]|0)+1|0):0){C=_+-2|0;T=M+4|0;A=x+4|0;if((_|0)>2){v=_+-1|0;w=0;do{p=ie(w,_)|0;m=s[e>>2]|0;c[(s[t>>2]|0)+(w<<3)>>3]=+c[m+(p+w<<3)>>3];l=_-w+-1|0;s[T>>2]=l;k=w;w=w+1|0;u=m+(p+w<<3)|0;s[M>>2]=u;g=+qo(M);c[(s[i>>2]|0)+(k<<3)>>3]=g;if(!(g==0.0)){if((w|0)<(_|0)){f=s[t>>2]|0;h=w;do{if((w|0)<(h|0)){r=s[e>>2]|0;a=w;n=0.0;do{g=+c[r+((ie(a,_)|0)+h<<3)>>3];n=n+g*+c[m+(a+p<<3)>>3];a=a+1|0}while((a|0)<(h|0))}else n=0.0;r=ie(h,_)|0;if((h|0)<(_|0)){a=s[e>>2]|0;o=h;do{n=n+ +c[a+(o+r<<3)>>3]*+c[m+(o+p<<3)>>3];o=o+1|0}while((o|0)<(_|0))}c[f+(h<<3)>>3]=n;h=h+1|0}while((h|0)<(_|0))}s[A>>2]=l;s[T>>2]=l;s[M>>2]=u;s[x>>2]=(s[t>>2]|0)+(w<<3);n=+Po(M,x)*.5;if((v|0)>(k|0)){r=s[t>>2]|0;l=v;do{b=+c[m+(l+p<<3)>>3];a=r+(l<<3)|0;g=+c[a>>3]-n*b;c[a>>3]=g;a=ie(l,_)|0;if((l|0)<(_|0)){o=s[e>>2]|0;u=l;do{h=o+(u+a<<3)|0;c[h>>3]=+c[h>>3]-(b*+c[r+(u<<3)>>3]+g*+c[m+(u+p<<3)>>3]);u=u+1|0}while((u|0)<(_|0))}l=l+-1|0}while((l|0)>(k|0))}}}while((w|0)<(C|0))}if((_|0)<=1){if((_|0)>0){a=0;o=s[e>>2]|0;r=s[t>>2]|0;y=27}}else{y=ie(C,_)|0;o=s[e>>2]|0;r=s[t>>2]|0;c[r+(C<<3)>>3]=+c[o+(y+C<<3)>>3];a=_+-1|0;c[(s[i>>2]|0)+(C<<3)>>3]=+c[o+(a+y<<3)>>3];y=27}if((y|0)==27)c[r+(a<<3)>>3]=+c[o+((ie(a,_)|0)+a<<3)>>3];if((_|0)>0){f=(_|0)>0;m=_;do{i=m;m=m+-1|0;h=ie(m,_)|0;p=s[e>>2]|0;if((i|0)<=(C|0)?(S=_-m+-1|0,E=p+(h+i<<3)|0,(i|0)<(_|0)):0){r=(i|0)<(_|0);l=i;do{s[A>>2]=S;s[T>>2]=S;s[M>>2]=E;a=ie(l,_)|0;s[x>>2]=(s[e>>2]|0)+(a+i<<3);n=+Po(M,x);if(r){o=s[e>>2]|0;u=i;do{y=o+(u+a<<3)|0;c[y>>3]=+c[y>>3]-n*+c[p+(u+h<<3)>>3];u=u+1|0}while((u|0)<(_|0))}l=l+1|0}while((l|0)<(_|0))}if(f){r=0;do{c[p+(r+h<<3)>>3]=0.0;r=r+1|0}while((r|0)<(_|0))}c[p+(h+m<<3)>>3]=1.0}while((i|0)>1);r=0}else r=0}else r=-1;d=R;return r|0}function Fo(e,t,i){e=e|0;t=t|0;i=i|0;var r=0.0,a=0.0,s=0.0,o=0.0,n=0.0;s=+c[i>>3];o=+c[i+8>>3];a=+c[i+16>>3];r=+c[t+88>>3]+(s*+c[t+64>>3]+o*+c[t+72>>3]+a*+c[t+80>>3]);if(r==0.0)i=-1;else{n=+c[t+56>>3]+(s*+c[t+32>>3]+o*+c[t+40>>3]+a*+c[t+48>>3]);c[e>>3]=(+c[t+24>>3]+(s*+c[t>>3]+o*+c[t+8>>3]+a*+c[t+16>>3]))/r;c[e+8>>3]=n/r;i=0}return i|0}function Oo(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0.0,o=0.0,n=0.0,l=0.0,u=0.0,f=0.0,h=0.0,p=0.0,m=0.0,b=0.0,g=0.0,v=0.0,w=0,k=0,y=0.0,_=0,S=0,E=0,C=0,T=0,A=0,M=0.0,x=0.0,R=0.0,q=0.0,P=0.0,I=0.0,F=0.0,O=0.0,N=0.0;A=d;d=d+1072|0;E=A+1056|0;S=A+768|0;_=A+192|0;T=A+48|0;C=A;N=+c[i>>3];q=+c[r>>3];v=N*q;O=+c[i+8>>3];w=r+8|0;R=+c[w>>3];y=O*R;n=+c[i+16>>3];P=+c[r+16>>3];u=n*P;f=+c[i+24>>3];F=+c[i+32>>3];I=+c[i+40>>3];h=R*I;l=+c[i+48>>3];p=P*l;m=+c[i+56>>3];x=+c[i+64>>3];M=+c[i+72>>3];b=R*M;a=+c[i+80>>3];g=P*a;o=+c[i+88>>3];c[S>>3]=v;c[S+8>>3]=N*R;c[S+16>>3]=N*P;c[S+24>>3]=q*O;c[S+32>>3]=y;c[S+40>>3]=P*O;c[S+48>>3]=q*n;c[S+56>>3]=R*n;c[S+64>>3]=u;c[S+72>>3]=N;c[S+80>>3]=O;c[S+88>>3]=n;n=q*F;c[S+96>>3]=n;c[S+104>>3]=R*F;c[S+112>>3]=P*F;c[S+120>>3]=q*I;c[S+128>>3]=h;c[S+136>>3]=P*I;c[S+144>>3]=q*l;c[S+152>>3]=R*l;c[S+160>>3]=p;c[S+168>>3]=F;c[S+176>>3]=I;c[S+184>>3]=l;l=x*q;c[S+192>>3]=l;c[S+200>>3]=R*x;c[S+208>>3]=P*x;c[S+216>>3]=q*M;R=+c[w>>3];c[S+224>>3]=M*R;c[S+232>>3]=P*M;c[S+240>>3]=q*a;c[S+248>>3]=R*a;c[S+256>>3]=g;c[S+264>>3]=x;c[S+272>>3]=M;c[S+280>>3]=a;r=_+64|0;i=_;w=i+64|0;do{s[i>>2]=0;i=i+4|0}while((i|0)<(w|0));c[r>>3]=-1.0;r=_+72|0;s[r>>2]=0;s[r+4>>2]=0;s[r+8>>2]=0;s[r+12>>2]=0;s[r+16>>2]=0;s[r+20>>2]=0;s[r+24>>2]=0;s[r+28>>2]=0;c[_+104>>3]=1.0;r=_+160|0;i=_+112|0;w=i+48|0;do{s[i>>2]=0;i=i+4|0}while((i|0)<(w|0));c[r>>3]=1.0;r=_+240|0;i=_+168|0;w=i+72|0;do{s[i>>2]=0;i=i+4|0}while((i|0)<(w|0));c[r>>3]=-1.0;r=_+296|0;i=_+248|0;w=i+48|0;do{s[i>>2]=0;i=i+4|0}while((i|0)<(w|0));c[r>>3]=-1.0;r=_+304|0;s[r>>2]=0;s[r+4>>2]=0;s[r+8>>2]=0;s[r+12>>2]=0;s[r+16>>2]=0;s[r+20>>2]=0;s[r+24>>2]=0;s[r+28>>2]=0;c[_+336>>3]=1.0;r=_+456|0;i=_+344|0;w=i+112|0;do{s[i>>2]=0;i=i+4|0}while((i|0)<(w|0));c[r>>3]=1.0;r=_+512|0;i=_+464|0;w=i+48|0;do{s[i>>2]=0;i=i+4|0}while((i|0)<(w|0));c[r>>3]=1.0;r=_+568|0;i=_+520|0;w=i+48|0;do{s[i>>2]=0;i=i+4|0}while((i|0)<(w|0));c[r>>3]=1.0;k=0;do{w=0;do{i=T+(k*48|0)+(w<<3)|0;c[i>>3]=0.0;a=0.0;r=0;do{a=a+ +c[S+(k*96|0)+(r<<3)>>3]*+c[_+(r*48|0)+(w<<3)>>3];r=r+1|0}while((r|0)!=12);c[i>>3]=a;w=w+1|0}while((w|0)!=6);k=k+1|0}while((k|0)!=3);O=f+(v+y+u);N=m+(n+h+p);a=o+(l+b+g);o=+c[t>>3];n=+c[t+8>>3];l=+c[t+16>>3];u=+c[t+24>>3]+(O*o+N*n+a*l);f=+c[t+32>>3];h=+c[t+40>>3];p=+c[t+48>>3];m=+c[t+56>>3]+(O*f+N*h+a*p);b=+c[t+64>>3];g=+c[t+72>>3];v=+c[t+80>>3];a=+c[t+88>>3]+(O*b+N*g+a*v);if(a==0.0){eo(3,5089,E);r=-1}else{N=a*a;c[C>>3]=(o*a-u*b)/N;c[C+8>>3]=(a*n-u*g)/N;c[C+16>>3]=(a*l-u*v)/N;c[C+24>>3]=(a*f-m*b)/N;c[C+32>>3]=(a*h-m*g)/N;c[C+40>>3]=(a*p-m*v)/N;i=0;do{a=+c[C+(i*24|0)>>3];o=+c[C+(i*24|0)+8>>3];n=+c[C+(i*24|0)+16>>3];r=0;do{E=e+(i*48|0)+(r<<3)|0;c[E>>3]=0.0;N=a*+c[T+(r<<3)>>3]+0.0;c[E>>3]=N;N=N+o*+c[T+48+(r<<3)>>3];c[E>>3]=N;c[E>>3]=N+n*+c[T+96+(r<<3)>>3];r=r+1|0}while((r|0)!=6);i=i+1|0}while((i|0)!=2);r=0}d=A;return r|0}function No(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,o=0,n=0,l=0;l=d;d=d+48|0;n=l+24|0;o=l+12|0;a=l;s[n+4>>2]=6;s[n+8>>2]=1;s[n>>2]=e;s[o+4>>2]=r;s[o+8>>2]=1;s[o>>2]=t;s[a+4>>2]=r;s[a+8>>2]=6;s[a>>2]=i;t=lo(a)|0;do{if(t){e=no(t,a)|0;if(!e){co(t)|0;i=-1;break}i=no(t,o)|0;if(!i){co(t)|0;co(e)|0;i=-1;break}if((mo(e)|0)<0){co(t)|0;co(e)|0;co(i)|0;i=-1;break}else{fo(n,e,i)|0;co(t)|0;co(e)|0;co(i)|0;i=0;break}}else i=-1}while(0);d=l;return i|0}function Do(e,t){e=e|0;t=t|0;var i=0.0,r=0.0,a=0.0,s=0,o=0.0,n=0.0,l=0.0,u=0,f=0,h=0,p=0.0,m=0.0,b=0.0,g=0.0,v=0.0,w=0.0,k=0.0;h=d;d=d+192|0;u=h+96|0;f=h;o=+c[t>>3];l=+c[t+8>>3];r=+c[t+16>>3];i=o*o+l*l+r*r;if(i==0.0){n=0.0;a=0.0;r=1.0;i=0.0}else{i=+U(+i);n=i;a=r/i;r=o/i;i=l/i}k=+c[t+24>>3];g=+c[t+32>>3];l=+c[t+40>>3];p=+V(+n);o=1.0-p;n=+Y(+n);c[u>>3]=p+r*r*o;w=i*r*o;v=a*n;c[u+8>>3]=w-v;b=r*a*o;m=i*n;c[u+16>>3]=b+m;c[u+24>>3]=k;c[u+32>>3]=w+v;c[u+40>>3]=p+i*i*o;i=i*a*o;n=r*n;c[u+48>>3]=i-n;c[u+56>>3]=g;c[u+64>>3]=b-m;c[u+72>>3]=i+n;c[u+80>>3]=p+a*a*o;c[u+88>>3]=l;s=0;do{i=+c[e+(s<<5)>>3];r=+c[e+(s<<5)+8>>3];a=+c[e+(s<<5)+16>>3];t=0;do{c[f+(s<<5)+(t<<3)>>3]=i*+c[u+(t<<3)>>3]+r*+c[u+32+(t<<3)>>3]+a*+c[u+64+(t<<3)>>3];t=t+1|0}while((t|0)!=4);t=f+(s<<5)+24|0;c[t>>3]=+c[e+(s<<5)+24>>3]+ +c[t>>3];s=s+1|0}while((s|0)!=3);t=0;do{c[e+(t<<5)>>3]=+c[f+(t<<5)>>3];c[e+(t<<5)+8>>3]=+c[f+(t<<5)+8>>3];c[e+(t<<5)+16>>3]=+c[f+(t<<5)+16>>3];c[e+(t<<5)+24>>3]=+c[f+(t<<5)+24>>3];t=t+1|0}while((t|0)!=3);d=h;return 0}function $o(e){e=e|0;var t=0,i=0;t=Hs(136)|0;if(!t)t=0;else{i=0;do{c[t+(i<<5)>>3]=+c[e+(i<<5)>>3];c[t+(i<<5)+8>>3]=+c[e+(i<<5)+8>>3];c[t+(i<<5)+16>>3]=+c[e+(i<<5)+16>>3];c[t+(i<<5)+24>>3]=+c[e+(i<<5)+24>>3];i=i+1|0}while((i|0)!=3);s[t+96>>2]=10;c[t+104>>3]=.10000000149011612;c[t+112>>3]=.9900000095367432;c[t+120>>3]=4.0;c[t+128>>3]=.5}return t|0}function Lo(e){e=e|0;var t=0;t=s[e>>2]|0;if(!t)t=-1;else{js(t);s[e>>2]=0;t=0}return t|0}function Ho(e,t){e=e|0;t=+t;if(!e)e=-1;else{c[e+128>>3]=t;e=0}return e|0}function jo(e,t,i,r,a){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;var o=0,n=0.0,l=0,u=0,f=0.0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0.0,T=0.0;E=d;d=d+176|0;u=E+168|0;l=E+160|0;k=E+48|0;_=E+64|0;y=E;v=t+8|0;o=s[v>>2]|0;do{if((o|0)>=3){S=Hs(o*96|0)|0;if(!S){eo(3,5109,l);o=-1;break}w=Hs(o<<4)|0;if(!w){eo(3,5109,u);js(S);o=-1;break}else o=0;do{c[r+(o<<5)>>3]=+c[i+(o<<5)>>3];c[r+(o<<5)+8>>3]=+c[i+(o<<5)+8>>3];c[r+(o<<5)+16>>3]=+c[i+(o<<5)+16>>3];c[r+(o<<5)+24>>3]=+c[i+(o<<5)+24>>3];o=o+1|0}while((o|0)!=3);b=t+4|0;u=k+8|0;i=e+104|0;h=e+120|0;p=e+112|0;m=e+96|0;f=0.0;g=0;e:while(1){to(e,r,_)|0;o=s[v>>2]|0;if((o|0)>0){n=0.0;l=0;do{if((Fo(k,_,(s[b>>2]|0)+(l*24|0)|0)|0)<0){l=10;break e}o=s[t>>2]|0;T=+c[o+(l<<4)>>3]-+c[k>>3];C=+c[o+(l<<4)+8>>3]-+c[u>>3];n=n+(T*T+C*C);o=l<<1;c[w+(o<<3)>>3]=T;c[w+((o|1)<<3)>>3]=C;l=l+1|0;o=s[v>>2]|0}while((l|0)<(o|0))}else n=0.0;n=n/+(o|0);if(n<+c[i>>3]){l=24;break}if(((g|0)>0?n<+c[h>>3]:0)?n/f>+c[p>>3]:0){l=24;break}if((g|0)==(s[m>>2]|0)){l=24;break}if((o|0)>0){l=0;do{if((Oo(S+(l*12<<3)|0,e,r,(s[b>>2]|0)+(l*24|0)|0)|0)<0){l=20;break e}l=l+1|0;o=s[v>>2]|0}while((l|0)<(o|0))}if((No(y,w,S,o<<1)|0)<0){l=22;break}Do(r,y)|0;f=n;g=g+1|0}if((l|0)==10){zo(S,w);o=-1;break}else if((l|0)==20){zo(S,w);o=-1;break}else if((l|0)==22){zo(S,w);o=-1;break}else if((l|0)==24){c[a>>3]=n;js(S);js(w);o=0;break}}else o=-1}while(0);d=E;return o|0}function zo(e,t){e=e|0;t=t|0;js(e);js(t);return}function Bo(e,t,i,r,a){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;var o=0,n=0.0,l=0,u=0,f=0,h=0,p=0,m=0.0,b=0.0,g=0.0,v=0.0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0,P=0;P=d;d=d+192|0;h=P+184|0;f=P+176|0;u=P+168|0;o=P+160|0;A=P+48|0;x=P+64|0;M=P;T=t+8|0;l=s[T>>2]|0;do{if((l|0)>=4){p=~~(+(l|0)*+c[e+128>>3])+-1|0;p=(p|0)<3?3:p;q=Hs(l*96|0)|0;if(!q){eo(3,5109,o);o=-1;break}R=Hs(l<<4)|0;if(!R){eo(3,5109,u);js(q);o=-1;break}o=l<<3;C=Hs(o)|0;if(!C){eo(3,5109,f);js(q);js(R);o=-1;break}E=Hs(o)|0;if(!E){eo(3,5109,h);js(q);js(R);js(C);o=-1;break}else o=0;do{c[r+(o<<5)>>3]=+c[i+(o<<5)>>3];c[r+(o<<5)+8>>3]=+c[i+(o<<5)+8>>3];c[r+(o<<5)+16>>3]=+c[i+(o<<5)+16>>3];c[r+(o<<5)+24>>3]=+c[i+(o<<5)+24>>3];o=o+1|0}while((o|0)!=3);_=t+4|0;S=A+8|0;h=E+(p<<3)|0;i=e+104|0;p=e+120|0;w=e+112|0;k=e+96|0;g=0.0;y=0;e:while(1){to(e,r,x)|0;o=s[T>>2]|0;if((o|0)>0){l=0;do{if((Fo(A,x,(s[_>>2]|0)+(l*24|0)|0)|0)<0){l=14;break e}o=s[t>>2]|0;b=+c[o+(l<<4)>>3]-+c[A>>3];v=+c[o+(l<<4)+8>>3]-+c[S>>3];o=l<<1;c[R+(o<<3)>>3]=b;c[R+((o|1)<<3)>>3]=v;v=b*b+v*v;c[E+(l<<3)>>3]=v;c[C+(l<<3)>>3]=v;l=l+1|0;o=s[T>>2]|0}while((l|0)<(o|0))}ds(E,o,8,1);v=+c[h>>3]*4.0;v=v<16.0?16.0:v;l=s[T>>2]|0;b=v/6.0;if((l|0)>0){n=0.0;o=0;do{m=+c[E+(o<<3)>>3];if(m>v)m=b;else{m=1.0-m/v;m=b*(1.0-m*(m*m))}n=n+m;o=o+1|0}while((o|0)<(l|0))}else n=0.0;n=n/+(l|0);if(n<+c[i>>3]){l=36;break}if(((y|0)>0?n<+c[p>>3]:0)?n/g>+c[w>>3]:0){l=36;break}if((y|0)==(s[k>>2]|0)){l=36;break}if((l|0)>0){f=0;o=0;do{m=+c[C+(f<<3)>>3];if(m<=v){l=o*6|0;u=q+(l<<3)|0;if((Oo(u,e,r,(s[_>>2]|0)+(f*24|0)|0)|0)<0){l=28;break e}g=1.0-m/v;g=g*g;c[u>>3]=+c[u>>3]*g;u=q+((l|1)<<3)|0;c[u>>3]=+c[u>>3]*g;u=q+(l+2<<3)|0;c[u>>3]=g*+c[u>>3];u=q+(l+3<<3)|0;c[u>>3]=g*+c[u>>3];u=q+(l+4<<3)|0;c[u>>3]=g*+c[u>>3];u=q+(l+5<<3)|0;c[u>>3]=g*+c[u>>3];u=q+(l+6<<3)|0;c[u>>3]=g*+c[u>>3];u=q+(l+7<<3)|0;c[u>>3]=g*+c[u>>3];u=q+(l+8<<3)|0;c[u>>3]=g*+c[u>>3];u=q+(l+9<<3)|0;c[u>>3]=g*+c[u>>3];u=q+(l+10<<3)|0;c[u>>3]=g*+c[u>>3];l=q+(l+11<<3)|0;c[l>>3]=g*+c[l>>3];l=f<<1;c[R+(o<<3)>>3]=g*+c[R+(l<<3)>>3];c[R+(o+1<<3)>>3]=g*+c[R+((l|1)<<3)>>3];l=s[T>>2]|0;o=o+2|0}f=f+1|0}while((f|0)<(l|0))}else o=0;if((o|0)<6){l=32;break}if((No(M,R,q,o)|0)<0){l=34;break}Do(r,M)|0;g=n;y=y+1|0}if((l|0)==14){Uo(q,R,C,E);o=-1;break}else if((l|0)==28){Uo(q,R,C,E);o=-1;break}else if((l|0)==32){Uo(q,R,C,E);o=-1;break}else if((l|0)==34){Uo(q,R,C,E);o=-1;break}else if((l|0)==36){c[a>>3]=n;js(q);js(R);js(C);js(E);o=0;break}}else o=-1}while(0);d=P;return o|0}function Uo(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;js(e);js(t);js(i);js(r);return}function Wo(e,t){e=e|0;t=t|0;var i=0.0;i=+c[e>>3]-+c[t>>3];return(i<0.0?-1:i>0.0&1)|0}function Vo(e,t,i,r,a){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;var o=0,n=0.0,l=0.0,u=0,f=0.0,h=0.0,p=0,m=0.0,b=0.0,g=0.0,v=0.0,w=0.0,k=0,y=0.0,_=0,S=0,E=0,C=0,T=0.0,A=0,M=0,x=0,R=0.0,q=0.0,P=0.0,I=0.0,F=0.0,O=0.0,N=0.0,D=0.0,$=0.0,L=0.0,H=0.0,j=0.0,z=0.0,B=0.0,W=0.0,V=0,Y=0,Q=0,G=0,K=0,X=0;V=d;d=d+64|0;x=V+48|0;C=V+40|0;E=V+32|0;S=V+24|0;k=V+16|0;p=V+8|0;u=V;e:do{if((r|0)>=4){o=0;while(1){if((o|0)>=(r|0))break;if(+c[i+(o*24|0)+16>>3]!=0.0){o=-1;break e}else o=o+1|0}if((((((((!(+c[e>>3]==0.0)?!(+c[e+32>>3]!=0.0):0)?(A=e+40|0,!(+c[A>>3]==0.0)):0)?!(+c[e+64>>3]!=0.0):0)?!(+c[e+72>>3]!=0.0):0)?!(+c[e+80>>3]!=1.0):0)?!(+c[e+24>>3]!=0.0):0)?!(+c[e+56>>3]!=0.0):0)?!(+c[e+88>>3]!=0.0):0){o=r<<1;M=so(o,8)|0;if(!M){eo(3,5124,u);o=-1;break}_=so(o,1)|0;if(!_){co(M)|0;eo(3,5150,p);o=-1;break}if(r){o=s[M>>2]|0;u=s[_>>2]|0;p=0;do{X=i+(p*24|0)|0;Y=p<<4;c[o+(Y<<3)>>3]=+c[X>>3];K=i+(p*24|0)+8|0;c[o+((Y|1)<<3)>>3]=+c[K>>3];c[o+((Y|2)<<3)>>3]=1.0;c[o+((Y|3)<<3)>>3]=0.0;c[o+((Y|4)<<3)>>3]=0.0;c[o+((Y|5)<<3)>>3]=0.0;G=t+(p<<4)|0;c[o+((Y|6)<<3)>>3]=-(+c[X>>3]*+c[G>>3]);c[o+((Y|7)<<3)>>3]=-(+c[K>>3]*+c[G>>3]);c[o+((Y|8)<<3)>>3]=0.0;c[o+((Y|9)<<3)>>3]=0.0;c[o+((Y|10)<<3)>>3]=0.0;c[o+((Y|11)<<3)>>3]=+c[X>>3];c[o+((Y|12)<<3)>>3]=+c[K>>3];c[o+((Y|13)<<3)>>3]=1.0;Q=t+(p<<4)+8|0;c[o+((Y|14)<<3)>>3]=-(+c[X>>3]*+c[Q>>3]);c[o+((Y|15)<<3)>>3]=-(+c[K>>3]*+c[Q>>3]);Y=p<<1;c[u+(Y<<3)>>3]=+c[G>>3];c[u+((Y|1)<<3)>>3]=+c[Q>>3];p=p+1|0}while((p|0)!=(r|0))}r=lo(M)|0;if(!r){co(M)|0;co(_)|0;eo(3,5176,k);o=-1;break}p=no(r,M)|0;if(!p){co(M)|0;co(_)|0;co(r)|0;eo(3,5202,S);o=-1;break}u=no(r,_)|0;if(!u){co(M)|0;co(_)|0;co(r)|0;co(p)|0;eo(3,5228,E);o=-1;break}if((mo(p)|0)<0){co(M)|0;co(_)|0;co(r)|0;co(p)|0;co(u)|0;eo(3,5254,C);o=-1;break}o=no(p,u)|0;if(!o){co(M)|0;co(_)|0;co(r)|0;co(p)|0;co(u)|0;eo(3,5280,x);o=-1;break}X=s[o>>2]|0;m=+c[X+48>>3];B=+c[e+48>>3];w=+c[A>>3];n=(+c[X+24>>3]-m*B)/w;v=+c[e+16>>3];W=+c[e+8>>3];g=+c[e>>3];b=(+c[X>>3]-m*v-n*W)/g;l=+c[X+56>>3];f=(+c[X+32>>3]-B*l)/w;h=(+c[X+8>>3]-v*l-W*f)/g;w=(+c[X+40>>3]-B)/w;g=(+c[X+16>>3]-v-W*w)/g;co(M)|0;co(_)|0;co(r)|0;co(p)|0;co(u)|0;co(o)|0;W=+U(+(m*m+(n*n+b*b)));v=+U(+(l*l+(f*f+h*h)));b=b/W;n=n/W;m=m/W;h=h/v;f=f/v;l=l/v;v=(W+v)*.5;g=g/v;W=1.0/v;if(W<0.0){H=-n;l=-l;f=-f;m=-m;h=-h;j=-b;B=-g;z=-W}else{H=n;j=b;B=g;z=w/v}n=l*H-f*m;b=h*m-l*j;g=f*j-h*H;v=+U(+(g*g+(n*n+b*b)));do{if(!(v==0.0)){w=n/v;b=b/v;n=g/v;L=l*m+(f*H+h*j);L=L<0.0?-L:L;L=(+U(+(L+1.0))+ +U(+(1.0-L)))*.5;if(j*b-H*w!=0.0){o=0;R=j;y=H;q=m;F=w;I=b}else{X=j*n-m*w!=0.0;o=X?1:2;R=X?j:m;y=X?m:H;q=X?H:j;F=X?w:n;I=X?n:b;n=X?b:w}g=R*I;v=y*F;b=g-v;if(b==0.0){b=H;n=j;break}P=(y*n-q*I)/b;T=L*I/b;g=v-g;b=(R*n-q*F)/g;g=L*F/g;v=P*P+b*b+1.0;w=P*T+b*g;y=w*w-v*(T*T+g*g+-1.0);if(y<0.0){b=H;n=j;break}$=+U(+y);D=($-w)/v;q=T+P*D;N=g+b*D;$=(-w-$)/v;P=T+P*$;g=g+b*$;X=(o|0)==1;b=X?I:n;v=X?n:I;O=X?D:N;D=X?N:D;N=X?$:g;I=X?g:$;X=(o|0)==2&(X^1);g=X?F:b;b=X?b:F;$=X?D:q;D=X?q:D;n=X?I:P;F=X?P:I;if(h*v-f*b!=0.0){o=0;R=h;y=f;q=l;I=b;T=v}else{X=h*g-l*b!=0.0;o=X?1:2;R=X?h:l;y=X?l:f;q=X?f:h;I=X?b:g;T=X?g:v;g=X?v:b}v=R*T;w=y*I;b=v-w;if(b==0.0){b=H;n=j;break}P=(y*g-q*T)/b;T=L*T/b;b=w-v;y=(R*g-q*I)/b;b=L*I/b;g=P*P+y*y+1.0;v=P*T+y*b;w=v*v-g*(T*T+b*b+-1.0);if(w<0.0){b=H;n=j;break}w=+U(+w);l=(w-v)/g;j=T+P*l;H=b+y*l;w=(-v-w)/g;m=T+P*w;h=b+y*w;X=(o|0)==1;f=X?l:H;l=X?H:l;y=X?w:h;w=X?h:w;X=(o|0)==2&(X^1);h=X?l:j;l=X?j:l;T=X?w:m;w=X?m:w;m=D*l+(O*f+$*h);m=m<0.0?-m:m;b=D*w+(O*y+$*T);b=b<0.0?-b:b;g=F*l+(N*f+n*h);g=g<0.0?-g:g;v=F*w+(N*y+n*T);v=v<0.0?-v:v;if(m<b)if(m<g){if(m<v){b=O;m=D;n=$;break}b=N;l=w;f=y;m=F;h=T;break}else{if(g<v){b=N;m=F;break}b=N;l=w;f=y;m=F;h=T;break}else if(b<g){if(b<v){b=O;l=w;f=y;m=D;h=T;n=$;break}b=N;l=w;f=y;m=F;h=T;break}else{if(g<v){b=N;m=F;break}b=N;l=w;f=y;m=F;h=T;break}}else{b=H;n=j}}while(0);$=l*b-f*m;L=h*m-l*n;H=f*n-h*b;j=+U(+(H*H+($*$+L*L)));c[a>>3]=n;c[a+32>>3]=b;c[a+64>>3]=m;c[a+8>>3]=h;c[a+40>>3]=f;c[a+72>>3]=l;c[a+16>>3]=$/j;c[a+48>>3]=L/j;c[a+80>>3]=H/j;c[a+24>>3]=B;c[a+56>>3]=z;c[a+88>>3]=W;o=0}else o=-1}else o=-1}while(0);d=V;return o|0}function Yo(e){e=e|0;js(s[e>>2]|0);js(e);return 0}function Qo(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;return+ +Ko(e,t,i,r,0)}function Go(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;return+ +Ko(e,t,i,r,1)}function Ko(e,t,i,r,a){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;var o=0.0,n=0,l=0,u=0,f=0,h=0.0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+208|0;C=q+200|0;E=q+192|0;T=q+96|0;A=q;M=r+4|0;m=s[M>>2]|0;b=r+112|0;g=r+120|0;if((m|0)>0){k=s[r>>2]|0;y=(i|0)>0;_=(i|0)>0;S=0;do{if(!(s[k+(S*320|0)+4>>2]|0)){if(y){l=s[k+(S*320|0)>>2]|0;u=0;n=-1;do{if((s[t+(u<<8)+8>>2]|0)==(l|0)?(h=+c[t+(u<<8)+40>>3],!(h<+c[b>>3])):0)if(!((n|0)!=-1?!(+c[t+(n<<8)+40>>3]<h):0))n=u;u=u+1|0}while((u|0)<(i|0))}else n=-1;s[k+(S*320|0)+304>>2]=n;if((n|0)>-1)s[t+(n<<8)+16>>2]=s[t+(n<<8)+20>>2]}else{u=k+(S*320|0)+312|0;f=k+(S*320|0)|0;if(_){p=0;n=-1;do{l=s[t+(p<<8)+12>>2]|0;if((l|0)==0?(w=t+(p<<8)+248|0,v=s[w>>2]|0,w=s[w+4>>2]|0,!((v|0)==0&(w|0)==0)):0){l=u;if((v|0)==(s[l>>2]|0)?(w|0)==(s[l+4>>2]|0):0)R=20}else if((l|0)==(s[f>>2]|0))R=20;if((R|0)==20){R=0;o=+c[t+(p<<8)+48>>3];if(!(o<+c[g>>3]))if(!((n|0)!=-1?!(+c[t+(n<<8)+48>>3]<o):0))n=p}p=p+1|0}while((p|0)<(i|0))}else n=-1;s[k+(S*320|0)+304>>2]=n;if((n|0)>-1)s[t+(n<<8)+16>>2]=s[t+(n<<8)+24>>2]}S=S+1|0}while((S|0)<(m|0))}if((m|0)>0){b=0;n=0;m=0;l=0;while(1){u=s[r>>2]|0;f=s[u+(b*320|0)+304>>2]|0;do{if((f|0)<0)u=m;else{p=t+(f<<8)|0;if(+ku(e,p,+c[u+(b*320|0)+8>>3],A)>4.0){s[(s[r>>2]|0)+(b*320|0)+304>>2]=-1;u=t+(f<<8)+236|0;if(s[u>>2]|0){u=m;break}s[u>>2]=7;u=m;break}u=s[p>>2]|0;if((l|0)==0|(m|0)<(u|0)){n=0;do{c[T+(n<<5)>>3]=+c[A+(n<<5)>>3];c[T+(n<<5)+8>>3]=+c[A+(n<<5)+8>>3];c[T+(n<<5)+16>>3]=+c[A+(n<<5)+16>>3];c[T+(n<<5)+24>>3]=+c[A+(n<<5)+24>>3];n=n+1|0}while((n|0)!=3);n=b}else u=m;l=l+1|0}}while(0);b=b+1|0;if((b|0)>=(s[M>>2]|0))break;else m=u}}else{n=0;l=0}do{if((l|0)!=0?(l|0)>=(s[r+128>>2]|0):0){to(T,(s[r>>2]|0)+(n*320|0)+112|0,A)|0;m=l<<2;g=Hs(l<<6)|0;if(!g){eo(3,5472,E);kt(1)}b=Hs(l*96|0)|0;if(!b){eo(3,5472,C);kt(1)}u=s[M>>2]|0;if((u|0)>0){f=s[r>>2]|0;p=0;n=0;do{l=s[f+(p*320|0)+304>>2]|0;if((l|0)>=0){E=s[t+(l<<8)+16>>2]|0;i=(4-E|0)%4|0;C=n<<3;c[g+(C<<3)>>3]=+c[t+(l<<8)+168+(i<<4)>>3];c[g+((C|1)<<3)>>3]=+c[t+(l<<8)+168+(i<<4)+8>>3];i=(5-E|0)%4|0;c[g+((C|2)<<3)>>3]=+c[t+(l<<8)+168+(i<<4)>>3];c[g+((C|3)<<3)>>3]=+c[t+(l<<8)+168+(i<<4)+8>>3];i=(6-E|0)%4|0;c[g+((C|4)<<3)>>3]=+c[t+(l<<8)+168+(i<<4)>>3];c[g+((C|5)<<3)>>3]=+c[t+(l<<8)+168+(i<<4)+8>>3];E=(7-E|0)%4|0;c[g+((C|6)<<3)>>3]=+c[t+(l<<8)+168+(E<<4)>>3];c[g+((C|7)<<3)>>3]=+c[t+(l<<8)+168+(E<<4)+8>>3];C=n*12|0;c[b+(C<<3)>>3]=+c[f+(p*320|0)+208>>3];c[b+((C|1)<<3)>>3]=+c[f+(p*320|0)+216>>3];c[b+((C|2)<<3)>>3]=+c[f+(p*320|0)+224>>3];c[b+((C|3)<<3)>>3]=+c[f+(p*320|0)+232>>3];c[b+(C+4<<3)>>3]=+c[f+(p*320|0)+240>>3];c[b+(C+5<<3)>>3]=+c[f+(p*320|0)+248>>3];c[b+(C+6<<3)>>3]=+c[f+(p*320|0)+256>>3];c[b+(C+7<<3)>>3]=+c[f+(p*320|0)+264>>3];c[b+(C+8<<3)>>3]=+c[f+(p*320|0)+272>>3];c[b+(C+9<<3)>>3]=+c[f+(p*320|0)+280>>3];E=s[r>>2]|0;c[b+(C+10<<3)>>3]=+c[E+(p*320|0)+288>>3];c[b+(C+11<<3)>>3]=+c[E+(p*320|0)+296>>3];n=n+1|0}p=p+1|0}while((p|0)<(u|0))}f=r+104|0;l=(a|0)!=0;if(!(s[f>>2]|0)){n=r+8|0;o=+_u(e,A,g,b,m,n);if(l&o>=20.0){Ho(s[e>>2]|0,.8)|0;o=+Su(e,A,g,b,m,n);if(o>=20.0){Ho(s[e>>2]|0,.6)|0;o=+Su(e,A,g,b,m,n);if(o>=20.0){Ho(s[e>>2]|0,.4)|0;o=+Su(e,A,g,b,m,n);if(o>=20.0){Ho(s[e>>2]|0,0.0)|0;o=+Su(e,A,g,b,m,n)}}}}js(b);js(g)}else{o=+_u(e,A,g,b,m,T);u=r+8|0;h=+_u(e,u,g,b,m,u);n=o<h;do{if(l){if(n){n=0;do{c[r+8+(n<<5)>>3]=+c[T+(n<<5)>>3];c[r+8+(n<<5)+8>>3]=+c[T+(n<<5)+8>>3];c[r+8+(n<<5)+16>>3]=+c[T+(n<<5)+16>>3];c[r+8+(n<<5)+24>>3]=+c[T+(n<<5)+24>>3];n=n+1|0}while((n|0)!=3)}else o=h;if(o>=20.0){Ho(s[e>>2]|0,.8)|0;o=+Su(e,A,g,b,m,T);h=+Su(e,u,g,b,m,u);if(o<h){n=0;do{c[r+8+(n<<5)>>3]=+c[T+(n<<5)>>3];c[r+8+(n<<5)+8>>3]=+c[T+(n<<5)+8>>3];c[r+8+(n<<5)+16>>3]=+c[T+(n<<5)+16>>3];c[r+8+(n<<5)+24>>3]=+c[T+(n<<5)+24>>3];n=n+1|0}while((n|0)!=3)}else o=h;if(o>=20.0){Ho(s[e>>2]|0,.6)|0;o=+Su(e,A,g,b,m,T);h=+Su(e,u,g,b,m,u);if(o<h){n=0;do{c[r+8+(n<<5)>>3]=+c[T+(n<<5)>>3];c[r+8+(n<<5)+8>>3]=+c[T+(n<<5)+8>>3];c[r+8+(n<<5)+16>>3]=+c[T+(n<<5)+16>>3];c[r+8+(n<<5)+24>>3]=+c[T+(n<<5)+24>>3];n=n+1|0}while((n|0)!=3)}else o=h;if(o>=20.0){Ho(s[e>>2]|0,.4)|0;o=+Su(e,A,g,b,m,T);h=+Su(e,u,g,b,m,u);if(o<h){n=0;do{c[r+8+(n<<5)>>3]=+c[T+(n<<5)>>3];c[r+8+(n<<5)+8>>3]=+c[T+(n<<5)+8>>3];c[r+8+(n<<5)+16>>3]=+c[T+(n<<5)+16>>3];c[r+8+(n<<5)+24>>3]=+c[T+(n<<5)+24>>3];n=n+1|0}while((n|0)!=3)}else o=h;if(o>=20.0){Ho(s[e>>2]|0,0.0)|0;o=+Su(e,A,g,b,m,T);h=+Su(e,u,g,b,m,u);if(o<h)n=0;else{o=h;break}do{c[r+8+(n<<5)>>3]=+c[T+(n<<5)>>3];c[r+8+(n<<5)+8>>3]=+c[T+(n<<5)+8>>3];c[r+8+(n<<5)+16>>3]=+c[T+(n<<5)+16>>3];c[r+8+(n<<5)+24>>3]=+c[T+(n<<5)+24>>3];n=n+1|0}while((n|0)!=3)}}}}}else if(n){n=0;do{c[r+8+(n<<5)>>3]=+c[T+(n<<5)>>3];c[r+8+(n<<5)+8>>3]=+c[T+(n<<5)+8>>3];c[r+8+(n<<5)+16>>3]=+c[T+(n<<5)+16>>3];c[r+8+(n<<5)+24>>3]=+c[T+(n<<5)+24>>3];n=n+1|0}while((n|0)!=3)}else o=h}while(0);js(b);js(g)}if(o<20.0){s[f>>2]=1;break}s[f>>2]=0;f=s[M>>2]|0;if((f|0)>0){n=s[r>>2]|0;u=0;do{l=s[n+(u*320|0)+304>>2]|0;if((l|0)>=0?(x=t+(l<<8)+236|0,(s[x>>2]|0)==0):0)s[x>>2]=8;u=u+1|0}while((u|0)<(f|0))}}else R=38}while(0);if((R|0)==38){s[r+104>>2]=0;o=-1.0}d=q;return+o}function Xo(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0,l=0,u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0,P=0,I=0,F=0,O=0,N=0,D=0,$=0,L=0,H=0,j=0,z=0,B=0,U=0,W=0,V=0,Y=0.0,Q=0.0;V=d;d=d+2544|0;U=V+208|0;B=V+200|0;P=V+184|0;z=V+176|0;q=V+168|0;R=V+152|0;j=V+144|0;x=V+136|0;$=V+128|0;D=V+120|0;N=V+112|0;M=V+104|0;n=V+96|0;o=V+88|0;a=V+80|0;r=V+72|0;i=V+64|0;I=V;F=V+2280|0;O=V+232|0;C=V+224|0;H=V+220|0;T=V+216|0;A=V+212|0;W=Va(e,5306)|0;e:do{if(!W){s[i>>2]=e;eo(3,5308,i);i=da(s[(ca()|0)>>2]|0)|0;s[r>>2]=5367;s[r+4>>2]=i;eo(3,5361,r);i=0}else{Jo(F,W);s[a>>2]=H;if((as(F,5368,a)|0)!=1){s[o>>2]=e;eo(3,5371,o);za(W)|0;i=0;break}i=s[H>>2]|0;L=Hs(i*320|0)|0;if(!L){eo(3,5472,n);kt(1)}g=I+8|0;v=I+16|0;w=I+24|0;k=I+32|0;y=I+40|0;_=I+48|0;S=I+56|0;E=(t|0)==0;t:do{if((i|0)>0){i=0;a=0;i:while(1){Jo(F,W);r=L+(i*320|0)|0;o=L+(i*320|0)+312|0;s[M>>2]=o;s[M+4>>2]=C;if((as(F,5489,M)|0)==1){b=s[o>>2]|0;s[r>>2]=(b&-32768|0)==0&0==0?b&32767:0;s[L+(i*320|0)+4>>2]=1;a=a|2}else{if(E){r=10;break}if(!(ao(O,e,2048,1)|0)){r=12;break}_s(O,F,2047-(ys(O)|0)|0)|0;b=Js(t,O)|0;s[r>>2]=b;if((b|0)<0){r=14;break}s[L+(i*320|0)+4>>2]=0;a=a|1}Jo(F,W);r=L+(i*320|0)+8|0;s[x>>2]=r;if((as(F,5785,x)|0)!=1){r=18;break}Jo(F,W);p=L+(i*320|0)+16|0;m=L+(i*320|0)+24|0;b=L+(i*320|0)+40|0;s[R>>2]=p;s[R+4>>2]=m;s[R+8>>2]=L+(i*320|0)+32;s[R+12>>2]=b;if((as(F,5894,R)|0)!=4){s[q>>2]=T;s[q+4>>2]=A;if((as(F,5910,q)|0)==2)o=0;else{r=21;break}}else o=1;do{Jo(F,W);s[P>>2]=L+(i*320|0)+16+(o<<5);s[P+4>>2]=L+(i*320|0)+16+(o<<5)+8;s[P+8>>2]=L+(i*320|0)+16+(o<<5)+16;s[P+12>>2]=L+(i*320|0)+16+(o<<5)+24;if((as(F,5894,P)|0)!=4){r=23;break i}o=o+1|0}while((o|0)<3);io(p,L+(i*320|0)+112|0)|0;Q=+c[r>>3];Y=Q*-.5;c[I>>3]=Y;Q=Q*.5;c[g>>3]=Q;c[v>>3]=Q;c[w>>3]=Q;c[k>>3]=Q;c[y>>3]=Y;c[_>>3]=Y;c[S>>3]=Y;r=L+(i*320|0)+48|0;o=L+(i*320|0)+56|0;n=L+(i*320|0)+72|0;l=L+(i*320|0)+80|0;u=L+(i*320|0)+88|0;f=L+(i*320|0)+104|0;h=0;do{Y=+c[I+(h<<4)>>3];Q=+c[I+(h<<4)+8>>3];c[L+(i*320|0)+208+(h*24|0)>>3]=+c[b>>3]+(+c[p>>3]*Y+ +c[m>>3]*Q);c[L+(i*320|0)+208+(h*24|0)+8>>3]=+c[n>>3]+(+c[r>>3]*Y+ +c[o>>3]*Q);c[L+(i*320|0)+208+(h*24|0)+16>>3]=+c[f>>3]+(+c[l>>3]*Y+ +c[u>>3]*Q);h=h+1|0}while((h|0)!=4);i=i+1|0;if((i|0)>=(s[H>>2]|0))break t}if((r|0)==10){s[N>>2]=e;s[N+4>>2]=F;eo(3,5496,N)}else if((r|0)==12){s[D>>2]=e;eo(3,5624,D)}else if((r|0)==14){s[$>>2]=e;s[$+4>>2]=O;eo(3,5708,$)}else if((r|0)==18){s[j>>2]=e;s[j+4>>2]=i+1;eo(3,5789,j)}else if((r|0)==21){s[z>>2]=e;s[z+4>>2]=i+1;eo(3,5916,z)}else if((r|0)==23){s[B>>2]=e;s[B+4>>2]=i+1;eo(3,5916,B)}za(W)|0;js(L);i=0;break e}else a=0}while(0);za(W)|0;i=Hs(136)|0;if(!i){eo(3,5472,U);kt(1)}s[i>>2]=L;s[i+4>>2]=s[H>>2];s[i+104>>2]=0;do{if((a&3|0)!=3){r=i+108|0;if(!(a&1)){s[r>>2]=1;break}else{s[r>>2]=0;break}}else s[i+108>>2]=2}while(0);c[i+112>>3]=.5;c[i+120>>3]=.5}}while(0);d=V;return i|0}function Jo(e,t){e=e|0;t=t|0;var i=0,a=0;e:do{if(Wa(e,256,t)|0)while(1){i=ys(e)|0;t:do{if(i)while(1){i=i+-1|0;a=e+i|0;switch(r[a>>0]|0){case 13:case 10:break;default:break t}r[a>>0]=0;if(!i)break t}}while(0);switch(r[e>>0]|0){case 0:case 35:break;default:break e}if(!(Wa(e,256,t)|0))break e}}while(0);return}function Zo(e,t,i,r){e=e|0;t=+t;i=+i;r=r|0;var a=0,o=0.0,n=0.0,l=0,u=0.0,f=0.0,h=0,p=0,m=0,b=0,g=0;g=d;d=d+400|0;h=g+296|0;b=g+200|0;p=g+128|0;m=g;l=s[e>>2]|0;a=s[e+4>>2]|0;if((vo(e+8|0,h,b)|0)<0)eo(3,6025,g+392|0);else{n=+(a+-1|0);a=h+32|0;c[a>>3]=n*+c[h+64>>3]-+c[a>>3];a=h+40|0;c[a>>3]=n*+c[h+72>>3]-+c[a>>3];a=h+48|0;c[a>>3]=n*+c[h+80>>3]-+c[a>>3];a=h+56|0;c[a>>3]=n*+c[h+88>>3]-+c[a>>3];o=+c[h+80>>3];a=0;do{c[p+(a*24|0)>>3]=+c[h+(a<<5)>>3]/o;c[p+(a*24|0)+8>>3]=+c[h+(a<<5)+8>>3]/o;c[p+(a*24|0)+16>>3]=+c[h+(a<<5)+16>>3]/o;a=a+1|0}while((a|0)!=3);o=+(l+-1|0);c[m>>3]=+c[p>>3]*2.0/o;c[m+8>>3]=+c[p+8>>3]*2.0/o;c[m+16>>3]=+c[p+16>>3]*2.0/o+-1.0;l=m+24|0;s[l>>2]=0;s[l+4>>2]=0;s[l+8>>2]=0;s[l+12>>2]=0;c[m+40>>3]=+c[p+32>>3]*2.0/n;c[m+48>>3]=+c[p+40>>3]*2.0/n+-1.0;l=m+56|0;o=i-t;s[l>>2]=0;s[l+4>>2]=0;s[l+8>>2]=0;s[l+12>>2]=0;s[l+16>>2]=0;s[l+20>>2]=0;c[m+80>>3]=(t+i)/o;c[m+88>>3]=i*-2.0*t/o;l=m+96|0;s[l>>2]=0;s[l+4>>2]=0;s[l+8>>2]=0;s[l+12>>2]=0;c[m+112>>3]=1.0;c[m+120>>3]=0.0;o=+c[b+24>>3];n=+c[b+56>>3];i=+c[b+88>>3];l=0;do{t=+c[m+(l<<5)>>3];a=m+(l<<5)+8|0;e=m+(l<<5)+16|0;u=+c[a>>3];f=+c[e>>3];h=0;do{c[r+((h<<2)+l<<3)>>3]=t*+c[b+(h<<3)>>3]+u*+c[b+32+(h<<3)>>3]+f*+c[b+64+(h<<3)>>3];h=h+1|0}while((h|0)!=3);c[r+(l+12<<3)>>3]=+c[m+(l<<5)+24>>3]+(t*o+ +c[a>>3]*n+ +c[e>>3]*i);l=l+1|0}while((l|0)!=4)}d=g;return}function en(e){e=e|0;s[496]=e;return}function tn(){return s[496]|0}function rn(e){e=e|0;var t=0,i=0;t=e+212|0;i=s[t>>2]|0;if(i){Ou(i)|0;Jl(s[t>>2]|0)|0;s[t>>2]=0}t=e+224|0;if(s[t>>2]|0){Yl(t)|0;s[t>>2]=0}t=e+192|0;if(s[t>>2]|0){To(t)|0;s[t>>2]=0}return}function an(e){e=e|0;var t=0,i=0,r=0,a=0,o=0;o=d;d=d+16|0;i=o;s[i>>2]=e;if(!(Wn(2044,i)|0))e=-1;else{a=Vn(2044,i)|0;e=a+196|0;t=s[e>>2]|0;if(t){js(t);s[e>>2]=0;s[a+200>>2]=0}rn(a);$u(s[a+216>>2]|0)|0;Yn(2044,i)|0;i=a+248|0;r=a+252|0;e=s[i>>2]|0;if((s[r>>2]|0)!=(e|0)){t=0;do{Yo(s[e+(t<<3)+4>>2]|0)|0;t=t+1|0;e=s[i>>2]|0}while(t>>>0<(s[r>>2]|0)-e>>3>>>0)}Qn(i);qr(i);Qn(a+248|0);qr(a);e=0}d=o;return e|0}function sn(e){e=e|0;var t=0,i=0,a=0,o=0,n=0;n=d;d=d+208|0;o=n+192|0;a=n;i=n+196|0;if(!(r[e>>0]&1))t=e+1|0;else t=s[e+8>>2]|0;if((yo(t,1,a,n+184|0)|0)<0){if(!(r[e>>0]&1))t=e+1|0;else t=s[e+8>>2]|0;s[o>>2]=t;eo(3,6093,o);t=-1}else{t=s[521]|0;s[521]=t+1;s[i>>2]=t;Ku(Gn(2064,i)|0,a|0,184)|0}d=n;return t|0}function on(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0,l=0,u=0,f=0,h=0;h=d;d=d+48|0;f=h+24|0;u=h+16|0;n=h+8|0;a=h;i=h+32|0;r=h+28|0;s[i>>2]=e;s[r>>2]=t;do{if((Wn(2044,i)|0)!=0?(l=Vn(2044,i)|0,(Kn(2064,r)|0)!=0):0){o=l+8|0;Ku(o|0,Gn(2064,r)|0,184)|0;r=s[o>>2]|0;i=l+204|0;t=s[l+12>>2]|0;e=l+208|0;if(!((r|0)==(s[i>>2]|0)?(t|0)==(s[e>>2]|0):0)){s[a>>2]=r;s[a+4>>2]=t;eo(2,6152,a);go(o,s[i>>2]|0,s[e>>2]|0,o)|0}rn(l);i=Co(o,15)|0;e=l+192|0;s[e>>2]=i;if(!i){eo(3,6199,n);i=-1;break}i=Ql(i)|0;t=l+212|0;s[t>>2]=i;if(!i){eo(3,6237,u);i=-1;break}Gl(i,2)|0;u=Wl(o)|0;s[l+224>>2]=u;if(!u){eo(3,6274,f);i=-1;break}else{Fu(s[t>>2]|0,s[l+216>>2]|0)|0;Zo(s[e>>2]|0,+c[l+232>>3],+c[l+240>>3],l+264|0);i=0;break}}else i=-1}while(0);d=h;return i|0}function nn(e,t){e=e|0;t=t|0;var i=0,a=0,o=0,n=0,l=0;l=d;d=d+16|0;n=l+8|0;o=l;i=l+12|0;s[i>>2]=e;if(Wn(2044,i)|0){a=Vn(2044,i)|0;if(!(r[t>>0]&1))t=t+1|0;else t=s[t+8>>2]|0;e=a+216|0;i=Js(s[e>>2]|0,t)|0;s[a+260>>2]=i;if((i|0)<0){s[o>>2]=t;eo(3,6312,o);$u(s[e>>2]|0)|0;eo(3,6358,n);i=-1}}else i=-1;d=l;return i|0}function ln(e,t){e=e|0;t=t|0;var i=0,a=0,o=0,n=0,l=0,u=0,c=0;c=d;d=d+32|0;o=c+16|0;a=c+8|0;i=c+20|0;u=c;s[i>>2]=e;do{if(Wn(2044,i)|0){l=Vn(2044,i)|0;if(!(r[t>>0]&1))i=t+1|0;else i=s[t+8>>2]|0;e=s[l+212>>2]|0;t=l+216|0;n=l+220|0;i=Xo(i,s[t>>2]|0)|0;s[n>>2]=i;if(!i){eo(3,6402,a);$u(s[t>>2]|0)|0;eo(3,6429,o);i=-1;break}switch(s[i+108>>2]|0){case 0:{nu(e,0)|0;break}case 1:{nu(e,2)|0;break}default:nu(e,3)|0}e=l+248|0;t=l+252|0;a=s[t>>2]|0;i=a-(s[e>>2]|0)>>3;o=u;s[o>>2]=0;s[o+4>>2]=0;s[u>>2]=i;s[u+4>>2]=s[n>>2];if((a|0)==(s[l+256>>2]|0)){Xn(e,u);break}else{l=u;i=s[l>>2]|0;l=s[l+4>>2]|0;u=a;s[u>>2]=i;s[u+4>>2]=l;s[t>>2]=(s[t>>2]|0)+8;break}}else i=-1}while(0);d=c;return i|0}function un(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0;o=d;d=d+16|0;i=o;s[i>>2]=e;if(((Wn(2044,i)|0)!=0?(r=Vn(2044,i)|0,(t|0)>=0):0)?(a=s[r+248>>2]|0,(s[r+252>>2]|0)-a>>3>>>0>t>>>0):0)i=s[(s[a+(t<<3)+4>>2]|0)+4>>2]|0;else i=-1;d=o;return i|0}function cn(e){e=e|0;var t=0,i=0;i=d;d=d+16|0;t=i;s[t>>2]=e;if(!(Wn(2044,t)|0))t=-1;else{t=Vn(2044,t)|0;t=(s[t+252>>2]|0)-(s[t+248>>2]|0)>>3}d=i;return t|0}function dn(e,t){e=e|0;t=+t;var i=0,r=0;r=d;d=d+16|0;i=r;s[i>>2]=e;if(Wn(2044,i)|0)c[(Vn(2044,i)|0)+232>>3]=t;d=r;return}function fn(e){e=e|0;var t=0.0,i=0,r=0;r=d;d=d+16|0;i=r;s[i>>2]=e;if(!(Wn(2044,i)|0))t=-1.0;else t=+c[(Vn(2044,i)|0)+232>>3];d=r;return+t}function hn(e,t){e=e|0;t=+t;var i=0,r=0;r=d;d=d+16|0;i=r;s[i>>2]=e;if(Wn(2044,i)|0)c[(Vn(2044,i)|0)+240>>3]=t;d=r;return}function pn(e){e=e|0;var t=0.0,i=0,r=0;r=d;d=d+16|0;i=r;s[i>>2]=e;if(!(Wn(2044,i)|0))t=-1.0;else t=+c[(Vn(2044,i)|0)+240>>3];d=r;return+t}function mn(e,t){e=e|0;t=t|0;var i=0,r=0,a=0;a=d;d=d+16|0;r=a;i=a+4|0;s[i>>2]=e;if((Wn(2044,i)|0)!=0?(nu(s[(Vn(2044,i)|0)+212>>2]|0,t)|0)==0:0){s[r>>2]=t;eo(1,6478,r)}d=a;return}function bn(e){e=e|0;var t=0,i=0,r=0;r=d;d=d+16|0;t=r+4|0;i=r;s[t>>2]=e;if(!(Wn(2044,t)|0)){d=r;return-1}else{e=(cu(s[(Vn(2044,t)|0)+212>>2]|0,i)|0)==0;d=r;return(e?s[i>>2]|0:-1)|0}return 0}function gn(e,t){e=e|0;t=+t;var i=0,r=0,a=0.0,o=0,n=0,l=0;l=d;d=d+16|0;n=l;i=l+8|0;s[i>>2]=e;if((((Wn(2044,i)|0)!=0?(r=Vn(2044,i)|0,!(t<=0.0|t>=1.0)):0)?(a=t,o=s[r+212>>2]|0,(o|0)!=0):0)?(du(o,a)|0)==0:0){c[n>>3]=a;eo(1,6513,n)}d=l;return}function vn(e){e=e|0;var t=0,i=0,r=0,a=0;a=d;d=d+16|0;t=a+8|0;r=a;s[t>>2]=e;if((Wn(2044,t)|0)!=0?(i=s[(Vn(2044,t)|0)+212>>2]|0,(i|0)!=0):0){e=(fu(i,r)|0)==0;d=a;return+(e?+c[r>>3]:-1.0)}d=a;return-1.0}function wn(e,t){e=e|0;t=t|0;var i=0,r=0;r=d;d=d+16|0;i=r;s[i>>2]=e;if(Wn(2044,i)|0)lu(s[(Vn(2044,i)|0)+212>>2]|0,t)|0;d=r;return}function kn(e){e=e|0;var t=0,i=0,r=0;r=d;d=d+16|0;t=r+4|0;i=r;s[t>>2]=e;if(!(Wn(2044,t)|0))t=-1;else{uu(s[(Vn(2044,t)|0)+212>>2]|0,i)|0;t=s[i>>2]|0}d=r;return t|0}function yn(e,t){e=e|0;t=t|0;var i=0,r=0,a=0;a=d;d=d+16|0;r=a;i=a+4|0;s[i>>2]=e;if((Wn(2044,i)|0)!=0?(eu(s[(Vn(2044,i)|0)+212>>2]|0,t)|0)==0:0){s[r>>2]=t;eo(1,6544,r)}d=a;return}function _n(e){e=e|0;var t=0,i=0,r=0;r=d;d=d+16|0;t=r+4|0;i=r;s[t>>2]=e;if(!(Wn(2044,t)|0)){d=r;return-1}else{e=(tu(s[(Vn(2044,t)|0)+212>>2]|0,i)|0)==0;d=r;return(e?s[i>>2]|0:-1)|0}return 0}function Sn(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0;o=d;d=d+16|0;a=o;i=o+4|0;s[i>>2]=e;if(((Wn(2044,i)|0)!=0?(r=Vn(2044,i)|0,t>>>0<=255):0)?(iu(s[r+212>>2]|0,t)|0)==0:0){s[a>>2]=t;eo(1,6569,a)}d=o;return}function En(e){e=e|0;var t=0,i=0,r=0;r=d;d=d+16|0;t=r+4|0;i=r;s[t>>2]=e;if(!(Wn(2044,t)|0)){d=r;return-1}else{e=(ru(s[(Vn(2044,t)|0)+212>>2]|0,i)|0)==0;d=r;return(e?s[i>>2]|0:-1)|0}return 0}function Cn(e,t){e=e|0;t=t|0;var i=0,r=0,a=0;a=d;d=d+16|0;r=a;i=a+4|0;s[i>>2]=e;if((Wn(2044,i)|0)!=0?(Xl(s[(Vn(2044,i)|0)+212>>2]|0,t)|0)==0:0){s[r>>2]=t;eo(1,6590,r)}d=a;return}function Tn(e){e=e|0;var t=0,i=0,r=0;r=d;d=d+16|0;t=r+4|0;i=r;s[t>>2]=e;if(!(Wn(2044,t)|0)){d=r;return-1}else{e=(au(s[(Vn(2044,t)|0)+212>>2]|0,i)|0)==0;d=r;return(e?s[i>>2]|0:-1)|0}return 0}function An(e,t){e=e|0;t=t|0;var i=0,r=0,a=0;a=d;d=d+16|0;r=a;i=a+4|0;s[i>>2]=e;if(!(Wn(2044,i)|0))t=0;else{e=(t|0)!=0;Kl(s[(Vn(2044,i)|0)+212>>2]|0,e&1)|0;s[r>>2]=e?6616:6620;eo(1,6625,r)}d=a;return t|0}function Mn(e){e=e|0;var t=0,i=0;i=d;d=d+16|0;t=i;s[t>>2]=e;if(!(Wn(2044,t)|0))t=0;else t=s[(s[(Vn(2044,t)|0)+212>>2]|0)+4834148>>2]|0;d=i;return t|0}function xn(e){e=e|0;var t=0,i=0,r=0;r=d;d=d+16|0;t=r+4|0;i=r;s[t>>2]=e;if(!(Wn(2044,t)|0))t=0;else{Zl(s[(Vn(2044,t)|0)+212>>2]|0,i)|0;t=s[i>>2]|0}d=r;return t|0}function Rn(e,t){e=e|0;t=t|0;var i=0,r=0,a=0;a=d;d=d+16|0;r=a;i=a+4|0;s[i>>2]=e;if((Wn(2044,i)|0)!=0?(su(s[(Vn(2044,i)|0)+212>>2]|0,t)|0)==0:0){s[r>>2]=t;eo(1,6647,r)}d=a;return}function qn(e){e=e|0;var t=0,i=0,r=0;r=d;d=d+16|0;t=r+4|0;i=r;s[t>>2]=e;if(!(Wn(2044,t)|0)){d=r;return-1}else{e=(ou(s[(Vn(2044,t)|0)+212>>2]|0,i)|0)==0;d=r;return(e?s[i>>2]|0:-1)|0}return 0}function Pn(e,t){e=e|0;t=t|0;var i=0;i=0;do{c[t+(i<<5)>>3]=+c[e+(i<<5)>>3];c[t+(i<<5)+8>>3]=+c[e+(i<<5)+8>>3];c[t+(i<<5)+16>>3]=+c[e+(i<<5)+16>>3];c[t+(i<<5)+24>>3]=+c[e+(i<<5)+24>>3];i=i+1|0}while((i|0)!=3);return}function In(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0;a=d;d=d+16|0;r=a;s[r>>2]=e;do{if(Wn(2044,r)|0){r=Vn(2044,r)|0;e=s[r+212>>2]|0;if((s[e+44>>2]|0)>(t|0)){+ku(s[r+224>>2]|0,(t|0)<0?8:e+48+(t<<8)|0,+(i|0),264);r=0;break}else{r=s[523]|0;break}}else r=s[522]|0}while(0);d=a;return r|0}function Fn(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0;a=d;d=d+16|0;r=a;s[r>>2]=e;do{if(Wn(2044,r)|0){r=Vn(2044,r)|0;e=s[r+212>>2]|0;if((s[e+44>>2]|0)>(t|0)){+yu(s[r+224>>2]|0,(t|0)<0?8:e+48+(t<<8)|0,264,+(i|0),264);r=0;break}else{r=s[523]|0;break}}else r=s[522]|0}while(0);d=a;return r|0}function On(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0;a=d;d=d+16|0;r=a;s[r>>2]=e;do{if(Wn(2044,r)|0){r=s[(Vn(2044,r)|0)+212>>2]|0;if((s[r+44>>2]|0)>(t|0)){s[((t|0)<0?8:r+48+(t<<8)|0)+16>>2]=i;r=0;break}else{r=s[523]|0;break}}else r=s[522]|0}while(0);d=a;return r|0}function Nn(e,t){e=e|0;t=t|0;var i=0,r=0,a=0.0,o=0.0,n=0.0,l=0.0,u=0.0,f=0.0,h=0.0,p=0.0;r=d;d=d+16|0;i=r;s[i>>2]=e;do{if(Wn(2044,i)|0){i=s[(Vn(2044,i)|0)+212>>2]|0;if((s[i+44>>2]|0)>(t|0)){i=(t|0)<0?8:i+48+(t<<8)|0;p=+c[33];c[i+168>>3]=p;l=+c[34];c[i+176>>3]=l;h=+c[35];c[i+184>>3]=h;n=+c[36];c[i+192>>3]=n;f=+c[37];c[i+200>>3]=f;o=+c[38];c[i+208>>3]=o;u=+c[39];c[i+216>>3]=u;a=+c[40];c[i+224>>3]=a;c[i+56>>3]=(p+h+f+u)*.25;c[i+64>>3]=(l+n+o+a)*.25;i=0;break}else{i=s[523]|0;break}}else i=s[522]|0}while(0);d=r;return i|0}function Dn(e,t){e=e|0;t=t|0;var i=0,r=0;r=d;d=d+16|0;i=r;s[i>>2]=e;do{if(Wn(2044,i)|0){i=Vn(2044,i)|0;e=s[i+248>>2]|0;if((t|0)<0?1:(s[i+252>>2]|0)-e>>3>>>0<=t>>>0){i=s[524]|0;break}else{t=s[e+(t<<3)+4>>2]|0;e=s[i+212>>2]|0;+Go(s[i+224>>2]|0,e+48|0,s[e+44>>2]|0,t);Pn(t+8|0,264);i=0;break}}else i=s[522]|0}while(0);d=r;return i|0}function $n(e,t){e=e|0;t=t|0;var i=0,r=0;r=d;d=d+16|0;i=r;s[i>>2]=e;do{if(Wn(2044,i)|0){i=Vn(2044,i)|0;e=s[i+248>>2]|0;if((t|0)<0?1:(s[i+252>>2]|0)-e>>3>>>0<=t>>>0){i=s[524]|0;break}else{t=s[e+(t<<3)+4>>2]|0;e=s[i+212>>2]|0;+Qo(s[i+224>>2]|0,e+48|0,s[e+44>>2]|0,t);Pn(t+8|0,264);i=0;break}}else i=s[522]|0}while(0);d=r;return i|0}function Ln(e){e=e|0;var t=0,i=0;i=d;d=d+16|0;t=i;s[t>>2]=e;if(!(Wn(2044,t)|0))t=s[522]|0;else{t=Vn(2044,t)|0;t=hu(s[t+212>>2]|0,s[t+196>>2]|0)|0}d=i;return t|0}function Hn(e){e=e|0;var t=0,i=0;i=d;d=d+16|0;t=i;s[t>>2]=e;if(!(Wn(2044,t)|0))t=2088;else t=(s[(Vn(2044,t)|0)+212>>2]|0)+44|0;d=i;return s[t>>2]|0}function jn(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0;a=d;d=d+16|0;r=a;s[r>>2]=e;do{if(Wn(2044,r)|0){e=Vn(2044,r)|0;r=s[e+248>>2]|0;if((t|0)<0?1:(s[e+252>>2]|0)-r>>3>>>0<=t>>>0){r=s[524]|0;break}r=s[r+(t<<3)+4>>2]|0;if((i|0)<0?1:(s[r+4>>2]|0)<=(i|0)){r=s[523]|0;break}else{r=s[r>>2]|0;Pn(r+(i*320|0)+16|0,264);Ht(0,s[r+(i*320|0)+304>>2]|0,s[r+(i*320|0)>>2]|0,s[r+(i*320|0)+4>>2]|0,+ +c[r+(i*320|0)+8>>3])|0;r=0;break}}else r=s[522]|0}while(0);d=a;return r|0}function zn(e,t){e=e|0;t=t|0;var i=0,r=0;r=d;d=d+16|0;i=r;s[i>>2]=e;do{if(Wn(2044,i)|0){i=s[(Vn(2044,i)|0)+212>>2]|0;if((s[i+44>>2]|0)>(t|0)){i=(t|0)<0?8:i+48+(t<<8)|0;We(1,s[i>>2]|0,s[i+4>>2]|0,s[i+8>>2]|0,s[i+12>>2]|0,s[i+16>>2]|0,s[i+20>>2]|0,s[i+24>>2]|0,+ +c[i+32>>3],+ +c[i+40>>3],+ +c[i+48>>3],+ +c[i+56>>3],+ +c[i+64>>3],+ +c[i+72>>3],+ +c[i+80>>3],+ +c[i+88>>3],+ +c[i+96>>3],+ +c[i+104>>3],+ +c[i+112>>3],+ +c[i+120>>3],+ +c[i+128>>3],+ +c[i+136>>3],+ +c[i+144>>3],+ +c[i+152>>3],+ +c[i+160>>3],+ +c[i+168>>3],+ +c[i+176>>3],+ +c[i+184>>3],+ +c[i+192>>3],+ +c[i+200>>3],+ +c[i+208>>3],+ +c[i+216>>3],+ +c[i+224>>3],s[i+240>>2]|0)|0;i=0;break}else{i=s[523]|0;break}}else i=s[522]|0}while(0);d=r;return i|0}function Bn(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,o=0,n=0,l=0;n=d;d=d+16|0;o=n+8|0;a=n+12|0;r=s[525]|0;s[525]=r+1;s[a>>2]=r;a=Vn(2044,a)|0;s[a>>2]=r;s[a+204>>2]=e;s[a+208>>2]=t;l=ie(e<<2,t)|0;t=a+200|0;s[t>>2]=l;e=a+196|0;s[e>>2]=Hs(l)|0;l=Nu()|0;s[a+216>>2]=l;if(!l)eo(3,8285,n);on(r,i)|0;s[o>>2]=s[t>>2];eo(1,8322,o);Lt(2,s[a>>2]|0,s[e>>2]|0,s[t>>2]|0,a+264|0,264)|0;d=n;return s[a>>2]|0}function Un(e){e=e|0;var t=0;e=d;d=d+16|0;t=e;Jn(8591,7);Zn(8597,3);el(8606,2);el(8617,3);tl(8633,4);Zn(8651,4);il(8671,5);Jn(8683,8);tl(8700,5);Jn(8720,9);Jn(8738,10);tl(8760,6);tl(8783,7);Zn(8812,6);Zn(8825,7);Jn(8838,11);tl(8857,8);tl(8867,9);Zn(8880,8);Zn(8893,9);rl(8912,10);al(8924,1);sl(8936,1);ol(8959,1);sl(8982,2);ol(9004,2);nl(9026,1);Zn(9043,10);nl(9060,2);Zn(9073,11);nl(9086,3);Zn(9110,12);ll(9134,3);ol(9147,3);nl(9160,4);Zn(9178,13);nl(9196,5);Zn(9212,14);nl(9228,6);Zn(9245,15);ul(9262,2088);ul(9291,2096);ul(9319,2092);qt(9352,680,0);qt(9369,680,1);qt(9385,680,0);qt(9407,680,0);qt(9432,680,1);qt(9457,680,1);qt(9482,680,100);qt(9509,680,0);qt(9535,680,1);qt(9561,680,0);qt(9588,680,0);qt(9615,680,1);qt(9641,680,2);qt(9666,680,3);qt(9704,680,4);qt(9741,680,0);qt(9775,680,0);qt(9799,680,1);qt(9825,680,2);qt(9852,680,2);qt(9886,680,5);c[t>>3]=.5;cl(9904,t);qt(9925,680,0);qt(9944,680,1);qt(9962,680,2);qt(9980,680,3);qt(9999,680,4);qt(10021,680,3);qt(10040,680,515);qt(10069,680,259);qt(10097,680,4);qt(10116,680,772);qt(10146,680,1028);qt(10176,680,0);qt(10207,680,1);qt(10243,680,2);qt(10277,680,3);qt(10315,680,0);qt(10348,680,1);qt(10395,680,2);qt(10437,680,3);qt(10480,680,4);qt(10532,680,5);qt(10583,680,6);qt(10628,680,7);qt(10667,680,8);qt(10712,680,9);d=e;return}function Wn(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0;i=s[t>>2]|0;a=s[e+4>>2]|0;e:do{if(a){o=a+-1|0;n=(o&a|0)==0;if(n)r=o&i;else r=(i>>>0)%(a>>>0)|0;t=s[(s[e>>2]|0)+(r<<2)>>2]|0;if(t)do{t=s[t>>2]|0;if(!t){t=0;break e}e=s[t+4>>2]|0;if(n)e=e&o;else e=(e>>>0)%(a>>>0)|0;if((e|0)!=(r|0)){t=0;break e}}while((s[t+8>>2]|0)!=(i|0));else t=0}else t=0}while(0);return t|0}function Vn(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0;o=d;d=d+32|0;a=o+8|0;r=o;i=Wn(e,t)|0;if(!i){br(a,e,t);gr(r,e,s[a>>2]|0);i=s[r>>2]|0;s[a>>2]=0}d=o;return i+16|0}function Yn(e,t){e=e|0;t=t|0;var i=0,r=0,a=0;a=d;d=d+16|0;i=a+4|0;r=a;t=Wn(e,t)|0;if(!t)t=0;else{s[r>>2]=t;s[i>>2]=s[r>>2];pr(e,i)|0;t=1}d=a;return t|0}function Qn(e){e=e|0;var t=0,i=0;i=s[e>>2]|0;if(i){t=e+4|0;e=s[t>>2]|0;if((e|0)!=(i|0)){do{e=e+-8|0}while((e|0)!=(i|0));s[t>>2]=e}qr(i)}return}function Gn(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0;o=d;d=d+32|0;a=o+8|0;r=o;i=Kn(e,t)|0;if(!i){Il(a,e,t);Fl(r,e,s[a>>2]|0);i=s[r>>2]|0;s[a>>2]=0}d=o;return i+16|0}function Kn(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0;i=s[t>>2]|0;a=s[e+4>>2]|0;e:do{if(a){o=a+-1|0;n=(o&a|0)==0;if(n)r=o&i;else r=(i>>>0)%(a>>>0)|0;t=s[(s[e>>2]|0)+(r<<2)>>2]|0;if(t)do{t=s[t>>2]|0;if(!t){t=0;break e}e=s[t+4>>2]|0;if(n)e=e&o;else e=(e>>>0)%(a>>>0)|0;if((e|0)!=(r|0)){t=0;break e}}while((s[t+8>>2]|0)!=(i|0));else t=0}else t=0}while(0);return t|0}function Xn(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0,l=0;l=d;d=d+32|0;n=l;o=e+4|0;i=s[e>>2]|0;a=((s[o>>2]|0)-i>>3)+1|0;if(a>>>0>536870911)xr(e);r=i;i=(s[e+8>>2]|0)-r|0;if(i>>3>>>0<268435455){i=i>>2;i=i>>>0<a>>>0?a:i}else i=536870911;Rl(n,i,(s[o>>2]|0)-r>>3,e+8|0);o=n+8|0;a=s[o>>2]|0;i=t;r=s[i+4>>2]|0;t=a;s[t>>2]=s[i>>2];s[t+4>>2]=r;s[o>>2]=a+8;ql(e,n);Pl(n);d=l;return}function Jn(e,t){e=e|0;t=t|0;Be(e|0,4,2200,10911,1,t|0);return}function Zn(e,t){e=e|0;t=t|0;Be(e|0,2,2192,10801,10,t|0);return}function el(e,t){e=e|0;t=t|0;Be(e|0,3,2180,10906,12,t|0);return}function tl(e,t){e=e|0;t=t|0;Be(e|0,3,2168,10906,13,t|0);return}function il(e,t){e=e|0;t=t|0;Be(e|0,2,2160,10801,11,t|0);return}function rl(e,t){e=e|0;t=t|0;Be(e|0,2,2152,10797,7,t|0);return}function al(e,t){e=e|0;t=t|0;Be(e|0,1,2148,10794,16,t|0);return}function sl(e,t){e=e|0;t=t|0;Be(e|0,3,2136,10789,1,t|0);return}function ol(e,t){e=e|0;t=t|0;Be(e|0,2,2128,10785,1,t|0);return}function nl(e,t){e=e|0;t=t|0;Be(e|0,3,2116,10780,1,t|0);return}function ll(e,t){e=e|0;t=t|0;Be(e|0,3,2104,10775,2,t|0);return}function ul(e,t){e=e|0;t=t|0;qt(e|0,680,s[t>>2]|0);return}function cl(e,t){e=e|0;t=t|0;qt(e|0,720,~~+c[t>>3]>>>0|0);return}function dl(){s[511]=0;s[512]=0;s[513]=0;s[514]=0;u[515]=1.0;St(11,2044,b|0)|0;s[516]=0;s[517]=0;s[518]=0;s[519]=0;u[520]=1.0;St(12,2064,b|0)|0;Un(0);return}function fl(e){e=e|0;bl(e);return}function hl(e){e=e|0;pl(e);return}function pl(e){e=e|0;var t=0;ml(e,s[e+8>>2]|0);t=s[e>>2]|0;s[e>>2]=0;if(t)qr(t);return}function ml(e,t){e=e|0;t=t|0;if(t)do{e=t;t=s[t>>2]|0;qr(e)}while((t|0)!=0);return}function bl(e){e=e|0;var t=0;gl(e,s[e+8>>2]|0);t=s[e>>2]|0;s[e>>2]=0;if(t)qr(t);return}function gl(e,t){e=e|0;t=t|0;if(t)do{e=t;t=s[t>>2]|0;Qn(e+264|0);qr(e)}while((t|0)!=0);return}function vl(e,t,i){e=e|0;t=t|0;i=+i;jc[e&3](t,i);return}function wl(e,t,i){e=e|0;t=t|0;i=i|0;Wc[e&7](t,i);return}function kl(e,t){e=e|0;t=t|0;return+ +zc[e&3](t)}function yl(e,t,i){e=e|0;t=t|0;i=+i;jc[e&3](t,i);return}function _l(e){e=e|0;return Bc[e&1]()|0}function Sl(e,t){e=e|0;t=t|0;Uc[e&15](t);return}function El(e,t){e=e|0;t=t|0;var i=0,r=0;i=d;d=d+16|0;r=i;Cl(r,t);e=Vc[e&31](r)|0;Bu(r);d=i;return e|0}function Cl(e,t){e=e|0;t=t|0;zu(e,t+4|0,s[t>>2]|0);return}function Tl(e,t,i){e=e|0;t=t|0;i=i|0;return Jc[e&15](t,i)|0}function Al(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0;r=d;d=d+16|0;a=r;Cl(a,i);e=Jc[e&15](t,a)|0;Bu(a);d=r;return e|0}function Ml(e,t){e=e|0;t=t|0;return Vc[e&31](t)|0}function xl(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;return $c[e&15](t,i,r)|0}function Rl(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;s[e+12>>2]=0;s[e+16>>2]=r;if(!t)r=0;else r=Rr(t<<3)|0;s[e>>2]=r;i=r+(i<<3)|0;s[e+8>>2]=i;s[e+4>>2]=i;s[e+12>>2]=r+(t<<3);return}function ql(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0;r=s[e>>2]|0;o=e+4|0;i=t+4|0;a=(s[o>>2]|0)-r|0;n=(s[i>>2]|0)+(0-(a>>3)<<3)|0;s[i>>2]=n;Ku(n|0,r|0,a|0)|0;a=s[e>>2]|0;s[e>>2]=s[i>>2];s[i>>2]=a;a=t+8|0;r=s[o>>2]|0;s[o>>2]=s[a>>2];s[a>>2]=r;a=e+8|0;e=t+12|0;r=s[a>>2]|0;s[a>>2]=s[e>>2];s[e>>2]=r;s[t>>2]=s[i>>2];return}function Pl(e){e=e|0;var t=0,i=0,r=0;i=s[e+4>>2]|0;r=e+8|0;t=s[r>>2]|0;if((t|0)!=(i|0)){do{t=t+-8|0}while((t|0)!=(i|0));s[r>>2]=t}t=s[e>>2]|0;if(t)qr(t);return}function Il(e,t,i){e=e|0;t=t|0;i=i|0;var r=0;r=Rr(200)|0;s[r+8>>2]=s[i>>2];Vu(r+16|0,0,184)|0;s[e>>2]=r;e=e+4|0;s[e>>2]=t+8;s[e+4>>2]=257;return}function Fl(e,t,i){e=e|0;t=t|0;i=i|0;var a=0,o=0,n=0,l=0.0,c=0.0,d=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0;f=s[i+8>>2]|0;v=i+4|0;s[v>>2]=f;g=t+4|0;d=s[g>>2]|0;b=(d|0)==0;e:do{if(!b){h=d+-1|0;p=(h&d|0)==0;if(p)o=h&f;else o=(f>>>0)%(d>>>0)|0;a=s[(s[t>>2]|0)+(o<<2)>>2]|0;if(!a)m=12;else while(1){n=s[a>>2]|0;if(!n){m=12;break e}a=s[n+4>>2]|0;if(p)a=a&h;else a=(a>>>0)%(d>>>0)|0;if((a|0)!=(o|0)){m=12;break e}if((s[n+8>>2]|0)==(f|0)){a=0;i=n;break}else a=n}}else{o=0;m=12}}while(0);if((m|0)==12){f=t+12|0;l=+(((s[f>>2]|0)+1|0)>>>0);c=+u[t+16>>2];do{if(b|l>+(d>>>0)*c){if(d>>>0>2)a=(d+-1&d|0)==0;else a=0;n=(a&1|d<<1)^1;a=~~+te(+(l/c))>>>0;fr(t,n>>>0<a>>>0?a:n);n=s[g>>2]|0;a=s[v>>2]|0;o=n+-1|0;if(!(o&n)){d=n;o=o&a;break}else{d=n;o=(a>>>0)%(n>>>0)|0;break}}}while(0);a=s[(s[t>>2]|0)+(o<<2)>>2]|0;if(!a){a=t+8|0;s[i>>2]=s[a>>2];s[a>>2]=i;s[(s[t>>2]|0)+(o<<2)>>2]=a;a=s[i>>2]|0;if(a){a=s[a+4>>2]|0;o=d+-1|0;if(!(o&d))a=a&o;else a=(a>>>0)%(d>>>0)|0;s[(s[t>>2]|0)+(a<<2)>>2]=i}}else{s[i>>2]=s[a>>2];s[a>>2]=i}s[f>>2]=(s[f>>2]|0)+1;a=1}s[e>>2]=i;r[e+4>>0]=a;return}function Ol(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;m=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=m;h=m+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=n*3|0;C=t+-1|0;if((i|0)>0){u=0;n=m;f=m+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{n=n+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;u=t+1|0;_=0-t|0;k=1-t|0;y=~t;e:do{if((A|0)>1){S=(C|0)>1;p=(s[l+4>>2]|0)+u|0;E=1;h=e+(u*3|0)|0;e=m+(u<<1)|0;n=0;t:while(1){if(S){u=p;w=1;v=h;g=n;while(1){do{if(((o[v+1>>0]|0)+(o[v>>0]|0)+(o[v+2>>0]|0)|0)>(T|0)){r[u>>0]=-1;n=a[e+(_<<1)>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}p=a[e+(k<<1)>>1]|0;m=p<<16>>16;n=a[e+(y<<1)>>1]|0;b=n<<16>>16;h=n<<16>>16>0;if(p<<16>>16<=0){if(h){a[e>>1]=n;n=b*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=a[e+-2>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(w|0)){n=g;break}s[n>>2]=w;n=g;break}else{n=g+1|0;if((g|0)>32767)break t;a[e>>1]=n;s[l+1179664+(g<<2)>>2]=n<<16>>16;g=g*7|0;s[l+1310736+(g<<2)>>2]=1;s[l+1310736+(g+1<<2)>>2]=w;s[l+1310736+(g+2<<2)>>2]=E;s[l+1310736+(g+3<<2)>>2]=w;s[l+1310736+(g+4<<2)>>2]=w;s[l+1310736+(g+5<<2)>>2]=E;s[l+1310736+(g+6<<2)>>2]=E;break}}if(h){n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+(b+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=p;n=m*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+E;n=g}else{a[e>>1]=0;r[u>>0]=0;n=g}}while(0);w=w+1|0;h=v+3|0;e=e+2|0;u=u+1|0;if((w|0)>=(C|0))break;else{v=h;g=n}}}else u=p;E=E+1|0;if((E|0)>=(A|0)){m=n;x=52;break e}else{p=u+2|0;h=h+6|0;e=e+4|0}}eo(3,3904,M);u=-1}else{m=0;x=52}}while(0);if((x|0)==52){e=l+12|0;if((m|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(m|0)){h=h+1|0;f=f+4|0}else break}}p=l+8|0;u=n+-1|0;s[p>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[p>>2]|0))}if((m|0)>0){e=0;do{f=(s[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;e=e+1|0}while((e|0)<(m|0))}if((s[p>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[p>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function Nl(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;m=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=m;h=m+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=n*3|0;C=t+-1|0;if((i|0)>0){u=0;n=m;f=m+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{n=n+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;u=t+1|0;_=0-t|0;k=1-t|0;y=~t;e:do{if((A|0)>1){S=(C|0)>1;p=(s[l+4>>2]|0)+u|0;E=1;h=e+(u<<1)|0;e=m+(u<<1)|0;n=0;t:while(1){if(S){u=p;w=1;v=h;g=n;while(1){m=o[v>>0]|0;b=o[v+1>>0]|0;do{if(((m&248)+10+(m<<5&224)+(b>>>3&28)+(b<<3&248)|0)>(T|0)){r[u>>0]=-1;n=a[e+(_<<1)>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}p=a[e+(k<<1)>>1]|0;m=p<<16>>16;n=a[e+(y<<1)>>1]|0;b=n<<16>>16;h=n<<16>>16>0;if(p<<16>>16<=0){if(h){a[e>>1]=n;n=b*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=a[e+-2>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(w|0)){n=g;break}s[n>>2]=w;n=g;break}else{n=g+1|0;if((g|0)>32767)break t;a[e>>1]=n;s[l+1179664+(g<<2)>>2]=n<<16>>16;g=g*7|0;s[l+1310736+(g<<2)>>2]=1;s[l+1310736+(g+1<<2)>>2]=w;s[l+1310736+(g+2<<2)>>2]=E;s[l+1310736+(g+3<<2)>>2]=w;s[l+1310736+(g+4<<2)>>2]=w;s[l+1310736+(g+5<<2)>>2]=E;s[l+1310736+(g+6<<2)>>2]=E;break}}if(h){n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+(b+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=p;n=m*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+E;n=g}else{a[e>>1]=0;r[u>>0]=0;n=g}}while(0);w=w+1|0;h=v+2|0;e=e+2|0;u=u+1|0;if((w|0)>=(C|0))break;else{v=h;g=n}}}else u=p;E=E+1|0;if((E|0)>=(A|0)){m=n;x=52;break e}else{p=u+2|0;h=h+4|0;e=e+4|0}}eo(3,3904,M);u=-1}else{m=0;x=52}}while(0);if((x|0)==52){e=l+12|0;if((m|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(m|0)){h=h+1|0;f=f+4|0}else break}}p=l+8|0;u=n+-1|0;s[p>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[p>>2]|0))}if((m|0)>0){e=0;do{f=(s[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;e=e+1|0}while((e|0)<(m|0))}if((s[p>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[p>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function Dl(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;m=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=m;h=m+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=n*3|0;C=t+-1|0;if((i|0)>0){u=0;n=m;f=m+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{n=n+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;u=t+1|0;_=0-t|0;k=1-t|0;y=~t;e:do{if((A|0)>1){S=(C|0)>1;p=(s[l+4>>2]|0)+u|0;E=1;h=e+(u<<2)|0;e=m+(u<<1)|0;n=0;t:while(1){if(S){u=p;w=1;v=h;g=n;while(1){do{if(((o[v+1>>0]|0)+(o[v>>0]|0)+(o[v+2>>0]|0)|0)>(T|0)){r[u>>0]=-1;n=a[e+(_<<1)>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}p=a[e+(k<<1)>>1]|0;m=p<<16>>16;n=a[e+(y<<1)>>1]|0;b=n<<16>>16;h=n<<16>>16>0;if(p<<16>>16<=0){if(h){a[e>>1]=n;n=b*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=a[e+-2>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(w|0)){n=g;break}s[n>>2]=w;n=g;break}else{n=g+1|0;if((g|0)>32767)break t;a[e>>1]=n;s[l+1179664+(g<<2)>>2]=n<<16>>16;g=g*7|0;s[l+1310736+(g<<2)>>2]=1;s[l+1310736+(g+1<<2)>>2]=w;s[l+1310736+(g+2<<2)>>2]=E;s[l+1310736+(g+3<<2)>>2]=w;s[l+1310736+(g+4<<2)>>2]=w;s[l+1310736+(g+5<<2)>>2]=E;s[l+1310736+(g+6<<2)>>2]=E;break}}if(h){n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+(b+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=p;n=m*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+E;n=g}else{a[e>>1]=0;r[u>>0]=0;n=g}}while(0);w=w+1|0;h=v+4|0;e=e+2|0;u=u+1|0;if((w|0)>=(C|0))break;else{v=h;g=n}}}else u=p;E=E+1|0;if((E|0)>=(A|0)){m=n;x=52;break e}else{p=u+2|0;h=h+8|0;e=e+4|0}}eo(3,3904,M);u=-1}else{m=0;x=52}}while(0);if((x|0)==52){e=l+12|0;if((m|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(m|0)){h=h+1|0;f=f+4|0}else break}}p=l+8|0;u=n+-1|0;s[p>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[p>>2]|0))}if((m|0)>0){e=0;do{f=(s[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;e=e+1|0}while((e|0)<(m|0))}if((s[p>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[p>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function $l(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;m=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=m;h=m+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=n*3|0;C=t+-1|0;if((i|0)>0){u=0;n=m;f=m+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{n=n+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;u=t+1|0;_=0-t|0;k=1-t|0;y=~t;e:do{if((A|0)>1){S=(C|0)>1;p=(s[l+4>>2]|0)+u|0;E=1;h=e+(u<<1)|0;e=m+(u<<1)|0;n=0;t:while(1){if(S){u=p;w=1;v=h;g=n;while(1){b=o[v>>0]|0;do{if(((b&240)+24+(b<<4&240)+((o[v+1>>0]|0)&240)|0)>(T|0)){r[u>>0]=-1;n=a[e+(_<<1)>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}p=a[e+(k<<1)>>1]|0;m=p<<16>>16;n=a[e+(y<<1)>>1]|0;b=n<<16>>16;h=n<<16>>16>0;if(p<<16>>16<=0){if(h){a[e>>1]=n;n=b*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=a[e+-2>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(w|0)){n=g;break}s[n>>2]=w;n=g;break}else{n=g+1|0;if((g|0)>32767)break t;a[e>>1]=n;s[l+1179664+(g<<2)>>2]=n<<16>>16;g=g*7|0;s[l+1310736+(g<<2)>>2]=1;s[l+1310736+(g+1<<2)>>2]=w;s[l+1310736+(g+2<<2)>>2]=E;s[l+1310736+(g+3<<2)>>2]=w;s[l+1310736+(g+4<<2)>>2]=w;s[l+1310736+(g+5<<2)>>2]=E;s[l+1310736+(g+6<<2)>>2]=E;break}}if(h){n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+(b+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=p;n=m*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+E;n=g}else{a[e>>1]=0;r[u>>0]=0;n=g}}while(0);w=w+1|0;h=v+2|0;e=e+2|0;u=u+1|0;if((w|0)>=(C|0))break;else{v=h;g=n}}}else u=p;E=E+1|0;if((E|0)>=(A|0)){m=n;x=52;break e}else{p=u+2|0;h=h+4|0;e=e+4|0}}eo(3,3904,M);u=-1}else{m=0;x=52}}while(0);if((x|0)==52){e=l+12|0;if((m|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(m|0)){h=h+1|0;f=f+4|0}else break}}p=l+8|0;u=n+-1|0;s[p>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[p>>2]|0))}if((m|0)>0){e=0;do{f=(s[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;e=e+1|0}while((e|0)<(m|0))}if((s[p>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[p>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function Ll(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;m=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=m;h=m+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=n*3|0;C=t+-1|0;if((i|0)>0){u=0;n=m;f=m+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{n=n+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;u=t+1|0;_=0-t|0;k=1-t|0;y=~t;e:do{if((A|0)>1){S=(C|0)>1;p=(s[l+4>>2]|0)+u|0;E=1;h=e+(u<<1)|0;e=m+(u<<1)|0;n=0;t:while(1){if(S){u=p;w=1;v=h;g=n;while(1){m=o[v>>0]|0;b=o[v+1>>0]|0;do{if(((m&248)+12+(m<<5&224)+(b>>>3&24)+(b<<2&248)|0)>(T|0)){r[u>>0]=-1;n=a[e+(_<<1)>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}p=a[e+(k<<1)>>1]|0;m=p<<16>>16;n=a[e+(y<<1)>>1]|0;b=n<<16>>16;h=n<<16>>16>0;if(p<<16>>16<=0){if(h){a[e>>1]=n;n=b*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=a[e+-2>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(w|0)){n=g;break}s[n>>2]=w;n=g;break}else{n=g+1|0;if((g|0)>32767)break t;a[e>>1]=n;s[l+1179664+(g<<2)>>2]=n<<16>>16;g=g*7|0;s[l+1310736+(g<<2)>>2]=1;s[l+1310736+(g+1<<2)>>2]=w;s[l+1310736+(g+2<<2)>>2]=E;s[l+1310736+(g+3<<2)>>2]=w;s[l+1310736+(g+4<<2)>>2]=w;s[l+1310736+(g+5<<2)>>2]=E;s[l+1310736+(g+6<<2)>>2]=E;break}}if(h){n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+(b+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=p;n=m*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+E;n=g}else{a[e>>1]=0;r[u>>0]=0;n=g}}while(0);w=w+1|0;h=v+2|0;e=e+2|0;u=u+1|0;if((w|0)>=(C|0))break;else{v=h;g=n}}}else u=p;E=E+1|0;if((E|0)>=(A|0)){m=n;x=52;break e}else{p=u+2|0;h=h+4|0;e=e+4|0}}eo(3,3904,M);u=-1}else{m=0;x=52}}while(0);if((x|0)==52){e=l+12|0;if((m|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(m|0)){h=h+1|0;f=f+4|0}else break}}p=l+8|0;u=n+-1|0;s[p>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[p>>2]|0))}if((m|0)>0){e=0;do{f=(s[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;e=e+1|0}while((e|0)<(m|0))}if((s[p>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[p>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function Hl(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;m=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=m;h=m+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=n*3|0;C=t+-1|0;if((i|0)>0){u=0;n=m;f=m+(C<<1)|0;while(1){a[f>>1]=0;a[n>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{n=n+(t<<1)|0;f=f+(t<<1)|0}}}f=l+1179664|0;u=t+1|0;_=0-t|0;k=1-t|0;y=~t;e:do{if((A|0)>1){S=(C|0)>1;p=(s[l+4>>2]|0)+u|0;E=1;h=e+(u<<2)|0;e=m+(u<<1)|0;n=0;t:while(1){if(S){u=p;w=1;v=h;g=n;while(1){do{if(((o[v+2>>0]|0)+(o[v+1>>0]|0)+(o[v+3>>0]|0)|0)>(T|0)){r[u>>0]=-1;n=a[e+(_<<1)>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}p=a[e+(k<<1)>>1]|0;m=p<<16>>16;n=a[e+(y<<1)>>1]|0;b=n<<16>>16;h=n<<16>>16>0;if(p<<16>>16<=0){if(h){a[e>>1]=n;n=b*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-3<<2)|0;if((s[h>>2]|0)<(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=a[e+-2>>1]|0;if(n<<16>>16>0){a[e>>1]=n;n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;n=l+1310736+(n+-3<<2)|0;if((s[n>>2]|0)>=(w|0)){n=g;break}s[n>>2]=w;n=g;break}else{n=g+1|0;if((g|0)>32767)break t;a[e>>1]=n;s[l+1179664+(g<<2)>>2]=n<<16>>16;g=g*7|0;s[l+1310736+(g<<2)>>2]=1;s[l+1310736+(g+1<<2)>>2]=w;s[l+1310736+(g+2<<2)>>2]=E;s[l+1310736+(g+3<<2)>>2]=w;s[l+1310736+(g+4<<2)>>2]=w;s[l+1310736+(g+5<<2)>>2]=E;s[l+1310736+(g+6<<2)>>2]=E;break}}if(h){n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+(b+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;b=l+1310736+(n+-5<<2)|0;s[b>>2]=(s[b>>2]|0)+E;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=p;n=m*7|0;h=l+1310736+(n+-7<<2)|0;s[h>>2]=(s[h>>2]|0)+1;h=l+1310736+(n+-6<<2)|0;s[h>>2]=(s[h>>2]|0)+w;h=l+1310736+(n+-5<<2)|0;s[h>>2]=(s[h>>2]|0)+E;h=l+1310736+(n+-4<<2)|0;if((s[h>>2]|0)>(w|0))s[h>>2]=w;s[l+1310736+(n+-1<<2)>>2]=E;n=g;break}n=s[l+1179664+(m+-1<<2)>>2]|0;m=s[l+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((n|0)>(m|0)){a[e>>1]=m;if((g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(n|0))s[p>>2]=m;h=h+1|0;if((h|0)>=(g|0)){n=m;break}else p=p+4|0}}else n=m}else{a[e>>1]=n;if((n|0)<(m|0)&(g|0)>0){h=0;p=f;while(1){if((s[p>>2]|0)==(m|0))s[p>>2]=n;h=h+1|0;if((h|0)>=(g|0))break;else p=p+4|0}}}n=(n<<16>>16)*7|0;b=l+1310736+(n+-7<<2)|0;s[b>>2]=(s[b>>2]|0)+1;b=l+1310736+(n+-6<<2)|0;s[b>>2]=(s[b>>2]|0)+w;n=l+1310736+(n+-5<<2)|0;s[n>>2]=(s[n>>2]|0)+E;n=g}else{a[e>>1]=0;r[u>>0]=0;n=g}}while(0);w=w+1|0;h=v+4|0;e=e+2|0;u=u+1|0;if((w|0)>=(C|0))break;else{v=h;g=n}}}else u=p;E=E+1|0;if((E|0)>=(A|0)){m=n;x=52;break e}else{p=u+2|0;h=h+8|0;e=e+4|0}}eo(3,3904,M);u=-1}else{m=0;x=52}}while(0);if((x|0)==52){e=l+12|0;if((m|0)<1)n=1;else{h=1;n=1;while(1){u=s[f>>2]|0;if((u|0)==(h|0)){u=n;n=n+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[f>>2]=u;if((h|0)<(m|0)){h=h+1|0;f=f+4|0}else break}}p=l+8|0;u=n+-1|0;s[p>>2]=u;if(u){Vu(e|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((n|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[p>>2]|0))}if((m|0)>0){e=0;do{f=(s[l+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;u=l+12+(f<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(h<<2)>>2]|0);u=f<<1;n=l+655376+(u<<3)|0;c[n>>3]=+c[n>>3]+ +(s[l+1310736+(h+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(h+2<<2)>>2]|0);f=f<<2;u=l+131084+(f<<2)|0;n=s[l+1310736+(h+3<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;u=l+131084+((f|1)<<2)|0;n=s[l+1310736+(h+4<<2)>>2]|0;if((s[u>>2]|0)<(n|0))s[u>>2]=n;u=l+131084+((f|2)<<2)|0;n=s[l+1310736+(h+5<<2)>>2]|0;if((s[u>>2]|0)>(n|0))s[u>>2]=n;n=l+131084+((f|3)<<2)|0;u=s[l+1310736+(h+6<<2)>>2]|0;if((s[n>>2]|0)<(u|0))s[n>>2]=u;e=e+1|0}while((e|0)<(m|0))}if((s[p>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[p>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function jl(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;p=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=p;h=p+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((i|0)>0){u=0;f=p;h=p+(T<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;u=t+1|0;S=0-t|0;y=1-t|0;_=~t;e:do{if((A|0)>1){E=(T|0)>1;m=(s[l+4>>2]|0)+u|0;C=1;e=e+u|0;p=p+(u<<1)|0;f=0;t:while(1){if(E){u=m;k=1;w=e;v=f;while(1){do{if((o[w>>0]|0|0)>(n|0)){r[u>>0]=-1;f=a[p+(S<<1)>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}m=a[p+(y<<1)>>1]|0;b=m<<16>>16;f=a[p+(_<<1)>>1]|0;g=f<<16>>16;e=f<<16>>16>0;if(m<<16>>16<=0){if(e){a[p>>1]=f;f=g*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-3<<2)|0;if((s[e>>2]|0)<(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=a[p+-2>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;f=l+1310736+(f+-3<<2)|0;if((s[f>>2]|0)>=(k|0)){f=v;break}s[f>>2]=k;f=v;break}else{f=v+1|0;if((v|0)>32767)break t;a[p>>1]=f;s[l+1179664+(v<<2)>>2]=f<<16>>16;v=v*7|0;s[l+1310736+(v<<2)>>2]=1;s[l+1310736+(v+1<<2)>>2]=k;s[l+1310736+(v+2<<2)>>2]=C;s[l+1310736+(v+3<<2)>>2]=k;s[l+1310736+(v+4<<2)>>2]=k;s[l+1310736+(v+5<<2)>>2]=C;s[l+1310736+(v+6<<2)>>2]=C;break}}if(e){f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+(g+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}e=a[p+-2>>1]|0;if(e<<16>>16<=0){a[p>>1]=m;f=b*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-4<<2)|0;if((s[e>>2]|0)>(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;f=l+1310736+(f+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+C;f=v}else{a[p>>1]=0;r[u>>0]=0;f=v}}while(0);k=k+1|0;e=w+1|0;p=p+2|0;u=u+1|0;if((k|0)>=(T|0))break;else{w=e;v=f}}}else u=m;C=C+1|0;if((C|0)>=(A|0)){b=f;x=52;break e}else{m=u+2|0;e=e+2|0;p=p+4|0}}eo(3,3904,M);u=-1}else{b=0;x=52}}while(0);if((x|0)==52){p=l+12|0;if((b|0)<1)f=1;else{e=1;f=1;while(1){u=s[h>>2]|0;if((u|0)==(e|0)){u=f;f=f+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[h>>2]=u;if((e|0)<(b|0)){e=e+1|0;h=h+4|0}else break}}m=l+8|0;u=f+-1|0;s[m>>2]=u;if(u){Vu(p|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((f|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[m>>2]|0))}if((b|0)>0){p=0;do{h=(s[l+1179664+(p<<2)>>2]|0)+-1|0;e=p*7|0;u=l+12+(h<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(e<<2)>>2]|0);u=h<<1;f=l+655376+(u<<3)|0;c[f>>3]=+c[f>>3]+ +(s[l+1310736+(e+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(e+2<<2)>>2]|0);h=h<<2;u=l+131084+(h<<2)|0;f=s[l+1310736+(e+3<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;u=l+131084+((h|1)<<2)|0;f=s[l+1310736+(e+4<<2)>>2]|0;if((s[u>>2]|0)<(f|0))s[u>>2]=f;u=l+131084+((h|2)<<2)|0;f=s[l+1310736+(e+5<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;f=l+131084+((h|3)<<2)|0;u=s[l+1310736+(e+6<<2)>>2]|0;if((s[f>>2]|0)<(u|0))s[f>>2]=u;p=p+1|0}while((p|0)<(b|0))}if((s[m>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[m>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function zl(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;p=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=p;h=p+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((i|0)>0){u=0;f=p;h=p+(T<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;u=t+1|0;S=0-t|0;y=1-t|0;_=~t;e:do{if((A|0)>1){E=(T|0)>1;m=(s[l+4>>2]|0)+u|0;C=1;e=e+(u<<1)|0;p=p+(u<<1)|0;f=0;t:while(1){if(E){u=m;k=1;w=e;v=f;while(1){do{if((o[w+1>>0]|0|0)>(n|0)){r[u>>0]=-1;f=a[p+(S<<1)>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}m=a[p+(y<<1)>>1]|0;b=m<<16>>16;f=a[p+(_<<1)>>1]|0;g=f<<16>>16;e=f<<16>>16>0;if(m<<16>>16<=0){if(e){a[p>>1]=f;f=g*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-3<<2)|0;if((s[e>>2]|0)<(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=a[p+-2>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;f=l+1310736+(f+-3<<2)|0;if((s[f>>2]|0)>=(k|0)){f=v;break}s[f>>2]=k;f=v;break}else{f=v+1|0;if((v|0)>32767)break t;a[p>>1]=f;s[l+1179664+(v<<2)>>2]=f<<16>>16;v=v*7|0;s[l+1310736+(v<<2)>>2]=1;s[l+1310736+(v+1<<2)>>2]=k;s[l+1310736+(v+2<<2)>>2]=C;s[l+1310736+(v+3<<2)>>2]=k;s[l+1310736+(v+4<<2)>>2]=k;s[l+1310736+(v+5<<2)>>2]=C;s[l+1310736+(v+6<<2)>>2]=C;break}}if(e){f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+(g+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}e=a[p+-2>>1]|0;if(e<<16>>16<=0){a[p>>1]=m;f=b*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-4<<2)|0;if((s[e>>2]|0)>(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;f=l+1310736+(f+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+C;f=v}else{a[p>>1]=0;r[u>>0]=0;f=v}}while(0);k=k+1|0;e=w+2|0;p=p+2|0;u=u+1|0;if((k|0)>=(T|0))break;else{w=e;v=f}}}else u=m;C=C+1|0;if((C|0)>=(A|0)){b=f;x=52;break e}else{m=u+2|0;e=e+4|0;p=p+4|0}}eo(3,3904,M);u=-1}else{b=0;x=52}}while(0);if((x|0)==52){p=l+12|0;if((b|0)<1)f=1;else{e=1;f=1;while(1){u=s[h>>2]|0;if((u|0)==(e|0)){u=f;f=f+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[h>>2]=u;if((e|0)<(b|0)){e=e+1|0;h=h+4|0}else break}}m=l+8|0;u=f+-1|0;s[m>>2]=u;if(u){Vu(p|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((f|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[m>>2]|0))}if((b|0)>0){p=0;do{h=(s[l+1179664+(p<<2)>>2]|0)+-1|0;e=p*7|0;u=l+12+(h<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(e<<2)>>2]|0);u=h<<1;f=l+655376+(u<<3)|0;c[f>>3]=+c[f>>3]+ +(s[l+1310736+(e+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(e+2<<2)>>2]|0);h=h<<2;u=l+131084+(h<<2)|0;f=s[l+1310736+(e+3<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;u=l+131084+((h|1)<<2)|0;f=s[l+1310736+(e+4<<2)>>2]|0;if((s[u>>2]|0)<(f|0))s[u>>2]=f;u=l+131084+((h|2)<<2)|0;f=s[l+1310736+(e+5<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;f=l+131084+((h|3)<<2)|0;u=s[l+1310736+(e+6<<2)>>2]|0;if((s[f>>2]|0)<(u|0))s[f>>2]=u;p=p+1|0}while((p|0)<(b|0))}if((s[m>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[m>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function Bl(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;p=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=p;h=p+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((i|0)>0){u=0;f=p;h=p+(T<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;u=t+1|0;S=0-t|0;y=1-t|0;_=~t;e:do{if((A|0)>1){E=(T|0)>1;m=(s[l+4>>2]|0)+u|0;C=1;e=e+(u<<1)|0;p=p+(u<<1)|0;f=0;t:while(1){if(E){u=m;k=1;w=e;v=f;while(1){do{if((o[w>>0]|0|0)>(n|0)){r[u>>0]=-1;f=a[p+(S<<1)>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}m=a[p+(y<<1)>>1]|0;b=m<<16>>16;f=a[p+(_<<1)>>1]|0;g=f<<16>>16;e=f<<16>>16>0;if(m<<16>>16<=0){if(e){a[p>>1]=f;f=g*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-3<<2)|0;if((s[e>>2]|0)<(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=a[p+-2>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;f=l+1310736+(f+-3<<2)|0;if((s[f>>2]|0)>=(k|0)){f=v;break}s[f>>2]=k;f=v;break}else{f=v+1|0;if((v|0)>32767)break t;a[p>>1]=f;s[l+1179664+(v<<2)>>2]=f<<16>>16;v=v*7|0;s[l+1310736+(v<<2)>>2]=1;s[l+1310736+(v+1<<2)>>2]=k;s[l+1310736+(v+2<<2)>>2]=C;s[l+1310736+(v+3<<2)>>2]=k;s[l+1310736+(v+4<<2)>>2]=k;s[l+1310736+(v+5<<2)>>2]=C;s[l+1310736+(v+6<<2)>>2]=C;break}}if(e){f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+(g+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}e=a[p+-2>>1]|0;if(e<<16>>16<=0){a[p>>1]=m;f=b*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-4<<2)|0;if((s[e>>2]|0)>(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;f=l+1310736+(f+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+C;f=v}else{a[p>>1]=0;r[u>>0]=0;f=v}}while(0);k=k+1|0;e=w+2|0;p=p+2|0;u=u+1|0;if((k|0)>=(T|0))break;else{w=e;v=f}}}else u=m;C=C+1|0;if((C|0)>=(A|0)){b=f;x=52;break e}else{m=u+2|0;e=e+4|0;p=p+4|0}}eo(3,3904,M);u=-1}else{b=0;x=52}}while(0);if((x|0)==52){p=l+12|0;if((b|0)<1)f=1;else{e=1;f=1;while(1){u=s[h>>2]|0;if((u|0)==(e|0)){u=f;f=f+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[h>>2]=u;if((e|0)<(b|0)){e=e+1|0;h=h+4|0}else break}}m=l+8|0;u=f+-1|0;s[m>>2]=u;if(u){Vu(p|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((f|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[m>>2]|0))}if((b|0)>0){p=0;do{h=(s[l+1179664+(p<<2)>>2]|0)+-1|0;e=p*7|0;u=l+12+(h<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(e<<2)>>2]|0);u=h<<1;f=l+655376+(u<<3)|0;c[f>>3]=+c[f>>3]+ +(s[l+1310736+(e+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(e+2<<2)>>2]|0);h=h<<2;u=l+131084+(h<<2)|0;f=s[l+1310736+(e+3<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;u=l+131084+((h|1)<<2)|0;f=s[l+1310736+(e+4<<2)>>2]|0;if((s[u>>2]|0)<(f|0))s[u>>2]=f;u=l+131084+((h|2)<<2)|0;f=s[l+1310736+(e+5<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;f=l+131084+((h|3)<<2)|0;u=s[l+1310736+(e+6<<2)>>2]|0;if((s[f>>2]|0)<(u|0))s[f>>2]=u;p=p+1|0}while((p|0)<(b|0))}if((s[m>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[m>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function Ul(e,t,i,n,l){e=e|0;t=t|0;i=i|0;n=n|0;l=l|0;var u=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0;R=d;d=d+16|0;M=R;p=s[l>>2]|0;A=i+-1|0;if((t|0)>0){u=0;f=p;h=p+((ie(A,t)|0)<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(t|0))break;else{f=f+2|0;h=h+2|0}}}T=t+-1|0;if((i|0)>0){u=0;f=p;h=p+(T<<1)|0;while(1){a[h>>1]=0;a[f>>1]=0;u=u+1|0;if((u|0)>=(i|0))break;else{f=f+(t<<1)|0;h=h+(t<<1)|0}}}h=l+1179664|0;f=t+1|0;S=0-t|0;y=1-t|0;_=~t;e:do{if((A|0)>1){E=(T|0)>1;u=(s[l+4>>2]|0)+f|0;C=1;e=e+f|0;p=p+(f<<1)|0;n=n+f|0;f=0;t:while(1){if(E){k=1;w=e;v=f;while(1){do{if((o[w>>0]|0)>(o[n>>0]|0)){r[u>>0]=-1;f=a[p+(S<<1)>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}m=a[p+(y<<1)>>1]|0;b=m<<16>>16;f=a[p+(_<<1)>>1]|0;g=f<<16>>16;e=f<<16>>16>0;if(m<<16>>16<=0){if(e){a[p>>1]=f;f=g*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-3<<2)|0;if((s[e>>2]|0)<(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=a[p+-2>>1]|0;if(f<<16>>16>0){a[p>>1]=f;f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;f=l+1310736+(f+-3<<2)|0;if((s[f>>2]|0)>=(k|0)){f=v;break}s[f>>2]=k;f=v;break}else{f=v+1|0;if((v|0)>32767)break t;a[p>>1]=f;s[l+1179664+(v<<2)>>2]=f<<16>>16;v=v*7|0;s[l+1310736+(v<<2)>>2]=1;s[l+1310736+(v+1<<2)>>2]=k;s[l+1310736+(v+2<<2)>>2]=C;s[l+1310736+(v+3<<2)>>2]=k;s[l+1310736+(v+4<<2)>>2]=k;s[l+1310736+(v+5<<2)>>2]=C;s[l+1310736+(v+6<<2)>>2]=C;break}}if(e){f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+(g+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;g=l+1310736+(f+-5<<2)|0;s[g>>2]=(s[g>>2]|0)+C;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}e=a[p+-2>>1]|0;if(e<<16>>16<=0){a[p>>1]=m;f=b*7|0;e=l+1310736+(f+-7<<2)|0;s[e>>2]=(s[e>>2]|0)+1;e=l+1310736+(f+-6<<2)|0;s[e>>2]=(s[e>>2]|0)+k;e=l+1310736+(f+-5<<2)|0;s[e>>2]=(s[e>>2]|0)+C;e=l+1310736+(f+-4<<2)|0;if((s[e>>2]|0)>(k|0))s[e>>2]=k;s[l+1310736+(f+-1<<2)>>2]=C;f=v;break}f=s[l+1179664+(b+-1<<2)>>2]|0;b=s[l+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(b|0)){a[p>>1]=b;if((v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(f|0))s[m>>2]=b;e=e+1|0;if((e|0)>=(v|0)){f=b;break}else m=m+4|0}}else f=b}else{a[p>>1]=f;if((f|0)<(b|0)&(v|0)>0){e=0;m=h;while(1){if((s[m>>2]|0)==(b|0))s[m>>2]=f;e=e+1|0;if((e|0)>=(v|0))break;else m=m+4|0}}}f=(f<<16>>16)*7|0;g=l+1310736+(f+-7<<2)|0;s[g>>2]=(s[g>>2]|0)+1;g=l+1310736+(f+-6<<2)|0;s[g>>2]=(s[g>>2]|0)+k;f=l+1310736+(f+-5<<2)|0;s[f>>2]=(s[f>>2]|0)+C;f=v}else{a[p>>1]=0;r[u>>0]=0;f=v}}while(0);k=k+1|0;e=w+1|0;n=n+1|0;p=p+2|0;u=u+1|0;if((k|0)>=(T|0))break;else{w=e;v=f}}}C=C+1|0;if((C|0)>=(A|0)){m=f;x=52;break e}else{u=u+2|0;e=e+2|0;p=p+4|0;n=n+2|0}}eo(3,3904,M);u=-1}else{m=0;x=52}}while(0);if((x|0)==52){p=l+12|0;if((m|0)<1)f=1;else{e=1;f=1;while(1){u=s[h>>2]|0;if((u|0)==(e|0)){u=f;f=f+1|0}else u=s[l+1179664+(u+-1<<2)>>2]|0;s[h>>2]=u;if((e|0)<(m|0)){e=e+1|0;h=h+4|0}else break}}n=l+8|0;u=f+-1|0;s[n>>2]=u;if(u){Vu(p|0,0,u<<2|0)|0;Vu(l+655376|0,0,u<<4|0)|0;if((f|0)>1){u=0;do{x=u<<2;s[l+131084+(x<<2)>>2]=t;s[l+131084+((x|1)<<2)>>2]=0;s[l+131084+((x|2)<<2)>>2]=i;s[l+131084+((x|3)<<2)>>2]=0;u=u+1|0}while((u|0)<(s[n>>2]|0))}if((m|0)>0){p=0;do{h=(s[l+1179664+(p<<2)>>2]|0)+-1|0;e=p*7|0;u=l+12+(h<<2)|0;s[u>>2]=(s[u>>2]|0)+(s[l+1310736+(e<<2)>>2]|0);u=h<<1;f=l+655376+(u<<3)|0;c[f>>3]=+c[f>>3]+ +(s[l+1310736+(e+1<<2)>>2]|0);u=l+655376+((u|1)<<3)|0;c[u>>3]=+c[u>>3]+ +(s[l+1310736+(e+2<<2)>>2]|0);h=h<<2;u=l+131084+(h<<2)|0;f=s[l+1310736+(e+3<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;u=l+131084+((h|1)<<2)|0;f=s[l+1310736+(e+4<<2)>>2]|0;if((s[u>>2]|0)<(f|0))s[u>>2]=f;u=l+131084+((h|2)<<2)|0;f=s[l+1310736+(e+5<<2)>>2]|0;if((s[u>>2]|0)>(f|0))s[u>>2]=f;f=l+131084+((h|3)<<2)|0;u=s[l+1310736+(e+6<<2)>>2]|0;if((s[f>>2]|0)<(u|0))s[f>>2]=u;p=p+1|0}while((p|0)<(m|0))}if((s[n>>2]|0)>0){u=0;do{t=l+12+(u<<2)|0;i=u<<1;x=l+655376+(i<<3)|0;c[x>>3]=+c[x>>3]/+(s[t>>2]|0);i=l+655376+((i|1)<<3)|0;c[i>>3]=+c[i>>3]/+(s[t>>2]|0);u=u+1|0}while((u|0)<(s[n>>2]|0));u=0}else u=0}else u=0}d=R;return u|0}function Wl(e){e=e|0;return Vl(e+8|0)|0}function Vl(e){e=e|0;var t=0,i=0;i=d;d=d+16|0;t=Hs(4)|0;if(!t){eo(3,5472,i);kt(1)}e=$o(e)|0;s[t>>2]=e;if(!e){js(t);t=0}d=i;return t|0}function Yl(e){e=e|0;var t=0;t=s[e>>2]|0;if(!t)t=-1;else{Lo(t)|0;js(s[e>>2]|0);s[e>>2]=0;t=0}return t|0}function Ql(e){e=e|0;var t=0,i=0,r=0;i=d;d=d+16|0;t=Hs(7062432)|0;if(!t){eo(3,5472,i);kt(1)}s[t>>2]=0;s[t+4834148>>2]=0;s[t+7062408>>2]=0;s[t+4>>2]=-1;s[t+8>>2]=0;s[t+12>>2]=1;s[t+16>>2]=100;s[t+20>>2]=0;s[t+24>>2]=0;s[t+28>>2]=2;c[t+7062416>>3]=.5;s[t+7062424>>2]=3;s[t+32>>2]=e;r=s[e>>2]|0;s[t+36>>2]=r;e=s[e+4>>2]|0;s[t+40>>2]=e;s[t+44>>2]=0;s[t+15408>>2]=0;s[t+4834152>>2]=0;s[t+4818296>>2]=0;e=Hs(ie(r<<1,e)|0)|0;s[t+4834144>>2]=e;if(!e){eo(3,5472,i+8|0);kt(1)}else{s[t+7062384>>2]=0;Gl(t,2)|0;Kl(t,0)|0;s[t+7062388>>2]=-1;Xl(t,0)|0;s[t+7062392>>2]=7;s[t+7062396>>2]=0;d=i;return t|0}return 0}function Gl(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0;o=d;d=d+16|0;i=o;e:do{if(e){r=e+4|0;if((s[r>>2]|0)!=(t|0)){switch(t|0){case 11:case 10:case 9:case 8:case 7:case 6:case 4:case 3:case 2:case 1:case 0:{a=0;break}case 14:case 13:case 12:case 5:{a=1;break}default:{s[i>>2]=t;eo(3,3936,i);i=-1;break e}}s[r>>2]=t;s[e+8>>2]=ro(t)|0;i=e+7062408|0;t=s[i>>2]|0;if(t){Cu(t);s[i>>2]=Eu(s[e+36>>2]|0,s[e+40>>2]|0,s[r>>2]|0,0)|0}i=e+24|0;t=s[i>>2]|0;if(!a)switch(t|0){case 1:{s[i>>2]=4;i=0;break e}case 4:{s[i>>2]=3;i=0;break e}default:{i=0;break e}}else switch(t|0){case 0:{s[i>>2]=1;i=0;break e}case 3:{s[i>>2]=4;i=0;break e}default:{i=0;break e}}}else i=0}else i=-1}while(0);d=o;return i|0}function Kl(e,t){e=e|0;t=t|0;var i=0,r=0,a=0;a=d;d=d+16|0;r=a;do{if(e)if((s[e>>2]|0)!=(t|0)){s[e>>2]=t;if(!t){i=e+4834148|0;js(s[i>>2]|0);s[i>>2]=0;i=0;break}t=Hs(ie(s[e+40>>2]|0,s[e+36>>2]|0)|0)|0;s[e+4834148>>2]=t;if(!t){eo(3,5472,r);kt(1)}else i=0}else i=0;else i=-1}while(0);d=a;return i|0}function Xl(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0,l=0;l=d;d=d+16|0;n=l+8|0;a=l;if(e){o=e+7062388|0;if((s[o>>2]|0)!=(t|0)){i=e+7062408|0;r=s[i>>2]|0;if(r){Cu(r);s[i>>2]=0}switch(t|0){case 3:case 2:case 1:{s[i>>2]=Eu(s[e+36>>2]|0,s[e+40>>2]|0,s[e+4>>2]|0,0)|0;break}case 4:{s[e+7062404>>2]=1;s[e+7062400>>2]=1;t=4;break}case 0:{t=0;break}default:{eo(3,3985,a);t=0}}s[o>>2]=t;if((s[e>>2]|0)==1){s[n>>2]=s[760+(t<<2)>>2];eo(3,4059,n);t=0}else t=0}else t=0}else t=-1;d=l;return t|0}function Jl(e){e=e|0;var t=0,i=0;if(!e)t=-1;else{t=e+7062408|0;i=s[t>>2]|0;if(i){Cu(i);s[t>>2]=0}js(s[e+4834144>>2]|0);js(s[e+4834148>>2]|0);js(e);t=0}return t|0}function Zl(e,t){e=e|0;t=t|0;if((e|0)!=0&(t|0)!=0){s[t>>2]=s[e>>2];e=0}else e=-1;return e|0}function eu(e,t){e=e|0;t=t|0;if((e|0)!=0&t>>>0<2){s[e+12>>2]=t;e=0}else e=-1;return e|0}function tu(e,t){e=e|0;t=t|0;if((e|0)!=0&(t|0)!=0){s[t>>2]=s[e+12>>2];e=0}else e=-1;return e|0}function iu(e,t){e=e|0;t=t|0;if((e|0)==0|t>>>0>255)e=-1;else{s[e+16>>2]=t;e=0}return e|0}function ru(e,t){e=e|0;t=t|0;if((e|0)!=0&(t|0)!=0){s[t>>2]=s[e+16>>2];e=0}else e=-1;return e|0}function au(e,t){e=e|0;t=t|0;if((e|0)!=0&(t|0)!=0){s[t>>2]=s[e+7062388>>2];e=0}else e=-1;return e|0}function su(e,t){e=e|0;t=t|0;if((e|0)!=0&t>>>0<2){s[e+20>>2]=t;e=0}else e=-1;return e|0}function ou(e,t){e=e|0;t=t|0;if(!e)e=-1;else{s[t>>2]=s[e+20>>2];e=0}return e|0}function nu(e,t){e=e|0;t=t|0;if((e|0)!=0&t>>>0<5){s[e+24>>2]=t;e=0}else e=-1;return e|0}function lu(e,t){e=e|0;t=t|0;if(!e)e=-1;else{s[e+7062424>>2]=t;e=0}return e|0}function uu(e,t){e=e|0;t=t|0;if((e|0)!=0&(t|0)!=0){s[t>>2]=s[e+7062424>>2];e=0}else e=-1;return e|0}function cu(e,t){e=e|0;t=t|0;if(!e)e=-1;else{s[t>>2]=s[e+24>>2];e=0}return e|0}function du(e,t){e=e|0;t=+t;if((e|0)!=0?!(t<=0.0|t>=1.0):0){c[e+7062416>>3]=t;e=0}else e=-1;return e|0}function fu(e,t){e=e|0;t=t|0;if(!e)e=-1;else{c[t>>3]=+c[e+7062416>>3];e=0}return e|0}function hu(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,n=0.0,l=0,u=0,f=0,h=0.0,p=0.0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0,P=0,I=0,F=0,O=0,N=0,D=0,$=0,L=0,H=0.0,j=0,z=0,B=0.0,U=0.0;z=d;d=d+80|0;$=z+32|0;P=z+24|0;C=z;E=z+52|0;x=z+40|0;D=z+64|0;j=e+44|0;s[j>>2]=0;O=e+7062388|0;r=s[O>>2]|0;e:do{if((r|0)==4){F=e+7062396|0;i=s[F>>2]|0;do{if((i|0)>0){r=4;i=i+-1|0}else{M=e+16|0;q=s[M>>2]|0;R=e+7062400|0;T=(s[R>>2]|0)+q|0;T=(T|0)>255?255:T;s[E>>2]=T;I=e+7062404|0;A=q-(s[I>>2]|0)|0;A=(A|0)<0?0:A;s[E+4>>2]=A;s[E+8>>2]=q;i=e+36|0;r=e+40|0;a=e+4|0;l=e+12|0;u=e+20|0;f=e+4834144|0;m=e+15416|0;b=e+15408|0;g=e+7062384|0;v=e+24|0;w=e+32|0;k=e+7062416|0;y=e+48|0;_=e+7062424|0;S=0;do{if((Iu(t,s[i>>2]|0,s[r>>2]|0,s[a>>2]|0,s[e>>2]|0,s[l>>2]|0,s[E+(S<<2)>>2]|0,s[u>>2]|0,f,0)|0)<0){i=-1;break e}if((mu(s[i>>2]|0,s[r>>2]|0,f,s[u>>2]|0,1e6,70,1.0,m,b)|0)<0){i=-1;break e}if((wu(t,s[i>>2]|0,s[r>>2]|0,s[a>>2]|0,m,s[b>>2]|0,s[g>>2]|0,s[u>>2]|0,s[v>>2]|0,(s[w>>2]|0)+184|0,+c[k>>3],y,j,s[_>>2]|0)|0)<0){i=-1;break e}s[x+(S<<2)>>2]=s[j>>2];S=S+1|0}while((S|0)<3);if((s[e>>2]|0)==1){L=s[x+4>>2]|0;a=s[x+8>>2]|0;r=s[x>>2]|0;s[C>>2]=A;s[C+4>>2]=L;s[C+8>>2]=q;s[C+12>>2]=a;s[C+16>>2]=T;s[C+20>>2]=r;eo(3,4153,C)}else{r=s[x>>2]|0;a=s[x+8>>2]|0}i=s[x+4>>2]|0;if((r|0)>(a|0)|(i|0)>(a|0)){r=(r|0)>=(i|0)?T:A;s[M>>2]=r;i=r-q|0;if((i|0)>0){s[R>>2]=i;i=1}else{s[R>>2]=1;i=0-i|0}s[I>>2]=i;if((s[e>>2]|0)==1){s[P>>2]=r;eo(3,4229,P)}r=s[O>>2]|0;i=s[e+7062392>>2]|0;break}i=s[R>>2]|0;r=s[I>>2]|0;do{if((i|0)>=(r|0))if((i|0)>(r|0)){s[I>>2]=r+1;break}else{i=i+1|0;s[R>>2]=i;s[I>>2]=r+1;break}else{i=i+1|0;s[R>>2]=i}}while(0);if((i+q|0)>254){s[R>>2]=1;i=1}if((q|0)<=(i|0))s[I>>2]=1;s[F>>2]=s[e+7062392>>2];L=47;break e}}while(0);s[F>>2]=i;L=30}else L=30}while(0);e:do{if((L|0)==30){t:do{switch(r|0){case 3:{r=e+7062408|0;i=Pu(s[r>>2]|0,t,9,-7)|0;if((i|0)<0)break e;i=s[r>>2]|0;r=e+4834144|0;i=Iu(s[i>>2]|0,s[i+8>>2]|0,s[i+12>>2]|0,5,s[e>>2]|0,s[e+12>>2]|0,0,0,r,s[i+4>>2]|0)|0;if((i|0)<0)break e;i=e+36|0;a=e+40|0;l=e+20|0;break}case 2:case 1:{a=e+7062396|0;i=s[a>>2]|0;if((i|0)>0){s[a>>2]=i+-1;L=44;break t}i=s[e+7062408>>2]|0;if((r|0)==1)i=Ru(i,t,D)|0;else i=qu(i,t,D)|0;if((i|0)<0)break e;i=e+16|0;if((s[e>>2]|0)==1?(N=o[D>>0]|0,(s[i>>2]|0)!=(N|0)):0){s[$>>2]=(s[O>>2]|0)==1?4281:4288;s[$+4>>2]=N;eo(3,4293,$)}s[i>>2]=o[D>>0];s[a>>2]=s[e+7062392>>2];L=44;break}default:L=44}}while(0);if((L|0)==44){i=e+36|0;a=e+40|0;l=e+20|0;r=e+4834144|0;if((Iu(t,s[i>>2]|0,s[a>>2]|0,s[e+4>>2]|0,s[e>>2]|0,s[e+12>>2]|0,s[e+16>>2]|0,s[l>>2]|0,r,0)|0)<0){i=-1;break}}u=e+15416|0;f=e+15408|0;if((mu(s[i>>2]|0,s[a>>2]|0,r,s[l>>2]|0,1e6,70,1.0,u,f)|0)>=0?(wu(t,s[i>>2]|0,s[a>>2]|0,s[e+4>>2]|0,u,s[f>>2]|0,s[e+7062384>>2]|0,s[l>>2]|0,s[e+24>>2]|0,(s[e+32>>2]|0)+184|0,+c[e+7062416>>3],e+48|0,j,s[e+7062424>>2]|0)|0)>=0:0)L=47;else i=-1}}while(0);e:do{if((L|0)==47){w=e+28|0;if((s[w>>2]|0)==1){pu(e);i=0;break}k=e+4818296|0;g=e+24|0;b=s[k>>2]|0;if((b|0)>0){v=0;do{r=s[j>>2]|0;a=e+4818304+(v*264|0)+56|0;l=e+4818304+(v*264|0)+64|0;if((r|0)>0){p=+(s[e+4818304+(v*264|0)>>2]|0);i=-1;u=0;h=.5;while(1){n=+(s[e+48+(u<<8)>>2]|0);B=p/n;if(!(B<.7|B>1.43)?(B=+c[e+48+(u<<8)+56>>3]-+c[a>>3],H=+c[e+48+(u<<8)+64>>3]-+c[l>>3],H=(B*B+H*H)/n,H<h):0){i=u;n=H}else n=h;u=u+1|0;if((u|0)>=(r|0)){m=i;break}else h=n}}else m=-1;t:do{if((m|0)>-1){f=s[g>>2]|0;switch(f|0){case 2:case 1:case 0:break;case 4:case 3:{a=e+48+(m<<8)+40|0;n=+c[e+4818304+(v*264|0)+40>>3];if(!(+c[a>>3]<n)){i=e+48+(m<<8)+48|0;r=e+4818304+(v*264|0)+48|0;if(!(+c[i>>3]<+c[r>>3]))break t}else{r=e+4818304+(v*264|0)+48|0;i=e+48+(m<<8)+48|0}c[a>>3]=n;s[e+48+(m<<8)+8>>2]=s[e+4818304+(v*264|0)+8>>2];c[i>>3]=+c[r>>3];s[e+48+(m<<8)+12>>2]=s[e+4818304+(v*264|0)+12>>2];i=-1;h=1.0e8;a=0;while(1){n=0.0;r=0;do{t=(r+a|0)%4|0;p=+c[e+4818304+(v*264|0)+168+(r<<4)>>3]-+c[e+48+(m<<8)+168+(t<<4)>>3];B=+c[e+4818304+(v*264|0)+168+(r<<4)+8>>3]-+c[e+48+(m<<8)+168+(t<<4)+8>>3];n=n+(p*p+B*B);r=r+1|0}while((r|0)!=4);r=n<h;i=r?a:i;a=a+1|0;if((a|0)==4)break;else h=r?n:h}t=4-i|0;s[e+48+(m<<8)+20>>2]=(t+(s[e+4818304+(v*264|0)+20>>2]|0)|0)%4|0;s[e+48+(m<<8)+24>>2]=(t+(s[e+4818304+(v*264|0)+24>>2]|0)|0)%4|0;break t}default:{i=-1;break e}}i=e+48+(m<<8)+32|0;p=+c[e+4818304+(v*264|0)+32>>3];if(+c[i>>3]<p){c[i>>3]=p;u=s[e+4818304+(v*264|0)+4>>2]|0;s[e+48+(m<<8)+4>>2]=u;a=e+4818304+(v*264|0)+16|0;i=-1;h=1.0e8;l=0;while(1){n=0.0;r=0;do{t=(r+l|0)%4|0;U=+c[e+4818304+(v*264|0)+168+(r<<4)>>3]-+c[e+48+(m<<8)+168+(t<<4)>>3];B=+c[e+4818304+(v*264|0)+168+(r<<4)+8>>3]-+c[e+48+(m<<8)+168+(t<<4)+8>>3];n=n+(U*U+B*B);r=r+1|0}while((r|0)!=4);if(n<h)i=(4-l+(s[a>>2]|0)|0)%4|0;else n=h;l=l+1|0;if((l|0)==4)break;else h=n}s[e+48+(m<<8)+16>>2]=i;if(f>>>0<2){s[e+48+(m<<8)+8>>2]=u;c[e+48+(m<<8)+40>>3]=p;s[e+48+(m<<8)+20>>2]=i;break}else{s[e+48+(m<<8)+12>>2]=u;c[e+48+(m<<8)+48>>3]=p;s[e+48+(m<<8)+24>>2]=i;break}}}}while(0);v=v+1|0}while((v|0)<(b|0))}pu(e);if((s[k>>2]|0)>0){a=0;i=0;do{r=e+4818304+(a*264|0)|0;L=e+4818304+(a*264|0)+256|0;t=(s[L>>2]|0)+1|0;s[L>>2]=t;if((t|0)<4){if((a|0)!=(i|0))Ku(e+4818304+(i*264|0)|0,r|0,264)|0;i=i+1|0}a=a+1|0}while((a|0)<(s[k>>2]|0))}else i=0;s[k>>2]=i;i=s[j>>2]|0;t:do{if((i|0)>0){f=0;do{l=e+48+(f<<8)|0;a=s[e+48+(f<<8)+4>>2]|0;if((a|0)>=0){u=s[k>>2]|0;i:do{if((u|0)>0){r=0;do{if((s[e+4818304+(r*264|0)+4>>2]|0)==(a|0))break i;r=r+1|0}while((r|0)<(u|0))}else r=0}while(0);if((r|0)==(u|0)){if((u|0)==60)break t;s[k>>2]=u+1}Ku(e+4818304+(r*264|0)|0,l|0,256)|0;s[e+4818304+(r*264|0)+256>>2]=1}f=f+1|0;i=s[j>>2]|0}while((f|0)<(i|0))}}while(0);if((s[w>>2]|0)!=2?(s[k>>2]|0)>0:0){u=0;while(1){a=e+4818304+(u*264|0)+56|0;l=e+4818304+(u*264|0)+64|0;t:do{if((i|0)>0){h=+(s[e+4818304+(u*264|0)>>2]|0);r=0;do{n=+(s[e+48+(r<<8)>>2]|0);U=h/n;if(!(U<.7|U>1.43)?(B=+c[e+48+(r<<8)+56>>3]-+c[a>>3],U=+c[e+48+(r<<8)+64>>3]-+c[l>>3],(B*B+U*U)/n<.5):0)break t;r=r+1|0}while((r|0)<(i|0))}else r=0}while(0);if((r|0)==(i|0)){Ku(e+48+(i<<8)|0,e+4818304+(u*264|0)|0,256)|0;i=(s[j>>2]|0)+1|0;s[j>>2]=i}u=u+1|0;if((u|0)>=(s[k>>2]|0)){i=0;break}}}else i=0}}while(0);d=z;return i|0}function pu(e){e=e|0;var t=0,i=0,r=0,a=0;switch(s[e+24>>2]|0){case 1:case 0:{i=s[e+44>>2]|0;if((i|0)>0){r=0;do{t=e+48+(r<<8)+4|0;if((s[t>>2]|0)>-1?+c[e+48+(r<<8)+32>>3]<.5:0){s[e+48+(r<<8)+8>>2]=-1;s[t>>2]=-1;s[e+48+(r<<8)+236>>2]=6}r=r+1|0}while((r|0)<(i|0))}break}case 2:{i=s[e+44>>2]|0;if((i|0)>0){r=0;do{t=e+48+(r<<8)+4|0;if((s[t>>2]|0)>-1?+c[e+48+(r<<8)+32>>3]<.5:0){s[e+48+(r<<8)+12>>2]=-1;s[t>>2]=-1;s[e+48+(r<<8)+236>>2]=6}r=r+1|0}while((r|0)<(i|0))}break}default:{r=s[e+44>>2]|0;if((r|0)>0){a=0;do{t=e+48+(a<<8)+8|0;if((s[t>>2]|0)>-1?+c[e+48+(a<<8)+40>>3]<.5:0){s[t>>2]=-1;i=0}else i=1;t=e+48+(a<<8)+12|0;if(((s[t>>2]|0)>-1?+c[e+48+(a<<8)+48>>3]<.5:0)?(s[t>>2]=-1,(i|0)==0):0)s[e+48+(a<<8)+236>>2]=6;a=a+1|0}while((a|0)<(r|0))}}}return}function mu(e,t,i,r,a,o,n,l,u){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;o=o|0;n=+n;l=l|0;u=u|0;var f=0.0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0,P=0,I=0,F=0,O=0,N=0,D=0,$=0.0;D=d;d=d+96|0;q=D+56|0;I=D+48|0;P=D+8|0;F=D;N=(r|0)==1;if(N){e=(e|0)/2|0;t=(t|0)/2|0;a=(a|0)/4|0;o=(o|0)/4|0}s[u>>2]=0;M=i+8|0;x=e+-2|0;C=t+-2|0;T=i+1179664|0;e:do{if((s[M>>2]|0)>0){A=0;while(1){_=i+12+(A<<2)|0;E=s[_>>2]|0;t:do{if(((((!((E|0)<(o|0)|(E|0)>(a|0))?(R=i+131084+(A<<4)|0,(s[R>>2]|0)!=1):0)?(s[i+131084+(A<<4)+4>>2]|0)!=(x|0):0)?(s[i+131084+(A<<4)+8>>2]|0)!=1:0)?(s[i+131084+(A<<4)+12>>2]|0)!=(C|0):0)?(bu(s[i>>2]|0,e,0,T,A+1|0,R,l+((s[u>>2]|0)*80048|0)|0)|0)>=0:0){w=s[_>>2]|0;S=s[u>>2]|0;k=l+(S*80048|0)+28|0;t=s[k>>2]|0;y=l+(S*80048|0)+40028|0;h=s[y>>2]|0;E=l+(S*80048|0)+24|0;p=(s[E>>2]|0)+-1|0;if((p|0)>1){g=0;v=1;r=0;while(1){m=(s[l+(S*80048|0)+28+(v<<2)>>2]|0)-t|0;m=ie(m,m)|0;b=(s[l+(S*80048|0)+40028+(v<<2)>>2]|0)-h|0;m=(ie(b,b)|0)+m|0;b=(m|0)>(g|0);r=b?v:r;v=v+1|0;if((v|0)>=(p|0))break;else g=b?m:g}}else r=0;f=+(w|0)/.75*.01*n;s[I>>2]=0;s[F>>2]=0;i:do{if((gu(k,y,0,r,f,q,I)|0)>=0?(gu(k,y,r,(s[E>>2]|0)+-1|0,f,P,F)|0)>=0:0){t=s[I>>2]|0;h=s[F>>2]|0;do{if((t|0)==1&(h|0)==1){t=s[P>>2]|0;h=s[q>>2]|0}else{if((t|0)>1&(h|0)==0){t=(r|0)/2|0;s[F>>2]=0;s[I>>2]=0;if((gu(k,y,0,t,f,q,I)|0)<0)break i;if((gu(k,y,t,r,f,P,F)|0)<0)break i;if(!((s[I>>2]|0)==1&(s[F>>2]|0)==1))break i;t=r;h=s[q>>2]|0;r=s[P>>2]|0;break}if(!((t|0)==0&(h|0)>1))break i;t=(r+-1+(s[E>>2]|0)|0)/2|0;s[F>>2]=0;s[I>>2]=0;if((gu(k,y,r,t,f,q,I)|0)<0)break i;if((gu(k,y,t,(s[E>>2]|0)+-1|0,f,P,F)|0)<0)break i;if(!((s[I>>2]|0)==1&(s[F>>2]|0)==1))break i;t=s[P>>2]|0;h=r;r=s[q>>2]|0}}while(0);s[l+(S*80048|0)+80028>>2]=0;s[l+(S*80048|0)+80032>>2]=h;s[l+(S*80048|0)+80036>>2]=r;s[l+(S*80048|0)+80040>>2]=t;s[l+(S*80048|0)+80044>>2]=(s[E>>2]|0)+-1;s[l+((s[u>>2]|0)*80048|0)>>2]=s[_>>2];E=s[u>>2]|0;c[l+(E*80048|0)+8>>3]=+c[i+655376+(A<<4)>>3];c[l+(E*80048|0)+16>>3]=+c[i+655376+(A<<4)+8>>3];E=E+1|0;s[u>>2]=E;if((E|0)==60){r=60;break e}else break t}}while(0)}}while(0);A=A+1|0;if((A|0)>=(s[M>>2]|0)){O=4;break}}}else O=4}while(0);if((O|0)==4)r=s[u>>2]|0;if((r|0)>0){p=0;do{e=p;p=p+1|0;o=l+(e*80048|0)+16|0;h=l+(e*80048|0)|0;if((p|0)<(r|0)){n=+c[l+(e*80048|0)+8>>3];a=p;do{$=n-+c[l+(a*80048|0)+8>>3];f=+c[o>>3]-+c[l+(a*80048|0)+16>>3];f=$*$+f*f;r=s[h>>2]|0;e=l+(a*80048|0)|0;t=s[e>>2]|0;if((r|0)>(t|0)){if(f<+((r|0)/4|0|0))s[e>>2]=0}else if(f<+((t|0)/4|0|0))s[h>>2]=0;a=a+1|0;r=s[u>>2]|0}while((a|0)<(r|0))}}while((p|0)<(r|0))}if((r|0)>0){a=0;do{if(!(s[l+(a*80048|0)>>2]|0)){e=a+1|0;if((e|0)<(r|0)){r=a;t=e;while(1){Ku(l+(r*80048|0)|0,l+(t*80048|0)|0,80048)|0;r=s[u>>2]|0;e=t+1|0;if((e|0)<(r|0)){r=t;t=e}else break}}r=r+-1|0;s[u>>2]=r}a=a+1|0}while((a|0)<(r|0))}if(N&(r|0)>0){t=0;while(1){s[l>>2]=s[l>>2]<<2;r=l+8|0;c[r>>3]=+c[r>>3]*2.0;r=l+16|0;c[r>>3]=+c[r>>3]*2.0;r=l+24|0;if((s[r>>2]|0)>0){e=0;do{N=l+28+(e<<2)|0;s[N>>2]=s[N>>2]<<1;N=l+40028+(e<<2)|0;s[N>>2]=s[N>>2]<<1;e=e+1|0}while((e|0)<(s[r>>2]|0))}t=t+1|0;if((t|0)>=(s[u>>2]|0))break;else l=l+80048|0}}d=D;return 0}function bu(e,t,i,r,o,n,l){e=e|0;t=t|0;i=i|0;r=r|0;o=o|0;n=n|0;l=l|0;var u=0,c=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0;_=d;d=d+80032|0;m=_+16|0;p=_+8|0;c=_;k=_+40024|0;y=_+24|0;w=s[n+8>>2]|0;i=s[n>>2]|0;n=s[n+4>>2]|0;e:do{if((i|0)<=(n|0)){u=i;i=e+((ie(w,t)|0)+i<<1)|0;while(1){v=a[i>>1]|0;if(v<<16>>16>0?(s[r+((v<<16>>16)+-1<<2)>>2]|0)==(o|0):0){h=u;break}if((u|0)<(n|0)){u=u+1|0;i=i+2|0}else{S=6;break e}}b=l+24|0;s[b>>2]=1;g=l+28|0;s[g>>2]=h;v=l+40028|0;s[v>>2]=w;r=w;f=h;u=1;i=5;while(1){n=(i+5|0)%8|0;i=0;while(1){o=s[776+(n<<2)>>2]|0;c=s[808+(n<<2)>>2]|0;if((a[e+(c+f+(ie(o+r|0,t)|0)<<1)>>1]|0)>0){i=o;o=n;break}i=i+1|0;n=(n+1|0)%8|0;if((i|0)>=8){S=11;break}}if((S|0)==11){S=0;if((i|0)==8){S=13;break}c=s[808+(n<<2)>>2]|0;i=s[776+(n<<2)>>2]|0;o=n}s[l+28+(u<<2)>>2]=c+f;n=s[b>>2]|0;s[l+40028+(n<<2)>>2]=i+(s[l+40028+(n+-1<<2)>>2]|0);i=s[b>>2]|0;n=l+28+(i<<2)|0;if((s[n>>2]|0)==(h|0)?(s[l+40028+(i<<2)>>2]|0)==(w|0):0){r=i;S=16;break}u=i+1|0;s[b>>2]=u;if((u|0)==9999){S=19;break}r=s[l+40028+(i<<2)>>2]|0;f=s[n>>2]|0;i=o}if((S|0)==13){eo(3,4347,p);i=-1;break}else if((S|0)==16){if((r|0)>1){c=0;o=1;n=0;while(1){i=(s[l+28+(o<<2)>>2]|0)-h|0;i=ie(i,i)|0;u=(s[l+40028+(o<<2)>>2]|0)-w|0;i=(ie(u,u)|0)+i|0;u=(i|0)>(c|0);n=u?o:n;o=o+1|0;if((o|0)>=(r|0))break;else c=u?i:c}}else n=0;if((n|0)>0){i=0;do{s[k+(i<<2)>>2]=s[l+28+(i<<2)>>2];s[y+(i<<2)>>2]=s[l+40028+(i<<2)>>2];i=i+1|0}while((i|0)<(n|0))}if((n|0)<(r|0)){i=n;do{w=i-n|0;s[l+28+(w<<2)>>2]=s[l+28+(i<<2)>>2];s[l+40028+(w<<2)>>2]=s[l+40028+(i<<2)>>2];i=i+1|0}while((i|0)<(s[b>>2]|0))}if((n|0)>0){i=0;do{w=i-n|0;s[l+28+((s[b>>2]|0)+w<<2)>>2]=s[k+(i<<2)>>2];s[l+40028+((s[b>>2]|0)+w<<2)>>2]=s[y+(i<<2)>>2];i=i+1|0}while((i|0)<(n|0))}s[l+28+(s[b>>2]<<2)>>2]=s[g>>2];s[l+40028+(s[b>>2]<<2)>>2]=s[v>>2];s[b>>2]=(s[b>>2]|0)+1;i=0;break}else if((S|0)==19){eo(3,4354,m);i=-1;break}}else S=6}while(0);if((S|0)==6){eo(3,4340,c);i=-1}d=_;return i|0}function gu(e,t,i,r,a,o,n){e=e|0;t=t|0;i=i|0;r=r|0;a=+a;o=o|0;n=n|0;var l=0,u=0.0,c=0.0,d=0,f=0.0,h=0,p=0.0,m=0,b=0,g=0,v=0.0;l=s[t+(r<<2)>>2]|0;b=s[t+(i<<2)>>2]|0;p=+(l-b|0);d=s[e+(i<<2)>>2]|0;g=s[e+(r<<2)>>2]|0;f=+(d-g|0);c=+((ie(g,b)|0)-(ie(d,l)|0)|0);l=i+1|0;if((l|0)<(r|0)){u=0.0;d=l;do{v=c+(p*+(s[e+(d<<2)>>2]|0)+f*+(s[t+(d<<2)>>2]|0));v=v*v;g=v>u;u=g?v:u;l=g?d:l;d=d+1|0}while((d|0)<(r|0))}else u=0.0;if(u/(p*p+f*f)>a)if(((gu(e,t,i,l,a,o,n)|0)>=0?(h=s[n>>2]|0,(h|0)<=5):0)?(s[o+(h<<2)>>2]=l,s[n>>2]=(s[n>>2]|0)+1,(gu(e,t,l,r,a,o,n)|0)>=0):0)m=7;else l=-1;else m=7;if((m|0)==7)l=0;return l|0}function vu(e,t,i,r,a,o,n){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;o=o|0;n=n|0;var l=0,f=0.0,h=0,p=0.0,m=0.0,b=0,g=0,v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0;E=d;d=d+16|0;w=E+4|0;k=E;y=xo(2)|0;_=xo(2)|0;S=so(2,2)|0;b=0;e:while(1){g=b;b=b+1|0;v=s[r+(b<<2)>>2]|0;l=s[r+(g<<2)>>2]|0;m=+(v+1-l|0)*.05+.5;l=~~(+(l|0)+m);v=~~(+(v|0)-m)-l|0;h=v+1|0;i=so(h,2)|0;if((v|0)>-1){v=0;do{C=v+l|0;if((Mo(a,+(s[e+(C<<2)>>2]|0),+(s[t+(C<<2)>>2]|0),w,k)|0)<0){l=10;break e}C=v<<1;T=s[i>>2]|0;c[T+(C<<3)>>3]=+u[w>>2];c[T+((C|1)<<3)>>3]=+u[k>>2];v=v+1|0}while((v|0)<(h|0))}if((ho(i,S,y,_)|0)<0){l=10;break}T=s[S>>2]|0;p=+c[T+8>>3];c[o+(g*24|0)>>3]=p;m=-+c[T>>3];c[o+(g*24|0)+8>>3]=m;T=s[_>>2]|0;c[o+(g*24|0)+16>>3]=-(p*+c[T>>3]+ +c[T+8>>3]*m);co(i)|0;if((b|0)>=4){l=7;break}}e:do{if((l|0)==7){co(S)|0;Ro(_)|0;Ro(y)|0;b=0;while(1){i=(b+3|0)%4|0;l=o+(i*24|0)|0;f=+c[o+(b*24|0)+8>>3];h=o+(b*24|0)|0;p=+c[o+(i*24|0)+8>>3];m=+c[l>>3]*f-+c[h>>3]*p;if(+B(+m)<.0001){i=-1;break e}T=o+(b*24|0)+16|0;C=o+(i*24|0)+16|0;c[n+(b<<4)>>3]=(p*+c[T>>3]-f*+c[C>>3])/m;c[n+(b<<4)+8>>3]=(+c[h>>3]*+c[C>>3]-+c[l>>3]*+c[T>>3])/m;b=b+1|0;if((b|0)>=4){i=0;break}}}else if((l|0)==10){co(i)|0;co(S)|0;Ro(_)|0;Ro(y)|0;i=-1}}while(0);d=E;return i|0}function wu(e,t,i,r,a,o,n,l,f,h,p,m,b,g){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;o=o|0;n=n|0;l=l|0;f=f|0;h=h|0;p=+p;m=m|0;b=b|0;g=g|0;var v=0,w=0,k=0,y=0,_=0,S=0,E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0;q=d;d=d+16|0;x=q+4|0;R=q;C=f>>>0<2;T=(f|0)==2;if((o|0)>0){M=0;v=0;do{s[m+(v<<8)>>2]=s[a+(M*80048|0)>>2];if((Mo(h,+c[a+(M*80048|0)+8>>3],+c[a+(M*80048|0)+16>>3],x,R)|0)>=0?(c[m+(v<<8)+56>>3]=+u[x>>2],c[m+(v<<8)+64>>3]=+u[R>>2],A=m+(v<<8)+168|0,(vu(a+(M*80048|0)+28|0,a+(M*80048|0)+40028|0,s[a+(M*80048|0)+24>>2]|0,a+(M*80048|0)+80028|0,h,m+(v<<8)+72|0,A)|0)>=0):0){w=m+(v<<8)+8|0;k=m+(v<<8)+20|0;y=m+(v<<8)+40|0;_=m+(v<<8)+12|0;S=m+(v<<8)+24|0;E=m+(v<<8)+48|0;switch(Lu(n,l,f,e,t,i,r,h,A,p,w,k,y,_,S,E,g,m+(v<<8)+240|0,m+(v<<8)+248|0)|0){case 0:{s[m+(v<<8)+236>>2]=0;break}case-1:{s[m+(v<<8)+236>>2]=2;break}case-2:{s[m+(v<<8)+236>>2]=3;break}case-3:{s[m+(v<<8)+236>>2]=4;break}case-4:{s[m+(v<<8)+236>>2]=5;break}case-5:{s[m+(v<<8)+236>>2]=9;break}case-6:{s[m+(v<<8)+236>>2]=1;break}default:{}}if(!C){if(T){s[m+(v<<8)+4>>2]=s[_>>2];s[m+(v<<8)+16>>2]=s[S>>2];c[m+(v<<8)+32>>3]=+c[E>>3]}}else{s[m+(v<<8)+4>>2]=s[w>>2];s[m+(v<<8)+16>>2]=s[k>>2];c[m+(v<<8)+32>>3]=+c[y>>3]}v=v+1|0}M=M+1|0}while((M|0)<(o|0))}else v=0;s[b>>2]=v;d=q;return 0}function ku(e,t,i,r){e=e|0;t=t|0;i=+i;r=r|0;var a=0,o=0,n=0,l=0,u=0,f=0,h=0.0,p=0,m=0;l=d;d=d+288|0;f=l+200|0;u=l+104|0;a=l+264|0;n=l+8|0;o=l;p=s[t+16>>2]|0;m=(4-p|0)%4|0;c[f>>3]=+c[t+168+(m<<4)>>3];c[f+8>>3]=+c[t+168+(m<<4)+8>>3];m=(5-p|0)%4|0;c[f+16>>3]=+c[t+168+(m<<4)>>3];c[f+24>>3]=+c[t+168+(m<<4)+8>>3];m=(6-p|0)%4|0;c[f+32>>3]=+c[t+168+(m<<4)>>3];c[f+40>>3]=+c[t+168+(m<<4)+8>>3];p=(7-p|0)%4|0;c[f+48>>3]=+c[t+168+(p<<4)>>3];c[f+56>>3]=+c[t+168+(p<<4)+8>>3];h=i*-.5;c[u>>3]=h;i=i*.5;c[u+8>>3]=i;c[u+16>>3]=0.0;c[u+24>>3]=i;c[u+32>>3]=i;c[u+40>>3]=0.0;c[u+48>>3]=i;c[u+56>>3]=h;c[u+64>>3]=0.0;c[u+72>>3]=h;c[u+80>>3]=h;c[u+88>>3]=0.0;s[a>>2]=f;s[a+4>>2]=u;s[a+8>>2]=4;if((Vo(s[e>>2]|0,f,u,4,n)|0)<0)i=1.0e8;else{m=(jo(s[e>>2]|0,a,n,r,o)|0)<0;i=m?1.0e8:+c[o>>3]}d=l;return+i}function yu(e,t,i,r,a){e=e|0;t=t|0;i=i|0;r=+r;a=a|0;var o=0,n=0,l=0,u=0,f=0,h=0.0,p=0,m=0;n=d;d=d+192|0;f=n+104|0;u=n+8|0;l=n+168|0;o=n;p=s[t+16>>2]|0;m=(4-p|0)%4|0;c[f>>3]=+c[t+168+(m<<4)>>3];c[f+8>>3]=+c[t+168+(m<<4)+8>>3];m=(5-p|0)%4|0;c[f+16>>3]=+c[t+168+(m<<4)>>3];c[f+24>>3]=+c[t+168+(m<<4)+8>>3];m=(6-p|0)%4|0;c[f+32>>3]=+c[t+168+(m<<4)>>3];c[f+40>>3]=+c[t+168+(m<<4)+8>>3];p=(7-p|0)%4|0;c[f+48>>3]=+c[t+168+(p<<4)>>3];c[f+56>>3]=+c[t+168+(p<<4)+8>>3];h=r*-.5;c[u>>3]=h;r=r*.5;c[u+8>>3]=r;c[u+16>>3]=0.0;c[u+24>>3]=r;c[u+32>>3]=r;c[u+40>>3]=0.0;c[u+48>>3]=r;c[u+56>>3]=h;c[u+64>>3]=0.0;c[u+72>>3]=h;c[u+80>>3]=h;c[u+88>>3]=0.0;s[l>>2]=f;s[l+4>>2]=u;s[l+8>>2]=4;t=(jo(s[e>>2]|0,l,i,a,o)|0)<0;d=n;return+(t?1.0e8:+c[o>>3])}function _u(e,t,i,r,a,o){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;o=o|0;var n=0,l=0,u=0,f=0,h=0,p=0,m=0;m=d;d=d+32|0;f=m+20|0;h=m;n=Hs(a<<4)|0;s[f>>2]=n;if(!n){eo(3,5472,m+8|0);kt(1)}l=Hs(a*24|0)|0;u=f+4|0;s[u>>2]=l;if(!l){eo(3,5472,m+16|0);kt(1)}if((a|0)>0){p=0;do{c[n+(p<<4)>>3]=+c[i+(p<<4)>>3];c[n+(p<<4)+8>>3]=+c[i+(p<<4)+8>>3];c[l+(p*24|0)>>3]=+c[r+(p*24|0)>>3];c[l+(p*24|0)+8>>3]=+c[r+(p*24|0)+8>>3];c[l+(p*24|0)+16>>3]=+c[r+(p*24|0)+16>>3];p=p+1|0}while((p|0)<(a|0))}s[f+8>>2]=a;if((jo(s[e>>2]|0,f,t,o,h)|0)<0)c[h>>3]=1.0e8;js(s[f>>2]|0);js(s[u>>2]|0);d=m;return+ +c[h>>3]}function Su(e,t,i,r,a,o){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;o=o|0;var n=0,l=0,u=0,f=0,h=0,p=0,m=0;m=d;d=d+32|0;f=m+20|0;h=m;n=Hs(a<<4)|0;s[f>>2]=n;if(!n){eo(3,5472,m+8|0);kt(1)}l=Hs(a*24|0)|0;u=f+4|0;s[u>>2]=l;if(!l){eo(3,5472,m+16|0);kt(1)}if((a|0)>0){p=0;do{c[n+(p<<4)>>3]=+c[i+(p<<4)>>3];c[n+(p<<4)+8>>3]=+c[i+(p<<4)+8>>3];c[l+(p*24|0)>>3]=+c[r+(p*24|0)>>3];c[l+(p*24|0)+8>>3]=+c[r+(p*24|0)+8>>3];c[l+(p*24|0)+16>>3]=+c[r+(p*24|0)+16>>3];p=p+1|0}while((p|0)<(a|0))}s[f+8>>2]=a;if((Bo(s[e>>2]|0,f,t,o,h)|0)<0)c[h>>3]=1.0e8;js(s[f>>2]|0);js(s[u>>2]|0);d=m;return+ +c[h>>3]}function Eu(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,o=0;a=Hs(2080)|0;e:do{if(a){s[a+2068>>2]=i;t:do{if(!r){switch(i|0){case 5:case 12:case 13:case 14:break;default:{o=4;break t}}s[a+2076>>2]=0}else o=4}while(0);do{if((o|0)==4){o=Hs(ie(t,e)|0)|0;s[a>>2]=o;if(!o){js(a);a=0;break e}else{s[a+2076>>2]=1;break}}}while(0);s[a+2072>>2]=r;s[a+4>>2]=0;s[a+8>>2]=e;s[a+12>>2]=t}}while(0);return a|0}function Cu(e){e=e|0;if(e){if(s[e+2076>>2]|0)js(s[e>>2]|0);js(s[e+4>>2]|0);js(e)}return}function Tu(e,t){e=e|0;t=t|0;var i=0,a=0,n=0,l=0,u=0,c=0,f=0;u=d;d=d+16|0;a=u;i=s[e+2068>>2]|0;e:do{switch(i|0){case 5:case 12:case 13:case 14:if(!(s[e+2072>>2]|0)){s[e>>2]=t;i=0;break e}else{Ku(s[e>>2]|0,t|0,ie(s[e+12>>2]|0,s[e+8>>2]|0)|0)|0;i=0;break e}default:{if((i&-2|0)==2){i=e+8|0;a=e+12|0;if(!(ie(s[a>>2]|0,s[i>>2]|0)|0)){i=0;break e}else{n=0;l=0}while(1){r[(s[e>>2]|0)+n>>0]=(((o[t+(l|1)>>0]|0)+(o[t+l>>0]|0)+(o[t+(l|2)>>0]|0)|0)>>>0)/3|0;n=n+1|0;if(n>>>0>=(ie(s[a>>2]|0,s[i>>2]|0)|0)>>>0){i=0;break e}else l=l+4|0}}if((i&-3|0)==4){i=e+8|0;a=e+12|0;if(!(ie(s[a>>2]|0,s[i>>2]|0)|0)){i=0;break e}else{n=0;l=0}while(1){r[(s[e>>2]|0)+n>>0]=(((o[t+(l|2)>>0]|0)+(o[t+(l|1)>>0]|0)+(o[t+(l|3)>>0]|0)|0)>>>0)/3|0;n=n+1|0;if(n>>>0>=(ie(s[a>>2]|0,s[i>>2]|0)|0)>>>0){i=0;break e}else l=l+4|0}}if(i>>>0<2){i=e+8|0;a=e+12|0;if(!(ie(s[a>>2]|0,s[i>>2]|0)|0)){i=0;break e}else{n=0;l=0}while(1){r[(s[e>>2]|0)+n>>0]=(((o[t+(l+1)>>0]|0)+(o[t+l>>0]|0)+(o[t+(l+2)>>0]|0)|0)>>>0)/3|0;n=n+1|0;if(n>>>0>=(ie(s[a>>2]|0,s[i>>2]|0)|0)>>>0){i=0;break e}else l=l+3|0}}switch(i|0){case 8:{i=e+8|0;a=e+12|0;if(!(ie(s[a>>2]|0,s[i>>2]|0)|0)){i=0;break e}else{n=0;l=0}while(1){r[(s[e>>2]|0)+n>>0]=r[t+l>>0]|0;n=n+1|0;if(n>>>0>=(ie(s[a>>2]|0,s[i>>2]|0)|0)>>>0){i=0;break}else l=l+2|0}break}case 7:{i=e+8|0;a=e+12|0;if(!(ie(s[a>>2]|0,s[i>>2]|0)|0)){i=0;break e}else{n=0;l=0}while(1){r[(s[e>>2]|0)+n>>0]=r[t+(l|1)>>0]|0;n=n+1|0;if(n>>>0>=(ie(s[a>>2]|0,s[i>>2]|0)|0)>>>0){i=0;break}else l=l+2|0}break}case 9:{i=e+8|0;a=e+12|0;if(!(ie(s[a>>2]|0,s[i>>2]|0)|0)){i=0;break e}else{n=0;l=0}while(1){f=o[t+l>>0]|0;c=o[t+(l|1)>>0]|0;r[(s[e>>2]|0)+n>>0]=(((f&248)+10+(f<<5&224)+(c>>>3&28)+(c<<3&248)|0)>>>0)/3|0;n=n+1|0;if(n>>>0>=(ie(s[a>>2]|0,s[i>>2]|0)|0)>>>0){i=0;break}else l=l+2|0}break}case 10:{i=e+8|0;a=e+12|0;if(!(ie(s[a>>2]|0,s[i>>2]|0)|0)){i=0;break e}else{n=0;l=0}while(1){c=o[t+l>>0]|0;f=o[t+(l|1)>>0]|0;r[(s[e>>2]|0)+n>>0]=(((c&248)+12+(c<<5&224)+(f>>>3&24)+(f<<2&248)|0)>>>0)/3|0;n=n+1|0;if(n>>>0>=(ie(s[a>>2]|0,s[i>>2]|0)|0)>>>0){i=0;break}else l=l+2|0}break}case 11:{i=e+8|0;a=e+12|0;if(!(ie(s[a>>2]|0,s[i>>2]|0)|0)){i=0;break e}else{n=0;l=0}while(1){f=o[t+l>>0]|0;r[(s[e>>2]|0)+n>>0]=(((f&240)+24+(f<<4&240)+((o[t+(l|1)>>0]|0)&240)|0)>>>0)/3|0;n=n+1|0;if(n>>>0>=(ie(s[a>>2]|0,s[i>>2]|0)|0)>>>0){i=0;break}else l=l+2|0}break}default:{eo(3,4361,a);i=-1;break e}}}}}while(0);d=u;return i|0}function Au(e,t){e=e|0;t=t|0;var i=0,r=0;if((e|0)!=0&(t|0)!=0?(Tu(e,t)|0)>=0:0){Vu(e+16|0,0,1024)|0;t=s[e>>2]|0;r=ie(s[e+12>>2]|0,s[e+8>>2]|0)|0;i=t+r|0;if((r|0)>0){do{r=e+16+((o[t>>0]|0)<<2)|0;s[r>>2]=(s[r>>2]|0)+1;t=t+1|0}while(t>>>0<i>>>0);t=0}else t=0}else t=-1;return t|0}function Mu(e,t){e=e|0;t=t|0;var i=0;t=Au(e,t)|0;if((t|0)>=0){t=0;i=0;do{t=(s[e+16+(i<<2)>>2]|0)+t|0;s[e+1040+(i<<2)>>2]=t;i=i+1|0}while((i|0)!=256);t=0}return t|0}function xu(e,t,i,a){e=e|0;t=t|0;i=+i;a=a|0;var o=0,n=0,l=0;if(!(i<0.0|i>1.0)){t=Mu(e,t)|0;if((t|0)>=0){l=~~(+(ie(s[e+12>>2]|0,s[e+8>>2]|0)|0)*i)>>>0;t=0;while(1){n=t&255;o=s[e+1040+(n<<2)>>2]|0;if(o>>>0<l>>>0)t=t+1<<24>>24;else break}if((o|0)==(l|0))do{t=t+1<<24>>24}while((s[e+1040+((t&255)<<2)>>2]|0)==(l|0));r[a>>0]=((t&255)+n|0)>>>1;t=0}}else t=-1;return t|0}function Ru(e,t,i){e=e|0;t=t|0;i=i|0;return xu(e,t,.5,i)|0}function qu(e,t,i){e=e|0;t=t|0;i=i|0;var a=0.0,o=0,n=0.0,l=0.0,u=0.0,c=0.0,d=0,f=0.0,h=0.0;t=Au(e,t)|0;if((t|0)>=0){t=1;a=0.0;do{a=a+ +((ie(s[e+16+(t<<2)>>2]|0,t)|0)>>>0);t=t+1|0}while((t|0)!=256);c=+(ie(s[e+12>>2]|0,s[e+8>>2]|0)|0);d=0;n=0.0;t=0;u=0.0;f=0.0;while(1){o=s[e+16+(d<<2)>>2]|0;f=f+ +(o>>>0);if(f!=0.0){l=c-f;if(l==0.0)break;n=n+ +((ie(d,o)|0)>>>0);h=n/f-(a-n)/l;l=h*(f*l*h);if(l>u)t=d&255;else l=u}else l=u;if((d&255)<<24>>24==-1)break;else{d=d+1|0;u=l}}r[i>>0]=t;t=0}return t|0}function Pu(e,t,i,a){e=e|0;t=t|0;i=i|0;a=a|0;var n=0,l=0,u=0,c=0,d=0,f=0,h=0,p=0,m=0,b=0,g=0,v=0,w=0,k=0;t=Au(e,t)|0;do{if((t|0)>=0){w=e+4|0;if(!(s[w>>2]|0)){t=e+8|0;n=e+12|0;v=Hs(ie(s[n>>2]|0,s[t>>2]|0)|0)|0;s[w>>2]=v;if(!v){t=-1;break}else v=t}else{v=e+8|0;n=e+12|0}b=i>>1;g=0-b|0;t=s[n>>2]|0;if((t|0)>0){h=(b|0)<(g|0);p=(b|0)<(g|0);m=0;do{t=s[v>>2]|0;if((t|0)>0){f=0;do{if(h){l=0;i=0}else{l=0;d=g;i=0;while(1){u=d+m|0;if(((u|0)>=0?(u|0)<(s[n>>2]|0):0)?(k=ie(t,u)|0,!p):0){c=g;while(1){u=c+f|0;if((u|0)>-1&(u|0)<(t|0)){l=l+1|0;i=(o[(s[e>>2]|0)+(k+u)>>0]|0)+i|0}if((c|0)<(b|0))c=c+1|0;else break}}if((d|0)<(b|0))d=d+1|0;else break}}d=(ie(t,m)|0)+f|0;r[(s[w>>2]|0)+d>>0]=(i|0)/(l|0)|0;f=f+1|0;t=s[v>>2]|0}while((f|0)<(t|0))}m=m+1|0;t=s[n>>2]|0}while((m|0)<(t|0))}if((a|0)!=0?(ie(t,s[v>>2]|0)|0)>0:0){t=0;do{e=(s[w>>2]|0)+t|0;r[e>>0]=(o[e>>0]|0)+a;t=t+1|0}while((t|0)<(ie(s[n>>2]|0,s[v>>2]|0)|0));t=0}else t=0}}while(0);return t|0}function Iu(e,t,i,r,a,s,o,n,l,u){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;s=s|0;o=o|0;n=n|0;l=l|0;u=u|0;var c=0;e:do{switch(a|0){case 0:{switch(s|0){case 1:{if(u){c=Hi(e,t,i,u,l)|0;break e}switch(n|0){case 0:{if(r>>>0<2){c=qi(e,t,i,o,l)|0;break e}if((r&-2|0)==2){c=Ii(e,t,i,o,l)|0;break e}if((r&-3|0)==4){c=Ni(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{c=Di(e,t,i,o,l)|0;break e}case 8:{c=Li(e,t,i,o,l)|0;break e}case 7:{c=$i(e,t,i,o,l)|0;break e}case 9:{c=Pi(e,t,i,o,l)|0;break e}case 10:{c=Oi(e,t,i,o,l)|0;break e}case 11:{c=Fi(e,t,i,o,l)|0;break e}default:kt(0)}break}case 1:{if(r>>>0<2){c=_i(e,t,i,o,l)|0;break e}if((r&-2|0)==2){c=Ei(e,t,i,o,l)|0;break e}if((r&-3|0)==4){c=Ai(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{c=Mi(e,t,i,o,l)|0;break e}case 8:{c=Ri(e,t,i,o,l)|0;break e}case 7:{c=xi(e,t,i,o,l)|0;break e}case 9:{c=Si(e,t,i,o,l)|0;break e}case 10:{c=Ti(e,t,i,o,l)|0;break e}case 11:{c=Ci(e,t,i,o,l)|0;break e}default:kt(0)}break}default:kt(0)}break}case 0:{if(u){c=sr(e,t,i,u,l)|0;break e}switch(n|0){case 0:{if(r>>>0<2){c=Ki(e,t,i,o,l)|0;break e}if((r&-2|0)==2){c=Ji(e,t,i,o,l)|0;break e}if((r&-3|0)==4){c=tr(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{c=ir(e,t,i,o,l)|0;break e}case 8:{c=ar(e,t,i,o,l)|0;break e}case 7:{c=rr(e,t,i,o,l)|0;break e}case 9:{c=Xi(e,t,i,o,l)|0;break e}case 10:{c=er(e,t,i,o,l)|0;break e}case 11:{c=Zi(e,t,i,o,l)|0;break e}default:kt(0)}break}case 1:{if(r>>>0<2){c=ji(e,t,i,o,l)|0;break e}if((r&-2|0)==2){c=Bi(e,t,i,o,l)|0;break e}if((r&-3|0)==4){c=Vi(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{c=Yi(e,t,i,o,l)|0;break e}case 8:{c=Gi(e,t,i,o,l)|0;break e}case 7:{c=Qi(e,t,i,o,l)|0;break e}case 9:{c=zi(e,t,i,o,l)|0;break e}case 10:{c=Wi(e,t,i,o,l)|0;break e}case 11:{c=Ui(e,t,i,o,l)|0;break e}default:kt(0)}break}default:kt(0)}break}default:kt(0)}break}case 1:{switch(s|0){case 1:{if(u){c=ri(e,t,i,u,l)|0;break e}switch(n|0){case 0:{if(r>>>0<2){c=Qt(e,t,i,o,l)|0;break e}if((r&-2|0)==2){c=Kt(e,t,i,o,l)|0;break e}if((r&-3|0)==4){c=Zt(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{c=ei(e,t,i,o,l)|0;break e}case 8:{c=ii(e,t,i,o,l)|0;break e}case 7:{c=ti(e,t,i,o,l)|0;break e}case 9:{c=Gt(e,t,i,o,l)|0;break e}case 10:{c=Jt(e,t,i,o,l)|0;break e}case 11:{c=Xt(e,t,i,o,l)|0;break e}default:kt(0)}break}case 1:{if(r>>>0<2){c=or(e,t,i,o,l)|0;break e}if((r&-2|0)==2){c=lr(e,t,i,o,l)|0;break e}if((r&-3|0)==4){c=dr(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{c=Wt(e,t,i,o,l)|0;break e}case 8:{c=Yt(e,t,i,o,l)|0;break e}case 7:{c=Vt(e,t,i,o,l)|0;break e}case 9:{c=nr(e,t,i,o,l)|0;break e}case 10:{c=cr(e,t,i,o,l)|0;break e}case 11:{c=ur(e,t,i,o,l)|0;break e}default:kt(0)}break}default:kt(0)}break}case 0:{if(u){c=Ul(e,t,i,u,l)|0;break e}switch(n|0){case 0:{if(r>>>0<2){c=Ol(e,t,i,o,l)|0;break e}if((r&-2|0)==2){c=Dl(e,t,i,o,l)|0;break e}if((r&-3|0)==4){c=Hl(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{c=jl(e,t,i,o,l)|0;break e}case 8:{c=Bl(e,t,i,o,l)|0;break e}case 7:{c=zl(e,t,i,o,l)|0;break e}case 9:{c=Nl(e,t,i,o,l)|0;break e}case 10:{c=Ll(e,t,i,o,l)|0;break e}case 11:{c=$l(e,t,i,o,l)|0;break e}default:kt(0)}break}case 1:{if(r>>>0<2){c=ai(e,t,i,o,l)|0;break e}if((r&-2|0)==2){c=oi(e,t,i,o,l)|0;break e}if((r&-3|0)==4){c=ui(e,t,i,o,l)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{c=ci(e,t,i,o,l)|0;break e}case 8:{c=fi(e,t,i,o,l)|0;break e}case 7:{c=di(e,t,i,o,l)|0;break e}case 9:{c=si(e,t,i,o,l)|0;break e}case 10:{c=li(e,t,i,o,l)|0;break e}case 11:{c=ni(e,t,i,o,l)|0;break e}default:kt(0)}break}default:kt(0)}break}default:kt(0)}break}default:kt(0)}}while(0);return c|0}function Fu(e,t){e=e|0;t=t|0;var i=0;if((e|0)!=0?(i=e+7062384|0,(s[i>>2]|0)==0):0){s[i>>2]=t;i=0}else i=-1;return i|0}function Ou(e){e=e|0;var t=0;if((e|0)!=0?(t=e+7062384|0,(s[t>>2]|0)!=0):0){s[t>>2]=0;t=0}else t=-1;return t|0}function Nu(){return Du(16,50)|0}function Du(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,o=0,n=0,l=0,u=0,c=0,f=0,h=0,p=0,m=0,b=0,g=0;g=d;d=d+64|0;b=g+56|0;m=g+48|0;l=g+40|0;n=g+32|0;o=g+24|0;a=g+16|0;r=g+8|0;i=g;e:do{if(!((e+-16|0)>>>0>48|(t|0)<1)){h=Hs(32)|0;if(!h){eo(3,5472,i);kt(1)}s[h>>2]=0;s[h+4>>2]=t;s[h+28>>2]=e;f=Hs(t<<2)|0;s[h+8>>2]=f;if(!f){eo(3,5472,r);kt(1)}i=t<<4;c=Hs(i)|0;s[h+12>>2]=c;if(!c){eo(3,5472,a);kt(1)}a=Hs(i)|0;u=h+20|0;s[u>>2]=a;if(!a){eo(3,5472,o);kt(1)}i=t<<5;o=Hs(i)|0;s[h+16>>2]=o;if(!o){eo(3,5472,n);kt(1)}n=Hs(i)|0;s[h+24>>2]=n;if(!n){eo(3,5472,l);kt(1)}r=ie(e,e)|0;i=r*12|0;r=r<<2;if((t|0)>0){e=0;t:while(1){s[f+(e<<2)>>2]=0;a=e<<2;n=0;while(1){if((n|0)>=4)break;l=Hs(i)|0;o=n+a|0;s[c+(o<<2)>>2]=l;if(!l){i=18;break t}l=Hs(r)|0;s[(s[u>>2]|0)+(o<<2)>>2]=l;if(!l){i=20;break t}else n=n+1|0}e=e+1|0;if((e|0)>=(t|0)){p=h;break e}}if((i|0)==18){eo(3,5472,m);kt(1)}else if((i|0)==20){eo(3,5472,b);kt(1)}}else p=h}else p=0}while(0);d=g;return p|0}function $u(e){e=e|0;var t=0,i=0,r=0,a=0,o=0,n=0,l=0;if(!e)t=-1;else{t=e+4|0;i=e+8|0;r=e+12|0;a=e+20|0;if((s[t>>2]|0)>0){o=0;do{if(s[(s[i>>2]|0)+(o<<2)>>2]|0)Zs(e,o)|0;n=o<<2;js(s[(s[r>>2]|0)+(n<<2)>>2]|0);js(s[(s[a>>2]|0)+(n<<2)>>2]|0);l=1+n|0;js(s[(s[r>>2]|0)+(l<<2)>>2]|0);js(s[(s[a>>2]|0)+(l<<2)>>2]|0);l=2+n|0;js(s[(s[r>>2]|0)+(l<<2)>>2]|0);js(s[(s[a>>2]|0)+(l<<2)>>2]|0);n=3+n|0;js(s[(s[r>>2]|0)+(n<<2)>>2]|0);js(s[(s[a>>2]|0)+(n<<2)>>2]|0);o=o+1|0}while((o|0)<(s[t>>2]|0))}js(e);t=0}return t|0}function Lu(e,t,i,a,n,l,u,f,h,p,m,b,g,v,w,k,y,_,S){e=e|0;t=t|0;i=i|0;a=a|0;n=n|0;l=l|0;u=u|0;f=f|0;h=h|0;p=+p;m=m|0;b=b|0;g=g|0;v=v|0;w=w|0;k=k|0;y=y|0;_=_|0;S=S|0;var E=0,C=0,T=0,A=0,M=0,x=0,R=0,q=0,P=0,I=0,F=0,O=0,N=0,D=0;D=d;d=d+12448|0;T=D+12440|0;C=D+8|0;O=D;F=D+12312|0;N=D+24|0;do{if((i+-2|0)>>>0<3){if((y|0)!=2830){E=y&255;if((Vs(t,2,E,E*3|0,a,n,l,u,f,h,p,N)|0)<0){s[v>>2]=-1;E=-6;break}E=Ys(N,E,v,w,k,y,_)|0;if(!S)break;s[S>>2]=0;s[S+4>>2]=0;break}if((Vs(t,2,14,42,a,n,l,u,f,h,.875,N)|0)<0){s[v>>2]=-1;E=-6;break}s[C>>2]=0;s[C+4>>2]=182;s[C+8>>2]=195;s[C+12>>2]=13;y=r[N+(s[C>>2]|0)>>0]|0;E=(y&255)>0?y:0;y=(y&255)<255?y:-1;I=r[N+(s[C+4>>2]|0)>>0]|0;E=(I&255)>(E&255)?I:E;y=(I&255)<(y&255)?I:y;I=r[N+(s[C+8>>2]|0)>>0]|0;E=(I&255)>(E&255)?I:E;y=(I&255)<(y&255)?I:y;I=r[N+(s[C+12>>2]|0)>>0]|0;E=((I&255)>(E&255)?I:E)&255;y=((I&255)<(y&255)?I:y)&255;e:do{if((E-y|0)>=30){I=(E+y|0)>>>1;r[T>>0]=(o[N+(s[C>>2]|0)>>0]|0)>>>0<I>>>0&1;r[T+1>>0]=(o[N+(s[C+4>>2]|0)>>0]|0)>>>0<I>>>0&1;r[T+2>>0]=(o[N+(s[C+8>>2]|0)>>0]|0)>>>0<I>>>0&1;r[T+3>>0]=(o[N+(s[C+12>>2]|0)>>0]|0)>>>0<I>>>0&1;y=0;while(1){E=y+1|0;if(((r[T+y>>0]|0)==1?(r[T+((E|0)%4|0)>>0]|0)==1:0)?(r[T+((y+2|0)%4|0)>>0]|0)==0:0){P=y;break}if((E|0)<4)y=E;else{P=E;break}}switch(P|0){case 4:{s[w>>2]=0;c[k>>3]=-1.0;E=-3;y=0;C=0;break e}case 0:{C=119;E=255;y=0;do{x=y+-3|0;A=(y&-2|0)==12;M=y*14|0;T=0;do{if(((T+-3|x)>>>0>=8?(q=T&-2,(T|y)>>>0>=2):0)?!(A&((q|0)==0|(q|0)==12)):0){R=(o[N+(T+M)>>0]|0)-I|0;r[F+C>>0]=R>>>31;R=(R|0)>-1?R:0-R|0;C=C+-1|0;E=(R|0)<(E|0)?R:E}T=T+1|0}while((T|0)!=14);y=y+1|0}while((y|0)!=14);break}case 1:{C=119;E=255;y=0;do{x=y+-3|0;M=y&-2;A=(M|0)==0;M=(M|0)==12;T=13;while(1){if(((T+-3|x)>>>0>=8?(R=(T&-2|0)==12,!(A&R)):0)?!(M&(T>>>0<2|R)):0){q=(o[N+((T*14|0)+y)>>0]|0)-I|0;r[F+C>>0]=q>>>31;q=(q|0)>-1?q:0-q|0;C=C+-1|0;E=(q|0)<(E|0)?q:E}if((T|0)>0)T=T+-1|0;else break}y=y+1|0}while((y|0)!=14);break}case 2:{y=119;E=255;x=13;while(1){A=x+-3|0;M=x>>>0<2|(x&-2|0)==12;T=x*14|0;C=13;while(1){if((C+-3|A)>>>0>=8?!((C|x)>>>0<2|M&(C&-2|0)==12):0){q=(o[N+(C+T)>>0]|0)-I|0;r[F+y>>0]=q>>>31;q=(q|0)>-1?q:0-q|0;y=y+-1|0;E=(q|0)<(E|0)?q:E}if((C|0)>0)C=C+-1|0;else break}if((x|0)>0)x=x+-1|0;else break}break}case 3:{y=119;E=255;x=13;while(1){M=x+-3|0;A=x&-2;T=(A|0)==12;A=(A|0)==0;C=0;do{if(((C+-3|M)>>>0>=8?!(T&C>>>0<2|(C|x)>>>0<2):0)?!(A&(C&-2|0)==12):0){q=(o[N+((C*14|0)+x)>>0]|0)-I|0;r[F+y>>0]=q>>>31;q=(q|0)>-1?q:0-q|0;y=y+-1|0;E=(q|0)<(E|0)?q:E}C=C+1|0}while((C|0)!=14);if((x|0)>0)x=x+-1|0;else break}break}default:E=255}s[w>>2]=P;c[k>>3]=(E|0)>30?1.0:+(E|0)/30.0;E=Ks(2830,0,0,F,O)|0;if((E|0)<0){E=-4;y=0;C=0}else{if(_)s[_>>2]=E;C=O;E=0;y=s[C>>2]|0;C=s[C+4>>2]|0}}else{s[w>>2]=0;c[k>>3]=-1.0;E=-2;y=0;C=0}}while(0);if((E|0)<0){s[v>>2]=-1;break}if((y|0)==-1&(C|0)==-1){s[v>>2]=-1;E=-5;break}s[v>>2]=(y&-32768|0)==0&0==0?y&32767:0;if(!S)E=0;else{E=S;s[E>>2]=y;s[E+4>>2]=C;E=0}}else E=1}while(0);e:do{switch(i|0){case 0:case 1:case 3:case 4:{if(!e){s[m>>2]=-1;y=-1;break e}y=e+28|0;C=s[y>>2]|0;T=C<<2;switch(i|0){case 0:case 3:if((Vs(t,0,C,T,a,n,l,u,f,h,p,N)|0)<0){s[m>>2]=-1;y=-6;break e}else{y=Qs(e,0,N,s[y>>2]|0,m,b,g)|0;break e}default:if((Vs(t,1,C,T,a,n,l,u,f,h,p,N)|0)<0){s[m>>2]=-1;y=-6;break e}else{y=Qs(e,1,N,s[y>>2]|0,m,b,g)|0;break e}}}default:y=1}}while(0);if((E|0)!=1){if((y|0)!=1)E=(y&E|0)<0?y:0}else E=y;d=D;return E|0}function Hu(e){e=e|0;var t=0,i=0,r=0,a=0,o=0,n=0,l=0,u=0;u=d;d=d+16|0;t=u+8|0;n=u+4|0;i=u;s[n>>2]=e;do{if(e>>>0>=212){o=(e>>>0)/210|0;r=o*210|0;s[i>>2]=e-r;t=(ju(3712,3904,i,t)|0)-3712>>2;a=t;t=(s[3712+(t<<2)>>2]|0)+r|0;e:while(1){r=5;while(1){if(r>>>0>=47){r=211;l=8;break}i=s[3520+(r<<2)>>2]|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=106;break e}if((t|0)==(ie(e,i)|0))break;else r=r+1|0}t:do{if((l|0)==8)while(1){l=0;i=(t>>>0)/(r>>>0)|0;if(i>>>0<r>>>0){l=105;break e}if((t|0)==(ie(i,r)|0))break t;i=r+10|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+12|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+16|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+18|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+22|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+28|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+30|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+36|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+40|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+42|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+46|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+52|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+58|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+60|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+66|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+70|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+72|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+78|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+82|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+88|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+96|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+100|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+102|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+106|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+108|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+112|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+120|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+126|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+130|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+136|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+138|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+142|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+148|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+150|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+156|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+162|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+166|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+168|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+172|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+178|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+180|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+186|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+190|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+192|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+196|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+198|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break t;i=r+208|0;e=(t>>>0)/(i>>>0)|0;if(e>>>0<i>>>0){l=105;break e}if((t|0)==(ie(e,i)|0))break;else{r=r+210|0;l=8}}}while(0);r=a+1|0;t=(r|0)==48;r=t?0:r;t=(t&1)+o|0;a=r;o=t;t=(s[3712+(r<<2)>>2]|0)+(t*210|0)|0}if((l|0)==105){s[n>>2]=t;break}else if((l|0)==106){s[n>>2]=t;break}}else t=s[(ju(3520,3712,n,t)|0)>>2]|0}while(0);d=u;return t|0}function ju(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0;a=s[i>>2]|0;r=e;i=t-e>>2;e:while(1){while(1){if(!i)break e;e=(i|0)/2|0;if((s[r+(e<<2)>>2]|0)>>>0<a>>>0)break;else i=e}r=r+(e+1<<2)|0;i=i+-1-e|0}return r|0}function zu(e,t,i){e=e|0;t=t|0;i=i|0;var a=0,o=0;if(i>>>0>4294967279)la(e);if(i>>>0<11){r[e>>0]=i<<1;e=e+1|0}else{o=i+16&-16;a=Rr(o)|0;s[e+8>>2]=a;s[e>>2]=o|1;s[e+4>>2]=i;e=a}Ku(e|0,t|0,i|0)|0;r[e+i>>0]=0;return}function Bu(e){e=e|0;if(r[e>>0]&1)qr(s[e+8>>2]|0);return}function Uu(){}function Wu(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;r=t-r-(i>>>0>e>>>0|0)>>>0;return(P=r,e-i>>>0|0)|0}function Vu(e,t,i){e=e|0;t=t|0;i=i|0;var a=0,o=0,n=0,l=0;a=e+i|0;if((i|0)>=20){t=t&255;n=e&3;l=t|t<<8|t<<16|t<<24;o=a&~3;if(n){n=e+4-n|0;while((e|0)<(n|0)){r[e>>0]=t;e=e+1|0}}while((e|0)<(o|0)){s[e>>2]=l;e=e+4|0}}while((e|0)<(a|0)){r[e>>0]=t;e=e+1|0}return e-i|0}function Yu(e,t,i){e=e|0;t=t|0;i=i|0;if((i|0)<32){P=t<<i|(e&(1<<i)-1<<32-i)>>>32-i;return e<<i}P=e<<i-32;return 0}function Qu(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;i=e+i>>>0;return(P=t+r+(i>>>0<e>>>0|0)>>>0,i|0)|0}function Gu(e,t,i){e=e|0;t=t|0;i=i|0;if((i|0)<32){P=t>>>i;return e>>>i|(t&(1<<i)-1)<<32-i}P=0;return t>>>i-32|0}function Ku(e,t,i){e=e|0;t=t|0;i=i|0;var a=0;if((i|0)>=4096)return Je(e|0,t|0,i|0)|0;a=e|0;if((e&3)==(t&3)){while(e&3){if(!i)return a|0;r[e>>0]=r[t>>0]|0;e=e+1|0;t=t+1|0;i=i-1|0}while((i|0)>=4){s[e>>2]=s[t>>2];e=e+4|0;t=t+4|0;i=i-4|0}}while((i|0)>0){r[e>>0]=r[t>>0]|0;e=e+1|0;t=t+1|0;i=i-1|0}return a|0}function Xu(e,t,i){e=e|0;t=t|0;i=i|0;if((i|0)<32){P=t>>i;return e>>>i|(t&(1<<i)-1)<<32-i}P=(t|0)<0?-1:0;return t>>i-32|0}function Ju(e){e=e|0;var t=0;t=r[m+(e&255)>>0]|0;if((t|0)<8)return t|0;t=r[m+(e>>8&255)>>0]|0;if((t|0)<8)return t+8|0;t=r[m+(e>>16&255)>>0]|0;if((t|0)<8)return t+16|0;return(r[m+(e>>>24)>>0]|0)+24|0}function Zu(e,t){e=e|0;t=t|0;var i=0,r=0,a=0,s=0;s=e&65535;a=t&65535;i=ie(a,s)|0;r=e>>>16;e=(i>>>16)+(ie(a,r)|0)|0;a=t>>>16;t=ie(a,s)|0;return(P=(e>>>16)+(ie(a,r)|0)+(((e&65535)+t|0)>>>16)|0,e+t<<16|i&65535|0)|0}function ec(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,s=0,o=0,n=0,l=0,u=0;u=t>>31|((t|0)<0?-1:0)<<1;l=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;s=r>>31|((r|0)<0?-1:0)<<1;a=((r|0)<0?-1:0)>>31|((r|0)<0?-1:0)<<1;n=Wu(u^e,l^t,u,l)|0;o=P;e=s^u;t=a^l;return Wu((sc(n,o,Wu(s^i,a^r,s,a)|0,P,0)|0)^e,P^t,e,t)|0}function tc(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,o=0,n=0,l=0,u=0,c=0;a=d;d=d+16|0;l=a|0;n=t>>31|((t|0)<0?-1:0)<<1;o=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;c=r>>31|((r|0)<0?-1:0)<<1;u=((r|0)<0?-1:0)>>31|((r|0)<0?-1:0)<<1;e=Wu(n^e,o^t,n,o)|0;t=P;sc(e,t,Wu(c^i,u^r,c,u)|0,P,l)|0;r=Wu(s[l>>2]^n,s[l+4>>2]^o,n,o)|0;i=P;d=a;return(P=i,r)|0}function ic(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,s=0;a=e;s=i;i=Zu(a,s)|0;e=P;return(P=(ie(t,s)|0)+(ie(r,a)|0)+e|e&0,i|0|0)|0}function rc(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;return sc(e,t,i,r,0)|0}function ac(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,o=0;o=d;d=d+16|0;a=o|0;sc(e,t,i,r,a)|0;d=o;return(P=s[a+4>>2]|0,s[a>>2]|0)|0}function sc(e,t,i,r,a){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;var o=0,n=0,l=0,u=0,c=0,d=0,f=0,h=0,p=0,m=0;d=e;u=t;c=u;n=i;h=r;l=h;if(!c){o=(a|0)!=0;if(!l){if(o){s[a>>2]=(d>>>0)%(n>>>0);s[a+4>>2]=0}h=0;a=(d>>>0)/(n>>>0)>>>0;return(P=h,a)|0}else{if(!o){h=0;a=0;return(P=h,a)|0}s[a>>2]=e|0;s[a+4>>2]=t&0;h=0;a=0;return(P=h,a)|0}}o=(l|0)==0;do{if(n){if(!o){o=(ae(l|0)|0)-(ae(c|0)|0)|0;if(o>>>0<=31){f=o+1|0;l=31-o|0;t=o-31>>31;n=f;e=d>>>(f>>>0)&t|c<<l;t=c>>>(f>>>0)&t;o=0;l=d<<l;break}if(!a){h=0;a=0;return(P=h,a)|0}s[a>>2]=e|0;s[a+4>>2]=u|t&0;h=0;a=0;return(P=h,a)|0}o=n-1|0;if(o&n){l=(ae(n|0)|0)+33-(ae(c|0)|0)|0;m=64-l|0;f=32-l|0;u=f>>31;p=l-32|0;t=p>>31;n=l;e=f-1>>31&c>>>(p>>>0)|(c<<f|d>>>(l>>>0))&t;t=t&c>>>(l>>>0);o=d<<m&u;l=(c<<m|d>>>(p>>>0))&u|d<<f&l-33>>31;break}if(a){s[a>>2]=o&d;s[a+4>>2]=0}if((n|0)==1){p=u|t&0;m=e|0|0;return(P=p,m)|0}else{m=Ju(n|0)|0;p=c>>>(m>>>0)|0;m=c<<32-m|d>>>(m>>>0)|0;return(P=p,m)|0}}else{if(o){if(a){s[a>>2]=(c>>>0)%(n>>>0);s[a+4>>2]=0}p=0;m=(c>>>0)/(n>>>0)>>>0;return(P=p,m)|0}if(!d){if(a){s[a>>2]=0;s[a+4>>2]=(c>>>0)%(l>>>0)}p=0;m=(c>>>0)/(l>>>0)>>>0;return(P=p,m)|0}o=l-1|0;if(!(o&l)){if(a){s[a>>2]=e|0;s[a+4>>2]=o&c|t&0}p=0;m=c>>>((Ju(l|0)|0)>>>0);return(P=p,m)|0}o=(ae(l|0)|0)-(ae(c|0)|0)|0;if(o>>>0<=30){t=o+1|0;l=31-o|0;n=t;e=c<<l|d>>>(t>>>0);t=c>>>(t>>>0);o=0;l=d<<l;break}if(!a){p=0;m=0;return(P=p,m)|0}s[a>>2]=e|0;s[a+4>>2]=u|t&0;p=0;m=0;return(P=p,m)|0}}while(0);if(!n){c=l;u=0;l=0}else{f=i|0|0;d=h|r&0;c=Qu(f|0,d|0,-1,-1)|0;i=P;u=l;l=0;do{r=u;u=o>>>31|u<<1;o=l|o<<1;r=e<<1|r>>>31|0;h=e>>>31|t<<1|0;Wu(c,i,r,h)|0;m=P;p=m>>31|((m|0)<0?-1:0)<<1;l=p&1;e=Wu(r,h,p&f,(((m|0)<0?-1:0)>>31|((m|0)<0?-1:0)<<1)&d)|0;t=P;n=n-1|0}while((n|0)!=0);c=u;u=0}n=0;if(a){s[a>>2]=e;s[a+4>>2]=t}p=(o|0)>>>31|(c|n)<<1|(n<<1|o>>>31)&0|u;m=(o<<1|0>>>31)&-2|l;return(P=p,m)|0}function oc(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;return $c[e&15](t|0,i|0,r|0)|0}function nc(e,t,i,r,a,s){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;s=s|0;Lc[e&3](t|0,i|0,r|0,a|0,s|0)}function lc(e,t,i){e=e|0;t=t|0;i=i|0;return+Hc[e&1](t|0,i|0)}function uc(e,t,i){e=e|0;t=t|0;i=+i;jc[e&3](t|0,+i)}function cc(e,t){e=e|0;t=t|0;return+zc[e&3](t|0)}function dc(e){e=e|0;return Bc[e&1]()|0}function fc(e,t){e=e|0;t=t|0;Uc[e&15](t|0)}function hc(e,t,i){e=e|0;t=t|0;i=i|0;Wc[e&7](t|0,i|0)}function pc(e,t){e=e|0;t=t|0;return Vc[e&31](t|0)|0}function mc(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;Yc[e&1](t|0,i|0,r|0)}function bc(e){e=e|0;Qc[e&0]()}function gc(e,t,i,r){e=e|0;t=t|0;i=i|0;r=+r;Gc[e&3](t|0,i|0,+r)}function vc(e,t,i,r,a){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;return Kc[e&1](t|0,i|0,r|0,a|0)|0}function wc(e,t,i,r,a,s,o){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;s=s|0;o=o|0;Xc[e&3](t|0,i|0,r|0,a|0,s|0,o|0)}function kc(e,t,i){e=e|0;t=t|0;i=i|0;return Jc[e&15](t|0,i|0)|0}function yc(e,t,i,r,a){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;Zc[e&3](t|0,i|0,r|0,a|0)}function _c(e,t,i){e=e|0;t=t|0;i=i|0;se(0);return 0}function Sc(e,t,i,r,a){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;se(1)}function Ec(e,t){e=e|0;t=t|0;se(2);return 0.0}function Cc(e,t){e=e|0;t=+t;se(3)}function Tc(e){e=e|0;se(4);return 0.0}function Ac(){se(5);return 0}function Mc(e){e=e|0;se(6)}function xc(e,t){e=e|0;t=t|0;se(7)}function Rc(e){e=e|0;se(8);return 0}function qc(e,t,i){e=e|0;t=t|0;i=i|0;se(9)}function Pc(){se(10)}function Ic(e,t,i){e=e|0;t=t|0;i=+i;se(11)}function Fc(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;se(12);return 0}function Oc(e,t,i,r,a,s){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;s=s|0;se(13)}function Nc(e,t){e=e|0;t=t|0;se(14);return 0}function Dc(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;se(15)}var $c=[_c,Wr,Vr,Ns,Na,Oa,Da,Bn,On,In,Fn,jn,Al,Tl,Fa,Ps];var Lc=[Sc,aa,ra,ea];var Hc=[Ec,kl];var jc=[Cc,dn,hn,gn];var zc=[Tc,fn,pn,vn];var Bc=[Ac,tn];var Uc=[Mc,Pr,Ir,$r,jr,Lr,Hr,zr,Br,Ur,en,fl,hl,Ms,xs,Mc];var Wc=[xc,Cn,Sn,mn,wn,yn,Rn,Sl];var Vc=[Rc,Fr,Ia,an,cn,sn,Ln,Hn,xn,Mn,Tn,En,bn,kn,_n,qn,_l,Rc,Rc,Rc,Rc,Rc,Rc,Rc,Rc,Rc,Rc,Rc,Rc,Rc,Rc,Rc];var Yc=[qc,wl];var Qc=[Pc];var Gc=[Ic,yl,vl,Ic];var Kc=[Fc,xl];var Xc=[Oc,na,oa,sa];var Jc=[Nc,Wo,nn,ln,un,Nn,$n,Dn,zn,An,Ml,El,Nc,Nc,Nc,Nc];var Zc=[Dc,Qr,Gr,Xr];return{_i64Subtract:Wu,_fflush:Ua,_i64Add:Qu,_memset:Vu,_malloc:Hs,_memcpy:Ku,___getTypeName:kr,_bitshift64Lshr:Gu,_free:js,___errno_location:ca,_bitshift64Shl:Yu,__GLOBAL__sub_I_ARToolKitJS_cpp:dl,__GLOBAL__sub_I_bind_cpp:_r,runPostSets:Uu,stackAlloc:hi,stackSave:pi,stackRestore:mi,establishStackSpace:bi,setThrew:gi,setTempRet0:ki,getTempRet0:yi,dynCall_iiii:oc,dynCall_viiiii:nc,dynCall_dii:lc,dynCall_vid:uc,dynCall_di:cc,dynCall_i:dc,dynCall_vi:fc,dynCall_vii:hc,dynCall_ii:pc,dynCall_viii:mc,dynCall_v:bc,dynCall_viid:gc,dynCall_iiiii:vc,dynCall_viiiiii:wc,dynCall_iii:kc,dynCall_viiii:yc}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),_i64Subtract=Module["_i64Subtract"]=asm["_i64Subtract"],__GLOBAL__sub_I_bind_cpp=Module["__GLOBAL__sub_I_bind_cpp"]=asm["__GLOBAL__sub_I_bind_cpp"],_fflush=Module["_fflush"]=asm["_fflush"],__GLOBAL__sub_I_ARToolKitJS_cpp=Module["__GLOBAL__sub_I_ARToolKitJS_cpp"]=asm["__GLOBAL__sub_I_ARToolKitJS_cpp"],_i64Add=Module["_i64Add"]=asm["_i64Add"],_memset=Module["_memset"]=asm["_memset"],runPostSets=Module["runPostSets"]=asm["runPostSets"],_malloc=Module["_malloc"]=asm["_malloc"],_memcpy=Module["_memcpy"]=asm["_memcpy"],___getTypeName=Module["___getTypeName"]=asm["___getTypeName"],_bitshift64Lshr=Module["_bitshift64Lshr"]=asm["_bitshift64Lshr"],_free=Module["_free"]=asm["_free"],___errno_location=Module["___errno_location"]=asm["___errno_location"],_bitshift64Shl=Module["_bitshift64Shl"]=asm["_bitshift64Shl"],dynCall_iiii=Module["dynCall_iiii"]=asm["dynCall_iiii"],dynCall_viiiii=Module["dynCall_viiiii"]=asm["dynCall_viiiii"],dynCall_dii=Module["dynCall_dii"]=asm["dynCall_dii"],dynCall_vid=Module["dynCall_vid"]=asm["dynCall_vid"],dynCall_di=Module["dynCall_di"]=asm["dynCall_di"],dynCall_i=Module["dynCall_i"]=asm["dynCall_i"],dynCall_vi=Module["dynCall_vi"]=asm["dynCall_vi"],dynCall_vii=Module["dynCall_vii"]=asm["dynCall_vii"],dynCall_ii=Module["dynCall_ii"]=asm["dynCall_ii"],dynCall_viii=Module["dynCall_viii"]=asm["dynCall_viii"],dynCall_v=Module["dynCall_v"]=asm["dynCall_v"],dynCall_viid=Module["dynCall_viid"]=asm["dynCall_viid"],dynCall_iiiii=Module["dynCall_iiiii"]=asm["dynCall_iiiii"],dynCall_viiiiii=Module["dynCall_viiiiii"]=asm["dynCall_viiiiii"],dynCall_iii=Module["dynCall_iii"]=asm["dynCall_iii"],dynCall_viiii=Module["dynCall_viiii"]=asm["dynCall_viiii"],initialStackTop;function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}Runtime.stackAlloc=asm["stackAlloc"],Runtime.stackSave=asm["stackSave"],Runtime.stackRestore=asm["stackRestore"],Runtime.establishStackSpace=asm["establishStackSpace"],Runtime.setTempRet0=asm["setTempRet0"],Runtime.getTempRet0=asm["getTempRet0"],ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var preloadStartTime=null,calledMain=!1;function run(e){function t(){Module["calledRun"]||(Module["calledRun"]=!0,ABORT||(ensureInitRuntime(),preMain(),Module["onRuntimeInitialized"]&&Module["onRuntimeInitialized"](),Module["_main"]&&shouldRunNow&&Module["callMain"](e),postRun()))}e=e||Module["arguments"],null===preloadStartTime&&(preloadStartTime=Date.now()),runDependencies>0||(preRun(),runDependencies>0||Module["calledRun"]||(Module["setStatus"]?(Module["setStatus"]("Running..."),setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1),t()},1)):t()))}function exit(e,t){if(!t||!Module["noExitRuntime"])throw Module["noExitRuntime"]||(ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),Module["onExit"]&&Module["onExit"](e)),ENVIRONMENT_IS_NODE?(process["stdout"]["once"]("drain",function(){process["exit"](e)}),console.log(" "),setTimeout(function(){process["exit"](e)},500)):ENVIRONMENT_IS_SHELL&&"function"===typeof quit&&quit(e),new ExitStatus(e)}dependenciesFulfilled=function e(){Module["calledRun"]||run(),Module["calledRun"]||(dependenciesFulfilled=e)},Module["callMain"]=Module.callMain=function(e){assert(0==runDependencies,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(0==__ATPRERUN__.length,"cannot call main when preRun functions remain to be called"),e=e||[],ensureInitRuntime();var t=e.length+1;function i(){for(var e=0;e<3;e++)r.push(0)}var r=[allocate(intArrayFromString(Module["thisProgram"]),"i8",ALLOC_NORMAL)];i();for(var a=0;a<t-1;a+=1)r.push(allocate(intArrayFromString(e[a]),"i8",ALLOC_NORMAL)),i();r.push(0),r=allocate(r,"i32",ALLOC_NORMAL);try{var s=Module["_main"](t,r,0);exit(s,!0)}catch(e){if(e instanceof ExitStatus)return;if("SimulateInfiniteLoop"==e)return void(Module["noExitRuntime"]=!0);throw e&&"object"===typeof e&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}finally{calledMain=!0}},Module["run"]=Module.run=run,Module["exit"]=Module.exit=exit;var abortDecorators=[];function abort(e){void 0!==e?(Module.print(e),Module.printErr(e),e=JSON.stringify(e)):e="",ABORT=!0,EXITSTATUS=1;var t="\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.",i="abort("+e+") at "+stackTrace()+t;throw abortDecorators&&abortDecorators.forEach(function(t){i=t(i,e)}),i}if(Module["abort"]=Module.abort=abort,Module["preInit"]){"function"==typeof Module["preInit"]&&(Module["preInit"]=[Module["preInit"]]);while(Module["preInit"].length>0)Module["preInit"].pop()()}var shouldRunNow=!0;Module["noInitialRun"]&&(shouldRunNow=!1),run(),function(){"use strict";var e=function(e,i,r){var a=e,s=i;if(this.orientation="landscape",this.listeners={},"number"!==typeof e){var o=e;r=i,a=o.videoWidth||o.width,s=o.videoHeight||o.height,this.image=o}if(this.defaultMarkerWidth=1,this.patternMarkers={},this.barcodeMarkers={},this.transform_mat=new Float32Array(16),this.canvas=document.createElement("canvas"),this.canvas.width=a,this.canvas.height=s,this.ctx=this.canvas.getContext("2d"),this.videoWidth=a,this.videoHeight=s,"string"===typeof r){var n=this;this.cameraParam=new t(r,function(){n._initialize()},function(e){console.error("ARController: Failed to load ARCameraParam",e)})}else this.cameraParam=r,this._initialize()};e.prototype.dispose=function(){for(var e in i.teardown(this.id),this)this[e]=null},e.prototype.process=function(e){this.detectMarker(e);var t,r,a=this.getMarkerNum();for(t in this.patternMarkers)r=this.patternMarkers[t],r.inPrevious=r.inCurrent,r.inCurrent=!1;for(t in this.barcodeMarkers)r=this.barcodeMarkers[t],r.inPrevious=r.inCurrent,r.inCurrent=!1;for(var s=0;s<a;s++){var o=this.getMarker(s),n=i.UNKNOWN_MARKER,l=this.trackPatternMarkerId(-1);o.idPatt>-1&&(o.id===o.idPatt||-1===o.idMatrix)?(l=this.trackPatternMarkerId(o.idPatt),n=i.PATTERN_MARKER,o.dir!==o.dirPatt&&this.setMarkerInfoDir(s,o.dirPatt)):o.idMatrix>-1&&(l=this.trackBarcodeMarkerId(o.idMatrix),n=i.BARCODE_MARKER,o.dir!==o.dirMatrix&&this.setMarkerInfoDir(s,o.dirMatrix)),n!==i.UNKNOWN_MARKER&&l.inPrevious?this.getTransMatSquareCont(s,l.markerWidth,l.matrix,l.matrix):this.getTransMatSquare(s,l.markerWidth,l.matrix),l.inCurrent=!0,this.transMatToGLMat(l.matrix,this.transform_mat),this.dispatchEvent({name:"getMarker",target:this,data:{index:s,type:n,marker:o,matrix:this.transform_mat}})}var u=this.getMultiMarkerCount();for(s=0;s<u;s++){var c=this.getMultiMarkerPatternCount(s);l=!1;i.getTransMatMultiSquareRobust(this.id,s),this.transMatToGLMat(this.marker_transform_mat,this.transform_mat);for(var d=0;d<c;d++){var f=this.getMultiEachMarker(s,d);if(f.visible>=0){l=!0,this.dispatchEvent({name:"getMultiMarker",target:this,data:{multiMarkerId:s,matrix:this.transform_mat}});break}}if(l)for(d=0;d<c;d++){f=this.getMultiEachMarker(s,d);this.transMatToGLMat(this.marker_transform_mat,this.transform_mat),this.dispatchEvent({name:"getMultiMarkerSub",target:this,data:{multiMarkerId:s,markerIndex:d,marker:f,matrix:this.transform_mat}})}}this._bwpointer&&this.debugDraw()},e.prototype.trackPatternMarkerId=function(e,t){var i=this.patternMarkers[e];return i||(this.patternMarkers[e]=i={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:t||this.defaultMarkerWidth}),t&&(i.markerWidth=t),i},e.prototype.trackBarcodeMarkerId=function(e,t){var i=this.barcodeMarkers[e];return i||(this.barcodeMarkers[e]=i={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:t||this.defaultMarkerWidth}),t&&(i.markerWidth=t),i},e.prototype.getMultiMarkerCount=function(){return i.getMultiMarkerCount(this.id)},e.prototype.getMultiMarkerPatternCount=function(e){return i.getMultiMarkerNum(this.id,e)},e.prototype.addEventListener=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(this.listeners[e]){var i=this.listeners[e].indexOf(t);i>-1&&this.listeners[e].splice(i,1)}},e.prototype.dispatchEvent=function(e){var t=this.listeners[e.name];if(t)for(var i=0;i<t.length;i++)t[i].call(this,e)},e.prototype.debugSetup=function(){document.body.appendChild(this.canvas),this.setDebugMode(1),this._bwpointer=this.getProcessingImage()},e.prototype.loadMarker=function(e,t,r){return i.addMarker(this.id,e,t,r)},e.prototype.loadMultiMarker=function(e,t,r){return i.addMultiMarker(this.id,e,t,r)},e.prototype.getTransMatSquare=function(e,t,r){return i.getTransMatSquare(this.id,e,t),r.set(this.marker_transform_mat),r},e.prototype.getTransMatSquareCont=function(e,t,r,a){return this.marker_transform_mat.set(r),i.getTransMatSquareCont(this.id,e,t),a.set(this.marker_transform_mat),a},e.prototype.getTransMatMultiSquare=function(e,t){return i.getTransMatMultiSquare(this.id,e),t.set(this.marker_transform_mat),t},e.prototype.getTransMatMultiSquareRobust=function(e,t){return i.getTransMatMultiSquare(this.id,e),t.set(this.marker_transform_mat),t},e.prototype.transMatToGLMat=function(e,t,i){return t[0]=e[0],t[4]=e[1],t[8]=e[2],t[12]=e[3],t[1]=e[4],t[5]=e[5],t[9]=e[6],t[13]=e[7],t[2]=e[8],t[6]=e[9],t[10]=e[10],t[14]=e[11],t[3]=0,t[7]=0,t[11]=0,t[15]=1,void 0!=i&&0!==i&&(t[12]*=i,t[13]*=i,t[14]*=i),t},e.prototype.detectMarker=function(e){return this._copyImageToHeap(e)?i.detectMarker(this.id):-99},e.prototype.getMarkerNum=function(){return i.getMarkerNum(this.id)},e.prototype.getMarker=function(e){if(0===i.getMarker(this.id,e))return i.markerInfo},e.prototype.setMarkerInfoVertex=function(e,t){for(var r=0;r<t.length;r++)this.marker_transform_mat[2*r+0]=t[r][0],this.marker_transform_mat[2*r+1]=t[r][1];return i.setMarkerInfoVertex(this.id,e)},e.prototype.cloneMarkerInfo=function(e){return JSON.parse(JSON.stringify(e))},e.prototype.getMultiEachMarker=function(e,t){if(0===i.getMultiEachMarker(this.id,e,t))return i.multiEachMarkerInfo},e.prototype.getTransformationMatrix=function(){return this.transform_mat},e.prototype.getCameraMatrix=function(){return this.camera_mat},e.prototype.getMarkerTransformationMatrix=function(){return this.marker_transform_mat},e.prototype.setDebugMode=function(e){return i.setDebugMode(this.id,e)},e.prototype.getDebugMode=function(){return i.getDebugMode(this.id)},e.prototype.getProcessingImage=function(){return i.getProcessingImage(this.id)},e.prototype.setLogLevel=function(e){return i.setLogLevel(e)},e.prototype.getLogLevel=function(){return i.getLogLevel()},e.prototype.setMarkerInfoDir=function(e,t){return i.setMarkerInfoDir(this.id,e,t)},e.prototype.setProjectionNearPlane=function(e){return i.setProjectionNearPlane(this.id,e)},e.prototype.getProjectionNearPlane=function(){return i.getProjectionNearPlane(this.id)},e.prototype.setProjectionFarPlane=function(e){return i.setProjectionFarPlane(this.id,e)},e.prototype.getProjectionFarPlane=function(){return i.getProjectionFarPlane(this.id)},e.prototype.setThresholdMode=function(e){return i.setThresholdMode(this.id,e)},e.prototype.getThresholdMode=function(){return i.getThresholdMode(this.id)},e.prototype.setThreshold=function(e){return i.setThreshold(this.id,e)},e.prototype.getThreshold=function(){return i.getThreshold(this.id)},e.prototype.setPatternDetectionMode=function(e){return i.setPatternDetectionMode(this.id,e)},e.prototype.getPatternDetectionMode=function(){return i.getPatternDetectionMode(this.id)},e.prototype.setMatrixCodeType=function(e){return i.setMatrixCodeType(this.id,e)},e.prototype.getMatrixCodeType=function(){return i.getMatrixCodeType(this.id)},e.prototype.setLabelingMode=function(e){return i.setLabelingMode(this.id,e)},e.prototype.getLabelingMode=function(){return i.getLabelingMode(this.id)},e.prototype.setPattRatio=function(e){return i.setPattRatio(this.id,e)},e.prototype.getPattRatio=function(){return i.getPattRatio(this.id)},e.prototype.setImageProcMode=function(e){return i.setImageProcMode(this.id,e)},e.prototype.getImageProcMode=function(){return i.getImageProcMode(this.id)},e.prototype.debugDraw=function(){var e=new Uint8ClampedArray(Module.HEAPU8.buffer,this._bwpointer,this.framesize),t=new ImageData(e,this.canvas.width,this.canvas.height);this.ctx.putImageData(t,0,0);for(var i=this.getMarkerNum(),r=0;r<i;r++)this._debugMarker(this.getMarker(r))},e.prototype._initialize=function(){this.id=i.setup(this.canvas.width,this.canvas.height,this.cameraParam.id);var e=i.frameMalloc;this.framepointer=e.framepointer,this.framesize=e.framesize,this.dataHeap=new Uint8Array(Module.HEAPU8.buffer,this.framepointer,this.framesize),this.camera_mat=new Float64Array(Module.HEAPU8.buffer,e.camera,16),this.marker_transform_mat=new Float64Array(Module.HEAPU8.buffer,e.transform,12),this.setProjectionNearPlane(.1),this.setProjectionFarPlane(1e3);var t=this;setTimeout(function(){t.onload&&t.onload(),t.dispatchEvent({name:"load",target:t})},1)},e.prototype._copyImageToHeap=function(e){if(!e||"undefined"===typeof e)return!1;if("IMG"===e.nodeName&&e.width>e.height||"VIDEO"===e.nodeName&&e.videoWidth>e.videoHeight)this.ctx.drawImage(e,0,0,this.canvas.width,this.canvas.height);else{this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var t=this.canvas.height/this.canvas.width,i=this.canvas.width*t,r=this.canvas.height*t,a=(this.canvas.width-r)/2;this.ctx.drawImage(e,a,0,r,i)}if(0===this.canvas.width||0===this.canvas.height)return!1;var s=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),o=s.data;return!!this.dataHeap&&(this.dataHeap.set(o),!0)},e.prototype._debugMarker=function(e){var t,i;t=e.vertex;var r=this.ctx;r.strokeStyle="red",r.beginPath(),r.moveTo(t[0][0],t[0][1]),r.lineTo(t[1][0],t[1][1]),r.stroke(),r.beginPath(),r.moveTo(t[2][0],t[2][1]),r.lineTo(t[3][0],t[3][1]),r.stroke(),r.strokeStyle="green",r.beginPath(),r.lineTo(t[1][0],t[1][1]),r.lineTo(t[2][0],t[2][1]),r.stroke(),r.beginPath(),r.moveTo(t[3][0],t[3][1]),r.lineTo(t[0][0],t[0][1]),r.stroke(),i=e.pos,r.beginPath(),r.arc(i[0],i[1],8,0,2*Math.PI),r.fillStyle="red",r.fill()},e.getUserMedia=function(e){var t=e.facingMode||"environment",i=e.onSuccess,r=e.onError||function(e){console.error("ARController.getUserMedia",e)},a=document.createElement("video"),s=function(){0!==this.videoWidth&&i(a)},o=!1,n=["touchstart","touchend","touchmove","touchcancel","click","mousedown","mouseup","mousemove","keydown","keyup","keypress","scroll"],l=function(e){o&&(a.play(),a.paused||n.forEach(function(e){window.removeEventListener(e,l,!0)}))};n.forEach(function(e){window.addEventListener(e,l,!0)});var u=function(e){a.addEventListener("loadedmetadata",s,!1),a.src=window.URL.createObjectURL(e),o=!0,l()},c={},d={};e.width&&(d.width=e.width,"object"===typeof e.width?(e.width.max&&(c.maxWidth=e.width.max),e.width.min&&(c.minWidth=e.width.max)):c.maxWidth=e.width),e.height&&(d.height=e.height,"object"===typeof e.height?(e.height.max&&(c.maxHeight=e.height.max),e.height.min&&(c.minHeight=e.height.max)):c.maxHeight=e.height),d.facingMode=t,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var f={audio:!1,video:{mandatory:c}};return navigator.getUserMedia?navigator.getUserMedia(f,u,r):r("navigator.getUserMedia is not supported on your browser"),a},e.getUserMediaARController=function(i){var r={};for(var a in i)r[a]=i[a];var s=i.onSuccess,o=i.cameraParam;r.onSuccess=function(){new t(o,function(){var t=this,r=i.maxARVideoSize||Math.max(n.videoWidth,n.videoHeight),a=r/Math.max(n.videoWidth,n.videoHeight),o=a*n.videoWidth,l=a*n.videoHeight;if(n.videoWidth<n.videoHeight){var u=o;o=l,l=u}var c=new e(o,l,t);c.image=n,n.videoWidth<n.videoHeight?(c.orientation="portrait",c.videoWidth=n.videoHeight,c.videoHeight=n.videoWidth):(c.orientation="landscape",c.videoWidth=n.videoWidth,c.videoHeight=n.videoHeight),s(c,t)},function(e){console.error("ARController: Failed to load ARCameraParam",e)})};var n=this.getUserMedia(r);return n};var t=function(e,t,i){this.id=-1,this._src="",this.complete=!1,this.onload=t,this.onerror=i,e&&this.load(e)};t.prototype.load=function(e){if(""!==this._src)throw"ARCameraParam: Trying to load camera parameters twice.";if(this._src=e,e){var t=this;i.loadCamera(e,function(e){t.id=e,t.complete=!0,t.onload()},function(e){t.onerror(e)})}},Object.defineProperty(t.prototype,"src",{set:function(e){this.load(e)},get:function(){return this._src}}),t.prototype.dispose=function(){-1!==this.id&&i.deleteCamera(this.id),this.id=-1,this._src="",this.complete=!1};var i={UNKNOWN_MARKER:-1,PATTERN_MARKER:0,BARCODE_MARKER:1,loadCamera:f,addMarker:o,addMultiMarker:c},r=["setup","teardown","setLogLevel","getLogLevel","setDebugMode","getDebugMode","getProcessingImage","setMarkerInfoDir","setMarkerInfoVertex","getTransMatSquare","getTransMatSquareCont","getTransMatMultiSquare","getTransMatMultiSquareRobust","getMultiMarkerNum","getMultiMarkerCount","detectMarker","getMarkerNum","getMarker","getMultiEachMarker","setProjectionNearPlane","getProjectionNearPlane","setProjectionFarPlane","getProjectionFarPlane","setThresholdMode","getThresholdMode","setThreshold","getThreshold","setPatternDetectionMode","getPatternDetectionMode","setMatrixCodeType","getMatrixCodeType","setLabelingMode","getLabelingMode","setPattRatio","getPattRatio","setImageProcMode","getImageProcMode"];function a(){for(var e in r.forEach(function(e){i[e]=Module[e]}),Module)e.match(/^AR/)&&(i[e]=Module[e])}var s=0;function o(e,t,i){var r="/marker_"+s++;m(t,r,function(){var t=Module._addMarker(e,r);i&&i(t)})}function n(e){return String.fromCharCode.apply(String,e)}function l(e){var t=n(e),i=t.split("\n"),r=[],a=0;return i.forEach(function(e){if(e=e.trim(),e&&!e.startsWith("#"))switch(a){case 0:return+e,void(a=1);case 1:e.match(/^\d+$/)||r.push(e);case 2:case 3:case 4:return void a++;case 5:return void(a=1)}}),r}var u=0;function c(e,t,i){var r="/multi_marker_"+u++;m(t,r,function(a){var s=l(a);function o(){var t=Module._addMultiMarker(e,r),a=Module.getMultiMarkerNum(e,t);i&&i(t,a)}if(!s.length)return o();var n=t.split("/").slice(0,-1).join("/");s=s.map(function(e){return"patt.hiro"===e||"patt.kanji"===e||"patt2.hiro"===e||"patt2.kanji"===e?["http://127.0.0.1:8080/data/data/"+e,e]:[n+"/"+e,e]}),b(s,o)})}var d=0;function f(e,t){var i="/camera_param_"+d++,r=function(){var e=Module._loadCamera(i);t&&t(e)};"object"===typeof e?p(i,e,r):e.indexOf("\n")>-1?h(i,e,r):m(e,i,r)}function h(e,t,i){for(var r=new Uint8Array(t.length),a=0;a<r.length;a++)r[a]=255&t.charCodeAt(a);p(e,r,i)}function p(e,t,i){FS.writeFile(e,t,{encoding:"binary"}),i(t)}function m(e,t,i){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(e){var a=r.response,s=new Uint8Array(a);p(t,s,i)},r.send()}function b(e,t){var i=e.pop();i?m(i[0],i[1],function(){b(e,t)}):t()}window.artoolkit=i,window.ARController=e,window.ARCameraParam=t,window.Module?a():window.Module={onRuntimeInitialized:function(){a()}}}();var AR=AR||{};AR.Marker=function(e,t){this.id=e,this.corners=t},AR.Detector=function(){this.grey=new CV.Image,this.thres=new CV.Image,this.homography=new CV.Image,this.binary=[],this.contours=[],this.polys=[],this.candidates=[]},AR.Detector.prototype.detect=function(e){return CV.grayscale(e,this.grey),CV.adaptiveThreshold(this.grey,this.thres,2,7),this.contours=CV.findContours(this.thres,this.binary),this.candidates=this.findCandidates(this.contours,.2*e.width,.05,10),this.candidates=this.clockwiseCorners(this.candidates),this.candidates=this.notTooNear(this.candidates,10),this.findMarkers(this.grey,this.candidates,49)},AR.Detector.prototype.findCandidates=function(e,t,i,r){var a,s,o,n=[],l=e.length;for(this.polys=[],o=0;o<l;++o)a=e[o],a.length>=t&&(s=CV.approxPolyDP(a,a.length*i),this.polys.push(s),4===s.length&&CV.isContourConvex(s)&&CV.minEdgeLength(s)>=r&&n.push(s));return n},AR.Detector.prototype.clockwiseCorners=function(e){var t,i,r,a,s,o,n=e.length;for(o=0;o<n;++o)t=e[o][1].x-e[o][0].x,r=e[o][1].y-e[o][0].y,i=e[o][2].x-e[o][0].x,a=e[o][2].y-e[o][0].y,t*a-r*i<0&&(s=e[o][1],e[o][1]=e[o][3],e[o][3]=s);return e},AR.Detector.prototype.notTooNear=function(e,t){var i,r,a,s,o,n,l=[],u=e.length;for(s=0;s<u;++s)for(o=s+1;o<u;++o){for(i=0,n=0;n<4;++n)r=e[s][n].x-e[o][n].x,a=e[s][n].y-e[o][n].y,i+=r*r+a*a;i/4<t*t&&(CV.perimeter(e[s])<CV.perimeter(e[o])?e[s].tooNear=!0:e[o].tooNear=!0)}for(s=0;s<u;++s)e[s].tooNear||l.push(e[s]);return l},AR.Detector.prototype.findMarkers=function(e,t,i){var r,a,s,o=[],n=t.length;for(s=0;s<n;++s)r=t[s],CV.warp(e,this.homography,r,i),CV.threshold(this.homography,this.homography,CV.otsu(this.homography)),a=this.getMarker(this.homography,r),a&&o.push(a);return o},AR.Detector.prototype.getMarker=function(e,t){var i,r,a,s,o,n=e.width/7>>>0,l=n*n>>1,u=[],c=[],d=[];for(s=0;s<7;++s)for(a=0===s||6===s?1:6,o=0;o<7;o+=a)if(i={x:o*n,y:s*n,width:n,height:n},CV.countNonZero(e,i)>l)return null;for(s=0;s<5;++s)for(u[s]=[],o=0;o<5;++o)i={x:(o+1)*n,y:(s+1)*n,width:n,height:n},u[s][o]=CV.countNonZero(e,i)>l?1:0;for(c[0]=u,d[0]=this.hammingDistance(c[0]),r={first:d[0],second:0},s=1;s<4;++s)c[s]=this.rotate(c[s-1]),d[s]=this.hammingDistance(c[s]),d[s]<r.first&&(r.first=d[s],r.second=s);return 0!==r.first?null:new AR.Marker(this.mat2id(c[r.second]),this.rotate2(t,4-r.second))},AR.Detector.prototype.hammingDistance=function(e){var t,i,r,a,s,o=[[1,0,0,0,0],[1,0,1,1,1],[0,1,0,0,1],[0,1,1,1,0]],n=0;for(r=0;r<5;++r){for(i=1/0,a=0;a<4;++a){for(t=0,s=0;s<5;++s)t+=e[r][s]===o[a][s]?0:1;t<i&&(i=t)}n+=i}return n},AR.Detector.prototype.mat2id=function(e){var t,i=0;for(t=0;t<5;++t)i<<=1,i|=e[t][1],i<<=1,i|=e[t][3];return i},AR.Detector.prototype.rotate=function(e){var t,i,r=[],a=e.length;for(t=0;t<a;++t)for(r[t]=[],i=0;i<e[t].length;++i)r[t][i]=e[e[t].length-i-1][t];return r},AR.Detector.prototype.rotate2=function(e,t){var i,r=[],a=e.length;for(i=0;i<a;++i)r[i]=e[(t+i)%a];return r};var CV=CV||{};CV.Image=function(e,t,i){this.width=e||0,this.height=t||0,this.data=i||[]},CV.grayscale=function(e,t){for(var i=e.data,r=t.data,a=i.length,s=0,o=0;s<a;s+=4)r[o++]=.299*i[s]+.587*i[s+1]+.114*i[s+2]+.5&255;return t.width=e.width,t.height=e.height,t},CV.threshold=function(e,t,i){var r,a=e.data,s=t.data,o=a.length,n=[];for(r=0;r<256;++r)n[r]=r<=i?0:255;for(r=0;r<o;++r)s[r]=n[a[r]];return t.width=e.width,t.height=e.height,t},CV.adaptiveThreshold=function(e,t,i,r){var a,s=e.data,o=t.data,n=s.length,l=[];for(CV.stackBoxBlur(e,t,i),a=0;a<768;++a)l[a]=a-255<=-r?255:0;for(a=0;a<n;++a)o[a]=l[s[a]-o[a]+255];return t.width=e.width,t.height=e.height,t},CV.otsu=function(e){var t,i,r,a=e.data,s=a.length,o=[],n=0,l=0,u=0,c=0,d=0,f=0;for(r=0;r<256;++r)o[r]=0;for(r=0;r<s;++r)o[a[r]]++;for(r=0;r<256;++r)l+=o[r]*r;for(r=0;r<256;++r)if(c+=o[r],0!==c){if(d=s-c,0===d)break;u+=o[r]*r,t=u/c-(l-u)/d,i=c*d*t*t,i>f&&(f=i,n=r)}return n},CV.stackBoxBlurMult=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265],CV.stackBoxBlurShift=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13],CV.BlurStack=function(){this.color=0,this.next=null},CV.stackBoxBlur=function(e,t,i){var r,a,s,o,n,l,u,c,d,f,h=e.data,p=t.data,m=e.height,b=e.width,g=m-1,v=b-1,w=i+i+1,k=i+1,y=CV.stackBoxBlurMult[i],_=CV.stackBoxBlurShift[i];for(r=a=new CV.BlurStack,f=1;f<w;++f)r=r.next=new CV.BlurStack;for(r.next=a,n=0,d=0;d<m;++d){for(l=n,s=h[n],o=k*s,r=a,f=0;f<k;++f)r.color=s,r=r.next;for(f=1;f<k;++f)r.color=h[n+f],o+=r.color,r=r.next;for(r=a,c=0;c<b;++c)p[n++]=o*y>>>_,u=c+k,u=l+(u<v?u:v),o-=r.color-h[u],r.color=h[u],r=r.next}for(c=0;c<b;++c){for(n=c,l=n+b,s=p[n],o=k*s,r=a,f=0;f<k;++f)r.color=s,r=r.next;for(f=1;f<k;++f)r.color=p[l],o+=r.color,r=r.next,l+=b;for(r=a,d=0;d<m;++d)p[n]=o*y>>>_,u=d+k,u=c+(u<g?u:g)*b,o-=r.color-p[u],r.color=p[u],r=r.next,n+=b}return t},CV.gaussianBlur=function(e,t,i,r){var a=CV.gaussianKernel(r);return t.width=e.width,t.height=e.height,i.width=e.width,i.height=e.height,CV.gaussianBlurFilter(e,i,a,!0),CV.gaussianBlurFilter(i,t,a,!1),t},CV.gaussianBlurFilter=function(e,t,i,r){var a,s,o,n,l,u=e.data,c=t.data,d=e.height,f=e.width,h=0,p=i.length>>1;for(o=0;o<d;++o)for(n=0;n<f;++n){for(s=0,l=-p;l<=p;++l)r?(a=h+l,n+l<0?a=h:n+l>=f&&(a=h)):(a=h+l*f,o+l<0?a=h:o+l>=d&&(a=h)),s+=i[p+l]*u[a];c[h++]=r?s:s+.5&255}return t},CV.gaussianKernel=function(e){var t,i,r,a,s,o,n=[[1],[.25,.5,.25],[.0625,.25,.375,.25,.0625],[.03125,.109375,.21875,.28125,.21875,.109375,.03125]],l=[];if(e<=7&&e%2===1)l=n[e>>1];else{for(t=.5*(e-1),i=.8+.3*(t-1),r=-.5/(i*i),a=0,o=0;o<e;++o)s=o-t,a+=l[o]=Math.exp(r*s*s);for(a=1/a,o=0;o<e;++o)l[o]*=a}return l},CV.findContours=function(e,t){var i,r,a,s,o,n,l,u,c,d=e.width,f=e.height,h=[];for(i=CV.binaryBorder(e,t),r=CV.neighborhoodDeltas(d+2),a=d+3,o=1,u=0;u<f;++u,a+=2)for(c=0;c<d;++c,++a)s=i[a],0!==s&&(n=l=!1,1===s&&0===i[a-1]?n=!0:s>=1&&0===i[a+1]&&(l=!0),(n||l)&&(++o,h.push(CV.borderFollowing(i,a,o,{x:c,y:u},l,r))));return h},CV.borderFollowing=function(e,t,i,r,a,s){var o,n,l,u,c,d=[];d.hole=a,u=c=a?0:4;do{if(u=u-1&7,o=t+s[u],0!==e[o])break}while(u!==c);if(u===c)e[t]=-i,d.push({x:r.x,y:r.y});else{n=t,4^u;while(1){c=u;do{l=n+s[++u]}while(0===e[l]);if(u&=7,u-1>>>0<c>>>0?e[n]=-i:1===e[n]&&(e[n]=i),d.push({x:r.x,y:r.y}),u,r.x+=CV.neighborhood[u][0],r.y+=CV.neighborhood[u][1],l===t&&n===o)break;n=l,u=u+4&7}}return d},CV.neighborhood=[[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1],[0,1],[1,1]],CV.neighborhoodDeltas=function(e){for(var t=[],i=CV.neighborhood.length,r=0;r<i;++r)t[r]=CV.neighborhood[r][0]+CV.neighborhood[r][1]*e;return t.concat(t)},CV.approxPolyDP=function(e,t){var i,r,a,s,o,n,l,u,c,d,f,h={start_index:0,end_index:0},p={start_index:0,end_index:0},m=[],b=[],g=e.length;for(t*=t,f=0,c=0;c<3;++c)for(o=0,f=(f+p.start_index)%g,r=e[f],++f===g&&(f=0),d=1;d<g;++d)i=e[f],++f===g&&(f=0),l=i.x-r.x,u=i.y-r.y,s=l*l+u*u,s>o&&(o=s,p.start_index=d);o<=t?m.push({x:r.x,y:r.y}):(h.start_index=f,h.end_index=p.start_index+=h.start_index,p.start_index-=p.start_index>=g?g:0,p.end_index=h.start_index,p.end_index<p.start_index&&(p.end_index+=g),b.push({start_index:p.start_index,end_index:p.end_index}),b.push({start_index:h.start_index,end_index:h.end_index}));while(0!==b.length){if(h=b.pop(),a=e[h.end_index%g],r=e[f=h.start_index%g],++f===g&&(f=0),h.end_index<=h.start_index+1)n=!0;else{for(o=0,l=a.x-r.x,u=a.y-r.y,c=h.start_index+1;c<h.end_index;++c)i=e[f],++f===g&&(f=0),s=Math.abs((i.y-r.y)*l-(i.x-r.x)*u),s>o&&(o=s,p.start_index=c);n=o*o<=t*(l*l+u*u)}n?m.push({x:r.x,y:r.y}):(p.end_index=h.end_index,h.end_index=p.start_index,b.push({start_index:p.start_index,end_index:p.end_index}),b.push({start_index:h.start_index,end_index:h.end_index}))}return m},CV.warp=function(e,t,i,r){var a,s,o,n,l,u,c,d,f,h,p,m,b,g,v,w,k,y,_,S,E,C,T,A=e.data,M=t.data,x=e.width,R=e.height,q=0;for(b=CV.getPerspectiveTransform(i,r-1),g=b[8],v=b[2],w=b[5],C=0;C<r;++C)for(g+=b[7],v+=b[1],w+=b[4],k=g,y=v,_=w,T=0;T<r;++T)k+=b[6],y+=b[0],_+=b[3],S=y/k,E=_/k,a=S>>>0,s=a===x-1?a:a+1,o=S-a,n=1-o,l=E>>>0,u=l===R-1?l:l+1,c=E-l,d=1-c,f=h=l*x,p=m=u*x,M[q++]=d*(n*A[f+a]+o*A[h+s])+c*(n*A[p+a]+o*A[m+s])&255;return t.width=r,t.height=r,t},CV.getPerspectiveTransform=function(e,t){var i=CV.square2quad(e);return i[0]/=t,i[1]/=t,i[3]/=t,i[4]/=t,i[6]/=t,i[7]/=t,i},CV.square2quad=function(e){var t,i,r,a,s,o,n,l=[];return t=e[0].x-e[1].x+e[2].x-e[3].x,i=e[0].y-e[1].y+e[2].y-e[3].y,0===t&&0===i?(l[0]=e[1].x-e[0].x,l[1]=e[2].x-e[1].x,l[2]=e[0].x,l[3]=e[1].y-e[0].y,l[4]=e[2].y-e[1].y,l[5]=e[0].y,l[6]=0,l[7]=0,l[8]=1):(r=e[1].x-e[2].x,a=e[3].x-e[2].x,s=e[1].y-e[2].y,o=e[3].y-e[2].y,n=r*o-a*s,l[6]=(t*o-a*i)/n,l[7]=(r*i-t*s)/n,l[8]=1,l[0]=e[1].x-e[0].x+l[6]*e[1].x,l[1]=e[3].x-e[0].x+l[7]*e[3].x,l[2]=e[0].x,l[3]=e[1].y-e[0].y+l[6]*e[1].y,l[4]=e[3].y-e[0].y+l[7]*e[3].y,l[5]=e[0].y),l},CV.isContourConvex=function(e){var t,i,r,a,s,o,n,l,u=0,c=!0,d=e.length,f=0,h=0;for(i=e[d-1],t=e[0],s=t.x-i.x,o=t.y-i.y;f<d;++f){if(++h===d&&(h=0),i=t,t=e[h],n=t.x-i.x,l=t.y-i.y,r=n*o,a=l*s,u|=a>r?1:a<r?2:3,3===u){c=!1;break}s=n,o=l}return c},CV.perimeter=function(e){for(var t,i,r=e.length,a=0,s=r-1,o=0;a<r;s=a++)t=e[a].x-e[s].x,i=e[a].y-e[s].y,o+=Math.sqrt(t*t+i*i);return o},CV.minEdgeLength=function(e){for(var t,i,r,a=e.length,s=0,o=a-1,n=1/0;s<a;o=s++)i=e[s].x-e[o].x,r=e[s].y-e[o].y,t=i*i+r*r,t<n&&(n=t);return Math.sqrt(n)},CV.countNonZero=function(e,t){var i,r,a=e.data,s=t.height,o=t.width,n=t.x+t.y*e.width,l=e.width-o,u=0;for(i=0;i<s;++i){for(r=0;r<o;++r)0!==a[n++]&&++u;n+=l}return u},CV.binaryBorder=function(e,t){var i,r,a=e.data,s=e.height,o=e.width,n=0,l=0;for(r=-2;r<o;++r)t[l++]=0;for(i=0;i<s;++i){for(t[l++]=0,r=0;r<o;++r)t[l++]=0===a[n++]?0:1;t[l++]=0}for(r=-2;r<o;++r)t[l++]=0;return t};var POS=POS||{};POS.Posit=function(e,t){this.objectPoints=this.buildModel(e),this.focalLength=t,this.objectVectors=[],this.objectNormal=[],this.objectMatrix=[[],[],[]],this.init()},POS.Posit.prototype.buildModel=function(e){var t=e/2;return[[-t,t,0],[t,t,0],[t,-t,0],[-t,-t,0]]},POS.Posit.prototype.init=function(){var e,t=this.objectPoints.length,i=[],r=[],a=0,s=2;for(e=0;e<t;++e)this.objectVectors[e]=[this.objectPoints[e][0]-this.objectPoints[0][0],this.objectPoints[e][1]-this.objectPoints[0][1],this.objectPoints[e][2]-this.objectPoints[0][2]],i[e]=[this.objectVectors[e][0],this.objectVectors[e][1],this.objectVectors[e][2]];while(0===a)r[0]=this.objectVectors[1][1]*this.objectVectors[s][2]-this.objectVectors[1][2]*this.objectVectors[s][1],r[1]=this.objectVectors[1][2]*this.objectVectors[s][0]-this.objectVectors[1][0]*this.objectVectors[s][2],r[2]=this.objectVectors[1][0]*this.objectVectors[s][1]-this.objectVectors[1][1]*this.objectVectors[s][0],a=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]),++s;for(e=0;e<3;++e)this.objectNormal[e]=r[e]/a;POS.pseudoInverse(i,t,this.objectMatrix)},POS.Posit.prototype.pose=function(e){var t,i,r,a,s,o,n=[[],[],[]],l=[[],[],[]],u=[],c=[[],[],[]],d=[[],[],[]],f=[],h=[];for(this.pos(e,n,l,u),r=this.isValid(n,u),t=r?this.iterate(e,n,u,c,f):{euclidean:-1,pixels:-1,maximum:-1},a=this.isValid(l,u),i=a?this.iterate(e,l,u,d,h):{euclidean:-1,pixels:-1,maximum:-1},s=0;s<3;++s)for(o=0;o<3;++o)r&&(f[s]-=c[s][o]*this.objectPoints[0][o]),a&&(h[s]-=d[s][o]*this.objectPoints[0][o]);return t.euclidean<i.euclidean?new POS.Pose(t.pixels,c,f,i.pixels,d,h):new POS.Pose(i.pixels,d,h,t.pixels,c,f)},POS.Posit.prototype.pos=function(e,t,i,r){var a,s,o,n,l,u,c,d,f,h,p=this.objectPoints.length,m=[],b=[],g=[],v=[],w=[],k=[],y=[],_=[];for(f=0;f<p;++f)m[f]=[e[f].x-e[0].x,e[f].y-e[0].y];for(f=0;f<3;++f)for(b[f]=0,g[f]=0,h=0;h<p;++h)b[f]+=this.objectMatrix[f][h]*m[h][0],g[f]+=this.objectMatrix[f][h]*m[h][1];for(a=b[0]*b[0]+b[1]*b[1]+b[2]*b[2],s=g[0]*g[0]+g[1]*g[1]+g[2]*g[2],o=b[0]*g[0]+b[1]*g[1]+b[2]*g[2],n=(s-a)*(s-a)+o*o*4,l=s-a>=0?(s-a+Math.sqrt(n))/2:(s-a-Math.sqrt(n))/2,l>=0?(u=Math.sqrt(l),c=0===u?0:-o/u):(u=Math.sqrt(-o*o/l),c=0===u?Math.sqrt(a-s):-o/u),f=0;f<3;++f)v[f]=b[f]+u*this.objectNormal[f],w[f]=g[f]+c*this.objectNormal[f];for(d=Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]),f=0;f<3;++f)k[f]=v[f]/d,y[f]=w[f]/d;for(_[0]=k[1]*y[2]-k[2]*y[1],_[1]=k[2]*y[0]-k[0]*y[2],_[2]=k[0]*y[1]-k[1]*y[0],f=0;f<3;++f)t[0][f]=k[f],t[1][f]=y[f],t[2][f]=_[f];for(f=0;f<3;++f)v[f]=b[f]-u*this.objectNormal[f],w[f]=g[f]-c*this.objectNormal[f];for(f=0;f<3;++f)k[f]=v[f]/d,y[f]=w[f]/d;for(_[0]=k[1]*y[2]-k[2]*y[1],_[1]=k[2]*y[0]-k[0]*y[2],_[2]=k[0]*y[1]-k[1]*y[0],f=0;f<3;++f)i[0][f]=k[f],i[1][f]=y[f],i[2][f]=_[f];r[0]=e[0].x/d,r[1]=e[0].y/d,r[2]=this.focalLength/d},POS.Posit.prototype.isValid=function(e,t){for(var i,r=this.objectPoints.length,a=1/0,s=0;s<r;++s)i=t[2]+(e[2][0]*this.objectVectors[s][0]+e[2][1]*this.objectVectors[s][1]+e[2][2]*this.objectVectors[s][2]),i<a&&(a=i);return a>=0},POS.Posit.prototype.iterate=function(e,t,i,r,a){var s,o,n,l,u,c,d,f,h,p=this.objectPoints.length,m=[],b=[],g=[[],[],[]],v=[[],[],[]],w=[],k=[],y=!1,_=0;for(f=0;f<p;++f)m[f]={x:e[f].x,y:e[f].y};for(f=0;f<3;++f){for(h=0;h<3;++h)r[f][h]=t[f][h];a[f]=i[f]}for(f=0;f<p;++f){for(n=0,h=0;h<3;++h)n+=this.objectVectors[f][h]*r[2][h]/a[2];b[f]={x:(1+n)*e[f].x,y:(1+n)*e[f].y}}for(o=0,f=0;f<p;++f)o+=Math.abs(b[f].x-m[f].x),o+=Math.abs(b[f].y-m[f].y);for(f=0;f<3;++f)w[f]=a[f]-(r[f][0]*this.objectPoints[0][0]+r[f][1]*this.objectPoints[0][1]+r[f][2]*this.objectPoints[0][2]);l=u=this.error(e,r,w),y=0===u.pixels||o<.01;while(_++<100&&!y){for(f=0;f<p;++f)m[f].x=b[f].x,m[f].y=b[f].y;for(this.pos(b,g,v,a),f=0;f<3;++f)w[f]=a[f]-(g[f][0]*this.objectPoints[0][0]+g[f][1]*this.objectPoints[0][1]+g[f][2]*this.objectPoints[0][2]),k[f]=a[f]-(v[f][0]*this.objectPoints[0][0]+v[f][1]*this.objectPoints[0][1]+v[f][2]*this.objectPoints[0][2]);if(u=this.error(e,g,w),c=this.error(e,v,k),u.euclidean>=0&&c.euclidean>=0)if(c.euclidean<u.euclidean)for(l=c,f=0;f<3;++f)for(h=0;h<3;++h)r[f][h]=v[f][h];else for(l=u,f=0;f<3;++f)for(h=0;h<3;++h)r[f][h]=g[f][h];if(u.euclidean<0&&c.euclidean>=0)for(l=c,f=0;f<3;++f)for(h=0;h<3;++h)r[f][h]=v[f][h];if(c.euclidean<0&&u.euclidean>=0)for(l=u,f=0;f<3;++f)for(h=0;h<3;++h)r[f][h]=g[f][h];for(f=0;f<p;++f){for(n=0,h=0;h<3;++h)n+=this.objectVectors[f][h]*r[2][h]/a[2];b[f].x=(1+n)*e[f].x,b[f].y=(1+n)*e[f].y}for(s=o,o=0,f=0;f<p;++f)o+=Math.abs(b[f].x-m[f].x),o+=Math.abs(b[f].y-m[f].y);d=Math.abs(o-s),y=0===l.pixels||d<.01}return l},POS.Posit.prototype.error=function(e,t,i){var r,a,s,o=this.objectPoints.length,n=[],l=[],u=[],c=0,d=0,f=0;if(!this.isValid(t,i))return{euclidean:-1,pixels:-1,maximum:-1};for(r=0;r<o;++r)for(n[r]=[],a=0;a<3;++a)n[r][a]=i[a];for(r=0;r<o;++r)for(a=0;a<3;++a)for(s=0;s<3;++s)n[r][a]+=t[a][s]*this.objectPoints[r][s];for(r=0;r<o;++r)for(l[r]=[],a=0;a<2;++a)l[r][a]=this.focalLength*n[r][a]/n[r][2];for(r=0;r<o;++r)u[r]=[l[r][0]-e[r].x,l[r][1]-e[r].y];for(r=0;r<o;++r)c+=Math.sqrt(u[r][0]*u[r][0]+u[r][1]*u[r][1]),d+=Math.abs(Math.round(l[r][0])-Math.round(e[r].x))+Math.abs(Math.round(l[r][1])-Math.round(e[r].y)),Math.abs(u[r][0])>f&&(f=Math.abs(u[r][0])),Math.abs(u[r][1])>f&&(f=Math.abs(u[r][1]));return{euclidean:c/o,pixels:d,maximum:f}},POS.pseudoInverse=function(e,t,i){var r,a,s,o=[],n=[[],[],[]],l=[[],[],[]],u=0,c=0;for(SVD.svdcmp(e,t,3,o,n),r=0;r<3;++r)o[r]>u&&(u=o[r]);for(u*=.01,r=0;r<3;++r)o[r]<u&&(o[r]=0);for(a=0;a<3;++a)if(0===o[a])for(++c,s=a;s<2;++s){for(r=0;r<t;++r)e[r][s]=e[r][s+1];for(r=0;r<3;++r)n[r][s]=n[r][s+1]}for(a=0;a<2;++a)0===o[a]&&(o[a]=o[a+1]);for(r=0;r<3;++r)for(a=0;a<3-c;++a)l[r][a]=n[r][a]/o[a];for(r=0;r<3;++r)for(a=0;a<t;++a)for(i[r][a]=0,s=0;s<3-c;++s)i[r][a]+=l[r][s]*e[a][s]},POS.Pose=function(e,t,i,r,a,s){this.bestError=e,this.bestRotation=t,this.bestTranslation=i,this.alternativeError=r,this.alternativeRotation=a,this.alternativeTranslation=s};var SVD=SVD||{};SVD.svdcmp=function(e,t,i,r,a){var s,o,n,l,u,c,d,f,h,p,m,b,g,v,w,k=0,y=0,_=0,S=[];for(o=0;o<i;++o){if(d=o+1,S[o]=_*y,y=b=_=0,o<t){for(c=o;c<t;++c)_+=Math.abs(e[c][o]);if(0!==_){for(c=o;c<t;++c)e[c][o]/=_,b+=e[c][o]*e[c][o];for(p=e[o][o],y=-SVD.sign(Math.sqrt(b),p),m=p*y-b,e[o][o]=p-y,l=d;l<i;++l){for(b=0,c=o;c<t;++c)b+=e[c][o]*e[c][l];for(p=b/m,c=o;c<t;++c)e[c][l]+=p*e[c][o]}for(c=o;c<t;++c)e[c][o]*=_}}if(r[o]=_*y,y=b=_=0,o<t&&o!==i-1){for(c=d;c<i;++c)_+=Math.abs(e[o][c]);if(0!==_){for(c=d;c<i;++c)e[o][c]/=_,b+=e[o][c]*e[o][c];for(p=e[o][d],y=-SVD.sign(Math.sqrt(b),p),m=p*y-b,e[o][d]=p-y,c=d;c<i;++c)S[c]=e[o][c]/m;for(l=d;l<t;++l){for(b=0,c=d;c<i;++c)b+=e[l][c]*e[o][c];for(c=d;c<i;++c)e[l][c]+=b*S[c]}for(c=d;c<i;++c)e[o][c]*=_}}k=Math.max(k,Math.abs(r[o])+Math.abs(S[o]))}for(o=i-1;o>=0;--o){if(o<i-1){if(0!==y){for(l=d;l<i;++l)a[l][o]=e[o][l]/e[o][d]/y;for(l=d;l<i;++l){for(b=0,c=d;c<i;++c)b+=e[o][c]*a[c][l];for(c=d;c<i;++c)a[c][l]+=b*a[c][o]}}for(l=d;l<i;++l)a[o][l]=a[l][o]=0}a[o][o]=1,y=S[o],d=o}for(o=Math.min(i,t)-1;o>=0;--o){for(d=o+1,y=r[o],l=d;l<i;++l)e[o][l]=0;if(0!==y){for(y=1/y,l=d;l<i;++l){for(b=0,c=d;c<t;++c)b+=e[c][o]*e[c][l];for(p=b/e[o][o]*y,c=o;c<t;++c)e[c][l]+=p*e[c][o]}for(l=o;l<t;++l)e[l][o]*=y}else for(l=o;l<t;++l)e[l][o]=0;++e[o][o]}for(c=i-1;c>=0;--c)for(n=1;n<=30;++n){for(s=!0,d=c;d>=0;--d){if(f=d-1,Math.abs(S[d])+k===k){s=!1;break}if(Math.abs(r[f])+k===k)break}if(s)for(h=0,b=1,o=d;o<=c;++o){if(p=b*S[o],Math.abs(p)+k===k)break;for(y=r[o],m=SVD.pythag(p,y),r[o]=m,m=1/m,h=y*m,b=-p*m,l=1;l<=t;++l)v=e[l][f],w=e[l][o],e[l][f]=v*h+w*b,e[l][o]=w*h-v*b}if(w=r[c],d===c){if(w<0)for(r[c]=-w,l=0;l<i;++l)a[l][c]=-a[l][c];break}if(30===n)return!1;for(g=r[d],f=c-1,v=r[f],y=S[f],m=S[c],p=((v-w)*(v+w)+(y-m)*(y+m))/(2*m*v),y=SVD.pythag(p,1),p=((g-w)*(g+w)+m*(v/(p+SVD.sign(y,p))-m))/g,h=b=1,l=d;l<=f;++l){for(o=l+1,y=S[o],v=r[o],m=b*y,y*=h,w=SVD.pythag(p,m),S[l]=w,h=p/w,b=m/w,p=g*h+y*b,y=y*h-g*b,m=v*b,v*=h,u=0;u<i;++u)g=a[u][l],w=a[u][o],a[u][l]=g*h+w*b,a[u][o]=w*h-g*b;for(w=SVD.pythag(p,m),r[l]=w,0!==w&&(w=1/w,h=p*w,b=m*w),p=h*y+b*v,g=h*v-b*y,u=0;u<t;++u)v=e[u][l],w=e[u][o],e[u][l]=v*h+w*b,e[u][o]=w*h-v*b}S[d]=0,S[c]=p,r[c]=g}return!0},SVD.pythag=function(e,t){var i,r=Math.abs(e),a=Math.abs(t);return r>a?(i=a/r,r*Math.sqrt(1+i*i)):0===a?0:(i=r/a,a*Math.sqrt(1+i*i))},SVD.sign=function(e,t){return t>=0?Math.abs(e):-Math.abs(e)};var THREEx=THREEx||{};THREEx.ArucoContext=function(e){e=e||{},this.parameters={debug:void 0!==e.debug&&e.debug,canvasWidth:void 0!==e.canvasWidth?e.canvasWidth:640,canvasHeight:void 0!==e.canvasHeight?e.canvasHeight:480},this.canvas=document.createElement("canvas"),this.detector=new AR.Detector,this.debug=null,1==e.debug&&(this.debug=new THREEx.ArucoDebug(this)),this.setSize(this.parameters.canvasWidth,this.parameters.canvasHeight)},THREEx.ArucoContext.prototype.setSize=function(e,t){this.canvas.width=e,this.canvas.height=t,null!==this.debug&&this.debug.setSize(e,t)},THREEx.ArucoContext.prototype.detect=function(e){var t=this.canvas,i=t.getContext("2d");i.drawImage(e,0,0,t.width,t.height);var r=i.getImageData(0,0,t.width,t.height),a=this.detector.detect(r);return a},THREEx.ArucoContext.prototype.updateObject3D=function(e,t,i,r){for(var a=r.corners,s=this.canvas,o=new Array(a.length),n=0;n<a.length;++n){var l=a[n];o[n]={x:l.x-s.width/2,y:-l.y+s.height/2}}var u=t.pose(o),c=u.bestRotation,d=u.bestTranslation;e.position.x=d[0],e.position.y=d[1],e.position.z=-d[2],e.rotation.x=-Math.asin(-c[1][2]),e.rotation.y=-Math.atan2(c[0][2],c[2][2]),e.rotation.z=Math.atan2(c[1][0],c[1][1]),e.scale.x=i,e.scale.y=i,e.scale.z=i};var THREEx=THREEx||{};AR.Detector.prototype.detect=function(e){var t=this.datGUIOptions;return CV.grayscale(e,this.grey),CV.adaptiveThreshold(this.grey,this.thres,t.adaptativeThreshold.kernelSize,t.adaptativeThreshold.threshold),this.contours=CV.findContours(this.thres,this.binary),this.candidates=this.findCandidates(this.contours,e.width*t.candidates.minSize,t.candidates.epsilon,t.candidates.minLength),this.candidates=this.clockwiseCorners(this.candidates),this.candidates=this.notTooNear(this.candidates,t.notTooNear.minDist),this.findMarkers(this.grey,this.candidates,t.findMarkers.warpSize)},AR.Detector.prototype.datGUIOptions={adaptativeThreshold:{kernelSize:2,threshold:7},candidates:{minSize:.2,epsilon:.05,minLength:10},notTooNear:{minDist:10},findMarkers:{warpSize:49}},THREEx.addArucoDatGui=function(e,t){e.detector.datGUIOptions;var i={resolution:"640x480"},r=function(){var t=i.resolution.match(/(\d+)x(\d+)/),r=parseInt(t[1]),a=parseInt(t[2]);e.setSize(r,a)};r(),t.add(i,"resolution",["320x240","640x480"]).onChange(r);var a=t.addFolder("Adaptative Threshold");a.open(),a.add(e.detector.datGUIOptions.adaptativeThreshold,"kernelSize").min(0).step(1).onChange(r),a.add(e.detector.datGUIOptions.adaptativeThreshold,"threshold").min(0).step(1).onChange(r);a=t.addFolder("Candidates");a.open(),a.add(e.detector.datGUIOptions.candidates,"minSize").min(0).max(1).onChange(r),a.add(e.detector.datGUIOptions.candidates,"epsilon").min(0).onChange(r),a.add(e.detector.datGUIOptions.candidates,"minLength").min(0).step(1).onChange(r);a=t.addFolder("notTooNear");a.open(),a.add(e.detector.datGUIOptions.notTooNear,"minDist").min(0).step(1).onChange(r);a=t.addFolder("findMarkers");a.open(),a.add(e.detector.datGUIOptions.findMarkers,"warpSize").min(0).step(1).onChange(r)};var THREEx=THREEx||{};THREEx.ArucoDebug=function(e){this.arucoContext=e,this.canvasElement=document.createElement("canvas"),this.canvasElement.width=this.arucoContext.canvas.width,this.canvasElement.height=this.arucoContext.canvas.height},THREEx.ArucoDebug.prototype.setSize=function(e,t){this.canvasElement.width!==e&&(this.canvasElement.width=e),this.canvasElement.height!==t&&(this.canvasElement.height=t)},THREEx.ArucoDebug.prototype.clear=function(){var e=this.canvasElement,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)},THREEx.ArucoDebug.prototype.drawContoursContours=function(){var e=this.arucoContext.detector.contours,t=this.canvasElement;this.drawContours(e,0,0,t.width,t.height,function(e){return e?"magenta":"blue"})},THREEx.ArucoDebug.prototype.drawContoursPolys=function(){var e=this.arucoContext.detector.polys,t=this.canvasElement;this.drawContours(e,0,0,t.width,t.height,function(){return"green"})},THREEx.ArucoDebug.prototype.drawContoursCandidates=function(){var e=this.arucoContext.detector.candidates,t=this.canvasElement;this.drawContours(e,0,0,t.width,t.height,function(){return"red"})},THREEx.ArucoDebug.prototype.drawContours=function(e,t,i,r,a,s){var o,n,l,u=e.length,c=this.canvasElement,d=c.getContext("2d");d.save();while(u--){for(n=e[u],d.strokeStyle=s(n.hole),d.beginPath(),o=0;o<n.length;++o)l=n[o],d.moveTo(t+l.x,i+l.y),l=n[(o+1)%n.length],d.lineTo(t+l.x,i+l.y);d.stroke(),d.closePath()}d.restore()},THREEx.ArucoDebug.prototype.drawDetectorGrey=function(){var e=arucoContext.detector.grey;this.drawCVImage(e)},THREEx.ArucoDebug.prototype.drawDetectorThreshold=function(){var e=arucoContext.detector.thres;this.drawCVImage(e)},THREEx.ArucoDebug.prototype.drawCVImage=function(e){this.arucoContext.detector;var t=this.canvasElement,i=t.getContext("2d"),r=i.createImageData(t.width,t.height);this.copyCVImage2ImageData(e,r),i.putImageData(r,0,0)},THREEx.ArucoDebug.prototype.copyCVImage2ImageData=function(e,t){var i=e.data.length,r=4*i+3;while(i--)t.data[r-=4]=255,t.data[r-1]=t.data[r-2]=t.data[r-3]=e.data[i];return t},THREEx.ArucoDebug.prototype.drawVideo=function(e){var t=this.canvasElement,i=t.getContext("2d");i.drawImage(e,0,0,t.width,t.height)},THREEx.ArucoDebug.prototype.drawMarkerIDs=function(e){var t,i,r,a,s,o,n=this.canvasElement,l=n.getContext("2d");for(l.save(),l.strokeStyle="blue",l.lineWidth=1,s=0;s!==e.length;++s){for(t=e[s].corners,r=1/0,a=1/0,o=0;o!==t.length;++o)i=t[o],r=Math.min(r,i.x),a=Math.min(a,i.y);l.strokeText(e[s].id,r,a)}l.restore()},THREEx.ArucoDebug.prototype.drawMarkerCorners=function(e){var t,i,r,a,s=this.canvasElement,o=s.getContext("2d");for(o.save(),o.lineWidth=3,r=0;r<e.length;++r){for(t=e[r].corners,o.strokeStyle="red",o.beginPath(),a=0;a<t.length;++a)i=t[a],o.moveTo(i.x,i.y),i=t[(a+1)%t.length],o.lineTo(i.x,i.y);o.stroke(),o.closePath(),o.strokeStyle="green",o.strokeRect(t[0].x-2,t[0].y-2,4,4)}o.restore()};var THREEx=THREEx||{};THREEx.ArucoMarkerGenerator=function(){},THREEx.ArucoMarkerGenerator.createSVG=function(e,t){var i=document.createElement("div");return i.innerHTML=new ArucoMarker(e).toSVG(t),i},THREEx.ArucoMarkerGenerator.createImage=function(e,t){var i=this.createCanvas(e,t),r=i.toDataURL(),a=document.createElement("img");return a.src=r,a},THREEx.ArucoMarkerGenerator.createCanvas=function(e,t){var i=document.createElement("canvas"),r=i.getContext("2d");i.width=t,i.height=t;var a=new ArucoMarker(e),s=a.markerMatrix(),o=.1*i.width,n=t-2*o,l=n/7;r.fillStyle="white",r.fillRect(0,0,i.width,i.height),r.fillStyle="black",r.fillRect(o,o,i.width-2*o,i.height-2*o);for(var u=0;u<5;u++)for(var c=0;c<5;c++)1===s[c][u]&&(r.fillStyle="white",r.fillRect(o+(c+1)*l,o+(u+1)*l,l+1,l+1));return i};var THREE=THREE||__webpack_require__("5a89");THREE.WebAR={},THREE.WebAR.MAX_FLOAT32_VALUE=3.4028e38,THREE.WebAR.VRPointCloud=function(e){this._vrDisplay=e,this._numberOfPointsInLastPointCloud=0,this._bufferGeometry=new THREE.BufferGeometry,this._bufferGeometry.frustumCulled=!1;var t=null;e?(this._pointCloud=new VRPointCloud,e.getPointCloud(this._pointCloud,!1,0,!1),t=this._pointCloud.points):t=new Float32Array([-1,1,-2,1,1,-2,1,-1,-2,-1,-1,-2]);for(var i=new Float32Array(t.length),r=new THREE.Color,a=0;a<i.length;a+=3)e&&(t[a]=THREE.WebAR.MAX_FLOAT32_VALUE,t[a+1]=THREE.WebAR.MAX_FLOAT32_VALUE,t[a+2]=THREE.WebAR.MAX_FLOAT32_VALUE),r.setRGB(1,1,1),i[a]=r.r,i[a+1]=r.g,i[a+2]=r.b;return this._positions=new THREE.BufferAttribute(t,3),this._bufferGeometry.addAttribute("position",this._positions),this._colors=new THREE.BufferAttribute(i,3),this._bufferGeometry.addAttribute("color",this._colors),this._bufferGeometry.computeBoundingSphere(),this},THREE.WebAR.VRPointCloud.prototype.getBufferGeometry=function(){return this._bufferGeometry},THREE.WebAR.VRPointCloud.prototype.update=function(e,t,i){this._vrDisplay&&(this._vrDisplay.getPointCloud(this._pointCloud,!e,"number"===typeof t?t:0,!!i),e&&this._pointCloud.numberOfPoints>0&&(this._positions.needsUpdate=!0))},THREE.WebAR.getIndexFromOrientation=function(e){var t=0;switch(e){case 90:t=1;break;case 180:t=2;break;case 270:t=3;break;default:t=0;break}return t},THREE.WebAR.getIndexFromScreenAndSeeThroughCameraOrientations=function(e){var t=screen.orientation.angle,i=e?e.getSeeThroughCamera():null,r=i?i.orientation:0,a=THREE.WebAR.getIndexFromOrientation(r),s=THREE.WebAR.getIndexFromOrientation(t);return ret=s-a,ret<0&&(ret+=4),ret%4},THREE.WebAR.createVRSeeThroughCameraMesh=function(e,t){var i=new THREE.BufferGeometry;if(e){var r=e.getSeeThroughCamera();if(!r)throw"ERROR: Could not get the see through camera!";o=r,o.readyState=2,o.HAVE_CURRENT_DATA=2;var a=r.width/r.textureWidth,s=r.height/r.textureHeight;i.WebAR_textureCoords=[new Float32Array([0,0,0,s,a,0,a,s]),new Float32Array([a,0,0,0,a,s,0,s]),new Float32Array([a,s,a,0,0,s,0,0]),new Float32Array([0,s,a,s,0,0,a,0])]}else{var o=document.createElement("video");o.src="string"===typeof t?t:"../../resources/videos/sintel.webm",o.play(),i.WebAR_textureCoords=[new Float32Array([0,0,0,1,1,0,1,1]),new Float32Array([1,0,0,0,1,1,0,1]),new Float32Array([1,1,1,0,0,1,0,0]),new Float32Array([0,1,1,1,0,0,1,0])]}i.addAttribute("position",new THREE.BufferAttribute(new Float32Array([-1,1,0,-1,-1,0,1,1,0,1,-1,0]),3)),i.setIndex(new THREE.BufferAttribute(new Uint16Array([0,1,2,2,1,3]),1)),i.WebAR_textureCoordIndex=THREE.WebAR.getIndexFromScreenAndSeeThroughCameraOrientations(e);var n=i.WebAR_textureCoords[i.WebAR_textureCoordIndex];i.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(n),2)),i.computeBoundingSphere();var l,u=new THREE.VideoTexture(o);if(u.minFilter=THREE.NearestFilter,u.magFilter=THREE.NearestFilter,u.format=THREE.RGBFormat,u.flipY=!1,e){var c=["attribute vec3 position;","attribute vec2 uv;","","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","","varying vec2 vUV;","","void main(void) {","    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","    vUV = uv;","}"],d=["#extension GL_OES_EGL_image_external : require","precision mediump float;","","varying vec2 vUV;","","uniform samplerExternalOES map;","","void main(void) {","   gl_FragColor = texture2D(map, vUV);","}"];l=new THREE.RawShaderMaterial({uniforms:{map:{type:"t",value:u}},vertexShader:c.join("\r\n"),fragmentShader:d.join("\r\n"),side:THREE.DoubleSide})}else l=new THREE.MeshBasicMaterial({color:16777215,side:THREE.DoubleSide,map:u});var f=new THREE.Mesh(i,l);return f},THREE.WebAR.updateCameraMeshOrientation=function(e,t){var i=THREE.WebAR.getIndexFromScreenAndSeeThroughCameraOrientations(e);if(i!=t.geometry.WebAR_textureCoordIndex){var r=t.geometry.getAttribute("uv"),a=t.geometry.WebAR_textureCoords[i];t.geometry.WebAR_textureCoordIndex=i;for(var s=0;s<r.length;s++)r.array[s]=a[s];r.needsUpdate=!0}},THREE.WebAR.createVRSeeThroughCamera=function(e,t,i){var r=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,t,i);return e&&THREE.WebAR.resizeVRSeeThroughCamera(e,r),r},THREE.WebAR.resizeVRSeeThroughCamera=function(e,t){if(t.aspect=window.innerWidth/window.innerHeight,e){var i=window.innerWidth>window.innerHeight,r=e.getSeeThroughCamera();if(r){var a=r.width>r.height,s=!(i&&a),o=s?r.height:r.width,n=s?r.width:r.height,l=s?r.focalLengthY:r.focalLengthX,u=s?r.focalLengthX:r.focalLengthY,c=s?r.pointY:r.pointX,d=s?r.pointX:r.pointY,f=t.near/l,h=t.near/u,p=(c-o/2)*f,m=-(d-n/2)*h,b=f*-o/2-p,g=f*o/2-p,v=h*-n/2-m,w=h*n/2-m;t.projectionMatrix.makePerspective(b,g,w,v,t.near,t.far),t.fov=2*THREE.Math.radToDeg(Math.atan(w*t.zoom/t.near))}}else t.updateProjectionMatrix()},THREE.WebAR._worldUp=new THREE.Vector3(0,1,0),THREE.WebAR._normalY=new THREE.Vector3,THREE.WebAR._normalZ=new THREE.Vector3,THREE.WebAR._rotationMatrix=new THREE.Matrix4,THREE.WebAR._planeNormal=new THREE.Vector3,THREE.WebAR.rotateObject3D=function(e,t,i){if(e instanceof THREE.Vector3||e instanceof THREE.Vector4)THREE.WebAR._planeNormal.set(e.x,e.y,e.z);else{if(!(e instanceof Float32Array))throw"Unknown normal1 type.";THREE.WebAR._planeNormal.set(e[0],e[1],e[2])}if(t instanceof THREE.Vector3||t instanceof THREE.Vector4)THREE.WebAR._normalZ.set(t.x,t.y,t.z);else{if(!(e instanceof Float32Array))throw"Unknown normal2 type.";THREE.WebAR._normalZ.set(t[0],t[1],t[2])}THREE.WebAR._normalY.crossVectors(THREE.WebAR._planeNormal,THREE.WebAR._normalZ).normalize(),THREE.WebAR._rotationMatrix.elements[0]=THREE.WebAR._planeNormal.x,THREE.WebAR._rotationMatrix.elements[1]=THREE.WebAR._planeNormal.y,THREE.WebAR._rotationMatrix.elements[2]=THREE.WebAR._planeNormal.z,THREE.WebAR._rotationMatrix.elements[4]=THREE.WebAR._normalZ.x,THREE.WebAR._rotationMatrix.elements[5]=THREE.WebAR._normalZ.y,THREE.WebAR._rotationMatrix.elements[6]=THREE.WebAR._normalZ.z,THREE.WebAR._rotationMatrix.elements[8]=THREE.WebAR._normalY.x,THREE.WebAR._rotationMatrix.elements[9]=THREE.WebAR._normalY.y,THREE.WebAR._rotationMatrix.elements[10]=THREE.WebAR._normalY.z,i.quaternion.setFromRotationMatrix(THREE.WebAR._rotationMatrix)},THREE.WebAR.rotateObject3DWithPickingPlane=function(e,t){if(e instanceof THREE.Vector3||e instanceof THREE.Vector4)THREE.WebAR._planeNormal.set(e.x,e.y,e.z);else{if(!(e instanceof Float32Array))throw"Unknown plane type.";THREE.WebAR._planeNormal.set(e[0],e[1],e[2])}THREE.WebAR._normalY.set(0,1,0);var i=.5;Math.abs(THREE.WebAR._planeNormal.dot(THREE.WebAR._worldUp))>i&&THREE.WebAR._normalY.set(0,0,1),THREE.WebAR._normalZ.crossVectors(THREE.WebAR._planeNormal,THREE.WebAR._normalY).normalize(),THREE.WebAR._normalY.crossVectors(THREE.WebAR._normalZ,THREE.WebAR._planeNormal).normalize(),THREE.WebAR._rotationMatrix.elements[0]=THREE.WebAR._planeNormal.x,THREE.WebAR._rotationMatrix.elements[1]=THREE.WebAR._planeNormal.y,THREE.WebAR._rotationMatrix.elements[2]=THREE.WebAR._planeNormal.z,THREE.WebAR._rotationMatrix.elements[4]=THREE.WebAR._normalY.x,THREE.WebAR._rotationMatrix.elements[5]=THREE.WebAR._normalY.y,THREE.WebAR._rotationMatrix.elements[6]=THREE.WebAR._normalY.z,THREE.WebAR._rotationMatrix.elements[8]=THREE.WebAR._normalZ.x,THREE.WebAR._rotationMatrix.elements[9]=THREE.WebAR._normalZ.y,THREE.WebAR._rotationMatrix.elements[10]=THREE.WebAR._normalZ.z,t.quaternion.setFromRotationMatrix(THREE.WebAR._rotationMatrix)},THREE.WebAR.positionObject3DWithPickingPoint=function(e,t){if(e instanceof THREE.Vector3||e instanceof THREE.Vector4)t.position.set(e.x,e.y,e.z);else{if(!(e instanceof Float32Array))throw"Unknown point type.";t.position.set(e[0],e[1],e[2])}},THREE.WebAR.positionAndRotateObject3DWithPickingPointAndPlaneInPointCloud=function(e,t,i){THREE.WebAR.rotateObject3DWithPickingPlane(e.plane,t),THREE.WebAR.positionObject3DWithPickingPoint(e.point,t),t.position.add(THREE.WebAR._planeNormal.multiplyScalar(i))},THREE.WebAR.positionAndRotateObject3D=function(e,t,i,r,a){THREE.WebAR.rotateObject3D(t,i,r),THREE.WebAR.positionObject3DWithPickingPoint(e,r),r.position.add(THREE.WebAR._planeNormal.multiplyScalar(a))},function(e,t){__WEBPACK_AMD_DEFINE_FACTORY__=t,__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(0,function(){return{WebAR:THREE.WebAR,THREEx:THREEx}}),function(e){function t(e,t,i,r,a){this._listener=t,this._isOnce=i,this.context=r,this._signal=e,this._priority=a||0}function i(e,t){if("function"!==typeof e)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}var r={VERSION:"0.7.4"};t.prototype={active:!0,params:null,execute:function(e){var t;return this.active&&this._listener&&(e=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,e),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},getListener:function(){return this._listener},_destroy:function(){delete this._signal,delete this._listener,delete this.context},isOnce:function(){return this._isOnce},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},r.Signal=function(){this._bindings=[],this._prevParams=null},r.Signal.prototype={memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,i,r,a){var s=this._indexOfListener(e,r);if(-1!==s){if(e=this._bindings[s],e.isOnce()!==i)throw Error("You cannot add"+(i?"":"Once")+"() then add"+(i?"Once":"")+"() the same listener without removing the relationship first.")}else e=new t(this,e,i,r,a),this._addBinding(e);return this.memorize&&this._prevParams&&e.execute(this._prevParams),e},_addBinding:function(e){var t=this._bindings.length;do{--t}while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var i,r=this._bindings.length;r--;)if(i=this._bindings[r],i._listener===e&&i.context===t)return r;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,r){return i(e,"add"),this._registerListener(e,!1,t,r)},addOnce:function(e,t,r){return i(e,"addOnce"),this._registerListener(e,!0,t,r)},remove:function(e,t){i(e,"remove");var r=this._indexOfListener(e,t);return-1!==r&&(this._bindings[r]._destroy(),this._bindings.splice(r,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,i=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=i),r){t=this._bindings.slice(),this._shouldPropagate=!0;do{r--}while(t[r]&&this._shouldPropagate&&!1!==t[r].execute(i))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}}}();var THREEx=THREEx||{};THREEx.ArBaseControls=function(e){this.id=THREEx.ArBaseControls.id++,this.object3d=e,this.object3d.matrixAutoUpdate=!1,this.object3d.visible=!1},THREEx.ArBaseControls.id=0,Object.assign(THREEx.ArBaseControls.prototype,THREE.EventDispatcher.prototype),THREEx.ArBaseControls.prototype.update=function(){console.assert(!1,"you need to implement your own update")},THREEx.ArBaseControls.prototype.name=function(){return console.assert(!1,"you need to implement your own .name()"),"Not yet implemented - name()"};var THREEx=THREEx||{};THREEx.ARClickability=function(e){this._sourceElement=e;var t=parseInt(e.style.width),i=parseInt(e.style.height);this._cameraPicking=new THREE.PerspectiveCamera(42,t/i,.1,100),console.warn("THREEx.ARClickability works only in modelViewMatrix"),console.warn("OBSOLETE OBSOLETE! instead use THREEx.HitTestingPlane or THREEx.HitTestingTango")},THREEx.ARClickability.prototype.onResize=function(){var e=this._sourceElement,t=this._cameraPicking,i=parseInt(e.style.width),r=parseInt(e.style.height);t.aspect=i/r,t.updateProjectionMatrix()},THREEx.ARClickability.prototype.computeIntersects=function(e,t){var i=this._sourceElement,r=this._cameraPicking,a=new THREE.Vector3;a.x=e.layerX/parseInt(i.style.width)*2-1,a.y=-e.layerY/parseInt(i.style.height)*2+1;var s=new THREE.Raycaster;s.setFromCamera(a,r);var o=s.intersectObjects(t);return o},THREEx.ARClickability.prototype.update=function(){},THREEx.ARClickability.tangoPickingPointCloud=function(e,t,i){var r=e._tangoContext.vrDisplay;if(null===r)return null;var a=r.getPickingPointAndPlaneInPointCloud(t,i);if(null==a)return console.warn("Could not retrieve the correct point and plane."),null;var s=.01,o=new THREE.Object3D;THREE.WebAR.positionAndRotateObject3DWithPickingPointAndPlaneInPointCloud(a,o,s),o.rotateZ(-Math.PI/2);var n={};return n.position=o.position,n.quaternion=o.quaternion,n};var THREEx=THREEx||{};THREEx.ArMarkerCloak=function(e){var t=!0,i=new THREE.PlaneGeometry(1.55,2.1,1,8).translate(0,-.3,0),r=new THREE.ShaderMaterial({vertexShader:THREEx.ArMarkerCloak.vertexShader,fragmentShader:THREEx.ArMarkerCloak.fragmentShader,transparent:!0,uniforms:{texture:{value:e},opacity:{value:.5}},defines:{updateInShaderEnabled:t?1:0}}),a=new THREE.Mesh(i,r);a.rotation.x=-Math.PI/2,this.object3d=a;for(var s=-.65,o=.65,n=.75,l=1.05,u=[[]],c=0;c<a.geometry.faces.length;c++)u[0][c]=[],u[0][c][0]=new THREE.Vector2,u[0][c][1]=new THREE.Vector2,u[0][c][2]=new THREE.Vector2;for(var d=0;d<a.geometry.parameters.heightSegments/2;d++)u[0][4*d+0][0].set(s/2+.5,l/2+.5),u[0][4*d+0][1].set(s/2+.5,n/2+.5),u[0][4*d+0][2].set(o/2+.5,l/2+.5),u[0][4*d+1][0].set(s/2+.5,n/2+.5),u[0][4*d+1][1].set(o/2+.5,n/2+.5),u[0][4*d+1][2].set(o/2+.5,l/2+.5),u[0][4*d+2][0].set(s/2+.5,n/2+.5),u[0][4*d+2][1].set(s/2+.5,l/2+.5),u[0][4*d+2][2].set(o/2+.5,n/2+.5),u[0][4*d+3][0].set(s/2+.5,l/2+.5),u[0][4*d+3][1].set(o/2+.5,l/2+.5),u[0][4*d+3][2].set(o/2+.5,n/2+.5);!0===t&&(a.geometry.faceVertexUvs=u,a.geometry.uvsNeedUpdate=!0);var f=[];f.push(new THREE.Vector3(s,l,0)),f.push(new THREE.Vector3(o,l,0)),f.push(new THREE.Vector3(s,n,0)),f.push(new THREE.Vector3(o,n,0));r=new THREE.MeshNormalMaterial({transparent:!0,opacity:.5,side:THREE.DoubleSide}),i=new THREE.PlaneGeometry(1,1);var h=new THREE.Mesh(i,r);return this.orthoMesh=h,void(this.update=function(e,i){m(e,i),!1===t&&p(e,i)});function p(e,t){var i=new THREE.Vector3;u[0].forEach(function(r,s){r.forEach(function(r,o){i.x=2*r.x-1,i.y=2*r.y-1,i.z=0,i.applyMatrix4(e),i.applyMatrix4(t),i.x/=i.z,i.y/=i.z,i.x=i.x/2+.5,i.y=i.y/2+.5,a.geometry.faceVertexUvs[0][s][o].set(i.x,i.y)})}),a.geometry.uvsNeedUpdate=!0}function m(e,t){var i=[];f.forEach(function(r,a){var s=r.clone();s.applyMatrix4(e),s.applyMatrix4(t),s.x/=s.z,s.y/=s.z,i.push(s)});for(var r=0;r<i.length;r++)h.geometry.vertices[r].copy(i[r]);h.geometry.computeBoundingSphere(),h.geometry.verticesNeedUpdate=!0}},THREEx.ArMarkerCloak.markerSpaceShaderFunction="\n        vec2 transformUvToMarkerSpace(vec2 originalUv){\n                vec3 transformedUv;\n                // set transformedUv - from UV coord to clip coord\n                transformedUv.x = originalUv.x * 2.0 - 1.0;\n                transformedUv.y = originalUv.y * 2.0 - 1.0;\n                transformedUv.z = 0.0;\n\n\t\t// apply modelViewMatrix and projectionMatrix\n                transformedUv = (projectionMatrix * modelViewMatrix * vec4( transformedUv, 1.0 ) ).xyz;\n\n\t\t// apply perspective\n\t\ttransformedUv.x /= transformedUv.z;\n\t\ttransformedUv.y /= transformedUv.z;\n\n                // set back from clip coord to Uv coord\n                transformedUv.x = transformedUv.x / 2.0 + 0.5;\n                transformedUv.y = transformedUv.y / 2.0 + 0.5;\n\n                // return the result\n                return transformedUv.xy;\n        }",THREEx.ArMarkerCloak.vertexShader=THREEx.ArMarkerCloak.markerSpaceShaderFunction+"\tvarying vec2 vUv;\n\n\tvoid main(){\n                // pass the UV to the fragment\n                #if (updateInShaderEnabled == 1)\n\t\t        vUv = transformUvToMarkerSpace(uv);\n                #else\n\t\t        vUv = uv;\n                #endif\n\n                // compute gl_Position\n\t\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\t\tgl_Position = projectionMatrix * mvPosition;\n\t}",THREEx.ArMarkerCloak.fragmentShader="\n\tvarying vec2 vUv;\n\tuniform sampler2D texture;\n\tuniform float opacity;\n\n\tvoid main(void){\n\t\tvec3 color = texture2D( texture, vUv ).rgb;\n\n\t\tgl_FragColor = vec4( color, opacity);\n\t}";var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.MarkerControls=THREEx.ArMarkerControls=function(e,t,i){var r=this;THREEx.ArBaseControls.call(this,t),this.context=e,this.parameters={size:1,type:"unknown",patternUrl:null,barcodeValue:null,changeMatrixMode:"modelViewMatrix",minConfidence:.6};var a=["pattern","barcode","unknown"];console.assert(-1!==a.indexOf(this.parameters.type),"illegal value",this.parameters.type);a=["modelViewMatrix","cameraTransformMatrix"];function s(e){if(void 0!==e)for(var t in e){var i=e[t];if(void 0!==i){var a=r.parameters[t];void 0!==a?r.parameters[t]=i:console.warn("THREEx.ArMarkerControls: '"+t+"' is not a property of this material.")}else console.warn("THREEx.ArMarkerControls: '"+t+"' parameter is undefined.")}}console.assert(-1!==a.indexOf(this.parameters.changeMatrixMode),"illegal value",this.parameters.changeMatrixMode),this.object3d=t,this.object3d.matrixAutoUpdate=!1,this.object3d.visible=!1,s(i),e.addMarker(this),"artoolkit"===r.context.parameters.trackingBackend?this._initArtoolkit():"aruco"===r.context.parameters.trackingBackend?this._arucoPosit=new POS.Posit(this.parameters.size,r.context.arucoContext.canvas.width):"tango"===r.context.parameters.trackingBackend?this._initTango():console.assert(!1)},ARjs.MarkerControls.prototype=Object.create(THREEx.ArBaseControls.prototype),ARjs.MarkerControls.prototype.constructor=THREEx.ArMarkerControls,ARjs.MarkerControls.prototype.dispose=function(){this.context.removeMarker(this)},ARjs.MarkerControls.prototype.updateWithModelViewMatrix=function(e){var t=this.object3d;if(t.visible=!0,"artoolkit"===this.context.parameters.trackingBackend){var i=(new THREE.Matrix4).copy(this.context._artoolkitProjectionAxisTransformMatrix);i.multiply(e),e.copy(i)}else"aruco"===this.context.parameters.trackingBackend||"tango"===this.context.parameters.trackingBackend||console.assert(!1);if("tango"!==this.context.parameters.trackingBackend){var r=(new THREE.Matrix4).makeRotationX(Math.PI/2);e.multiply(r)}"modelViewMatrix"===this.parameters.changeMatrixMode?t.matrix.copy(e):"cameraTransformMatrix"===this.parameters.changeMatrixMode?t.matrix.getInverse(e):console.assert(!1),t.matrix.decompose(t.position,t.quaternion,t.scale),this.dispatchEvent({type:"markerFound"})},ARjs.MarkerControls.prototype.name=function(){var e="";if(e+=this.parameters.type,"pattern"===this.parameters.type){var t=this.parameters.patternUrl,i=t.replace(/^.*\//g,"");e+=" - "+i}else"barcode"===this.parameters.type?e+=" - "+this.parameters.barcodeValue:console.assert(!1,"no .name() implemented for this marker controls");return e},ARjs.MarkerControls.prototype._initArtoolkit=function(){var e=this,t=null,i=setInterval(function(){var t=e.context.arController;null!==t&&(clearInterval(i),i=null,r())},20);return;function r(){var i=e.context.arController;console.assert(null!==i),"pattern"===e.parameters.type?i.loadMarker(e.parameters.patternUrl,function(r){t=r,i.trackPatternMarkerId(t,e.parameters.size)}):"barcode"===e.parameters.type?(t=e.parameters.barcodeValue,i.trackBarcodeMarkerId(t,e.parameters.size)):"unknown"===e.parameters.type?t=null:console.log(!1,"invalid marker type",e.parameters.type),i.addEventListener("getMarker",function(i){if(i.data.type===artoolkit.PATTERN_MARKER&&"pattern"===e.parameters.type){if(null===t)return;i.data.marker.idPatt===t&&a(i)}else if(i.data.type===artoolkit.BARCODE_MARKER&&"barcode"===e.parameters.type){if(null===t)return;i.data.marker.idMatrix===t&&a(i)}else i.data.type===artoolkit.UNKNOWN_MARKER&&"unknown"===e.parameters.type&&a(i)})}function a(t){if(!(t.data.type===artoolkit.PATTERN_MARKER&&t.data.marker.cfPatt<e.parameters.minConfidence)&&!(t.data.type===artoolkit.BARCODE_MARKER&&t.data.marker.cfMatt<e.parameters.minConfidence)){var i=(new THREE.Matrix4).fromArray(t.data.matrix);e.updateWithModelViewMatrix(i)}}},ARjs.MarkerControls.prototype._initAruco=function(){this._arucoPosit=new POS.Posit(this.parameters.size,_this.context.arucoContext.canvas.width)},ARjs.MarkerControls.prototype._initTango=function(){console.log("init tango ArMarkerControls")};var THREEx=THREEx||{};THREEx.ArMarkerHelper=function(e){this.object3d=new THREE.Group;var t=new THREE.AxisHelper;this.object3d.add(t);var i=e.id,r=document.createElement("canvas");r.width=64,r.height=64;var a=r.getContext("2d"),s=new THREE.CanvasTexture(r);a.font="48px monospace",a.fillStyle="rgba(192,192,255, 0.5)",a.fillRect(0,0,r.width,r.height),a.fillStyle="darkblue",a.fillText(i,r.width/4,3*r.height/4),s.needsUpdate=!0;var o=new THREE.PlaneGeometry(1,1),n=new THREE.MeshBasicMaterial({map:s,transparent:!0});t=new THREE.Mesh(o,n);t.rotation.x=-Math.PI/2,this.object3d.add(t)};var THREEx=THREEx||{};THREEx.ArSmoothedControls=function(e,t){var i=this;function r(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0!==r){var a=i.parameters[t];void 0!==a?i.parameters[t]=r:console.warn("THREEx.ArSmoothedControls: '"+t+"' is not a property of this material.")}else console.warn("THREEx.ArSmoothedControls: '"+t+"' parameter is undefined.")}}THREEx.ArBaseControls.call(this,e),this.object3d.visible=!1,this._lastLerpStepAt=null,this._visibleStartedAt=null,this._unvisibleStartedAt=null,t=t||{},this.parameters={lerpPosition:.8,lerpQuaternion:.2,lerpScale:.7,lerpStepDelay:1/60,minVisibleDelay:0,minUnvisibleDelay:.2},r(t)},THREEx.ArSmoothedControls.prototype=Object.create(THREEx.ArBaseControls.prototype),THREEx.ArSmoothedControls.prototype.constructor=THREEx.ArSmoothedControls,THREEx.ArSmoothedControls.prototype.update=function(e){var t=this.object3d,i=this.parameters,r=t.visible,a=performance.now()/1e3;if(!1===e.visible&&(this._visibleStartedAt=null),!0===e.visible&&(this._unvisibleStartedAt=null),!0===e.visible&&null===this._visibleStartedAt&&(this._visibleStartedAt=a),!1===e.visible&&null===this._unvisibleStartedAt&&(this._unvisibleStartedAt=a),!1===r&&!0===e.visible){var s=a-this._visibleStartedAt;s>=this.parameters.minVisibleDelay&&(t.visible=!0,u())}if(!0===r&&!1===e.visible){var o=a-this._unvisibleStartedAt;o>=this.parameters.minUnvisibleDelay&&(t.visible=!1)}if(null===this._lastLerpStepAt)c(),this._lastLerpStepAt=a;else for(var n=Math.floor((a-this._lastLerpStepAt)/this.parameters.lerpStepDelay),l=0;l<n;l++)c(),this._lastLerpStepAt+=this.parameters.lerpStepDelay;return this.object3d.updateMatrix(),!1===r&&!0===t.visible&&this.dispatchEvent({type:"becameVisible"}),void(!0===r&&!1===t.visible&&this.dispatchEvent({type:"becameUnVisible"}));function u(){t.position.copy(e.position),t.quaternion.copy(e.quaternion),t.scale.copy(e.scale)}function c(){t.position.lerp(e.position,i.lerpPosition),t.quaternion.slerp(e.quaternion,i.lerpQuaternion),t.scale.lerp(e.scale,i.lerpScale)}};var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.Context=THREEx.ArToolkitContext=function(e){var t=this;function i(e){if(void 0!==e)for(var i in e){var r=e[i];if(void 0!==r){var a=t.parameters[i];void 0!==a?t.parameters[i]=r:console.warn("THREEx.ArToolkitContext: '"+i+"' is not a property of this material.")}else console.warn("THREEx.ArToolkitContext: '"+i+"' parameter is undefined.")}}t._updatedAt=null,this.parameters={trackingBackend:"artoolkit",debug:!1,detectionMode:"mono",matrixCodeType:"3x3",cameraParametersUrl:ARjs.Context.baseURL+"parameters/camera_para.dat",maxDetectionRate:60,canvasWidth:640,canvasHeight:480,patternRatio:.5,imageSmoothingEnabled:!1},console.assert(-1!==["artoolkit","aruco","tango"].indexOf(this.parameters.trackingBackend),"invalid parameter trackingBackend",this.parameters.trackingBackend),console.assert(-1!==["color","color_and_matrix","mono","mono_and_matrix"].indexOf(this.parameters.detectionMode),"invalid parameter detectionMode",this.parameters.detectionMode),this.arController=null,this.arucoContext=null,t.initialized=!1,this._arMarkersControls=[],i(e)},Object.assign(ARjs.Context.prototype,THREE.EventDispatcher.prototype),ARjs.Context.baseURL="https://jeromeetienne.github.io/AR.js/three.js/",ARjs.Context.REVISION="1.6.2",ARjs.Context.createDefaultCamera=function(e){if(console.assert(!1,"use ARjs.Utils.createDefaultCamera instead"),"artoolkit"===e)var t=new THREE.Camera;else if("aruco"===e)t=new THREE.PerspectiveCamera(42,renderer.domElement.width/renderer.domElement.height,.01,100);else if("tango"===e)t=new THREE.PerspectiveCamera(42,renderer.domElement.width/renderer.domElement.height,.01,100);else console.assert(!1);return t},ARjs.Context.prototype.init=function(e){var t=this;return void("artoolkit"===this.parameters.trackingBackend?this._initArtoolkit(i):"aruco"===this.parameters.trackingBackend?this._initAruco(i):"tango"===this.parameters.trackingBackend?this._initTango(i):console.assert(!1));function i(){t.dispatchEvent({type:"initialized"}),t.initialized=!0,e&&e()}},ARjs.Context.prototype.update=function(e){if("artoolkit"===this.parameters.trackingBackend&&null===this.arController)return!1;var t=performance.now();return!(null!==this._updatedAt&&t-this._updatedAt<1e3/this.parameters.maxDetectionRate)&&(this._updatedAt=t,this._arMarkersControls.forEach(function(e){e.object3d.visible=!1}),"artoolkit"===this.parameters.trackingBackend?this._updateArtoolkit(e):"aruco"===this.parameters.trackingBackend?this._updateAruco(e):"tango"===this.parameters.trackingBackend?this._updateTango(e):console.assert(!1),this.dispatchEvent({type:"sourceProcessed"}),!0)},ARjs.Context.prototype.addMarker=function(e){console.assert(e instanceof THREEx.ArMarkerControls),this._arMarkersControls.push(e)},ARjs.Context.prototype.removeMarker=function(e){console.assert(e instanceof THREEx.ArMarkerControls);var t=this.arMarkerControlss.indexOf(artoolkitMarker);console.assert(t!==t),this._arMarkersControls.splice(t,1)},ARjs.Context.prototype._initArtoolkit=function(e){var t=this;this._artoolkitProjectionAxisTransformMatrix=new THREE.Matrix4,this._artoolkitProjectionAxisTransformMatrix.multiply((new THREE.Matrix4).makeRotationY(Math.PI)),this._artoolkitProjectionAxisTransformMatrix.multiply((new THREE.Matrix4).makeRotationZ(Math.PI));var i=new ARCameraParam(t.parameters.cameraParametersUrl,function(){var r=new ARController(t.parameters.canvasWidth,t.parameters.canvasHeight,i);t.arController=r,r.ctx.mozImageSmoothingEnabled=t.parameters.imageSmoothingEnabled,r.ctx.webkitImageSmoothingEnabled=t.parameters.imageSmoothingEnabled,r.ctx.msImageSmoothingEnabled=t.parameters.imageSmoothingEnabled,r.ctx.imageSmoothingEnabled=t.parameters.imageSmoothingEnabled,!0===t.parameters.debug&&(r.debugSetup(),r.canvas.style.position="absolute",r.canvas.style.top="0px",r.canvas.style.opacity="0.6",r.canvas.style.pointerEvents="none",r.canvas.style.zIndex="-1");var a={color:artoolkit.AR_TEMPLATE_MATCHING_COLOR,color_and_matrix:artoolkit.AR_TEMPLATE_MATCHING_COLOR_AND_MATRIX,mono:artoolkit.AR_TEMPLATE_MATCHING_MONO,mono_and_matrix:artoolkit.AR_TEMPLATE_MATCHING_MONO_AND_MATRIX},s=a[t.parameters.detectionMode];console.assert(void 0!==s),r.setPatternDetectionMode(s);var o={"3x3":artoolkit.AR_MATRIX_CODE_3x3,"3x3_HAMMING63":artoolkit.AR_MATRIX_CODE_3x3_HAMMING63,"3x3_PARITY65":artoolkit.AR_MATRIX_CODE_3x3_PARITY65,"4x4":artoolkit.AR_MATRIX_CODE_4x4,"4x4_BCH_13_9_3":artoolkit.AR_MATRIX_CODE_4x4_BCH_13_9_3,"4x4_BCH_13_5_5":artoolkit.AR_MATRIX_CODE_4x4_BCH_13_5_5},n=o[t.parameters.matrixCodeType];console.assert(void 0!==n),r.setMatrixCodeType(n),r.setPattRatio(t.parameters.patternRatio),e()});return this},ARjs.Context.prototype.getProjectionMatrix=function(e){console.assert("artoolkit"===this.parameters.trackingBackend),console.assert(this.arController,"arController MUST be initialized to call this function");var t=this.arController.getCameraMatrix(),i=(new THREE.Matrix4).fromArray(t);return i.multiply(this._artoolkitProjectionAxisTransformMatrix),i},ARjs.Context.prototype._updateArtoolkit=function(e){this.arController.process(e)},ARjs.Context.prototype._initAruco=function(e){this.arucoContext=new THREEx.ArucoContext,this.arucoContext.canvas.width=this.parameters.canvasWidth,this.arucoContext.canvas.height=this.parameters.canvasHeight;var t=this.arucoContext.canvas.getContext("2d");t.webkitImageSmoothingEnabled=this.parameters.imageSmoothingEnabled,t.msImageSmoothingEnabled=this.parameters.imageSmoothingEnabled,t.imageSmoothingEnabled=this.parameters.imageSmoothingEnabled,setTimeout(function(){e()},0)},ARjs.Context.prototype._updateAruco=function(e){var t=this,i=this._arMarkersControls,r=this.arucoContext.detect(e);r.forEach(function(e){for(var r=null,a=0;a<i.length;a++)if(console.assert("barcode"===i[a].parameters.type),i[a].parameters.barcodeValue===e.id){r=i[a];break}if(null!==r){var s=new THREE.Object3D;t.arucoContext.updateObject3D(s,r._arucoPosit,r.parameters.size,e),s.updateMatrix(),r.updateWithModelViewMatrix(s.matrix)}})},ARjs.Context.prototype._initTango=function(e){var t=this;navigator.getVRDisplays||(navigator.getVRDevices?alert("Your browser supports WebVR but not the latest version. See <a href='http://webvr.info'>webvr.info</a> for more info."):alert("Your browser does not support WebVR. See <a href='http://webvr.info'>webvr.info</a> for assistance.")),this._tangoContext={vrDisplay:null,vrPointCloud:null,frameData:new VRFrameData},navigator.getVRDisplays().then(function(i){0===i.length&&alert("no vrDisplays available");var r=t._tangoContext.vrDisplay=i[0];console.log("vrDisplays.displayName :",r.displayName),"Tango VR Device"===r.displayName&&(t._tangoContext.vrPointCloud=new THREE.WebAR.VRPointCloud(r,!0)),e()})},ARjs.Context.prototype._updateTango=function(e){var t=this,i=(this._arMarkersControls,this._tangoContext,this._tangoContext.vrDisplay);if(null!==i){if("Tango VR Device"===i.displayName){var r=!0,a=0;t._tangoContext.vrPointCloud.update(r,a,!0)}if(0!==this._arMarkersControls.length){var s=this._arMarkersControls[0],o=this._tangoContext.frameData;if(i.getFrameData(o),null!==o.pose.position&&null!==o.pose.orientation){var n=(new THREE.Vector3).fromArray(o.pose.position),l=(new THREE.Quaternion).fromArray(o.pose.orientation),u=new THREE.Vector3(1,1,1),c=(new THREE.Matrix4).compose(n,l,u),d=new THREE.Matrix4;d.getInverse(c),s.updateWithModelViewMatrix(d)}}}};var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.Profile=THREEx.ArToolkitProfile=function(){this.reset(),this.performance("default")},ARjs.Profile.prototype._guessPerformanceLabel=function(){var e=!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i));return!0===e?"phone-normal":"desktop-normal"},ARjs.Profile.prototype.reset=function(){return this.sourceParameters={sourceType:"webcam"},this.contextParameters={cameraParametersUrl:THREEx.ArToolkitContext.baseURL+"../data/data/camera_para.dat",detectionMode:"mono"},this.defaultMarkerParameters={type:"pattern",patternUrl:THREEx.ArToolkitContext.baseURL+"../data/data/patt.hiro",changeMatrixMode:"modelViewMatrix"},this},ARjs.Profile.prototype.performance=function(e){return"default"===e&&(e=this._guessPerformanceLabel()),"desktop-fast"===e?(this.contextParameters.canvasWidth=1920,this.contextParameters.canvasHeight=1440,this.contextParameters.maxDetectionRate=30):"desktop-normal"===e?(this.contextParameters.canvasWidth=640,this.contextParameters.canvasHeight=480,this.contextParameters.maxDetectionRate=60):"phone-normal"===e?(this.contextParameters.canvasWidth=320,this.contextParameters.canvasHeight=240,this.contextParameters.maxDetectionRate=30):"phone-slow"===e?(this.contextParameters.canvasWidth=240,this.contextParameters.canvasHeight=180,this.contextParameters.maxDetectionRate=30):console.assert(!1,"unknonwn label "+e),this},ARjs.Profile.prototype.defaultMarker=function(e){return e=e||this.contextParameters.trackingBackend,"artoolkit"===e?(this.contextParameters.detectionMode="mono",this.defaultMarkerParameters.type="pattern",this.defaultMarkerParameters.patternUrl=THREEx.ArToolkitContext.baseURL+"../data/data/patt.hiro"):"aruco"===e?(this.contextParameters.detectionMode="mono",this.defaultMarkerParameters.type="barcode",this.defaultMarkerParameters.barcodeValue=1001):"tango"===e?(this.defaultMarkerParameters.type="barcode",this.defaultMarkerParameters.barcodeValue=1001):console.assert(!1),this},ARjs.Profile.prototype.sourceWebcam=function(){return this.sourceParameters.sourceType="webcam",delete this.sourceParameters.sourceUrl,this},ARjs.Profile.prototype.sourceVideo=function(e){return this.sourceParameters.sourceType="video",this.sourceParameters.sourceUrl=e,this},ARjs.Profile.prototype.sourceImage=function(e){return this.sourceParameters.sourceType="image",this.sourceParameters.sourceUrl=e,this},ARjs.Profile.prototype.trackingBackend=function(e){return console.warn("stop profile.trackingBackend() obsolete function. use .trackingMethod instead"),this.contextParameters.trackingBackend=e,this},ARjs.Profile.prototype.changeMatrixMode=function(e){return this.defaultMarkerParameters.changeMatrixMode=e,this},ARjs.Profile.prototype.trackingMethod=function(e){var t=ARjs.Utils.parseTrackingMethod(e);return this.defaultMarkerParameters.markersAreaEnabled=t.markersAreaEnabled,this.contextParameters.trackingBackend=t.trackingBackend,this},ARjs.Profile.prototype.checkIfValid=function(){return"tango"===this.contextParameters.trackingBackend&&this.sourceImage(THREEx.ArToolkitContext.baseURL+"../data/images/img.jpg"),this};var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.Source=THREEx.ArToolkitSource=function(e){var t=this;function i(e){if(void 0!==e)for(var i in e){var r=e[i];if(void 0!==r){var a=t.parameters[i];void 0!==a?t.parameters[i]=r:console.warn("THREEx.ArToolkitSource: '"+i+"' is not a property of this material.")}else console.warn("THREEx.ArToolkitSource: '"+i+"' parameter is undefined.")}}this.ready=!1,this.domElement=null,this.parameters={sourceType:"webcam",sourceUrl:null,deviceId:null,sourceWidth:640,sourceHeight:480,displayWidth:640,displayHeight:480},i(e)},ARjs.Source.prototype.init=function(e,t){var i=this;if("image"===this.parameters.sourceType)var r=this._initSourceImage(a,t);else if("video"===this.parameters.sourceType)r=this._initSourceVideo(a,t);else if("webcam"===this.parameters.sourceType)r=this._initSourceWebcam(a,t);else console.assert(!1);return this.domElement=r,this.domElement.style.position="absolute",this.domElement.style.top="0px",this.domElement.style.left="0px",this.domElement.style.zIndex="-2",this;function a(){document.body.appendChild(i.domElement),i.ready=!0,e&&e()}},ARjs.Source.prototype._initSourceImage=function(e){var t=document.createElement("img");t.src=this.parameters.sourceUrl,t.width=this.parameters.sourceWidth,t.height=this.parameters.sourceHeight,t.style.width=this.parameters.displayWidth+"px",t.style.height=this.parameters.displayHeight+"px";var i=setInterval(function(){t.naturalWidth&&(e(),clearInterval(i))},20);return t},ARjs.Source.prototype._initSourceVideo=function(e){var t=document.createElement("video");t.src=this.parameters.sourceUrl,t.style.objectFit="initial",t.autoplay=!0,t.webkitPlaysinline=!0,t.controls=!1,t.loop=!0,t.muted=!0,document.body.addEventListener("click",function e(){document.body.removeEventListener("click",e),t.play()}),t.width=this.parameters.sourceWidth,t.height=this.parameters.sourceHeight,t.style.width=this.parameters.displayWidth+"px",t.style.height=this.parameters.displayHeight+"px";var i=setInterval(function(){t.videoWidth&&(e(),clearInterval(i))},20);return t},ARjs.Source.prototype._initSourceWebcam=function(e,t){var i=this;t=t||function(e){alert("Webcam Error\nName: "+e.name+"\nMessage: "+e.message)};var r=document.createElement("video");if(r.setAttribute("autoplay",""),r.setAttribute("muted",""),r.setAttribute("playsinline",""),r.style.width=this.parameters.displayWidth+"px",r.style.height=this.parameters.displayHeight+"px",void 0===navigator.mediaDevices||void 0===navigator.mediaDevices.enumerateDevices||void 0===navigator.mediaDevices.getUserMedia){if(void 0===navigator.mediaDevices)var a="navigator.mediaDevices";else if(void 0===navigator.mediaDevices.enumerateDevices)a="navigator.mediaDevices.enumerateDevices";else if(void 0===navigator.mediaDevices.getUserMedia)a="navigator.mediaDevices.getUserMedia";else console.assert(!1);return t({name:"",message:"WebRTC issue-! "+a+" not present in your browser"}),null}return navigator.mediaDevices.enumerateDevices().then(function(a){var s={audio:!1,video:{facingMode:"environment",width:{ideal:i.parameters.sourceWidth},height:{ideal:i.parameters.sourceHeight}}};null!==i.parameters.deviceId&&(s.video.deviceId={exact:i.parameters.deviceId}),navigator.mediaDevices.getUserMedia(s).then(function(t){r.srcObject=t,document.body.addEventListener("click",function(){r.play()});var i=setInterval(function(){r.videoWidth&&(e(),clearInterval(i))},20)}).catch(function(e){t({name:e.name,message:e.message})})}).catch(function(e){t({message:e.message})}),r},ARjs.Source.prototype.hasMobileTorch=function(){var e=arToolkitSource.domElement.srcObject;if(e instanceof MediaStream===!1)return!1;void 0===this._currentTorchStatus&&(this._currentTorchStatus=!1);var t=e.getVideoTracks()[0];if(void 0===t.getCapabilities)return!1;var i=t.getCapabilities();return!!i.torch},ARjs.Source.prototype.toggleMobileTorch=function(){console.assert(!0===this.hasMobileTorch());var e=arToolkitSource.domElement.srcObject;if(e instanceof MediaStream!==!1){void 0===this._currentTorchStatus&&(this._currentTorchStatus=!1);var t=e.getVideoTracks()[0],i=t.getCapabilities();i.torch?(this._currentTorchStatus=!1===this._currentTorchStatus,t.applyConstraints({advanced:[{torch:this._currentTorchStatus}]}).catch(function(e){console.log(e)})):alert("no mobile torch is available on your camera")}else alert("enabling mobile torch is available only on webcam")},ARjs.Source.prototype.domElementWidth=function(){return parseInt(this.domElement.style.width)},ARjs.Source.prototype.domElementHeight=function(){return parseInt(this.domElement.style.height)},ARjs.Source.prototype.onResizeElement=function(){var e=window.innerWidth,t=window.innerHeight;if(console.assert(0===arguments.length),"IMG"===this.domElement.nodeName)var i=this.domElement.naturalWidth,r=this.domElement.naturalHeight;else if("VIDEO"===this.domElement.nodeName)i=this.domElement.videoWidth,r=this.domElement.videoHeight;else console.assert(!1);var a=i/r,s=e/t;if(s<a){var o=a*t;this.domElement.style.width=o+"px",this.domElement.style.marginLeft=-(o-e)/2+"px",this.domElement.style.height=t+"px",this.domElement.style.marginTop="0px"}else{var n=1/(a/e);this.domElement.style.height=n+"px",this.domElement.style.marginTop=-(n-t)/2+"px",this.domElement.style.width=e+"px",this.domElement.style.marginLeft="0px"}},ARjs.Source.prototype.copyElementSizeTo=function(e){window.innerWidth>window.innerHeight?(e.style.width=this.domElement.style.width,e.style.height=this.domElement.style.height,e.style.marginLeft=this.domElement.style.marginLeft,e.style.marginTop=this.domElement.style.marginTop):(e.style.height=this.domElement.style.height,e.style.width=4*parseInt(e.style.height)/3+"px",e.style.marginLeft=(window.innerWidth-parseInt(e.style.width))/2+"px",e.style.marginTop=0)},ARjs.Source.prototype.copySizeTo=function(){console.warn("obsolete function arToolkitSource.copySizeTo. Use arToolkitSource.copyElementSizeTo"),this.copyElementSizeTo.apply(this,arguments)},ARjs.Source.prototype.onResize=function(e,t,i){if(3!==arguments.length)return console.warn("obsolete function arToolkitSource.onResize. Use arToolkitSource.onResizeElement"),this.onResizeElement.apply(this,arguments);var r=e.parameters.trackingBackend;if("artoolkit"===r){this.onResizeElement();var a=!!t.domElement.dataset.aframeCanvas;!1===a&&this.copyElementSizeTo(t.domElement),null!==e.arController&&this.copyElementSizeTo(e.arController.canvas)}else"aruco"===r?(this.onResizeElement(),this.copyElementSizeTo(t.domElement),this.copyElementSizeTo(e.arucoContext.canvas)):"tango"===r?t.setSize(window.innerWidth,window.innerHeight):console.assert(!1,"unhandled trackingBackend "+r);if("artoolkit"===r)null!==e.arController&&i.projectionMatrix.copy(e.getProjectionMatrix());else if("aruco"===r)i.aspect=t.domElement.width/t.domElement.height,i.updateProjectionMatrix();else if("tango"===r){var s=e._tangoContext.vrDisplay;s&&"Tango VR Device"===s.displayName&&THREE.WebAR.resizeVRSeeThroughCamera(s,i)}else console.assert(!1,"unhandled trackingBackend "+r)};var THREEx=THREEx||{};THREEx.ArVideoInWebgl=function(e){var t=new THREE.PlaneGeometry(2,2),i=new THREE.MeshBasicMaterial({map:e}),r=new THREE.Mesh(t,i);this.object3d=r,this.update=function(e){e.updateMatrixWorld(!0);var t=new THREE.Vector3(-0,0,-20);t=new THREE.Vector3(-0,0,-20);r.position.copy(t),e.localToWorld(r.position),e.matrixWorld.decompose(e.position,e.quaternion,e.scale),r.quaternion.copy(e.quaternion);var i=2*THREE.Math.radToDeg(Math.atan(1/e.projectionMatrix.elements[5])),a=parseFloat(arToolkitSource.domElement.style.width.replace(/px$/,""),10),s=parseFloat(arToolkitSource.domElement.style.height.replace(/px$/,""),10),o=a/s;r.scale.y=Math.tan(THREE.Math.DEG2RAD*i/2)*t.length(),r.scale.x=r.scale.y*o}};var THREEx=THREEx||{};THREEx.HitTestingPlane=function(e){this._sourceElement=e,this._pickingScene=new THREE.Scene;var t=new THREE.PlaneGeometry(20,20,19,19).rotateX(-Math.PI/2),i=new THREE.MeshBasicMaterial({wireframe:!0});this._pickingPlane=new THREE.Mesh(t,i),this._pickingScene.add(this._pickingPlane);var r=parseInt(e.style.width),a=parseInt(e.style.height);this._pickingCamera=new THREE.PerspectiveCamera(42,r/a,.1,30)},THREEx.HitTestingPlane.prototype.update=function(e,t,i){if(this.onResize(),"modelViewMatrix"===i){var r=this._pickingPlane;t.parent.updateMatrixWorld(),r.matrix.copy(t.parent.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale)}else if("cameraTransformMatrix"===i){var a=this._pickingCamera;e.updateMatrixWorld(),a.matrix.copy(e.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)}else console.assert(!1)},THREEx.HitTestingPlane.prototype.onResize=function(){var e=this._sourceElement,t=this._pickingCamera,i=parseInt(e.style.width),r=parseInt(e.style.height);t.aspect=i/r,t.updateProjectionMatrix()},THREEx.HitTestingPlane.prototype.test=function(e,t){e=2*(e-.5),t=2*-(t-.5),this._pickingScene.updateMatrixWorld(!0);var i=new THREE.Raycaster,r=new THREE.Vector3(e,t,1);i.setFromCamera(r,this._pickingCamera);var a=i.intersectObjects([this._pickingPlane]);if(0===a.length)return null;var s=this._pickingPlane.worldToLocal(a[0].point.clone()),o=new THREE.Quaternion,n=new THREE.Vector3(1,1,1);return{position:s,quaternion:o,scale:n}},THREEx.HitTestingPlane.prototype.renderDebug=function(e){e.render(this._pickingScene,this._pickingCamera)};var THREEx=THREEx||{};THREEx.HitTestingTango=function(e){this._arContext=e,this.boundingSphereRadius=.01,this.resultScale=new THREE.Vector3(1,1,1).multiplyScalar(1)},THREEx.HitTestingTango.prototype.update=function(){},THREEx.HitTestingTango.prototype.test=function(e,t){var i=this._arContext._tangoContext.vrDisplay;if(null===i)return null;if("Tango VR Device"!==i.displayName)return null;var r=i.getPickingPointAndPlaneInPointCloud(e,t);if(null==r)return console.warn("Could not retrieve the correct point and plane."),null;var a=new THREE.Object3D;THREE.WebAR.positionAndRotateObject3DWithPickingPointAndPlaneInPointCloud(r,a,this.boundingSphereRadius),a.rotateZ(-Math.PI/2);var s={position:a.position,quaternion:a.quaternion,scale:this.resultScale};return s};var ARjs=ARjs||{};ARjs.Anchor=function(e,t){var i=this,r=e.arContext,a=e.parameters.scene,s=e.parameters.camera;this.arSession=e,this.parameters=t,console.log("ARjs.Anchor -","changeMatrixMode:",this.parameters.changeMatrixMode,"/ markersAreaEnabled:",t.markersAreaEnabled);var o=new THREE.Group;if(a.add(o),"modelViewMatrix"===t.changeMatrixMode)var n=o;else if("cameraTransformMatrix"===t.changeMatrixMode)n=s;else console.assert(!1);if(!1===t.markersAreaEnabled){var l=new THREEx.ArMarkerControls(r,n,t);this.controls=l}else{if(console.assert("artoolkit"===r.parameters.trackingBackend||"aruco"===r.parameters.trackingBackend),!0===location.hash.substring(1).startsWith("markers-page-resolution=")){var u=location.hash.substring(1),c=u.match(/markers-page-resolution=(\d+)x(\d+)/);console.assert(3===c.length);var d=parseInt(c[1]),f=parseInt(c[2]);r=e.arContext;ARjs.MarkersAreaUtils.storeMarkersAreaFileFromResolution(r.parameters.trackingBackend,d,f)}null===localStorage.getItem("ARjsMultiMarkerFile")&&ARjs.MarkersAreaUtils.storeDefaultMultiMarkerFile(r.parameters.trackingBackend),console.assert(null!==localStorage.getItem("ARjsMultiMarkerFile"));var h=localStorage.getItem("ARjsMultiMarkerFile");if("modelViewMatrix"===t.changeMatrixMode)var p=a;else if("cameraTransformMatrix"===t.changeMatrixMode)p=s;else console.assert(!1);var m=ARjs.MarkersAreaControls.fromJSON(r,p,n,h);this.controls=m,m.parameters.changeMatrixMode=t.changeMatrixMode;var b=[];m.subMarkersControls.forEach(function(e){var t=new THREEx.ArMarkerHelper(e);t.object3d.visible=!1,e.object3d.add(t.object3d),b.push(t)}),this.markersArea={},this.markersArea.setSubMarkersVisibility=function(e){b.forEach(function(t){t.object3d.visible=e})}}this.object3d=new THREE.Group;var g=!0;if("tango"===r.parameters.trackingBackend&&(g=!1),!0===g){var v=new THREE.Group;a.add(v);var w=new THREEx.ArSmoothedControls(v);v.add(this.object3d)}else o.add(this.object3d);this.update=function(){i.object3d.visible=i.object3d.parent.visible,void 0!==w&&(void 0!==m&&m.updateSmoothedControls(w),w.update(o))}};var ARjs=ARjs||{};ARjs.SessionDebugUI=function(e,t){var i=e.arContext.parameters.trackingBackend;this.domElement=document.createElement("div"),this.domElement.style.color="rgba(0,0,0,0.9)",this.domElement.style.backgroundColor="rgba(127,127,127,0.5)",this.domElement.style.display="inline-block",this.domElement.style.padding="0.5em",this.domElement.style.margin="0.5em",this.domElement.style.textAlign="left";var r=document.createElement("span");if(r.style.display="block",this.domElement.appendChild(r),r.innerHTML="<b>trackingBackend</b> : "+i,ARjs.SessionDebugUI.AugmentedWebsiteURL){r=document.createElement("a");r.innerHTML="Share on augmented-websites",r.style.display="block",r.href=ARjs.SessionDebugUI.AugmentedWebsiteURL+"?"+location.href,this.domElement.appendChild(r)}if("tango"===i&&t){r=document.createElement("button");this.domElement.appendChild(r),r.id="buttonTangoTogglePointCloud",r.innerHTML="toggle-point-cloud",r.href="javascript:void(0)",r.addEventListener("click",function(){var i=e.parameters.scene;t.object3d.parent?i.remove(t.object3d):i.add(t.object3d)})}},ARjs.SessionDebugUI.AugmentedWebsiteURL="https://webxr.io/augmented-website",ARjs.AnchorDebugUI=function(e){var t=e.arSession,i=t.arContext.parameters.trackingBackend;this.domElement=document.createElement("div"),this.domElement.style.color="rgba(0,0,0,0.9)",this.domElement.style.backgroundColor="rgba(127,127,127,0.5)",this.domElement.style.display="inline-block",this.domElement.style.padding="0.5em",this.domElement.style.margin="0.5em",this.domElement.style.textAlign="left";var r=document.createElement("span");if(r.style.display="block",this.domElement.appendChild(r),r.innerHTML="<b>markersAreaEnabled</b> :"+e.parameters.markersAreaEnabled,e.parameters.markersAreaEnabled){r=document.createElement("button");r.style.display="block",this.domElement.appendChild(r),r.id="buttonToggleMarkerHelpers",r.innerHTML="toggle-marker-helper",r.href="javascript:void(0)";var a=!1;r.addEventListener("click",function(){a=!a,e.markersArea.setSubMarkersVisibility(a)})}if(e.parameters.markersAreaEnabled){r=document.createElement("button");r.style.display="block",this.domElement.appendChild(r),r.id="buttonMarkersAreaLearner",r.innerHTML="Learn-new-marker-area",r.href="javascript:void(0)",r.addEventListener("click",function(){if(null!==ARjs.AnchorDebugUI.MarkersAreaLearnerURL)var e=ARjs.AnchorDebugUI.MarkersAreaLearnerURL;else e=ARjs.Context.baseURL+"examples/multi-markers/examples/learner.html";ARjs.MarkersAreaUtils.navigateToLearnerPage(e,i)})}if(e.parameters.markersAreaEnabled){r=document.createElement("button");r.style.display="block",this.domElement.appendChild(r),r.id="buttonMarkersAreaReset",r.innerHTML="Reset-marker-area",r.href="javascript:void(0)",r.addEventListener("click",function(){ARjs.MarkersAreaUtils.storeDefaultMultiMarkerFile(i),location.reload()})}},ARjs.AnchorDebugUI.MarkersAreaLearnerURL=null;var ARjs=ARjs||{};ARjs.HitTesting=function(e){var t=this,i=e.arContext,r=i.parameters.trackingBackend;this.enabled=!0,this._arSession=e,this._hitTestingPlane=null,this._hitTestingTango=null,"tango"===r?t._hitTestingTango=new THREEx.HitTestingTango(i):t._hitTestingPlane=new THREEx.HitTestingPlane(e.arSource.domElement)},ARjs.HitTesting.prototype.update=function(e,t,i){!1!==this.enabled&&(null!==this._hitTestingTango?this._hitTestingTango.update():null!==this._hitTestingPlane?this._hitTestingPlane.update(e,t,i):console.assert(!1))},ARjs.HitTesting.prototype.testDomEvent=function(e){var t=this._arSession.arContext.parameters.trackingBackend,i=this._arSession.arSource;if(!1===this.enabled)return[];if("tango"===t)var r=e.pageX/window.innerWidth,a=e.pageY/window.innerHeight;else r=e.clientX/i.domElementWidth(),a=e.clientY/i.domElementHeight();return this.test(r,a)},ARjs.HitTesting.prototype.test=function(e,t){var i=this._arSession.arContext,r=i.parameters.trackingBackend,a=[];if(!1===this.enabled)return[];var s=null;if("tango"===r)s=this._hitTestingTango.test(e,t);else s=this._hitTestingPlane.test(e,t);if(null===s)return a;var o=new ARjs.HitTesting.Result(s.position,s.quaternion,s.scale);return a.push(o),a},ARjs.HitTesting.Result=function(e,t,i){this.position=e,this.quaternion=t,this.scale=i},ARjs.HitTesting.Result.prototype.apply=function(e){e.position.copy(this.position),e.quaternion.copy(this.quaternion),e.scale.copy(this.scale),e.updateMatrix()},ARjs.HitTesting.Result.prototype.applyPosition=function(e){return e.position.copy(this.position),e.updateMatrix(),this},ARjs.HitTesting.Result.prototype.applyQuaternion=function(e){return e.quaternion.copy(this.quaternion),e.updateMatrix(),this};var ARjs=ARjs||{};ARjs.Session=function(e){var t=this;function i(e){if(void 0!==e)for(var i in e){var r=e[i];if(void 0!==r){var a=t.parameters[i];void 0!==a?t.parameters[i]=r:console.warn("THREEx.Session: '"+i+"' is not a property of this material.")}else console.warn("THREEx.Session: '"+i+"' parameter is undefined.")}}this.parameters={renderer:null,camera:null,scene:null,sourceParameters:{},contextParameters:{}},this.signals={sourceReady:new signals.Signal,contextInitialized:new signals.Signal},i(e),console.assert(this.parameters.renderer instanceof THREE.WebGLRenderer),console.assert(this.parameters.camera instanceof THREE.Camera),console.assert(this.parameters.scene instanceof THREE.Scene),Object.defineProperty(this,"renderer",{get:function(){return console.warn("use .parameters.renderer renderer"),this.parameters.renderer}}),Object.defineProperty(this,"camera",{get:function(){return console.warn("use .parameters.camera instead"),this.parameters.camera}}),Object.defineProperty(this,"scene",{get:function(){return console.warn("use .parameters.scene instead"),this.parameters.scene}}),console.log("AR.js",ARjs.Context.REVISION,"- trackingBackend:",e.contextParameters.trackingBackend);var r=t.arSource=new ARjs.Source(e.sourceParameters);r.init(function(){r.onResize(a,t.parameters.renderer,t.parameters.camera),t.signals.sourceReady.dispatch()}),window.addEventListener("resize",function(){r.onResize(a,t.parameters.renderer,t.parameters.camera)});var a=t.arContext=new ARjs.Context(e.contextParameters);t.arContext.init(),a.addEventListener("initialized",function(e){r.onResize(a,t.parameters.renderer,t.parameters.camera),t.signals.contextInitialized.dispatch()}),this.update=function(){!1!==r.ready&&a.update(r.domElement)}},ARjs.Session.prototype.onResize=function(){this.arSource.onResize(this.arContext,this.parameters.renderer,this.parameters.camera)};var ARjs=ARjs||{};ARjs.TangoPointCloud=function(e){var t=this,i=e.arContext;this.object3d=new THREE.Group,console.warn("Work only on cameraTransformMatrix - fix me - useless limitation"),i.addEventListener("initialized",function(e){var r=i._tangoContext.vrPointCloud,a=r.getBufferGeometry(),s=new THREE.PointsMaterial({size:.01,depthWrite:!1}),o=new THREE.Points(a,s);o.frustumCulled=!1,o.renderDepth=0,t.object3d.add(o)})};var ARjs=ARjs||{};ARjs.TangoVideoMesh=function(e){var t=e.arContext,i=e.renderer,r=null,a=null,s=new THREE.Scene,o=new THREE.OrthographicCamera(-1,1,1,-1,0,100);this._sceneOrtho=s,this._cameraOrtho=o,t.addEventListener("initialized",function(e){console.assert("tango"===t.parameters.trackingBackend),a=t._tangoContext.vrDisplay,console.assert(a,"vrDisplay MUST be defined"),"Tango VR Device"===a.displayName&&(r=THREE.WebAR.createVRSeeThroughCameraMesh(a),s.add(r))}),this.update=function(){console.assert("tango"===t.parameters.trackingBackend),null!==r&&THREE.WebAR.updateCameraMeshOrientation(a,r)},this.render=function(){console.assert("tango"===t.parameters.trackingBackend),i.render(s,o),i.clearDepth()}};var ARjs=ARjs||{};ARjs.Utils={},ARjs.Utils.createDefaultCamera=function(e){var t=this.parseTrackingMethod(e).trackingBackend;if("artoolkit"===t)var i=new THREE.Camera;else if("aruco"===t)i=new THREE.PerspectiveCamera(42,window.innerWidth/window.innerHeight,.01,100);else if("tango"===t)i=new THREE.PerspectiveCamera(42,window.innerWidth/window.innerHeight,.01,100);else console.assert(!1,"unknown trackingBackend: "+t);return i},ARjs.Utils.isTango=function(){var e=null!==navigator.userAgent.match("Chrome/57.0.2987.5");return e},ARjs.Utils.parseTrackingMethod=function(e){return"best"===e&&(e=ARjs.Utils.isTango()?"tango":"area-artoolkit"),e.startsWith("area-")?{trackingBackend:e.replace("area-",""),markersAreaEnabled:!0}:{trackingBackend:e,markersAreaEnabled:!1}};var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.MarkersAreaControls=THREEx.ArMultiMarkerControls=function(e,t,i){var r=this;THREEx.ArBaseControls.call(this,t),arguments.length>3&&console.assert("wrong api for",THREEx.ArMultiMarkerControls),this.parameters={subMarkersControls:i.subMarkersControls,subMarkerPoses:i.subMarkerPoses,changeMatrixMode:void 0!==i.changeMatrixMode?i.changeMatrixMode:"modelViewMatrix"},this.object3d.visible=!1,this.subMarkersControls=this.parameters.subMarkersControls,this.subMarkerPoses=this.parameters.subMarkerPoses,e.addEventListener("sourceProcessed",function(){r._onSourceProcessed()})},ARjs.MarkersAreaControls.prototype=Object.create(THREEx.ArBaseControls.prototype),ARjs.MarkersAreaControls.prototype.constructor=ARjs.MarkersAreaControls,ARjs.MarkersAreaControls.prototype._onSourceProcessed=function(){var e=this,t={count:0,position:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)},quaternion:{sum:new THREE.Quaternion(0,0,0,0),average:new THREE.Quaternion(0,0,0,0)},scale:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)}},i=e.parameters.subMarkersControls[0].object3d.quaternion;if(this.parameters.subMarkersControls.forEach(function(r,a){var s=r.object3d;if(!1!==s.visible){var o=s.matrix.clone(),n=e.parameters.subMarkerPoses[a];o.multiply((new THREE.Matrix4).getInverse(n));var l=new THREE.Vector3,u=new THREE.Quaternion,c=new THREE.Vector3;o.decompose(l,u,c),t.count++,ARjs.MarkersAreaControls.averageVector3(t.position.sum,l,t.count,t.position.average),ARjs.MarkersAreaControls.averageQuaternion(t.quaternion.sum,u,i,t.count,t.quaternion.average),ARjs.MarkersAreaControls.averageVector3(t.scale.sum,c,t.count,t.scale.average)}}),t.count>0?e.object3d.visible=!0:e.object3d.visible=!1,t.count>0){var r=new THREE.Matrix4;r.compose(t.position.average,t.quaternion.average,t.scale.average),"modelViewMatrix"===this.parameters.changeMatrixMode?e.object3d.matrix.copy(r):"cameraTransformMatrix"===this.parameters.changeMatrixMode?e.object3d.matrix.getInverse(r):console.assert(!1),e.object3d.matrix.decompose(e.object3d.position,e.object3d.quaternion,e.object3d.scale)}},ARjs.MarkersAreaControls.averageQuaternion=function(e,t,i,r,a){return a=a||new THREE.Quaternion,console.assert(i instanceof THREE.Quaternion===!0),t.dot(i)>0&&(t=new THREE.Quaternion(-t.x,-t.y,-t.z,-t.w)),e.x+=t.x,e.y+=t.y,e.z+=t.z,e.w+=t.w,a.x=e.x/r,a.y=e.y/r,a.z=e.z/r,a.w=e.w/r,a.normalize(),a},ARjs.MarkersAreaControls.averageVector3=function(e,t,i,r){return r=r||new THREE.Vector3,e.x+=t.x,e.y+=t.y,e.z+=t.z,r.x=e.x/i,r.y=e.y/i,r.z=e.z/i,r},ARjs.MarkersAreaControls.computeCenter=function(e){var t=JSON.parse(e),i={count:0,position:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)},quaternion:{sum:new THREE.Quaternion(0,0,0,0),average:new THREE.Quaternion(0,0,0,0)},scale:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)}},r=new THREE.Quaternion;t.subMarkersControls.forEach(function(e){var t=(new THREE.Matrix4).fromArray(e.poseMatrix),a=new THREE.Vector3,s=new THREE.Quaternion,o=new THREE.Vector3;t.decompose(a,s,o),i.count++,ARjs.MarkersAreaControls.averageVector3(i.position.sum,a,i.count,i.position.average),ARjs.MarkersAreaControls.averageQuaternion(i.quaternion.sum,s,r,i.count,i.quaternion.average),ARjs.MarkersAreaControls.averageVector3(i.scale.sum,o,i.count,i.scale.average)});var a=new THREE.Matrix4;return a.compose(i.position.average,i.quaternion.average,i.scale.average),a},ARjs.MarkersAreaControls.computeBoundingBox=function(e){var t=JSON.parse(e),i=new THREE.Box3;return t.subMarkersControls.forEach(function(e){var t=(new THREE.Matrix4).fromArray(e.poseMatrix),r=new THREE.Vector3,a=new THREE.Quaternion,s=new THREE.Vector3;t.decompose(r,a,s),i.expandByPoint(r)}),i},ARjs.MarkersAreaControls.prototype.updateSmoothedControls=function(e,t){void 0===t&&(t=[[.4,.1,.3],[.5,.1,.4],[.5,.2,.5],[.6,.2,.7],[.6,.2,.7]]);var i=0;if(this.parameters.subMarkersControls.forEach(function(e,t){var r=e.object3d;!0===r.visible&&i++}),void 0!==t[i-1])var r=t[i-1];else r=t[t.length-1];e.parameters.lerpPosition=r[0],e.parameters.lerpQuaternion=r[1],e.parameters.lerpScale=r[2]},ARjs.MarkersAreaControls.fromJSON=function(e,t,i,r,a){var s=JSON.parse(r),o=[],n=[];a=a||{},s.subMarkersControls.forEach(function(i){var r=new THREE.Object3D;t.add(r);var a=new THREEx.ArMarkerControls(e,r,i.parameters);o.push(a),n.push((new THREE.Matrix4).fromArray(i.poseMatrix))}),a.subMarkersControls=o,a.subMarkerPoses=n;var l=new THREEx.ArMultiMarkerControls(e,i,a);return l};var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.MarkersAreaLearning=THREEx.ArMultiMakersLearning=function(e,t){var i=this;this._arToolkitContext=e,this.subMarkersControls=t,this.enabled=!0,e.addEventListener("sourceProcessed",function(){i._onSourceProcessed()})},ARjs.MarkersAreaLearning.prototype._onSourceProcessed=function(){var e=this.subMarkersControls[0].object3d.quaternion;if(!1!==this.enabled)for(var t=this.subMarkersControls.filter(function(e){return!0===e.object3d.visible}),i=Object.keys(t).length,r=new THREE.Vector3,a=new THREE.Quaternion,s=new THREE.Vector3,o=new THREE.Matrix4,n=0;n<i;n++)for(var l=t[n],u=0;u<i;u++){var c=t[u];if(n!==u){void 0===l.object3d.userData.seenCouples&&(l.object3d.userData.seenCouples={});var d=l.object3d.userData.seenCouples;void 0===d[c.id]&&(d[c.id]={count:0,position:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)},quaternion:{sum:new THREE.Quaternion(0,0,0,0),average:new THREE.Quaternion(0,0,0,0)},scale:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)}}),o.getInverse(l.object3d.matrix),o.multiply(c.object3d.matrix),o.decompose(r,a,s);var f=d[c.id];f.count++,THREEx.ArMultiMarkerControls.averageVector3(f.position.sum,r,f.count,f.position.average),THREEx.ArMultiMarkerControls.averageQuaternion(f.quaternion.sum,a,e,f.count,f.quaternion.average),THREEx.ArMultiMarkerControls.averageVector3(f.scale.sum,s,f.count,f.scale.average)}}},ARjs.MarkersAreaLearning.prototype.computeResult=function(){var e=this,t=this.subMarkersControls[0];this.deleteResult(),t.object3d.userData.result={averageMatrix:new THREE.Matrix4,confidenceFactor:1};do{var i=!1;this.subMarkersControls.forEach(function(t){var r=t.object3d.userData.result,a=void 0!==r&&r.confidenceFactor>=1;if(!0!==a){var s=e._getLearnedCoupleStats(t);if(null!==s){var o=e._getSubMarkerControlsByID(s),n=t.object3d.userData.seenCouples[s],l=new THREE.Matrix4;l.compose(n.position.average,n.quaternion.average,n.scale.average);var u=o.object3d.userData.result.averageMatrix,c=(new THREE.Matrix4).getInverse(u).multiply(l);c=(new THREE.Matrix4).getInverse(c),console.assert(void 0===t.object3d.userData.result),t.object3d.userData.result={averageMatrix:c,confidenceFactor:1},i=!0}}})}while(!0===i)},ARjs.MarkersAreaLearning.prototype._getLearnedCoupleStats=function(e){if(void 0===e.object3d.userData.seenCouples)return null;for(var t=e.object3d.userData.seenCouples,i=Object.keys(t).map(Number),r=0;r<i.length;r++){var a=i[r],s=this._getSubMarkerControlsByID(a),o=s.object3d.userData.result,n=void 0!==o&&o.confidenceFactor>=1;if(!1!==n)return a}return null},ARjs.MarkersAreaLearning.prototype._getSubMarkerControlsByID=function(e){for(var t=0;t<this.subMarkersControls.length;t++){var i=this.subMarkersControls[t];if(i.id===e)return i}return null},ARjs.MarkersAreaLearning.prototype.toJSON=function(){this.computeResult();var e={meta:{createdBy:"Area Learning - AR.js "+THREEx.ArToolkitContext.REVISION,createdAt:(new Date).toJSON()},trackingBackend:this._arToolkitContext.parameters.trackingBackend,subMarkersControls:[]},t=this.subMarkersControls[0];(new THREE.Matrix4).getInverse(t.object3d.matrix);this.subMarkersControls.forEach(function(t,i){if(void 0!==t.object3d.userData.result){var r=t.object3d.userData.result.averageMatrix;console.assert(r instanceof THREE.Matrix4);var a={parameters:{},poseMatrix:r.toArray()};"pattern"===t.parameters.type?(a.parameters.type=t.parameters.type,a.parameters.patternUrl=t.parameters.patternUrl):"barcode"===t.parameters.type?(a.parameters.type=t.parameters.type,a.parameters.barcodeValue=t.parameters.barcodeValue):console.assert(!1),e.subMarkersControls.push(a)}});var i=JSON.stringify(e,null,"\t"),r=!1;if(!0===r){var a=JSON.parse(i);a.subMarkersControls.forEach(function(e){e.poseMatrix=e.poseMatrix.map(function(e){var t=100;return Math.round(e*t)/t})}),i=JSON.stringify(a,null,"\t")}return i},ARjs.MarkersAreaLearning.prototype.resetStats=function(){this.deleteResult(),this.subMarkersControls.forEach(function(e){delete e.object3d.userData.seenCouples})},ARjs.MarkersAreaLearning.prototype.deleteResult=function(){this.subMarkersControls.forEach(function(e){delete e.object3d.userData.result})};var THREEx=THREEx||{},ARjs=ARjs||{},THREEx=THREEx||{};ARjs.MarkersAreaUtils=THREEx.ArMultiMarkerUtils={},ARjs.MarkersAreaUtils.navigateToLearnerPage=function(e,t){var i={backURL:location.href,trackingBackend:t,markersControlsParameters:ARjs.MarkersAreaUtils.createDefaultMarkersControlsParameters(t)};location.href=e+"?"+encodeURIComponent(JSON.stringify(i))},ARjs.MarkersAreaUtils.storeDefaultMultiMarkerFile=function(e){var t=ARjs.MarkersAreaUtils.createDefaultMultiMarkerFile(e);localStorage.setItem("ARjsMultiMarkerFile",JSON.stringify(t))},ARjs.MarkersAreaUtils.createDefaultMultiMarkerFile=function(e){console.assert(e);var t=document.createElement("a");t.href=ARjs.Context.baseURL;var i=t.href,r={meta:{createdBy:"AR.js "+ARjs.Context.REVISION+" - Default Marker",createdAt:(new Date).toJSON()},trackingBackend:e,subMarkersControls:[]};return r.subMarkersControls[0]={parameters:{},poseMatrix:(new THREE.Matrix4).makeTranslation(0,0,0).toArray()},"artoolkit"===e?(r.subMarkersControls[0].parameters.type="pattern",r.subMarkersControls[0].parameters.patternUrl=i+"examples/marker-training/examples/pattern-files/pattern-hiro.patt"):"aruco"===e?(r.subMarkersControls[0].parameters.type="barcode",r.subMarkersControls[0].parameters.barcodeValue=1001):console.assert(!1),r},ARjs.MarkersAreaUtils.createDefaultMarkersControlsParameters=function(e){var t=document.createElement("a");t.href=ARjs.Context.baseURL;var i=t.href;if("artoolkit"===e)var r=[{type:"pattern",patternUrl:i+"examples/marker-training/examples/pattern-files/pattern-hiro.patt"},{type:"pattern",patternUrl:i+"examples/marker-training/examples/pattern-files/pattern-kanji.patt"},{type:"pattern",patternUrl:i+"examples/marker-training/examples/pattern-files/pattern-letterA.patt"},{type:"pattern",patternUrl:i+"examples/marker-training/examples/pattern-files/pattern-letterB.patt"},{type:"pattern",patternUrl:i+"examples/marker-training/examples/pattern-files/pattern-letterC.patt"},{type:"pattern",patternUrl:i+"examples/marker-training/examples/pattern-files/pattern-letterF.patt"}];else if("aruco"===e)r=[{type:"barcode",barcodeValue:1001},{type:"barcode",barcodeValue:1002},{type:"barcode",barcodeValue:1003},{type:"barcode",barcodeValue:1004},{type:"barcode",barcodeValue:1005},{type:"barcode",barcodeValue:1006}];else console.assert(!1);return r},ARjs.MarkersAreaUtils.storeMarkersAreaFileFromResolution=function(e,t,i){var r=this.buildMarkersAreaFileFromResolution(e,t,i);localStorage.setItem("ARjsMultiMarkerFile",JSON.stringify(r))},ARjs.MarkersAreaUtils.buildMarkersAreaFileFromResolution=function(e,t,i){var r={meta:{createdBy:"AR.js - Augmented Website",createdAt:(new Date).toJSON()},trackingBackend:e,subMarkersControls:[]},a=.1;if(t>i)var s=.4*i;else if(t<i)s=.4*t;else if(t===i)s=.33*t;else console.assert(!1);var o=s*(1-2*a),n=(t-s)/2/o,l=(i-s)/2/o,u=c("center",0,0);r.subMarkersControls.push(u);u=c("topleft",-n,-l);r.subMarkersControls.push(u);u=c("topright",+n,-l);r.subMarkersControls.push(u);u=c("bottomleft",-n,+l);r.subMarkersControls.push(u);u=c("bottomright",+n,+l);return r.subMarkersControls.push(u),r;function c(t,i,r){console.log("buildSubMarkerControls",t,i,r);var a={parameters:{},poseMatrix:(new THREE.Matrix4).makeTranslation(i,0,r).toArray()};return"artoolkit"===e?d(a.parameters,t):"aruco"===e?f(a.parameters,t):console.assert(!1),a}function d(e,t){var i=document.createElement("a");i.href=ARjs.Context.baseURL;var r=i.href,a={center:s(r+"examples/marker-training/examples/pattern-files/pattern-hiro.patt"),topleft:s(r+"examples/marker-training/examples/pattern-files/pattern-letterA.patt"),topright:s(r+"examples/marker-training/examples/pattern-files/pattern-letterB.patt"),bottomleft:s(r+"examples/marker-training/examples/pattern-files/pattern-letterC.patt"),bottomright:s(r+"examples/marker-training/examples/pattern-files/pattern-letterF.patt")};return console.assert(void 0!==a[t]),e.type="pattern",void(e.patternUrl=a[t]);function s(e){var t=document.createElement("a");return t.href=e,t.href}}function f(e,t){var i={center:1001,topleft:1002,topright:1003,bottomleft:1004,bottomright:1005};console.assert(i[t]),e.type="barcode",e.barcodeValue=i[t]}}}).call(this,__webpack_require__("4362"),"/",__webpack_require__("b639").Buffer)},"987a":function(e,t,i){},"9aa2":function(e,t,i){},b4df:function(e,t,i){"use strict";var r=i("759b"),a=i.n(r);a.a},b62b:function(e,t,i){},cf83:function(e){e.exports=[{label:"Afghanistan",value:"AFG"},{label:"Åland Islands",value:"ALA"},{label:"Albania",value:"ALB"},{label:"Algeria",value:"DZA"},{label:"American Samoa",value:"ASM"},{label:"Andorra",value:"AND"},{label:"Angola",value:"AGO"},{label:"Anguilla",value:"AIA"},{label:"Antarctica",value:"ATA"},{label:"Antigua and Barbuda",value:"ATG"},{label:"Argentina",value:"ARG"},{label:"Armenia",value:"ARM"},{label:"Aruba",value:"ABW"},{label:"Australia",value:"AUS"},{label:"Austria",value:"AUT"},{label:"Azerbaijan",value:"AZE"},{label:"Bahamas",value:"BHS"},{label:"Bahrain",value:"BHR"},{label:"Bangladesh",value:"BGD"},{label:"Barbados",value:"BRB"},{label:"Belarus",value:"BLR"},{label:"Belgium",value:"BEL"},{label:"Belize",value:"BLZ"},{label:"Benin",value:"BEN"},{label:"Bermuda",value:"BMU"},{label:"Bhutan",value:"BTN"},{label:"Bolivia (Plurinational State of)",value:"BOL"},{label:"Bonaire, Sint Eustatius and Saba",value:"BES"},{label:"Bosnia and Herzegovina",value:"BIH"},{label:"Botswana",value:"BWA"},{label:"Bouvet Island",value:"BVT"},{label:"Brazil",value:"BRA"},{label:"British Indian Ocean Territory",value:"IOT"},{label:"Brunei Darussalam",value:"BRN"},{label:"Bulgaria",value:"BGR"},{label:"Burkina Faso",value:"BFA"},{label:"Burundi",value:"BDI"},{label:"Cambodia",value:"KHM"},{label:"Cameroon",value:"CMR"},{label:"Canada",value:"CAN"},{label:"Cabo Verde",value:"CPV"},{label:"Cayman Islands",value:"CYM"},{label:"Central African Republic",value:"CAF"},{label:"Chad",value:"TCD"},{label:"Chile",value:"CHL"},{label:"China",value:"CHN"},{label:"Christmas Island",value:"CXR"},{label:"Cocos (Keeling) Islands",value:"CCK"},{label:"Colombia",value:"COL"},{label:"Comoros",value:"COM"},{label:"Congo",value:"COG"},{label:"Congo (Democratic Republic of the)",value:"COD"},{label:"Cook Islands",value:"COK"},{label:"Costa Rica",value:"CRI"},{label:"Ivory Coast",value:"CIV"},{label:"Croatia",value:"HRV"},{label:"Cuba",value:"CUB"},{label:"Curaçao",value:"CUW"},{label:"Cyprus",value:"CYP"},{label:"Czech Republic",value:"CZE"},{label:"Denmark",value:"DNK"},{label:"Djibouti",value:"DJI"},{label:"Dominica",value:"DMA"},{label:"Dominican Republic",value:"DOM"},{label:"Ecuador",value:"ECU"},{label:"Egypt",value:"EGY"},{label:"El Salvador",value:"SLV"},{label:"Equatorial Guinea",value:"GNQ"},{label:"Eritrea",value:"ERI"},{label:"Estonia",value:"EST"},{label:"Ethiopia",value:"ETH"},{label:"Falkland Islands (Malvinas)",value:"FLK"},{label:"Faroe Islands",value:"FRO"},{label:"Fiji",value:"FJI"},{label:"Finland",value:"FIN"},{label:"France",value:"FRA"},{label:"French Guiana",value:"GUF"},{label:"French Polynesia",value:"PYF"},{label:"French Southern Territories",value:"ATF"},{label:"Gabon",value:"GAB"},{label:"Gambia",value:"GMB"},{label:"Georgia",value:"GEO"},{label:"Germany",value:"DEU"},{label:"Ghana",value:"GHA"},{label:"Gibraltar",value:"GIB"},{label:"Greece",value:"GRC"},{label:"Greenland",value:"GRL"},{label:"Grenada",value:"GRD"},{label:"Guadeloupe",value:"GLP"},{label:"Guam",value:"GUM"},{label:"Guatemala",value:"GTM"},{label:"Guernsey",value:"GGY"},{label:"Guinea",value:"GIN"},{label:"Guinea-Bissau",value:"GNB"},{label:"Guyana",value:"GUY"},{label:"Haiti",value:"HTI"},{label:"Heard Island and McDonald Islands",value:"HMD"},{label:"Holy See",value:"VAT"},{label:"Honduras",value:"HND"},{label:"Hong Kong",value:"HKG"},{label:"Hungary",value:"HUN"},{label:"Iceland",value:"ISL"},{label:"India",value:"IND"},{label:"Indonesia",value:"IDN"},{label:"Iran (Islamic Republic of)",value:"IRN"},{label:"Iraq",value:"IRQ"},{label:"Ireland",value:"IRL"},{label:"Isle of Man",value:"IMN"},{label:"Israel",value:"ISR"},{label:"Italy",value:"ITA"},{label:"Jamaica",value:"JAM"},{label:"Japan",value:"JPN"},{label:"Jersey",value:"JEY"},{label:"Jordan",value:"JOR"},{label:"Kazakhstan",value:"KAZ"},{label:"Kenya",value:"KEN"},{label:"Kiribati",value:"KIR"},{label:"Korea (Democratic People's Republic of)",value:"PRK"},{label:"Korea (Republic of)",value:"KOR"},{label:"Kuwait",value:"KWT"},{label:"Kyrgyzstan",value:"KGZ"},{label:"Lao People's Democratic Republic",value:"LAO"},{label:"Latvia",value:"LVA"},{label:"Lebanon",value:"LBN"},{label:"Lesotho",value:"LSO"},{label:"Liberia",value:"LBR"},{label:"Libya",value:"LBY"},{label:"Liechtenstein",value:"LIE"},{label:"Lithuania",value:"LTU"},{label:"Luxembourg",value:"LUX"},{label:"Macao",value:"MAC"},{label:"Macedonia (the former Yugoslav Republic of)",value:"MKD"},{label:"Madagascar",value:"MDG"},{label:"Malawi",value:"MWI"},{label:"Malaysia",value:"MYS"},{label:"Maldives",value:"MDV"},{label:"Mali",value:"MLI"},{label:"Malta",value:"MLT"},{label:"Marshall Islands",value:"MHL"},{label:"Martinique",value:"MTQ"},{label:"Mauritania",value:"MRT"},{label:"Mauritius",value:"MUS"},{label:"Mayotte",value:"MYT"},{label:"Mexico",value:"MEX"},{label:"Micronesia (Federated States of)",value:"FSM"},{label:"Moldova (Republic of)",value:"MDA"},{label:"Monaco",value:"MCO"},{label:"Mongolia",value:"MNG"},{label:"Montenegro",value:"MNE"},{label:"Montserrat",value:"MSR"},{label:"Morocco",value:"MAR"},{label:"Mozambique",value:"MOZ"},{label:"Myanmar",value:"MMR"},{label:"Namibia",value:"NAM"},{label:"Nauru",value:"NRU"},{label:"Nepal",value:"NPL"},{label:"Netherlands",value:"NLD"},{label:"New Caledonia",value:"NCL"},{label:"New Zealand",value:"NZL"},{label:"Nicaragua",value:"NIC"},{label:"Niger",value:"NER"},{label:"Nigeria",value:"NGA"},{label:"Niue",value:"NIU"},{label:"Norfolk Island",value:"NFK"},{label:"Northern Mariana Islands",value:"MNP"},{label:"Norway",value:"NOR"},{label:"Oman",value:"OMN"},{label:"Pakistan",value:"PAK"},{label:"Palau",value:"PLW"},{label:"Palestine, State of",value:"PSE"},{label:"Panama",value:"PAN"},{label:"Papua New Guinea",value:"PNG"},{label:"Paraguay",value:"PRY"},{label:"Peru",value:"PER"},{label:"Philippines",value:"PHL"},{label:"Pitcairn",value:"PCN"},{label:"Poland",value:"POL"},{label:"Portugal",value:"PRT"},{label:"Puerto Rico",value:"PRI"},{label:"Qatar",value:"QAT"},{label:"Reunion Island",value:"REU"},{label:"Romania",value:"ROU"},{label:"Russian Federation",value:"RUS"},{label:"Rwanda",value:"RWA"},{label:"Saint Barthelemy",value:"BLM"},{label:"Saint Helena, Ascension and Tristan da Cunha",value:"SHN"},{label:"Saint Kitts and Nevis",value:"KNA"},{label:"Saint Lucia",value:"LCA"},{label:"Saint Martin (French part)",value:"MAF"},{label:"Saint Pierre and Miquelon",value:"SPM"},{label:"Saint Vincent and the Grenadines",value:"VCT"},{label:"Samoa",value:"WSM"},{label:"San Marino",value:"SMR"},{label:"Sao Tome and Principe",value:"STP"},{label:"Saudi Arabia",value:"SAU"},{label:"Senegal",value:"SEN"},{label:"Serbia",value:"SRB"},{label:"Seychelles",value:"SYC"},{label:"Sierra Leone",value:"SLE"},{label:"Singapore",value:"SGP"},{label:"Sint Maarten (Dutch part)",value:"SXM"},{label:"Slovakia",value:"SVK"},{label:"Slovenia",value:"SVN"},{label:"Solomon Islands",value:"SLB"},{label:"Somalia",value:"SOM"},{label:"South Africa",value:"ZAF"},{label:"South Georgia and the South Sandwich Islands",value:"SGS"},{label:"South Sudan",value:"SSD"},{label:"Spain",value:"ESP"},{label:"Sri Lanka",value:"LKA"},{label:"Sudan",value:"SDN"},{label:"Suriname",value:"SUR"},{label:"Svalbard and Jan Mayen",value:"SJM"},{label:"Swaziland",value:"SWZ"},{label:"Sweden",value:"SWE"},{label:"Switzerland",value:"CHE"},{label:"Syrian Arab Republic",value:"SYR"},{label:"Taiwan, Province of China",value:"TWN"},{label:"Tajikistan",value:"TJK"},{label:"Tanzania, United Republic of",value:"TZA"},{label:"Thailand",value:"THA"},{label:"Timor-Leste",value:"TLS"},{label:"Togo",value:"TGO"},{label:"Tokelau",value:"TKL"},{label:"Tonga",value:"TON"},{label:"Trinidad and Tobago",value:"TTO"},{label:"Tunisia",value:"TUN"},{label:"Turkey",value:"TUR"},{label:"Turkmenistan",value:"TKM"},{label:"Turks and Caicos Islands",value:"TCA"},{label:"Tuvalu",value:"TUV"},{label:"Uganda",value:"UGA"},{label:"Ukraine",value:"UKR"},{label:"United Arab Emirates",value:"ARE"},{label:"United Kingdom of Great Britain and Northern Ireland",value:"GBR"},{label:"United States of America",value:"USA"},{label:"United States Minor Outlying Islands",value:"UMI"},{label:"Uruguay",value:"URY"},{label:"Uzbekistan",value:"UZB"},{label:"Vanuatu",value:"VUT"},{label:"Venezuela (Bolivarian Republic of)",value:"VEN"},{label:"Viet Nam",value:"VNM"},{label:"Virgin Islands (British)",value:"VGB"},{label:"Virgin Islands (U.S.)",value:"VIR"},{label:"Wallis and Futuna",value:"WLF"},{label:"Western Sahara",value:"ESH"},{label:"Yemen",value:"YEM"},{label:"Zambia",value:"ZMB"},{label:"Zimbabwe",value:"ZWE"}]},e030:function(e){e.exports=[{code:"magnifier",label:"Magnifier",animationShow:"slideInUp",animationHide:"slideOutDown"},{code:"code-scanner",label:"CodeScanner",animationShow:"FadeIn",animationHide:"FadeOut"}]},e18e:function(e){e.exports=[{code:"fr",name:"French"},{code:"en",name:"English"}]},e485:function(e,t,i){},f4ba:function(e,t,i){"use strict";var r=i("9aa2"),a=i.n(r);a.a},fb1c:function(e,t,i){},fb4c:function(e){e.exports=[{id:1,name:"Museum"},{id:2,name:"CityOrDistrict"},{id:3,name:"Countryside"},{id:4,name:"Other"}]},ffa8:function(e,t,i){},ffe0:function(e,t,i){}});